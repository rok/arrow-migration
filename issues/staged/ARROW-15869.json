{
    "issue": {
        "title": "[C++] Valgrind failure (uninitialised value) in arrow-compute-aggregate-test hash_one kernel",
        "body": "***Note**: This issue was originally created as [ARROW-15869](https://issues.apache.org/jira/browse/ARROW-15869). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nProbably the kernel is not initializing an output scalar in some case.\r\n\r\n```\n\r\n2022-03-08T09:00:29.2570403Z [ RUN      ] GroupBy.OneMiscTypes\r\n2022-03-08T09:00:29.2570757Z ==13643== Use of uninitialised value of size 8\r\n2022-03-08T09:00:29.2571155Z ==13643==    at 0x699A7E1: _itoa_word (_itoa.c:180)\r\n2022-03-08T09:00:29.2571591Z ==13643==    by 0x699DEDD: vfprintf (vfprintf.c:1642)\r\n2022-03-08T09:00:29.2572030Z ==13643==    by 0x69CA8AF: vsnprintf (vsnprintf.c:114)\r\n2022-03-08T09:00:29.2572545Z ==13643==    by 0x69A6F9E: snprintf (snprintf.c:33)\r\n2022-03-08T09:00:29.2573550Z ==13643==    by 0x63AA46D: testing::(anonymous namespace)::PrintByteSegmentInObjectTo(unsigned char const*, unsigned long, unsigned long, std::ostream*) (gtest-printers.cc:82)\r\n2022-03-08T09:00:29.2574734Z ==13643==    by 0x63AA50D: testing::(anonymous namespace)::PrintBytesInObjectToImpl(unsigned char const*, unsigned long, std::ostream*) (gtest-printers.cc:99)\r\n2022-03-08T09:00:29.2575819Z ==13643==    by 0x63AA5B1: testing::internal::PrintBytesInObjectTo(unsigned char const*, unsigned long, std::ostream*) (gtest-printers.cc:131)\r\n2022-03-08T09:00:29.2576647Z ==13643==    by 0x4ADF39: PrintValue<arrow::Scalar> (gtest-printers.h:270)\r\n2022-03-08T09:00:29.2578058Z ==13643==    by 0x4ADF39: void testing::internal::PrintWithFallback<arrow::Scalar>(arrow::Scalar const&, std::ostream*) (gtest-printers.h:312)\r\n2022-03-08T09:00:29.2579140Z ==13643==    by 0x4ADF47: void testing::internal::PrintTo<arrow::Scalar>(arrow::Scalar const&, std::ostream*) (gtest-printers.h:441)\r\n2022-03-08T09:00:29.2579942Z ==13643==    by 0x4ADFA1: Print (gtest-printers.h:691)\r\n2022-03-08T09:00:29.2581026Z ==13643==    by 0x4ADFA1: void testing::internal::PrintSmartPointer<arrow::Scalar, std::shared_ptr<arrow::Scalar>, void>(std::shared_ptr<arrow::Scalar> const&, std::ostream*, int) (gtest-printers.h:617)\r\n2022-03-08T09:00:29.2582386Z ==13643==    by 0x4ADFE2: void testing::internal::PrintTo<arrow::Scalar>(std::shared_ptr<arrow::Scalar> const&, std::ostream*) (gtest-printers.h:629)\r\n2022-03-08T09:00:29.2583563Z ==13643==    by 0x4ADFF0: Print (gtest-printers.h:691)\r\n2022-03-08T09:00:29.2584592Z ==13643==    by 0x4ADFF0: void testing::internal::UniversalPrint<std::shared_ptr<arrow::Scalar> >(std::shared_ptr<arrow::Scalar> const&, std::ostream*) (gtest-printers.h:980)\r\n2022-03-08T09:00:29.2585981Z ==13643==    by 0x4AE247: Print (gtest-printers.h:865)\r\n2022-03-08T09:00:29.2587149Z ==13643==    by 0x4AE247: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > testing::PrintToString<std::shared_ptr<arrow::Scalar> >(std::shared_ptr<arrow::Scalar> const&) (gtest-printers.h:1018)\r\n2022-03-08T09:00:29.2588708Z ==13643==    by 0x4AE60D: _ZZNK5arrow13ResultMatcherINS_16AnyOfJSONMatcherEEcvN7testing7MatcherIT_EEIRKNS_6ResultISt10shared_ptrINS_6ScalarEEEESB_EEvENK4Impl15MatchAndExplainESE_PNS3_19MatchResultListenerE (matchers.h:204)\r\n2022-03-08T09:00:29.2592741Z ==13643==    by 0x4585CB: decltype (((testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&>::ValuePolicy<testing::MatcherInterface<arrow::Result<std::shared_ptr<arrow::Scalar> > const&> const*, true>::Get({parm#1})).MatchAndExplain)({parm#2}, {parm#3})) testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&>::MatchAndExplainImpl<testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&>::ValuePolicy<testing::MatcherInterface<arrow::Result<std::shared_ptr<arrow::Scalar> > const&> const*, true> >(testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&> const&, arrow::Result<std::shared_ptr<arrow::Scalar> > const&, testing::MatchResultListener*) (gtest-matchers.h:359)\r\n2022-03-08T09:00:29.2595919Z ==13643==    by 0x4DB6AB: MatchAndExplain (gtest-matchers.h:251)\r\n2022-03-08T09:00:29.2596674Z ==13643==    by 0x4DB6AB: Matches (gtest-matchers.h:257)\r\n2022-03-08T09:00:29.2598205Z ==13643==    by 0x4DB6AB: testing::AssertionResult testing::internal::PredicateFormatterFromMatcher<arrow::ResultMatcher<arrow::AnyOfJSONMatcher> >::operator()<arrow::Result<std::shared_ptr<arrow::Scalar> > >(char const*, arrow::Result<std::shared_ptr<arrow::Scalar> > const&) const (gmock-matchers.h:1538)\r\n2022-03-08T09:00:29.2599840Z ==13643==    by 0x4DCF13: arrow::compute::GroupBy_OneMiscTypes_Test::TestBody() (hash_aggregate_test.cc:2526)\r\n2022-03-08T09:00:29.2600751Z ==13643==    by 0x63BA4DC: void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) (gtest.cc:2607)\r\n2022-03-08T09:00:29.2602075Z ==13643==    by 0x63B190C: void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) (gtest.cc:2643)\r\n2022-03-08T09:00:29.2602991Z ==13643==    by 0x638CCDC: testing::Test::Run() (gtest.cc:2682)\r\n2022-03-08T09:00:29.2603525Z ==13643==    by 0x638D6FE: testing::TestInfo::Run() (gtest.cc:2861)\r\n2022-03-08T09:00:29.2604073Z ==13643==    by 0x638E0BD: testing::TestSuite::Run() (gtest.cc:3015)\r\n2022-03-08T09:00:29.2604663Z ==13643==    by 0x639E1DB: testing::internal::UnitTestImpl::RunAllTests() (gtest.cc:5855)\r\n2022-03-08T09:00:29.2605905Z ==13643==    by 0x63BB497: bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) (gtest.cc:2607)\r\n2022-03-08T09:00:29.2607729Z ==13643==    by 0x63B2AF9: bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) (gtest.cc:2643)\r\n2022-03-08T09:00:29.2608622Z ==13643==    by 0x639C6A8: testing::UnitTest::Run() (gtest.cc:5438)\r\n2022-03-08T09:00:29.2609089Z ==13643==    by 0x4204918: RUN_ALL_TESTS() (gtest.h:2490)\r\n2022-03-08T09:00:29.2609633Z ==13643==    by 0x420495B: main (gtest_main.cc:52)\r\n2022-03-08T09:00:29.2609960Z ==13643== \r\n2022-03-08T09:00:29.2610174Z {\r\n2022-03-08T09:00:29.2610573Z    <insert_a_suppression_name_here>\r\n2022-03-08T09:00:29.2610892Z    Memcheck:Value8\r\n2022-03-08T09:00:29.2611158Z    fun:_itoa_word\r\n2022-03-08T09:00:29.2611436Z    fun:vfprintf\r\n2022-03-08T09:00:29.2611718Z    fun:vsnprintf\r\n2022-03-08T09:00:29.2611972Z    fun:snprintf\r\n2022-03-08T09:00:29.2612354Z    fun:_ZN7testing12_GLOBAL__N_126PrintByteSegmentInObjectToEPKhmmPSo\r\n2022-03-08T09:00:29.2612966Z    fun:_ZN7testing12_GLOBAL__N_124PrintBytesInObjectToImplEPKhmPSo\r\n2022-03-08T09:00:29.2613438Z    fun:_ZN7testing8internal20PrintBytesInObjectToEPKhmPSo\r\n2022-03-08T09:00:29.2613826Z    fun:PrintValue<arrow::Scalar>\r\n2022-03-08T09:00:29.2614257Z    fun:_ZN7testing8internal17PrintWithFallbackIN5arrow6ScalarEEEvRKT_PSo\r\n2022-03-08T09:00:29.2614746Z    fun:_ZN7testing8internal7PrintToIN5arrow6ScalarEEEvRKT_PSo\r\n2022-03-08T09:00:29.2615096Z    fun:Print\r\n2022-03-08T09:00:29.2615533Z    fun:_ZN7testing8internal17PrintSmartPointerIN5arrow6ScalarESt10shared_ptrIS3_EvEEvRKT0_PSoi\r\n2022-03-08T09:00:29.2616194Z    fun:_ZN7testing8internal7PrintToIN5arrow6ScalarEEEvRKSt10shared_ptrIT_EPSo\r\n2022-03-08T09:00:29.2616557Z    fun:Print\r\n2022-03-08T09:00:29.2616945Z    fun:_ZN7testing8internal14UniversalPrintISt10shared_ptrIN5arrow6ScalarEEEEvRKT_PSo\r\n2022-03-08T09:00:29.2617342Z    fun:Print\r\n2022-03-08T09:00:29.2617786Z    fun:_ZN7testing13PrintToStringISt10shared_ptrIN5arrow6ScalarEEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKT_\r\n2022-03-08T09:00:29.2618586Z    fun:_ZZNK5arrow13ResultMatcherINS_16AnyOfJSONMatcherEEcvN7testing7MatcherIT_EEIRKNS_6ResultISt10shared_ptrINS_6ScalarEEEESB_EEvENK4Impl15MatchAndExplainESE_PNS3_19MatchResultListenerE\r\n2022-03-08T09:00:29.2619622Z    fun:_ZN7testing8internal11MatcherBaseIRKN5arrow6ResultISt10shared_ptrINS2_6ScalarEEEEE19MatchAndExplainImplINSA_11ValuePolicyIPKNS_16MatcherInterfaceIS9_EELb1EEEEEDTcldtclsrT_3Getfp_E15MatchAndExplainfp0_fp1_EERKSA_S9_PNS_19MatchResultListenerE\r\n2022-03-08T09:00:29.2620338Z    fun:MatchAndExplain\r\n2022-03-08T09:00:29.2620610Z    fun:Matches\r\n2022-03-08T09:00:29.2621315Z    fun:_ZNK7testing8internal29PredicateFormatterFromMatcherIN5arrow13ResultMatcherINS2_16AnyOfJSONMatcherEEEEclINS2_6ResultISt10shared_ptrINS2_6ScalarEEEEEENS_15AssertionResultEPKcRKT_\r\n2022-03-08T09:00:29.2622039Z    fun:_ZN5arrow7compute25GroupBy_OneMiscTypes_Test8TestBodyEv\r\n2022-03-08T09:00:29.2622788Z    fun:_ZN7testing8internal38HandleSehExceptionsInMethodIfSupportedINS_4TestEvEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2623434Z    fun:_ZN7testing8internal35HandleExceptionsInMethodIfSupportedINS_4TestEvEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2623941Z    fun:_ZN7testing4Test3RunEv\r\n2022-03-08T09:00:29.2624306Z    fun:_ZN7testing8TestInfo3RunEv\r\n2022-03-08T09:00:29.2624679Z    fun:_ZN7testing9TestSuite3RunEv\r\n2022-03-08T09:00:29.2625093Z    fun:_ZN7testing8internal12UnitTestImpl11RunAllTestsEv\r\n2022-03-08T09:00:29.2625683Z    fun:_ZN7testing8internal38HandleSehExceptionsInMethodIfSupportedINS0_12UnitTestImplEbEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2626388Z    fun:_ZN7testing8internal35HandleExceptionsInMethodIfSupportedINS0_12UnitTestImplEbEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2626910Z    fun:_ZN7testing8UnitTest3RunEv\r\n2022-03-08T09:00:29.2627265Z    fun:_Z13RUN_ALL_TESTSv\r\n2022-03-08T09:00:29.2627842Z    fun:main\r\n2022-03-08T09:00:29.2628200Z }\r\n2022-03-08T09:00:29.2628660Z ==13643== Conditional jump or move depends on uninitialised value(s)\r\n2022-03-08T09:00:29.2629092Z ==13643==    at 0x699A7E8: _itoa_word (_itoa.c:180)\r\n2022-03-08T09:00:29.2629482Z ==13643==    by 0x699DEDD: vfprintf (vfprintf.c:1642)\r\n2022-03-08T09:00:29.2629904Z ==13643==    by 0x69CA8AF: vsnprintf (vsnprintf.c:114)\r\n2022-03-08T09:00:29.2630320Z ==13643==    by 0x69A6F9E: snprintf (snprintf.c:33)\r\n2022-03-08T09:00:29.2631472Z ==13643==    by 0x63AA46D: testing::(anonymous namespace)::PrintByteSegmentInObjectTo(unsigned char const*, unsigned long, unsigned long, std::ostream*) (gtest-printers.cc:82)\r\n2022-03-08T09:00:29.2633078Z ==13643==    by 0x63AA50D: testing::(anonymous namespace)::PrintBytesInObjectToImpl(unsigned char const*, unsigned long, std::ostream*) (gtest-printers.cc:99)\r\n2022-03-08T09:00:29.2634533Z ==13643==    by 0x63AA5B1: testing::internal::PrintBytesInObjectTo(unsigned char const*, unsigned long, std::ostream*) (gtest-printers.cc:131)\r\n2022-03-08T09:00:29.2635500Z ==13643==    by 0x4ADF39: PrintValue<arrow::Scalar> (gtest-printers.h:270)\r\n2022-03-08T09:00:29.2636633Z ==13643==    by 0x4ADF39: void testing::internal::PrintWithFallback<arrow::Scalar>(arrow::Scalar const&, std::ostream*) (gtest-printers.h:312)\r\n2022-03-08T09:00:29.2637827Z ==13643==    by 0x4ADF47: void testing::internal::PrintTo<arrow::Scalar>(arrow::Scalar const&, std::ostream*) (gtest-printers.h:441)\r\n2022-03-08T09:00:29.2638715Z ==13643==    by 0x4ADFA1: Print (gtest-printers.h:691)\r\n2022-03-08T09:00:29.2639908Z ==13643==    by 0x4ADFA1: void testing::internal::PrintSmartPointer<arrow::Scalar, std::shared_ptr<arrow::Scalar>, void>(std::shared_ptr<arrow::Scalar> const&, std::ostream*, int) (gtest-printers.h:617)\r\n2022-03-08T09:00:29.2641171Z ==13643==    by 0x4ADFE2: void testing::internal::PrintTo<arrow::Scalar>(std::shared_ptr<arrow::Scalar> const&, std::ostream*) (gtest-printers.h:629)\r\n2022-03-08T09:00:29.2642126Z ==13643==    by 0x4ADFF0: Print (gtest-printers.h:691)\r\n2022-03-08T09:00:29.2643409Z ==13643==    by 0x4ADFF0: void testing::internal::UniversalPrint<std::shared_ptr<arrow::Scalar> >(std::shared_ptr<arrow::Scalar> const&, std::ostream*) (gtest-printers.h:980)\r\n2022-03-08T09:00:29.2644368Z ==13643==    by 0x4AE247: Print (gtest-printers.h:865)\r\n2022-03-08T09:00:29.2645598Z ==13643==    by 0x4AE247: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > testing::PrintToString<std::shared_ptr<arrow::Scalar> >(std::shared_ptr<arrow::Scalar> const&) (gtest-printers.h:1018)\r\n2022-03-08T09:00:29.2647409Z ==13643==    by 0x4AE60D: _ZZNK5arrow13ResultMatcherINS_16AnyOfJSONMatcherEEcvN7testing7MatcherIT_EEIRKNS_6ResultISt10shared_ptrINS_6ScalarEEEESB_EEvENK4Impl15MatchAndExplainESE_PNS3_19MatchResultListenerE (matchers.h:204)\r\n2022-03-08T09:00:29.2651115Z ==13643==    by 0x4585CB: decltype (((testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&>::ValuePolicy<testing::MatcherInterface<arrow::Result<std::shared_ptr<arrow::Scalar> > const&> const*, true>::Get({parm#1})).MatchAndExplain)({parm#2}, {parm#3})) testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&>::MatchAndExplainImpl<testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&>::ValuePolicy<testing::MatcherInterface<arrow::Result<std::shared_ptr<arrow::Scalar> > const&> const*, true> >(testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&> const&, arrow::Result<std::shared_ptr<arrow::Scalar> > const&, testing::MatchResultListener*) (gtest-matchers.h:359)\r\n2022-03-08T09:00:29.2653613Z ==13643==    by 0x4DB6AB: MatchAndExplain (gtest-matchers.h:251)\r\n2022-03-08T09:00:29.2654401Z ==13643==    by 0x4DB6AB: Matches (gtest-matchers.h:257)\r\n2022-03-08T09:00:29.2655888Z ==13643==    by 0x4DB6AB: testing::AssertionResult testing::internal::PredicateFormatterFromMatcher<arrow::ResultMatcher<arrow::AnyOfJSONMatcher> >::operator()<arrow::Result<std::shared_ptr<arrow::Scalar> > >(char const*, arrow::Result<std::shared_ptr<arrow::Scalar> > const&) const (gmock-matchers.h:1538)\r\n2022-03-08T09:00:29.2657155Z ==13643==    by 0x4DCF13: arrow::compute::GroupBy_OneMiscTypes_Test::TestBody() (hash_aggregate_test.cc:2526)\r\n2022-03-08T09:00:29.2657983Z ==13643==    by 0x63BA4DC: void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) (gtest.cc:2607)\r\n2022-03-08T09:00:29.2658946Z ==13643==    by 0x63B190C: void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) (gtest.cc:2643)\r\n2022-03-08T09:00:29.2659642Z ==13643==    by 0x638CCDC: testing::Test::Run() (gtest.cc:2682)\r\n2022-03-08T09:00:29.2660109Z ==13643==    by 0x638D6FE: testing::TestInfo::Run() (gtest.cc:2861)\r\n2022-03-08T09:00:29.2660690Z ==13643==    by 0x638E0BD: testing::TestSuite::Run() (gtest.cc:3015)\r\n2022-03-08T09:00:29.2661198Z ==13643==    by 0x639E1DB: testing::internal::UnitTestImpl::RunAllTests() (gtest.cc:5855)\r\n2022-03-08T09:00:29.2662105Z ==13643==    by 0x63BB497: bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) (gtest.cc:2607)\r\n2022-03-08T09:00:29.2663524Z ==13643==    by 0x63B2AF9: bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) (gtest.cc:2643)\r\n2022-03-08T09:00:29.2664600Z ==13643==    by 0x639C6A8: testing::UnitTest::Run() (gtest.cc:5438)\r\n2022-03-08T09:00:29.2665115Z ==13643==    by 0x4204918: RUN_ALL_TESTS() (gtest.h:2490)\r\n2022-03-08T09:00:29.2665574Z ==13643==    by 0x420495B: main (gtest_main.cc:52)\r\n2022-03-08T09:00:29.2666171Z ==13643== \r\n2022-03-08T09:00:29.2666408Z {\r\n2022-03-08T09:00:29.2666673Z    <insert_a_suppression_name_here>\r\n2022-03-08T09:00:29.2667094Z    Memcheck:Cond\r\n2022-03-08T09:00:29.2667367Z    fun:_itoa_word\r\n2022-03-08T09:00:29.2667872Z    fun:vfprintf\r\n2022-03-08T09:00:29.2668160Z    fun:vsnprintf\r\n2022-03-08T09:00:29.2668443Z    fun:snprintf\r\n2022-03-08T09:00:29.2668830Z    fun:_ZN7testing12_GLOBAL__N_126PrintByteSegmentInObjectToEPKhmmPSo\r\n2022-03-08T09:00:29.2669344Z    fun:_ZN7testing12_GLOBAL__N_124PrintBytesInObjectToImplEPKhmPSo\r\n2022-03-08T09:00:29.2669828Z    fun:_ZN7testing8internal20PrintBytesInObjectToEPKhmPSo\r\n2022-03-08T09:00:29.2670225Z    fun:PrintValue<arrow::Scalar>\r\n2022-03-08T09:00:29.2670677Z    fun:_ZN7testing8internal17PrintWithFallbackIN5arrow6ScalarEEEvRKT_PSo\r\n2022-03-08T09:00:29.2671518Z    fun:_ZN7testing8internal7PrintToIN5arrow6ScalarEEEvRKT_PSo\r\n2022-03-08T09:00:29.2671876Z    fun:Print\r\n2022-03-08T09:00:29.2672268Z    fun:_ZN7testing8internal17PrintSmartPointerIN5arrow6ScalarESt10shared_ptrIS3_EvEEvRKT0_PSoi\r\n2022-03-08T09:00:29.2672806Z    fun:_ZN7testing8internal7PrintToIN5arrow6ScalarEEEvRKSt10shared_ptrIT_EPSo\r\n2022-03-08T09:00:29.2673178Z    fun:Print\r\n2022-03-08T09:00:29.2673556Z    fun:_ZN7testing8internal14UniversalPrintISt10shared_ptrIN5arrow6ScalarEEEEvRKT_PSo\r\n2022-03-08T09:00:29.2674074Z    fun:Print\r\n2022-03-08T09:00:29.2674701Z    fun:_ZN7testing13PrintToStringISt10shared_ptrIN5arrow6ScalarEEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKT_\r\n2022-03-08T09:00:29.2675569Z    fun:_ZZNK5arrow13ResultMatcherINS_16AnyOfJSONMatcherEEcvN7testing7MatcherIT_EEIRKNS_6ResultISt10shared_ptrINS_6ScalarEEEESB_EEvENK4Impl15MatchAndExplainESE_PNS3_19MatchResultListenerE\r\n2022-03-08T09:00:29.2676713Z    fun:_ZN7testing8internal11MatcherBaseIRKN5arrow6ResultISt10shared_ptrINS2_6ScalarEEEEE19MatchAndExplainImplINSA_11ValuePolicyIPKNS_16MatcherInterfaceIS9_EELb1EEEEEDTcldtclsrT_3Getfp_E15MatchAndExplainfp0_fp1_EERKSA_S9_PNS_19MatchResultListenerE\r\n2022-03-08T09:00:29.2677726Z    fun:MatchAndExplain\r\n2022-03-08T09:00:29.2678002Z    fun:Matches\r\n2022-03-08T09:00:29.2678570Z    fun:_ZNK7testing8internal29PredicateFormatterFromMatcherIN5arrow13ResultMatcherINS2_16AnyOfJSONMatcherEEEEclINS2_6ResultISt10shared_ptrINS2_6ScalarEEEEEENS_15AssertionResultEPKcRKT_\r\n2022-03-08T09:00:29.2679378Z    fun:_ZN5arrow7compute25GroupBy_OneMiscTypes_Test8TestBodyEv\r\n2022-03-08T09:00:29.2679889Z    fun:_ZN7testing8internal38HandleSehExceptionsInMethodIfSupportedINS_4TestEvEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2680466Z    fun:_ZN7testing8internal35HandleExceptionsInMethodIfSupportedINS_4TestEvEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2680893Z    fun:_ZN7testing4Test3RunEv\r\n2022-03-08T09:00:29.2681212Z    fun:_ZN7testing8TestInfo3RunEv\r\n2022-03-08T09:00:29.2681540Z    fun:_ZN7testing9TestSuite3RunEv\r\n2022-03-08T09:00:29.2681897Z    fun:_ZN7testing8internal12UnitTestImpl11RunAllTestsEv\r\n2022-03-08T09:00:29.2682415Z    fun:_ZN7testing8internal38HandleSehExceptionsInMethodIfSupportedINS0_12UnitTestImplEbEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2683139Z    fun:_ZN7testing8internal35HandleExceptionsInMethodIfSupportedINS0_12UnitTestImplEbEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2683649Z    fun:_ZN7testing8UnitTest3RunEv\r\n2022-03-08T09:00:29.2683957Z    fun:_Z13RUN_ALL_TESTSv\r\n2022-03-08T09:00:29.2684232Z    fun:main\r\n2022-03-08T09:00:29.2684456Z }\r\n2022-03-08T09:00:29.2684764Z ==13643== Conditional jump or move depends on uninitialised value(s)\r\n2022-03-08T09:00:29.2685194Z ==13643==    at 0x699DFE4: vfprintf (vfprintf.c:1642)\r\n2022-03-08T09:00:29.2685608Z ==13643==    by 0x69CA8AF: vsnprintf (vsnprintf.c:114)\r\n2022-03-08T09:00:29.2686001Z ==13643==    by 0x69A6F9E: snprintf (snprintf.c:33)\r\n2022-03-08T09:00:29.2687206Z ==13643==    by 0x63AA46D: testing::(anonymous namespace)::PrintByteSegmentInObjectTo(unsigned char const*, unsigned long, unsigned long, std::ostream*) (gtest-printers.cc:82)\r\n2022-03-08T09:00:29.2688451Z ==13643==    by 0x63AA50D: testing::(anonymous namespace)::PrintBytesInObjectToImpl(unsigned char const*, unsigned long, std::ostream*) (gtest-printers.cc:99)\r\n2022-03-08T09:00:29.2689698Z ==13643==    by 0x63AA5B1: testing::internal::PrintBytesInObjectTo(unsigned char const*, unsigned long, std::ostream*) (gtest-printers.cc:131)\r\n2022-03-08T09:00:29.2690524Z ==13643==    by 0x4ADF39: PrintValue<arrow::Scalar> (gtest-printers.h:270)\r\n2022-03-08T09:00:29.2691409Z ==13643==    by 0x4ADF39: void testing::internal::PrintWithFallback<arrow::Scalar>(arrow::Scalar const&, std::ostream*) (gtest-printers.h:312)\r\n2022-03-08T09:00:29.2692412Z ==13643==    by 0x4ADF47: void testing::internal::PrintTo<arrow::Scalar>(arrow::Scalar const&, std::ostream*) (gtest-printers.h:441)\r\n2022-03-08T09:00:29.2693163Z ==13643==    by 0x4ADFA1: Print (gtest-printers.h:691)\r\n2022-03-08T09:00:29.2694457Z ==13643==    by 0x4ADFA1: void testing::internal::PrintSmartPointer<arrow::Scalar, std::shared_ptr<arrow::Scalar>, void>(std::shared_ptr<arrow::Scalar> const&, std::ostream*, int) (gtest-printers.h:617)\r\n2022-03-08T09:00:29.2697670Z ==13643==    by 0x4ADFE2: void testing::internal::PrintTo<arrow::Scalar>(std::shared_ptr<arrow::Scalar> const&, std::ostream*) (gtest-printers.h:629)\r\n2022-03-08T09:00:29.2698770Z ==13643==    by 0x4ADFF0: Print (gtest-printers.h:691)\r\n2022-03-08T09:00:29.2699859Z ==13643==    by 0x4ADFF0: void testing::internal::UniversalPrint<std::shared_ptr<arrow::Scalar> >(std::shared_ptr<arrow::Scalar> const&, std::ostream*) (gtest-printers.h:980)\r\n2022-03-08T09:00:29.2700809Z ==13643==    by 0x4AE247: Print (gtest-printers.h:865)\r\n2022-03-08T09:00:29.2702043Z ==13643==    by 0x4AE247: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > testing::PrintToString<std::shared_ptr<arrow::Scalar> >(std::shared_ptr<arrow::Scalar> const&) (gtest-printers.h:1018)\r\n2022-03-08T09:00:29.2703401Z ==13643==    by 0x4AE60D: _ZZNK5arrow13ResultMatcherINS_16AnyOfJSONMatcherEEcvN7testing7MatcherIT_EEIRKNS_6ResultISt10shared_ptrINS_6ScalarEEEESB_EEvENK4Impl15MatchAndExplainESE_PNS3_19MatchResultListenerE (matchers.h:204)\r\n2022-03-08T09:00:29.2707452Z ==13643==    by 0x4585CB: decltype (((testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&>::ValuePolicy<testing::MatcherInterface<arrow::Result<std::shared_ptr<arrow::Scalar> > const&> const*, true>::Get({parm#1})).MatchAndExplain)({parm#2}, {parm#3})) testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&>::MatchAndExplainImpl<testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&>::ValuePolicy<testing::MatcherInterface<arrow::Result<std::shared_ptr<arrow::Scalar> > const&> const*, true> >(testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&> const&, arrow::Result<std::shared_ptr<arrow::Scalar> > const&, testing::MatchResultListener*) (gtest-matchers.h:359)\r\n2022-03-08T09:00:29.2710387Z ==13643==    by 0x4DB6AB: MatchAndExplain (gtest-matchers.h:251)\r\n2022-03-08T09:00:29.2711098Z ==13643==    by 0x4DB6AB: Matches (gtest-matchers.h:257)\r\n2022-03-08T09:00:29.2713843Z ==13643==    by 0x4DB6AB: testing::AssertionResult testing::internal::PredicateFormatterFromMatcher<arrow::ResultMatcher<arrow::AnyOfJSONMatcher> >::operator()<arrow::Result<std::shared_ptr<arrow::Scalar> > >(char const*, arrow::Result<std::shared_ptr<arrow::Scalar> > const&) const (gmock-matchers.h:1538)\r\n2022-03-08T09:00:29.2715088Z ==13643==    by 0x4DCF13: arrow::compute::GroupBy_OneMiscTypes_Test::TestBody() (hash_aggregate_test.cc:2526)\r\n2022-03-08T09:00:29.2715975Z ==13643==    by 0x63BA4DC: void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) (gtest.cc:2607)\r\n2022-03-08T09:00:29.2717012Z ==13643==    by 0x63B190C: void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) (gtest.cc:2643)\r\n2022-03-08T09:00:29.2717767Z ==13643==    by 0x638CCDC: testing::Test::Run() (gtest.cc:2682)\r\n2022-03-08T09:00:29.2718355Z ==13643==    by 0x638D6FE: testing::TestInfo::Run() (gtest.cc:2861)\r\n2022-03-08T09:00:29.2718822Z ==13643==    by 0x638E0BD: testing::TestSuite::Run() (gtest.cc:3015)\r\n2022-03-08T09:00:29.2719349Z ==13643==    by 0x639E1DB: testing::internal::UnitTestImpl::RunAllTests() (gtest.cc:5855)\r\n2022-03-08T09:00:29.2720253Z ==13643==    by 0x63BB497: bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) (gtest.cc:2607)\r\n2022-03-08T09:00:29.2721454Z ==13643==    by 0x63B2AF9: bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) (gtest.cc:2643)\r\n2022-03-08T09:00:29.2722276Z ==13643==    by 0x639C6A8: testing::UnitTest::Run() (gtest.cc:5438)\r\n2022-03-08T09:00:29.2722726Z ==13643==    by 0x4204918: RUN_ALL_TESTS() (gtest.h:2490)\r\n2022-03-08T09:00:29.2723139Z ==13643==    by 0x420495B: main (gtest_main.cc:52)\r\n2022-03-08T09:00:29.2723448Z ==13643== \r\n2022-03-08T09:00:29.2723669Z {\r\n2022-03-08T09:00:29.2723928Z    <insert_a_suppression_name_here>\r\n2022-03-08T09:00:29.2724211Z    Memcheck:Cond\r\n2022-03-08T09:00:29.2724483Z    fun:vfprintf\r\n2022-03-08T09:00:29.2724744Z    fun:vsnprintf\r\n2022-03-08T09:00:29.2724987Z    fun:snprintf\r\n2022-03-08T09:00:29.2725354Z    fun:_ZN7testing12_GLOBAL__N_126PrintByteSegmentInObjectToEPKhmmPSo\r\n2022-03-08T09:00:29.2725823Z    fun:_ZN7testing12_GLOBAL__N_124PrintBytesInObjectToImplEPKhmPSo\r\n2022-03-08T09:00:29.2726261Z    fun:_ZN7testing8internal20PrintBytesInObjectToEPKhmPSo\r\n2022-03-08T09:00:29.2726881Z    fun:PrintValue<arrow::Scalar>\r\n2022-03-08T09:00:29.2727318Z    fun:_ZN7testing8internal17PrintWithFallbackIN5arrow6ScalarEEEvRKT_PSo\r\n2022-03-08T09:00:29.2727823Z    fun:_ZN7testing8internal7PrintToIN5arrow6ScalarEEEvRKT_PSo\r\n2022-03-08T09:00:29.2728184Z    fun:Print\r\n2022-03-08T09:00:29.2728633Z    fun:_ZN7testing8internal17PrintSmartPointerIN5arrow6ScalarESt10shared_ptrIS3_EvEEvRKT0_PSoi\r\n2022-03-08T09:00:29.2729228Z    fun:_ZN7testing8internal7PrintToIN5arrow6ScalarEEEvRKSt10shared_ptrIT_EPSo\r\n2022-03-08T09:00:29.2729626Z    fun:Print\r\n2022-03-08T09:00:29.2730300Z    fun:_ZN7testing8internal14UniversalPrintISt10shared_ptrIN5arrow6ScalarEEEEvRKT_PSo\r\n2022-03-08T09:00:29.2730887Z    fun:Print\r\n2022-03-08T09:00:29.2731353Z    fun:_ZN7testing13PrintToStringISt10shared_ptrIN5arrow6ScalarEEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKT_\r\n2022-03-08T09:00:29.2732137Z    fun:_ZZNK5arrow13ResultMatcherINS_16AnyOfJSONMatcherEEcvN7testing7MatcherIT_EEIRKNS_6ResultISt10shared_ptrINS_6ScalarEEEESB_EEvENK4Impl15MatchAndExplainESE_PNS3_19MatchResultListenerE\r\n2022-03-08T09:00:29.2733622Z    fun:_ZN7testing8internal11MatcherBaseIRKN5arrow6ResultISt10shared_ptrINS2_6ScalarEEEEE19MatchAndExplainImplINSA_11ValuePolicyIPKNS_16MatcherInterfaceIS9_EELb1EEEEEDTcldtclsrT_3Getfp_E15MatchAndExplainfp0_fp1_EERKSA_S9_PNS_19MatchResultListenerE\r\n2022-03-08T09:00:29.2734445Z    fun:MatchAndExplain\r\n2022-03-08T09:00:29.2734887Z    fun:Matches\r\n2022-03-08T09:00:29.2735539Z    fun:_ZNK7testing8internal29PredicateFormatterFromMatcherIN5arrow13ResultMatcherINS2_16AnyOfJSONMatcherEEEEclINS2_6ResultISt10shared_ptrINS2_6ScalarEEEEEENS_15AssertionResultEPKcRKT_\r\n2022-03-08T09:00:29.2736552Z    fun:_ZN5arrow7compute25GroupBy_OneMiscTypes_Test8TestBodyEv\r\n2022-03-08T09:00:29.2737207Z    fun:_ZN7testing8internal38HandleSehExceptionsInMethodIfSupportedINS_4TestEvEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2737900Z    fun:_ZN7testing8internal35HandleExceptionsInMethodIfSupportedINS_4TestEvEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2738370Z    fun:_ZN7testing4Test3RunEv\r\n2022-03-08T09:00:29.2738712Z    fun:_ZN7testing8TestInfo3RunEv\r\n2022-03-08T09:00:29.2739062Z    fun:_ZN7testing9TestSuite3RunEv\r\n2022-03-08T09:00:29.2739581Z    fun:_ZN7testing8internal12UnitTestImpl11RunAllTestsEv\r\n2022-03-08T09:00:29.2740155Z    fun:_ZN7testing8internal38HandleSehExceptionsInMethodIfSupportedINS0_12UnitTestImplEbEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2740978Z    fun:_ZN7testing8internal35HandleExceptionsInMethodIfSupportedINS0_12UnitTestImplEbEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2741724Z    fun:_ZN7testing8UnitTest3RunEv\r\n2022-03-08T09:00:29.2742090Z    fun:_Z13RUN_ALL_TESTSv\r\n2022-03-08T09:00:29.2742400Z    fun:main\r\n2022-03-08T09:00:29.2742642Z }\r\n2022-03-08T09:00:29.2743012Z ==13643== Conditional jump or move depends on uninitialised value(s)\r\n2022-03-08T09:00:29.2743504Z ==13643==    at 0x699EB1C: vfprintf (vfprintf.c:1642)\r\n2022-03-08T09:00:29.2743959Z ==13643==    by 0x69CA8AF: vsnprintf (vsnprintf.c:114)\r\n2022-03-08T09:00:29.2744426Z ==13643==    by 0x69A6F9E: snprintf (snprintf.c:33)\r\n2022-03-08T09:00:29.2745895Z ==13643==    by 0x63AA46D: testing::(anonymous namespace)::PrintByteSegmentInObjectTo(unsigned char const*, unsigned long, unsigned long, std::ostream*) (gtest-printers.cc:82)\r\n2022-03-08T09:00:29.2747058Z ==13643==    by 0x63AA50D: testing::(anonymous namespace)::PrintBytesInObjectToImpl(unsigned char const*, unsigned long, std::ostream*) (gtest-printers.cc:99)\r\n2022-03-08T09:00:29.2748130Z ==13643==    by 0x63AA5B1: testing::internal::PrintBytesInObjectTo(unsigned char const*, unsigned long, std::ostream*) (gtest-printers.cc:131)\r\n2022-03-08T09:00:29.2749112Z ==13643==    by 0x4ADF39: PrintValue<arrow::Scalar> (gtest-printers.h:270)\r\n2022-03-08T09:00:29.2750058Z ==13643==    by 0x4ADF39: void testing::internal::PrintWithFallback<arrow::Scalar>(arrow::Scalar const&, std::ostream*) (gtest-printers.h:312)\r\n2022-03-08T09:00:29.2751125Z ==13643==    by 0x4ADF47: void testing::internal::PrintTo<arrow::Scalar>(arrow::Scalar const&, std::ostream*) (gtest-printers.h:441)\r\n2022-03-08T09:00:29.2752197Z ==13643==    by 0x4ADFA1: Print (gtest-printers.h:691)\r\n2022-03-08T09:00:29.2753217Z ==13643==    by 0x4ADFA1: void testing::internal::PrintSmartPointer<arrow::Scalar, std::shared_ptr<arrow::Scalar>, void>(std::shared_ptr<arrow::Scalar> const&, std::ostream*, int) (gtest-printers.h:617)\r\n2022-03-08T09:00:29.2754569Z ==13643==    by 0x4ADFE2: void testing::internal::PrintTo<arrow::Scalar>(std::shared_ptr<arrow::Scalar> const&, std::ostream*) (gtest-printers.h:629)\r\n2022-03-08T09:00:29.2755445Z ==13643==    by 0x4ADFF0: Print (gtest-printers.h:691)\r\n2022-03-08T09:00:29.2756682Z ==13643==    by 0x4ADFF0: void testing::internal::UniversalPrint<std::shared_ptr<arrow::Scalar> >(std::shared_ptr<arrow::Scalar> const&, std::ostream*) (gtest-printers.h:980)\r\n2022-03-08T09:00:29.2757697Z ==13643==    by 0x4AE247: Print (gtest-printers.h:865)\r\n2022-03-08T09:00:29.2758773Z ==13643==    by 0x4AE247: std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > testing::PrintToString<std::shared_ptr<arrow::Scalar> >(std::shared_ptr<arrow::Scalar> const&) (gtest-printers.h:1018)\r\n2022-03-08T09:00:29.2759957Z ==13643==    by 0x4AE60D: _ZZNK5arrow13ResultMatcherINS_16AnyOfJSONMatcherEEcvN7testing7MatcherIT_EEIRKNS_6ResultISt10shared_ptrINS_6ScalarEEEESB_EEvENK4Impl15MatchAndExplainESE_PNS3_19MatchResultListenerE (matchers.h:204)\r\n2022-03-08T09:00:29.2763047Z ==13643==    by 0x4585CB: decltype (((testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&>::ValuePolicy<testing::MatcherInterface<arrow::Result<std::shared_ptr<arrow::Scalar> > const&> const*, true>::Get({parm#1})).MatchAndExplain)({parm#2}, {parm#3})) testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&>::MatchAndExplainImpl<testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&>::ValuePolicy<testing::MatcherInterface<arrow::Result<std::shared_ptr<arrow::Scalar> > const&> const*, true> >(testing::internal::MatcherBase<arrow::Result<std::shared_ptr<arrow::Scalar> > const&> const&, arrow::Result<std::shared_ptr<arrow::Scalar> > const&, testing::MatchResultListener*) (gtest-matchers.h:359)\r\n2022-03-08T09:00:29.2765406Z ==13643==    by 0x4DB6AB: MatchAndExplain (gtest-matchers.h:251)\r\n2022-03-08T09:00:29.2766157Z ==13643==    by 0x4DB6AB: Matches (gtest-matchers.h:257)\r\n2022-03-08T09:00:29.2767712Z ==13643==    by 0x4DB6AB: testing::AssertionResult testing::internal::PredicateFormatterFromMatcher<arrow::ResultMatcher<arrow::AnyOfJSONMatcher> >::operator()<arrow::Result<std::shared_ptr<arrow::Scalar> > >(char const*, arrow::Result<std::shared_ptr<arrow::Scalar> > const&) const (gmock-matchers.h:1538)\r\n2022-03-08T09:00:29.2768937Z ==13643==    by 0x4DCF13: arrow::compute::GroupBy_OneMiscTypes_Test::TestBody() (hash_aggregate_test.cc:2526)\r\n2022-03-08T09:00:29.2770048Z ==13643==    by 0x63BA4DC: void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) (gtest.cc:2607)\r\n2022-03-08T09:00:29.2771017Z ==13643==    by 0x63B190C: void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) (gtest.cc:2643)\r\n2022-03-08T09:00:29.2771729Z ==13643==    by 0x638CCDC: testing::Test::Run() (gtest.cc:2682)\r\n2022-03-08T09:00:29.2772178Z ==13643==    by 0x638D6FE: testing::TestInfo::Run() (gtest.cc:2861)\r\n2022-03-08T09:00:29.2772661Z ==13643==    by 0x638E0BD: testing::TestSuite::Run() (gtest.cc:3015)\r\n2022-03-08T09:00:29.2773187Z ==13643==    by 0x639E1DB: testing::internal::UnitTestImpl::RunAllTests() (gtest.cc:5855)\r\n2022-03-08T09:00:29.2774090Z ==13643==    by 0x63BB497: bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) (gtest.cc:2607)\r\n2022-03-08T09:00:29.2775282Z ==13643==    by 0x63B2AF9: bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) (gtest.cc:2643)\r\n2022-03-08T09:00:29.2776118Z ==13643==    by 0x639C6A8: testing::UnitTest::Run() (gtest.cc:5438)\r\n2022-03-08T09:00:29.2776570Z ==13643==    by 0x4204918: RUN_ALL_TESTS() (gtest.h:2490)\r\n2022-03-08T09:00:29.2776986Z ==13643==    by 0x420495B: main (gtest_main.cc:52)\r\n2022-03-08T09:00:29.2777294Z ==13643== \r\n2022-03-08T09:00:29.2777519Z {\r\n2022-03-08T09:00:29.2777782Z    <insert_a_suppression_name_here>\r\n2022-03-08T09:00:29.2778061Z    Memcheck:Cond\r\n2022-03-08T09:00:29.2778476Z    fun:vfprintf\r\n2022-03-08T09:00:29.2778738Z    fun:vsnprintf\r\n2022-03-08T09:00:29.2778983Z    fun:snprintf\r\n2022-03-08T09:00:29.2779347Z    fun:_ZN7testing12_GLOBAL__N_126PrintByteSegmentInObjectToEPKhmmPSo\r\n2022-03-08T09:00:29.2779815Z    fun:_ZN7testing12_GLOBAL__N_124PrintBytesInObjectToImplEPKhmPSo\r\n2022-03-08T09:00:29.2780360Z    fun:_ZN7testing8internal20PrintBytesInObjectToEPKhmPSo\r\n2022-03-08T09:00:29.2780891Z    fun:PrintValue<arrow::Scalar>\r\n2022-03-08T09:00:29.2781336Z    fun:_ZN7testing8internal17PrintWithFallbackIN5arrow6ScalarEEEvRKT_PSo\r\n2022-03-08T09:00:29.2781827Z    fun:_ZN7testing8internal7PrintToIN5arrow6ScalarEEEvRKT_PSo\r\n2022-03-08T09:00:29.2782252Z    fun:Print\r\n2022-03-08T09:00:29.2782842Z    fun:_ZN7testing8internal17PrintSmartPointerIN5arrow6ScalarESt10shared_ptrIS3_EvEEvRKT0_PSoi\r\n2022-03-08T09:00:29.2783583Z    fun:_ZN7testing8internal7PrintToIN5arrow6ScalarEEEvRKSt10shared_ptrIT_EPSo\r\n2022-03-08T09:00:29.2783996Z    fun:Print\r\n2022-03-08T09:00:29.2784441Z    fun:_ZN7testing8internal14UniversalPrintISt10shared_ptrIN5arrow6ScalarEEEEvRKT_PSo\r\n2022-03-08T09:00:29.2784891Z    fun:Print\r\n2022-03-08T09:00:29.2788766Z    fun:_ZN7testing13PrintToStringISt10shared_ptrIN5arrow6ScalarEEEENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKT_\r\n2022-03-08T09:00:29.2789680Z    fun:_ZZNK5arrow13ResultMatcherINS_16AnyOfJSONMatcherEEcvN7testing7MatcherIT_EEIRKNS_6ResultISt10shared_ptrINS_6ScalarEEEESB_EEvENK4Impl15MatchAndExplainESE_PNS3_19MatchResultListenerE\r\n2022-03-08T09:00:29.2790919Z    fun:_ZN7testing8internal11MatcherBaseIRKN5arrow6ResultISt10shared_ptrINS2_6ScalarEEEEE19MatchAndExplainImplINSA_11ValuePolicyIPKNS_16MatcherInterfaceIS9_EELb1EEEEEDTcldtclsrT_3Getfp_E15MatchAndExplainfp0_fp1_EERKSA_S9_PNS_19MatchResultListenerE\r\n2022-03-08T09:00:29.2791983Z    fun:MatchAndExplain\r\n2022-03-08T09:00:29.2792534Z    fun:Matches\r\n2022-03-08T09:00:29.2793205Z    fun:_ZNK7testing8internal29PredicateFormatterFromMatcherIN5arrow13ResultMatcherINS2_16AnyOfJSONMatcherEEEEclINS2_6ResultISt10shared_ptrINS2_6ScalarEEEEEENS_15AssertionResultEPKcRKT_\r\n2022-03-08T09:00:29.2793984Z    fun:_ZN5arrow7compute25GroupBy_OneMiscTypes_Test8TestBodyEv\r\n2022-03-08T09:00:29.2794567Z    fun:_ZN7testing8internal38HandleSehExceptionsInMethodIfSupportedINS_4TestEvEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2795218Z    fun:_ZN7testing8internal35HandleExceptionsInMethodIfSupportedINS_4TestEvEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2795725Z    fun:_ZN7testing4Test3RunEv\r\n2022-03-08T09:00:29.2796090Z    fun:_ZN7testing8TestInfo3RunEv\r\n2022-03-08T09:00:29.2796453Z    fun:_ZN7testing9TestSuite3RunEv\r\n2022-03-08T09:00:29.2797326Z    fun:_ZN7testing8internal12UnitTestImpl11RunAllTestsEv\r\n2022-03-08T09:00:29.2797940Z    fun:_ZN7testing8internal38HandleSehExceptionsInMethodIfSupportedINS0_12UnitTestImplEbEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2798622Z    fun:_ZN7testing8internal35HandleExceptionsInMethodIfSupportedINS0_12UnitTestImplEbEET0_PT_MS4_FS3_vEPKc\r\n2022-03-08T09:00:29.2799180Z    fun:_ZN7testing8UnitTest3RunEv\r\n2022-03-08T09:00:29.2799539Z    fun:_Z13RUN_ALL_TESTSv\r\n2022-03-08T09:00:29.2799979Z    fun:main\r\n2022-03-08T09:00:29.2800204Z }\r\n2022-03-08T09:00:29.2800489Z [       OK ] GroupBy.OneMiscTypes (358 ms)\r\n \n```",
        "created_at": "2022-03-08T14:01:37.000Z",
        "updated_at": "2022-03-15T03:32:14.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: C++",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2022-03-14T18:31:19.000Z"
    },
    "comments": [
        {
            "created_at": "2022-03-08T14:02:15.056Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17502970) by David Li (lidavidm):*\nCC `[~dhruv9vats]` if you would like to take a look"
        },
        {
            "created_at": "2022-03-10T15:42:45.780Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504369) by Dhruv Vats (dhruv9vats):*\nThis seem to be related to the [AnyOfJSON matcher](https://github.com/apache/arrow/blob/8088f71c5d545349a24812b9e516ab07c850d0c6/cpp/src/arrow/testing/matchers.h#L66-L123)\u00a0and not the kernel, and occur's specifically [at this line](https://github.com/apache/arrow/blob/8088f71c5d545349a24812b9e516ab07c850d0c6/cpp/src/arrow/testing/matchers.h#L204). I tried a few things, but is there a specific place I can start looking into?"
        },
        {
            "created_at": "2022-03-10T15:56:47.233Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504375) by David Li (lidavidm):*\nGenerally this kind of thing means that the kernel didn't fully initialize its output. Valgrind only points to the matcher because it happens to touch the uninitialized memory. Probably in one case, the value of the output scalar isn't initialized.\r\n\r\nYou can try setting up valgrind locally. The easiest thing would be to use archery/docker, though that takes a long time to build."
        },
        {
            "created_at": "2022-03-10T16:12:06.605Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504391) by Dhruv Vats (dhruv9vats):*\nWell I do have Valgrind running locally and have given Memcheck a shot. But yeah, will try and look for a uninitialized scalar output from the kernel."
        },
        {
            "created_at": "2022-03-10T19:29:29.365Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504533) by Dhruv Vats (dhruv9vats):*\nThe reason I though this was not related to the kernel itself is because when I commented out these [EXPECT_THAT's](https://github.com/apache/arrow/blob/dfca6a704ad7e8e87e1c8c3d0224ba13b25786ea/cpp/src/arrow/compute/kernels/hash_aggregate_test.cc#L2526-L2532)\u00a0and then ran the Memcheck, there were no errors. And I'm just thinking out loud now, but is it because we are not interacting with kernels' results that we don't find the leak?"
        },
        {
            "created_at": "2022-03-10T19:32:01.738Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504536) by David Li (lidavidm):*\nI'm not sure what you mean. For one, note that Valgrind isn't able to root cause an issue it reports. All it knows is that at some point, the test touched uninitialized memory. That doesn't mean that the test is to blame! In this case, it's fairly likely that the kernel itself just never initialized those results.\r\n\r\nAnd I mean sure, if we don't touch the uninitialized memory, Valgrind won't find an issue. That doesn't mean there's no issue."
        },
        {
            "created_at": "2022-03-10T19:32:54.146Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504537) by David Li (lidavidm):*\nOh, hmm, the scalar comes from GetScalar though? Odd. Maybe it is the matcher being written wrong?"
        },
        {
            "created_at": "2022-03-10T19:35:05.765Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504539) by David Li (lidavidm):*\nSorry, somehow I thought the scalar came from the kernel, but obviously for a hash aggregate kernel that can't be the case. Are those null scalars? It's possible GetScalar doesn't initialize the scalar value when it's null\u2026"
        },
        {
            "created_at": "2022-03-10T20:24:38.976Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504562) by Dhruv Vats (dhruv9vats):*\nDoing something like\u00a0\r\n```java\n\r\nAssertScalarsEqual(*col->GetScalar(2).ValueOrDie(), *ScalarFromJSON(type, R\"(null)\"));\n```\r\ndoes not show up in Valgrind. So I think something should be wrong with the matcher."
        },
        {
            "created_at": "2022-03-10T20:53:50.606Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504578) by Dhruv Vats (dhruv9vats):*\nIf there were a problem with the kernel, would something like the above line show that?"
        },
        {
            "created_at": "2022-03-10T21:26:46.130Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504596) by Dhruv Vats (dhruv9vats):*\nHave narrowed it down to this:\r\n\r\nCommenting out the below part in the line [here](https://github.com/apache/arrow/blob/74f512260fa69903feac61e1287f6954a3d98204/cpp/src/arrow/testing/matchers.h#L204):\r\n```java\n\r\ntesting::PrintToString(value)\n```\r\ngets rid of the two errors: UninitCondition and UinitValue.\r\n\r\nGuessing PrintToString() doesn't play well with smart pointers, which are being passed to ResultWith via GetScalar?\r\n\r\n\u00a0"
        },
        {
            "created_at": "2022-03-10T21:31:49.649Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504600) by David Li (lidavidm):*\nOk, I think the issue is very similar to this then: https://github.com/apache/arrow/pull/12362"
        },
        {
            "created_at": "2022-03-10T21:33:37.179Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504603) by David Li (lidavidm):*\nI believe it handles smart pointers, and we just need a printer for Scalar. See their test: https://github.com/google/googletest/blob/ae1b7ad4308249bfa928e65d1a33be117fc0992c/googletest/test/googletest-printers-test.cc#L1791"
        },
        {
            "created_at": "2022-03-10T21:34:23.140Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504605) by Dhruv Vats (dhruv9vats):*\nGTEST searches for a PrintTo() method. Could you point me to where this PrintTo should be added for our case?"
        },
        {
            "created_at": "2022-03-10T21:35:32.128Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504606) by David Li (lidavidm):*\nProbably scalar.h, you can use that PR as a reference "
        },
        {
            "created_at": "2022-03-10T21:38:17.375Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504607) by Dhruv Vats (dhruv9vats):*\nGot it. Thanks. I commented before refreshing the page. That PR answers the question."
        },
        {
            "created_at": "2022-03-10T21:42:03.986Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17504610) by David Li (lidavidm):*\nAh no worries JIRA isn't the best for a synchronous conversation"
        },
        {
            "created_at": "2022-03-14T18:31:19.593Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15869?focusedCommentId=17506430) by David Li (lidavidm):*\nIssue resolved by pull request 12608\n<https://github.com/apache/arrow/pull/12608>"
        }
    ]
}