{
    "issue": {
        "title": "[C++] -DBZip2_SOURCE=BUNDLED fails when building with clang",
        "body": "***Note**: This issue was originally created as [ARROW-8003](https://issues.apache.org/jira/browse/ARROW-8003). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nI found this while working on something else (ARROW-8000)\r\n\r\n```Java\n\r\n$ ninja bzip2_ep\r\n[2/8] Performing download step (download, verify and extract) for 'bzip2_ep'\r\n-- bzip2_ep download command succeeded.  See also /home/wesm/code/arrow/cpp/build-gcc48/bzip2_ep-prefix/src/bzip2_ep-stamp/bzip2_ep-download-*.log\r\n[6/8] Performing build step for 'bzip2_ep'\r\nFAILED: bzip2_ep-prefix/src/bzip2_ep-stamp/bzip2_ep-build bzip2_ep-install/lib/libbz2.a \r\ncd /home/wesm/code/arrow/cpp/build-gcc48/bzip2_ep-prefix/src/bzip2_ep && /home/wesm/cpp-toolchain/bin/cmake -P /home/wesm/code/arrow/cpp/build-gcc48/bzip2_ep-prefix/src/bzip2_ep-stamp/bzip2_ep-build-DEBUG.cmake && /home/wesm/cpp-toolchain/bin/cmake -E touch /home/wesm/code/arrow/cpp/build-gcc48/bzip2_ep-prefix/src/bzip2_ep-stamp/bzip2_ep-build\r\nCMake Error at /home/wesm/code/arrow/cpp/build-gcc48/bzip2_ep-prefix/src/bzip2_ep-stamp/bzip2_ep-build-DEBUG.cmake:49 (message):\r\n  Command failed: 2\r\n\r\n   '/home/wesm/cpp-toolchain/bin/make' '-j16' 'CFLAGS= -Qunused-arguments -fuse-ld=gold -ggdb -O0 -g -fPIC'\r\n\r\n  See also\r\n\r\n    /home/wesm/code/arrow/cpp/build-gcc48/bzip2_ep-prefix/src/bzip2_ep-stamp/bzip2_ep-build-*.log\r\n\r\n\r\nninja: build stopped: subcommand failed.\r\n(arrow-3.7) 13:03 ~/code/arrow/cpp/build-gcc48  (gcc48-fixes)$ cat /home/wesm/code/arrow/cpp/build-gcc48/bzip2_ep-prefix/src/bzip2_ep-stamp/bzip2_ep-build-err.log \r\ngcc: error: unrecognized command line option \u2018-Qunused-arguments\u2019; did you mean \u2018-Wunused-parameter\u2019?\r\nmake: *** [Makefile:120: huffman.o] Error 1\r\nmake: *** Waiting for unfinished jobs....\r\ngcc: error: unrecognized command line option \u2018-Qunused-arguments\u2019; did you mean \u2018-Wunused-parameter\u2019?\r\nmake: *** [Makefile:124: randtable.o] Error 1\r\ngcc: error: unrecognized command line option \u2018-Qunused-arguments\u2019; did you mean \u2018-Wunused-parameter\u2019?\r\nmake: *** [Makefile:128: decompress.o] Error 1\r\ngcc: error: unrecognized command line option \u2018-Qunused-arguments\u2019; did you mean \u2018-Wunused-parameter\u2019?\r\ngcc: error: unrecognized command line option \u2018-Qunused-arguments\u2019; did you mean \u2018-Wunused-parameter\u2019?\r\nmake: *** [Makefile:118: blocksort.o] Error 1\r\nmake: *** [Makefile:132: bzip2.o] Error 1\r\ngcc: error: unrecognized command line option \u2018-Qunused-arguments\u2019; did you mean \u2018-Wunused-parameter\u2019?\r\nmake: *** [Makefile:134: bzip2recover.o] Error 1\r\ngcc: error: unrecognized command line option \u2018-Qunused-arguments\u2019; did you mean \u2018-Wunused-parameter\u2019?\r\nmake: *** [Makefile:122: crctable.o] Error 1\r\ngcc: error: unrecognized command line option \u2018-Qunused-arguments\u2019; did you mean \u2018-Wunused-parameter\u2019?\r\ngcc: error: unrecognized command line option \u2018-Qunused-arguments\u2019; did you mean \u2018-Wunused-parameter\u2019?\r\nmake: *** [Makefile:126: compress.o] Error 1\r\nmake: *** [Makefile:130: bzlib.o] Error 1\r\n```\r\n\r\nfull output here https://gist.github.com/wesm/0fb18e0be7a7c6b7d383d891fd8b6c6e\r\n\r\nit seems that CMAKE_C_COMPILER (which is `clang-7` here) is not being propagated to bzip2_ep, so the CMAKE_C_FLAGS that are assembled for Clang do not work properly",
        "created_at": "2020-03-04T19:05:59.000Z",
        "updated_at": "2020-03-05T02:42:12.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: C++",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2020-03-05T02:42:12.000Z"
    },
    "comments": [
        {
            "created_at": "2020-03-05T02:42:12.463Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-8003?focusedCommentId=17051763) by Kouhei Sutou (kou):*\nIssue resolved by pull request 6539\n<https://github.com/apache/arrow/pull/6539>"
        }
    ]
}