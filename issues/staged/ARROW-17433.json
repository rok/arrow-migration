{
    "issue": {
        "title": "[C++] AppVeyor build fails due to Boost/S3",
        "body": "***Note**: This issue was originally created as [ARROW-17433](https://issues.apache.org/jira/browse/ARROW-17433). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nObserved on master\r\n\r\n```\n\r\n[182/351] Building CXX object src\\arrow\\filesystem\\CMakeFiles\\arrow-s3fs-test.dir\\Unity\\unity_0_cxx.cxx.obj\r\nFAILED: src/arrow/filesystem/CMakeFiles/arrow-s3fs-test.dir/Unity/unity_0_cxx.cxx.obj \r\nC:\\Miniconda37-x64\\Scripts\\clcache.exe  /nologo /TP -DARROW_HAVE_RUNTIME_AVX2 -DARROW_HAVE_RUNTIME_AVX512 -DARROW_HAVE_RUNTIME_BMI2 -DARROW_HAVE_RUNTIME_SSE4_2 -DARROW_HAVE_SSE4_2 -DARROW_HDFS -DARROW_MIMALLOC -DARROW_WITH_BROTLI -DARROW_WITH_BZ2 -DARROW_WITH_LZ4 -DARROW_WITH_RE2 -DARROW_WITH_SNAPPY -DARROW_WITH_UTF8PROC -DARROW_WITH_ZLIB -DARROW_WITH_ZSTD -DAWS_CAL_USE_IMPORT_EXPORT -DAWS_CHECKSUMS_USE_IMPORT_EXPORT -DAWS_COMMON_USE_IMPORT_EXPORT -DAWS_EVENT_STREAM_USE_IMPORT_EXPORT -DAWS_IO_USE_IMPORT_EXPORT -DAWS_SDK_VERSION_MAJOR=1 -DAWS_SDK_VERSION_MINOR=8 -DAWS_SDK_VERSION_PATCH=186 -DAWS_USE_IO_COMPLETION_PORTS -DBOOST_ALL_DYN_LINK -DBOOST_ALL_NO_LIB -DBOOST_ATOMIC_DYN_LINK -DBOOST_ATOMIC_NO_LIB -DBOOST_FILESYSTEM_DYN_LINK -DBOOST_FILESYSTEM_NO_LIB -DBOOST_SYSTEM_DYN_LINK -DBOOST_SYSTEM_NO_LIB -DPROTOBUF_USE_DLLS -DURI_STATIC_BUILD -DUSE_IMPORT_EXPORT -DUSE_IMPORT_EXPORT=1 -DUSE_WINDOWS_DLL_SEMANTICS -D_CRT_SECURE_NO_WARNINGS -D_ENABLE_EXTENDED_ALIGNED_STORAGE -IC:\\projects\\arrow\\cpp\\build\\src -IC:\\projects\\arrow\\cpp\\src -IC:\\projects\\arrow\\cpp\\src\\generated -IC:\\projects\\arrow\\cpp\\thirdparty\\flatbuffers\\include -IC:\\Miniconda37-x64\\envs\\arrow\\Library\\include -IC:\\projects\\arrow\\cpp\\thirdparty\\hadoop\\include -IC:\\projects\\arrow\\cpp\\build\\mimalloc_ep\\src\\mimalloc_ep\\include\\mimalloc-2.0 /DWIN32 /D_WINDOWS  /GR /EHsc /D_SILENCE_TR1_NAMESPACE_DEPRECATION_WARNING   /EHsc /wd5105 /bigobj /utf-8 /W3 /wd4800 /wd4996 /wd4065  /WX /MP /MD /Od /UNDEBUG /showIncludes /Fosrc\\arrow\\filesystem\\CMakeFiles\\arrow-s3fs-test.dir\\Unity\\unity_0_cxx.cxx.obj /Fdsrc\\arrow\\filesystem\\CMakeFiles\\arrow-s3fs-test.dir\\ /FS -c C:\\projects\\arrow\\cpp\\build\\src\\arrow\\filesystem\\CMakeFiles\\arrow-s3fs-test.dir\\Unity\\unity_0_cxx.cxx\r\nPlease define _WIN32_WINNT or _WIN32_WINDOWS appropriately. For example:\r\n- add -D_WIN32_WINNT=0x0601 to the compiler command line; or\r\n- add _WIN32_WINNT=0x0601 to your project's Preprocessor Definitions.\r\nAssuming _WIN32_WINNT=0x0601 (i.e. Windows 7 target).\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/process/environment.hpp(266): error C2220: warning treated as error - no 'object' file generated\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/process/environment.hpp(261): note: while compiling class template member function 'boost::iterators::transform_iterator<boost::process::detail::make_entry<Char,boost::process::basic_environment_impl<Char,boost::process::detail::windows::basic_environment_impl>>,Char **,boost::process::detail::entry<Char,boost::process::basic_environment_impl<Char,boost::process::detail::windows::basic_environment_impl>>,boost::process::detail::entry<Char,boost::process::basic_environment_impl<Char,boost::process::detail::windows::basic_environment_impl>>> boost::process::basic_environment_impl<Char,boost::process::detail::windows::basic_environment_impl>::find(const std::basic_string<char,std::char_traits<char>,std::allocator<char>> &)'\r\n        with\r\n        [\r\n            Char=char\r\n        ]\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/process/environment.hpp(361): note: see reference to function template instantiation 'boost::iterators::transform_iterator<boost::process::detail::make_entry<Char,boost::process::basic_environment_impl<Char,boost::process::detail::windows::basic_environment_impl>>,Char **,boost::process::detail::entry<Char,boost::process::basic_environment_impl<Char,boost::process::detail::windows::basic_environment_impl>>,boost::process::detail::entry<Char,boost::process::basic_environment_impl<Char,boost::process::detail::windows::basic_environment_impl>>> boost::process::basic_environment_impl<Char,boost::process::detail::windows::basic_environment_impl>::find(const std::basic_string<char,std::char_traits<char>,std::allocator<char>> &)' being compiled\r\n        with\r\n        [\r\n            Char=char\r\n        ]\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/process/environment.hpp(632): note: see reference to class template instantiation 'boost::process::basic_environment_impl<Char,boost::process::detail::windows::basic_environment_impl>' being compiled\r\n        with\r\n        [\r\n            Char=char\r\n        ]\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/process/env.hpp(176): note: see reference to class template instantiation 'boost::process::basic_environment<char>' being compiled\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/process/env.hpp(183): note: see reference to class template instantiation 'boost::process::detail::env_init<char>' being compiled\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/asio/execution/relationship.hpp(595): note: see reference to class template instantiation 'boost::asio::execution::detail::relationship_t<0>' being compiled\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/asio/execution/outstanding_work.hpp(597): note: see reference to class template instantiation 'boost::asio::execution::detail::outstanding_work_t<0>' being compiled\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/asio/execution/occupancy.hpp(163): note: see reference to class template instantiation 'boost::asio::execution::detail::occupancy_t<0>' being compiled\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/asio/execution/mapping.hpp(764): note: see reference to class template instantiation 'boost::asio::execution::detail::mapping_t<0>' being compiled\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/asio/execution/context.hpp(170): note: see reference to class template instantiation 'boost::asio::execution::detail::context_t<0>' being compiled\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/asio/execution/bulk_guarantee.hpp(852): note: see reference to class template instantiation 'boost::asio::execution::detail::bulk_guarantee_t<0>' being compiled\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/asio/execution/blocking_adaptation.hpp(787): note: see reference to class template instantiation 'boost::asio::execution::detail::blocking_adaptation_t<0>' being compiled\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/asio/execution/blocking.hpp(998): note: see reference to class template instantiation 'boost::asio::execution::detail::blocking_t<0>' being compiled\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/process/environment.hpp(266): warning C4267: 'initializing': conversion from 'size_t' to 'int', possible loss of data\r\nC:\\Miniconda37-x64\\envs\\arrow\\Library\\include\\boost/process/environment.hpp(266): warning C4267: 'initializing': conversion from 'size_t' to 'const int', possible loss of data\r\n[183/351] Building CXX object src\\arrow\\flight\\CMakeFiles\\arrow_flight_shared.dir\\Unity\\unity_1_cxx.cxx.obj\r\nninja: build stopped: subcommand failed.\r\n(arrow) C:\\projects\\arrow\\cpp\\build>set lastexitcode=1 \r\n```",
        "created_at": "2022-08-16T14:12:56.000Z",
        "updated_at": "2022-08-25T09:01:50.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: C++",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2022-08-25T06:08:44.000Z"
    },
    "comments": [
        {
            "created_at": "2022-08-16T21:36:51.583Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-17433?focusedCommentId=17580481) by David Li (lidavidm):*\nWhoops, the issue is in S3, not Flight like I assumed."
        },
        {
            "created_at": "2022-08-25T06:08:44.167Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-17433?focusedCommentId=17584639) by Kouhei Sutou (kou):*\nIssue resolved by pull request 13903\n<https://github.com/apache/arrow/pull/13903>"
        }
    ]
}