{
    "issue": {
        "title": "Sys.setenv(ARROW_WITH_ZSTD = \"ON\") not working for install.packages(\"arrow\")",
        "body": "***Note**: This issue was originally created as [ARROW-17522](https://issues.apache.org/jira/browse/ARROW-17522). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nwhen I tried to read a feather file, I got a error:\r\n\r\n\u00a0\"NotImplemented: Support for codec 'zstd' not built\"\r\n\r\nThen, a suggestion prompts:\r\n```java\n\r\nError in (function (cond) \u00a0: \u00a0 error in evaluating the argument 'object' in selecting a method for function 'getRanking': NotImplemented: Support for codec 'zstd' not built\r\nIn order to read this file, you will need to reinstall arrow with additional features enabled.\r\nSet one of these environment variables before installing:\r\n\u00a0* Sys.setenv(LIBARROW_MINIMAL = \"false\") (for all optional features, including 'zstd')\r\n\u00a0* Sys.setenv(ARROW_WITH_ZSTD = \"ON\") (for just 'zstd')\r\nSee https://arrow.apache.org/docs/r/articles/install.html for details\r\n```\r\nI checked the website and do the Sys.setenv() settings as suggested. Then re-installed arrow using install.packages(\"arrow\").\u00a0 But the ARROW_WITH_ZSTD is still off:\r\n```java\n\r\n**** arrow with SOURCE_DIR='tools/cpp' BUILD_DIR='/tmp/RtmpCgqXQr/file5e2349e017f8' DEST_DIR='libarrow/arrow-9.0.0' CMAKE='/usr/bin/cmake' EXTRA_CMAKE_FLAGS=' -DARROW_SIMD_LEVEL=NONE -DARROW_RUNTIME_SIMD_LEVEL=NONE' CC='x86_64-conda-linux-gnu-cc' CXX='x86_64-conda-linux-gnu-c++ -std=gnu++11' LDFLAGS='-Wl,-O2 -Wl,--sort-common -Wl,--as-needed -Wl,-z,relro -Wl,-z,now -Wl,--disable-new-dtags -Wl,--gc-sections -Wl,--allow-shlib-undefined -Wl,-rpath,/home/USER1/anaconda3/envs/r_env/lib -Wl,-rpath-link,/home/USER1/anaconda3/envs/r_env/lib -L/home/USER1/anaconda3/envs/r_env/lib' ARROW_S3='OFF' ARROW_GCS='OFF' ARROW_MIMALLOC='OFF' ARROW_JEMALLOC='OFF' ARROW_JSON='OFF' ARROW_PARQUET='OFF' ARROW_DATASET='OFF' ARROW_WITH_GOOGLE_CLOUD_CPP='OFF' ARROW_WITH_NLOHMANN_JSON='OFF' ARROW_SUBSTRAIT='OFF' ARROW_WITH_PROTOBUF='OFF' ARROW_WITH_BROTLI='OFF' ARROW_WITH_BZ2='OFF' ARROW_WITH_LZ4='OFF' ARROW_WITH_SNAPPY='OFF' ARROW_WITH_ZLIB='OFF' ARROW_WITH_ZSTD='OFF' ARROW_WITH_RE2='OFF' ARROW_WITH_UTF8PROC='OFF'\r\n\r\n*****\r\n*****\r\n*****\r\n\r\n-- \u00a0 ARROW_WITH_ZSTD=OFF [default=OFF]\r\n-- \u00a0 \u00a0 \u00a0 Build with zstd compression\n```\r\n\u00a0\r\n\r\nAny suggestions for this? Thanks",
        "created_at": "2022-08-25T03:53:21.000Z",
        "updated_at": "2022-08-25T03:56:31.000Z",
        "labels": [
            "Migrated from Jira",
            "Type: bug"
        ],
        "closed": false
    },
    "comments": []
}