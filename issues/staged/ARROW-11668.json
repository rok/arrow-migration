{
    "issue": {
        "title": "[C++] Sporadic UBSAN error in FutureStessTest.TryAddCallback",
        "body": "***Note**: This issue was originally created as [ARROW-11668](https://issues.apache.org/jira/browse/ARROW-11668). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nThis just appeared in a CI build:\r\nhttps://github.com/apache/arrow/pull/7507/checks?check_run_id=1919160171#step:8:1986\r\n\r\n```Java\n\r\n\r\n2021-02-17T14:15:04.9549657Z [ RUN      ] FutureStessTest.TryAddCallback\r\n2021-02-17T14:15:04.9551798Z /usr/bin/../lib/gcc/x86_64-linux-gnu/7.5.0/../../../../include/c++/7.5.0/bits/atomic_base.h:396:9: runtime error: load of value 65, which is not a valid value for type 'std::__atomic_base<bool>::__int_type' (aka 'bool')\r\n2021-02-17T14:15:04.9553296Z ==4455==WARNING: invalid path to external symbolizer!\r\n2021-02-17T14:15:04.9554178Z ==4455==WARNING: Failed to use and restart external symbolizer!\r\n2021-02-17T14:15:04.9555990Z     #0 0x5cd181 in std::atomic<bool>::load(std::memory_order) const /usr/bin/../lib/gcc/x86_64-linux-gnu/7.5.0/../../../../include/c++/7.5.0/bits/atomic_base.h:396\r\n2021-02-17T14:15:04.9556828Z     #1 0x5db187 in operator() /arrow/cpp/src/arrow/util/future_test.cc:554\r\n2021-02-17T14:15:04.9559466Z     #2 0x5d9b7f in bool std::condition_variable::wait_until<std::chrono::_V2::system_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l> >, arrow::FutureStessTest_TryAddCallback_Test::TestBody()::$_8>(std::unique_lock<std::mutex>&, std::chrono::time_point<std::chrono::_V2::system_clock, std::chrono::duration<long, std::ratio<1l, 1000000000l> > > const&, arrow::FutureStessTest_TryAddCallback_Test::TestBody()::$_8) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.5.0/../../../../include/c++/7.5.0/condition_variable:128\r\n2021-02-17T14:15:04.9563077Z     #3 0x556aaf in bool std::condition_variable::wait_for<double, std::ratio<1l, 1l>, arrow::FutureStessTest_TryAddCallback_Test::TestBody()::$_8>(std::unique_lock<std::mutex>&, std::chrono::duration<double, std::ratio<1l, 1l> > const&, arrow::FutureStessTest_TryAddCallback_Test::TestBody()::$_8) /usr/bin/../lib/gcc/x86_64-linux-gnu/7.5.0/../../../../include/c++/7.5.0/condition_variable:156\r\n2021-02-17T14:15:04.9565008Z     #4 0x5557a2 in arrow::FutureStessTest_TryAddCallback_Test::TestBody() /arrow/cpp/src/arrow/util/future_test.cc:553\r\n2021-02-17T14:15:04.9568351Z     #5 0x7f2f5c9686cd in void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /build/cpp/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:2433\r\n2021-02-17T14:15:04.9571646Z     #6 0x7f2f5c94f25a in void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /build/cpp/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:2469\r\n2021-02-17T14:15:04.9574242Z     #7 0x7f2f5c92ec52 in testing::Test::Run() /build/cpp/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:2508\r\n2021-02-17T14:15:04.9575651Z     #8 0x7f2f5c92f9c7 in testing::TestInfo::Run() /build/cpp/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:2684\r\n2021-02-17T14:15:04.9577482Z     #9 0x7f2f5c9300e6 in testing::TestSuite::Run() /build/cpp/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:2816\r\n2021-02-17T14:15:04.9579343Z     #10 0x7f2f5c93d1a9 in testing::internal::UnitTestImpl::RunAllTests() /build/cpp/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:5338\r\n2021-02-17T14:15:04.9595840Z     #11 0x7f2f5c96c2dd in bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /build/cpp/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:2433\r\n2021-02-17T14:15:04.9600672Z     #12 0x7f2f5c951baa in bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /build/cpp/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:2469\r\n2021-02-17T14:15:04.9603172Z     #13 0x7f2f5c93ccd5 in testing::UnitTest::Run() /build/cpp/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:4925\r\n2021-02-17T14:15:04.9604686Z     #14 0x7f2f5cb9da10 in RUN_ALL_TESTS() /build/cpp/googletest_ep-prefix/src/googletest_ep/googletest/include/gtest/gtest.h:2473\r\n2021-02-17T14:15:04.9606094Z     #15 0x7f2f5cb9d9ef in main /build/cpp/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest_main.cc:45\r\n2021-02-17T14:15:04.9607214Z     #16 0x7f2f5b114bf6 in __libc_start_main ??:?\r\n2021-02-17T14:15:04.9608691Z     #17 0x44f0c9 in _start ??:?\r\n```",
        "created_at": "2021-02-17T14:31:06.000Z",
        "updated_at": "2021-02-18T11:31:09.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: C++",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2021-02-18T11:31:04.000Z"
    },
    "comments": [
        {
            "created_at": "2021-02-17T14:31:20.464Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-11668?focusedCommentId=17285846) by Antoine Pitrou (apitrou):*\ncc `[~westonpace]`"
        },
        {
            "created_at": "2021-02-18T11:31:04.285Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-11668?focusedCommentId=17286422) by Antoine Pitrou (apitrou):*\nIssue resolved by pull request 9518\n<https://github.com/apache/arrow/pull/9518>"
        }
    ]
}