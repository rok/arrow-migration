{
    "issue": {
        "title": "[C++] symbol resolution failures with liborc.a",
        "body": "***Note**: This issue was originally created as [ARROW-8932](https://issues.apache.org/jira/browse/ARROW-8932). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nThis is failing in the Travis CI s390x build. I am not sure this is related to ARROW-8930.\r\n\r\n<https://travis-ci.org/github/apache/arrow/jobs/690006107>\u00a0was successful.\r\n\r\n[https://travis-ci.org/github/apache/arrow/jobs/690634108#L1023](https://travis-ci.org/github/apache/arrow/jobs/690634108)\u00a0causes failures.\r\n```java\n\r\n[435/548] Linking CXX executable debug/arrow-orc-adapter-test\r\n1024 FAILED: debug/arrow-orc-adapter-test\r\n1025 : && /usr/bin/ccache /usr/bin/c++  -Wno-noexcept-type  -fdiagnostics-color=always -ggdb -O0  -Wall -Wno-conversion -Wno-sign-conversion -Wno-unused-variable -Werror  -g  -rdynamic src/arrow/adapters/orc/CMakeFiles/arrow-orc-adapter-test.dir/adapter_test.cc.o  -o debug/arrow-orc-adapter-test  -Wl,-rpath,/build/cpp/debug  debug/libarrow_testing.a  debug/libarrow.a  debug//libgtest_maind.so  debug//libgtestd.so  /usr/lib/s390x-linux-gnu/libsnappy.so.1.1.8  /usr/lib/s390x-linux-gnu/liblz4.so  /usr/lib/s390x-linux-gnu/libz.so  -lpthread  -ldl  orc_ep-install/lib/liborc.a  /usr/lib/s390x-linux-gnu/libssl.so  /usr/lib/s390x-linux-gnu/libcrypto.so  /usr/lib/s390x-linux-gnu/libbrotlienc.so  /usr/lib/s390x-linux-gnu/libbrotlidec.so  /usr/lib/s390x-linux-gnu/libbrotlicommon.so  /usr/lib/s390x-linux-gnu/libbz2.so  /usr/lib/s390x-linux-gnu/libzstd.so  protobuf_ep-install/lib/libprotobuf.a  /usr/lib/s390x-linux-gnu/libglog.so  jemalloc_ep-prefix/src/jemalloc_ep/dist//lib/libjemalloc_pic.a  -pthread  -lrt && :\r\n1026 /usr/bin/ld: orc_ep-install/lib/liborc.a(Compression.cc.o): in function `orc::ZlibCompressionStream::doStreamingCompression()':\r\n1027 /build/cpp/orc_ep-prefix/src/orc_ep/c++/src/Compression.cc:244: undefined reference to `deflateReset'\r\n1028 /usr/bin/ld: /build/cpp/orc_ep-prefix/src/orc_ep/c++/src/Compression.cc:266: undefined reference to `deflate'\r\n1029 /usr/bin/ld: orc_ep-install/lib/liborc.a(Compression.cc.o): in function `orc::ZlibCompressionStream::init()':\r\n1030 /build/cpp/orc_ep-prefix/src/orc_ep/c++/src/Compression.cc:296: undefined reference to `deflateInit2_'\r\n1031 /usr/bin/ld: orc_ep-install/lib/liborc.a(Compression.cc.o): in function `orc::ZlibCompressionStream::end()':\r\n1032 /build/cpp/orc_ep-prefix/src/orc_ep/c++/src/Compression.cc:303: undefined reference to `deflateEnd'\r\n1033 /usr/bin/ld: orc_ep-install/lib/liborc.a(Compression.cc.o): in function `orc::ZlibDecompressionStream::ZlibDecompressionStream(std::unique_ptr<orc::SeekableInputStream, std::default_delete<orc::SeekableInputStream> >, unsigned long, orc::MemoryPool&)':\r\n1034 /build/cpp/orc_ep-prefix/src/orc_ep/c++/src/Compression.cc:417: undefined reference to `inflateInit2_'\r\n1035 /usr/bin/ld: orc_ep-install/lib/liborc.a(Compression.cc.o): in function `orc::ZlibDecompressionStream::~ZlibDecompressionStream()':\r\n1036 /build/cpp/orc_ep-prefix/src/orc_ep/c++/src/Compression.cc:442: undefined reference to `inflateEnd'\r\n1037 /usr/bin/ld: orc_ep-install/lib/liborc.a(Compression.cc.o): in function `orc::ZlibDecompressionStream::Next(void const**, int*)':\r\n1038 /build/cpp/orc_ep-prefix/src/orc_ep/c++/src/Compression.cc:483: undefined reference to `inflateReset'\r\n1039 /usr/bin/ld: /build/cpp/orc_ep-prefix/src/orc_ep/c++/src/Compression.cc:489: undefined reference to `inflate'\r\n1040 /usr/bin/ld: orc_ep-install/lib/liborc.a(Compression.cc.o): in function `orc::SnappyDecompressionStream::decompress(char const*, unsigned long, char*, unsigned long)':\r\n1041 /build/cpp/orc_ep-prefix/src/orc_ep/c++/src/Compression.cc:848: undefined reference to `snappy::GetUncompressedLength(char const*, unsigned long, unsigned long*)'\r\n1042 /usr/bin/ld: /build/cpp/orc_ep-prefix/src/orc_ep/c++/src/Compression.cc:856: undefined reference to `snappy::RawUncompress(char const*, unsigned long, char*)'\r\n1043 /usr/bin/ld: orc_ep-install/lib/liborc.a(Compression.cc.o): in function `orc::Lz4DecompressionStream::decompress(char const*, unsigned long, char*, unsigned long)':\r\n1044 /build/cpp/orc_ep-prefix/src/orc_ep/c++/src/Compression.cc:922: undefined reference to `LZ4_decompress_safe'\r\n1045 collect2: error: ld returned 1 exit status\n```\r\n\u00a0",
        "created_at": "2020-05-25T03:47:17.000Z",
        "updated_at": "2020-05-25T20:37:50.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: C++",
            "Component: Continuous Integration",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2020-05-25T13:53:19.000Z"
    },
    "comments": [
        {
            "created_at": "2020-05-25T13:53:19.086Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-8932?focusedCommentId=17116036) by Francois Saint-Jacques (fsaintjacques):*\nIssue resolved by pull request 7266\n<https://github.com/apache/arrow/pull/7266>"
        }
    ]
}