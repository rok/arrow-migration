{
    "issue": {
        "title": "[Ruby] Arrow::Table#join returns duplicated key columns",
        "body": "***Note**: This issue was originally created as [ARROW-18091](https://issues.apache.org/jira/browse/ARROW-18091). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\n`Arrow::Table#join` returns columns with duplicate keys. Duplicate column names are acceptable in Arrow, but it is preferable to use one.\r\n\r\nAlso with `type: :full_outer`, column data should be merged.\r\n\r\n\r\ntable1\r\n=>\u00a0\r\n#<Arrow::Table:0x7f9706109380 ptr=0x55a91a4cac10>\r\n\u00a0 \u00a0 \u00a0 \u00a0 KEY \u00a0 \u00a0 X \u00a0 \u00a0 \u00a0 \u00a0\u00a0\r\n0 \u00a0 \u00a0 \u00a0 A \u00a0 \u00a0 \u00a0 1 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\r\n1 \u00a0 \u00a0 \u00a0 B \u00a0 \u00a0 \u00a0 2 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\r\n2 \u00a0 \u00a0 \u00a0 C \u00a0 \u00a0 \u00a0 3\r\n\r\ntable2\r\n=>\u00a0\r\n#<Arrow::Table:0x7f970415d2c0 ptr=0x55a91a348ce0>\r\n\u00a0 \u00a0 \u00a0 \u00a0 KEY \u00a0 \u00a0 X\r\n0 \u00a0 \u00a0 \u00a0 A \u00a0 \u00a0 \u00a0 4\r\n1 \u00a0 \u00a0 \u00a0 B \u00a0 \u00a0 \u00a0 5\r\n2 \u00a0 \u00a0 \u00a0 D \u00a0 \u00a0 \u00a0 6\r\n\r\n\u00a0\r\nShould omit `:KEY` in right\r\n\r\ntable1.join(table2, :KEY)\r\n=>\u00a0\r\n#<Arrow::Table:0x7f96fd152548 ptr=0x55a91af21110> \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\r\n\u00a0 \u00a0 \u00a0 \u00a0 KEY \u00a0 \u00a0 X \u00a0 \u00a0 \u00a0 KEY \u00a0 \u00a0 X \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\r\n0 \u00a0 \u00a0 \u00a0 A \u00a0 \u00a0 \u00a0 1 \u00a0 \u00a0 \u00a0 A \u00a0 \u00a0 \u00a0 4 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\r\n1 \u00a0 \u00a0 \u00a0 B \u00a0 \u00a0 \u00a0 2 \u00a0 \u00a0 \u00a0 B \u00a0 \u00a0 \u00a0 5\r\n\r\n\u00a0\r\nShould merge `:KEY`s\r\n\r\ntable1.join(table2, :KEY, type: :full_outer)\r\n=>\u00a0\r\n#<Arrow::Table:0x7f96fd0e1550 ptr=0x55a91a1a6410> \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\u00a0\r\n\u00a0 \u00a0 \u00a0 \u00a0 KEY \u00a0 \u00a0 \u00a0 \u00a0 \u00a0X \u00a0KEY \u00a0 \u00a0 \u00a0 \u00a0 \u00a0X \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\r\n0 \u00a0 \u00a0 \u00a0 A \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a01 \u00a0A \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a04 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\r\n1 \u00a0 \u00a0 \u00a0 B \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a02 \u00a0B \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a05 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\r\n2 \u00a0 \u00a0 \u00a0 C \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a03 \u00a0(null) \u00a0(null) \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\r\n3 \u00a0 \u00a0 \u00a0 (null) \u00a0(null) \u00a0D \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a06\r\n\r\n\u00a0",
        "created_at": "2022-10-18T22:04:30.000Z",
        "updated_at": "2022-10-21T05:06:14.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: Ruby",
            "Type: bug"
        ],
        "closed": false
    },
    "comments": [
        {
            "created_at": "2022-10-21T05:06:14.375Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-18091?focusedCommentId=17621484) by Hirokazu SUZUKI (heronshoes):*\nI mean dplyr's join( ..., keep=FALSE) behavior.\r\nSorry for the poor explanation.\r\n"
        }
    ]
}