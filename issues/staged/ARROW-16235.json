{
    "issue": {
        "title": "[C++][FlightRPC] Flight does not build on MinGW",
        "body": "***Note**: This issue was originally created as [ARROW-16235](https://issues.apache.org/jira/browse/ARROW-16235). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nhttps://github.com/apache/arrow/runs/6077889425?check_suite_focus=true\r\n```\n\r\n[180/316] Building CXX object src/arrow/flight/CMakeFiles/arrow_flight_testing_shared.dir/Unity/unity_0_cxx.cxx.obj\r\nFAILED: src/arrow/flight/CMakeFiles/arrow_flight_testing_shared.dir/Unity/unity_0_cxx.cxx.obj\u00a0\r\nD:\\a\\_temp\\msys64\\mingw32\\bin\\ccache.exe D:\\a\\_temp\\msys64\\mingw32\\bin\\c++.exe -DARROW_FLIGHT_EXPORTING -DARROW_HAVE_RUNTIME_AVX2 -DARROW_HAVE_RUNTIME_BMI2 -DARROW_HAVE_RUNTIME_SSE4_2 -DARROW_HAVE_SSE4_2 -DARROW_HDFS -DARROW_WITH_BROTLI -DARROW_WITH_BZ2 -DARROW_WITH_LZ4 -DARROW_WITH_RE2 -DARROW_WITH_SNAPPY -DARROW_WITH_UTF8PROC -DARROW_WITH_ZLIB -DARROW_WITH_ZSTD -DAWS_SDK_VERSION_MAJOR=1 -DAWS_SDK_VERSION_MINOR=8 -DAWS_SDK_VERSION_PATCH=149 -DAWS_USE_IO_COMPLETION_PORTS -DBOOST_USE_WINDOWS_H=1 -DGRPC_NAMESPACE_FOR_TLS_CREDENTIALS_OPTIONS=grpc::experimental -DGRPC_USE_CERTIFICATE_VERIFIER -DGRPC_USE_TLS_CHANNEL_CREDENTIALS_OPTIONS -DGTEST_LINKED_AS_SHARED_LIBRARY=1 -DURI_STATIC_BUILD -DUSE_IMPORT_EXPORT -DUSE_IMPORT_EXPORT=1 -DUSE_WINDOWS_DLL_SEMANTICS -D_CRT_SECURE_NO_WARNINGS -D_ENABLE_EXTENDED_ALIGNED_STORAGE -Darrow_flight_testing_shared_EXPORTS -ID:/a/arrow/arrow/build/cpp/src -ID:/a/arrow/arrow/cpp/src -ID:/a/arrow/arrow/cpp/src/generated -isystem D:/a/arrow/arrow/cpp/thirdparty/flatbuffers/include -isystem /mingw32/include -isystem D:/a/arrow/arrow/build/cpp/xsimd_ep/src/xsimd_ep-install/include -isystem D:/a/arrow/arrow/cpp/thirdparty/hadoop/include -Wno-noexcept-type -Wno-subobject-linkage \u00a0-fdiagnostics-color=always -O3 -DNDEBUG \u00a0-Wa,-mbig-obj -Wall -Wno-conversion -Wno-deprecated-declarations -Wno-sign-conversion -Wunused-result -fno-semantic-interposition -mxsave -msse4.2 \u00a0-O3 -DNDEBUG -std=c++11 -MD -MT src/arrow/flight/CMakeFiles/arrow_flight_testing_shared.dir/Unity/unity_0_cxx.cxx.obj -MF src\\arrow\\flight\\CMakeFiles\\arrow_flight_testing_shared.dir\\Unity\\unity_0_cxx.cxx.obj.d -o src/arrow/flight/CMakeFiles/arrow_flight_testing_shared.dir/Unity/unity_0_cxx.cxx.obj -c D:/a/arrow/arrow/build/cpp/src/arrow/flight/CMakeFiles/arrow_flight_testing_shared.dir/Unity/unity_0_cxx.cxx\r\nIn file included from D:/a/arrow/arrow/build/cpp/src/arrow/flight/CMakeFiles/arrow_flight_testing_shared.dir/Unity/unity_0_cxx.cxx:5:\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_util.cc: In function 'arrow::Status arrow::flight::ExampleTlsCertificates(std::vector<arrow::flight::CertKeyPair>*)':\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_util.cc:775:31: error: variable 'std::ifstream cert_file' has initializer but incomplete type\r\n\u00a0 775 | \u00a0 \u00a0 \u00a0 std::ifstream cert_file(cert_path.str());\r\n\u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ^~~~~~~~~\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_util.cc:782:30: error: variable 'std::ifstream key_file' has initializer but incomplete type\r\n\u00a0 782 | \u00a0 \u00a0 \u00a0 std::ifstream key_file(key_path.str());\r\n\u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0^~~~~~~~\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_util.cc:790:42: error: expected unqualified-id before '&' token\r\n\u00a0 790 | \u00a0 \u00a0 } catch (const std::ifstream::failure& e) {\r\n\u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0^\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_util.cc:790:42: error: expected ')' before '&' token\r\n\u00a0 790 | \u00a0 \u00a0 } catch (const std::ifstream::failure& e) {\r\n\u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ~ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0^\r\n\u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0)\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_util.cc:790:42: error: expected '{' before '&' token\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_util.cc:790:44: error: 'e' was not declared in this scope\r\n\u00a0 790 | \u00a0 \u00a0 } catch (const std::ifstream::failure& e) {\r\n\u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0^\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_util.cc: In function 'arrow::Status arrow::flight::ExampleTlsCertificateRoot(arrow::flight::CertKeyPair*)':\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_util.cc:805:29: error: variable 'std::ifstream cert_file' has initializer but incomplete type\r\n\u00a0 805 | \u00a0 \u00a0 std::ifstream cert_file(path.str());\r\n\u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ^~~~\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_util.cc:814:40: error: expected unqualified-id before '&' token\r\n\u00a0 814 | \u00a0 } catch (const std::ifstream::failure& e) {\r\n\u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0^\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_util.cc:814:40: error: expected ')' before '&' token\r\n\u00a0 814 | \u00a0 } catch (const std::ifstream::failure& e) {\r\n\u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 ~ \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0^\r\n\u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0)\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_util.cc:814:40: error: expected '{' before '&' token\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_util.cc:814:42: error: 'e' was not declared in this scope\r\n\u00a0 814 | \u00a0 } catch (const std::ifstream::failure& e) {\r\n\u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0^ \n```",
        "created_at": "2022-04-19T15:15:32.000Z",
        "updated_at": "2022-04-26T22:23:09.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: C++",
            "Component: FlightRPC",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2022-04-19T21:03:01.000Z"
    },
    "comments": [
        {
            "created_at": "2022-04-19T21:03:01.955Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-16235?focusedCommentId=17524589) by Kouhei Sutou (kou):*\nIssue resolved by pull request 12924\n<https://github.com/apache/arrow/pull/12924>"
        }
    ]
}