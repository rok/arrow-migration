{
    "issue": {
        "title": "[C++] Segfault in io-hdfs-test",
        "body": "***Note**: This issue was originally created as [ARROW-3091](https://issues.apache.org/jira/browse/ARROW-3091). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nI've upgraded to Ubuntu 18.04.1 and now I get segfaults in io-hdfs-test:\r\n\r\n```Java\n\r\n(gdb) run\r\nStarting program: /home/antoine/arrow/cpp/build-test/debug/io-hdfs-test \r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\nRunning main() from gtest_main.cc\r\n[==========] Running 24 tests from 2 test cases.\r\n[----------] Global test environment set-up.\r\n[----------] 12 tests from TestHadoopFileSystem/0, where TypeParam = arrow::io::JNIDriver\r\n[ RUN      ] TestHadoopFileSystem/0.ConnectsAgain\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\n0x00007ffff75a15ae in boost::filesystem::path::m_append_separator_if_needed() ()\r\n   from /home/antoine/miniconda3/envs/pyarrow/lib/libboost_filesystem.so.1.67.0\r\n(gdb) bt\r\n#0  0x00007ffff75a15ae in boost::filesystem::path::m_append_separator_if_needed() ()\r\n   from /home/antoine/miniconda3/envs/pyarrow/lib/libboost_filesystem.so.1.67.0\r\n#1  0x00007ffff75a2917 in boost::filesystem::path::operator/=(boost::filesystem::path const&) ()\r\n   from /home/antoine/miniconda3/envs/pyarrow/lib/libboost_filesystem.so.1.67.0\r\n#2  0x0000000000549647 in boost::filesystem::operator/ (lhs=..., rhs=...)\r\n    at /home/antoine/miniconda3/envs/pyarrow/include/boost/filesystem/path.hpp:792\r\n#3  0x0000000000547b2d in arrow::io::TestHadoopFileSystem<arrow::io::JNIDriver>::SetUp (this=0x7143c0) at ../src/arrow/io/io-hdfs-test.cc:98\r\n#4  0x000000000065e98e in testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void> (object=0x7143c0, \r\n    method=&virtual testing::Test::SetUp(), location=0x66a48a \"SetUp()\")\r\n    at /home/antoine/arrow/cpp/build-test/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:2402\r\n#5  0x000000000064a7e5 in testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void> (object=0x7143c0, \r\n    method=&virtual testing::Test::SetUp(), location=0x66a48a \"SetUp()\")\r\n    at /home/antoine/arrow/cpp/build-test/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:2438\r\n#6  0x0000000000632a14 in testing::Test::Run (this=0x7143c0)\r\n    at /home/antoine/arrow/cpp/build-test/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:2470\r\n#7  0x00000000006336fd in testing::TestInfo::Run (this=0x710420)\r\n    at /home/antoine/arrow/cpp/build-test/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:2656\r\n#8  0x0000000000633dbc in testing::TestCase::Run (this=0x7108f0)\r\n    at /home/antoine/arrow/cpp/build-test/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:2774\r\n#9  0x000000000063b331 in testing::internal::UnitTestImpl::RunAllTests (this=0x710590)\r\n    at /home/antoine/arrow/cpp/build-test/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:4649\r\n#10 0x000000000066208e in testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (object=0x710590, \r\n    method=(bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x63b050 <testing::internal::UnitTestImpl::RunAllTests()>, location=0x66ac25 \"auxiliary test code (environments or event listeners)\")\r\n    at /home/antoine/arrow/cpp/build-test/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:2402\r\n#11 0x000000000064c945 in testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool> (object=0x710590, \r\n    method=(bool (testing::internal::UnitTestImpl::*)(testing::internal::UnitTestImpl * const)) 0x63b050 <testing::internal::UnitTestImpl::RunAllTests()>, location=0x66ac25 \"auxiliary test code (environments or event listeners)\")\r\n    at /home/antoine/arrow/cpp/build-test/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:2438\r\n#12 0x000000000063b003 in testing::UnitTest::Run (this=0x6fcd48 <testing::UnitTest::GetInstance()::instance>)\r\n    at /home/antoine/arrow/cpp/build-test/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest.cc:4257\r\n#13 0x0000000000666481 in RUN_ALL_TESTS ()\r\n    at /home/antoine/arrow/cpp/build-test/googletest_ep-prefix/src/googletest_ep/googletest/include/gtest/gtest.h:2233\r\n#14 0x000000000066644c in main (argc=1, argv=0x7fffffffd878)\r\n    at /home/antoine/arrow/cpp/build-test/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest_main.cc:37\r\n```",
        "created_at": "2018-08-20T08:20:48.000Z",
        "updated_at": "2018-08-20T18:10:36.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: C++",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2018-08-20T18:10:36.000Z"
    },
    "comments": [
        {
            "created_at": "2018-08-20T18:10:26.630Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-3091?focusedCommentId=16586332) by Antoine Pitrou (apitrou):*\nCan't reproduce anymore after I have recreated my environment and changed some build variables."
        }
    ]
}