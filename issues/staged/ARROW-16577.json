{
    "issue": {
        "title": "[R] dplyr `n` function cannot be called with `dplyr::n()`",
        "body": "***Note**: This issue was originally created as [ARROW-16577](https://issues.apache.org/jira/browse/ARROW-16577). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nI am trying to summarize an arrow dataset in R using the `n` function from dplyr, but I noticed that it does not work when called via the `dplyr::n` syntax, even though it works fine just as `n`. I also tried the `n_distinct` function with the same issue\r\n\r\n\r\n\r\n``` r\r\nlibrary(arrow)\r\n#>\u00a0\r\n#> Attaching package: 'arrow'\r\n#> The following object is masked from 'package:utils':\r\n#>\u00a0\r\n#> \u00a0 \u00a0 timestamp\r\nlibrary(dplyr)\r\n#>\u00a0\r\n#> Attaching package: 'dplyr'\r\n#> The following objects are masked from 'package:stats':\r\n#>\u00a0\r\n#> \u00a0 \u00a0 filter, lag\r\n#> The following objects are masked from 'package:base':\r\n#>\u00a0\r\n#> \u00a0 \u00a0 intersect, setdiff, setequal, union\r\ndir<-file.path(tempdir(), \"test-data\")\r\ntest_data <- data.frame(A=1:10)\r\nwrite_dataset(test_data, dir)\r\n\r\n1. This does work\n   data2<-open_dataset(dir)%>%\n   \u00a0 \u00a0 summarise(N=n())\n   data2\n#> FileSystemDataset (query)\r\n#> N: int32\r\n#>\u00a0\r\n#> See $.data for the source Arrow object\r\ncollect(data2)\r\n#> # A tibble: 1 \u00d7 1\r\n#> \u00a0 \u00a0 \u00a0 N\r\n#> \u00a0 <int>\r\n#> 1 \u00a0 \u00a010\r\n\r\n1. But this does not work\n   data1<-open_dataset(dir)%>%\n   \u00a0 \u00a0 summarise(N=dplyr::n())\n#> Error: Error : Expression dplyr::n() not supported in Arrow\r\n#> Call collect() first to pull data into R.\r\ndata1\r\n#> Error in eval(expr, envir, enclos): object 'data1' not found\r\n```\r\n\r\n<sup>Created on 2022-05-13 by the [reprex package](https://reprex.tidyverse.org) (v2.0.1)</sup>\r\n\r\n<details style=\"margin-bottom:10px;\">\r\n<summary>\r\nSession info\r\n</summary>\r\n\r\n``` r\r\nsessioninfo::session_info()\r\n#> \u2500 Session info \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n#> \u00a0setting \u00a0value\r\n#> \u00a0version \u00a0R version 4.2.0 (2022-04-22 ucrt)\r\n#> \u00a0os \u00a0 \u00a0 \u00a0 Windows 10 x64 (build 19044)\r\n#> \u00a0system \u00a0 x86_64, mingw32\r\n#> \u00a0ui \u00a0 \u00a0 \u00a0 RTerm\r\n#> \u00a0language (EN)\r\n#> \u00a0collate \u00a0English_United States.utf8\r\n#> \u00a0ctype \u00a0 \u00a0English_United States.utf8\r\n#> \u00a0tz \u00a0 \u00a0 \u00a0 America/Los_Angeles\r\n#> \u00a0date \u00a0 \u00a0 2022-05-13\r\n#> \u00a0pandoc \u00a0 2.17.1.1 @ C:/Program Files/RStudio/bin/quarto/bin/ (via rmarkdown)\r\n#>\u00a0\r\n#> \u2500 Packages \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n#> \u00a0package \u00a0 \u00a0 \\* version date (UTC) lib source\r\n#> \u00a0arrow \u00a0 \u00a0 \u00a0 \\* 8.0.0 \u00a0 2022-05-09 [1] CRAN (R 4.2.0)\r\n#> \u00a0assertthat \u00a0 \u00a00.2.1 \u00a0 2019-03-21 [1] CRAN (R 4.2.0)\r\n#> \u00a0bit \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 4.0.4 \u00a0 2020-08-04 [1] CRAN (R 4.2.0)\r\n#> \u00a0bit64 \u00a0 \u00a0 \u00a0 \u00a0 4.0.5 \u00a0 2020-08-30 [1] CRAN (R 4.2.0)\r\n#> \u00a0cli \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 3.3.0 \u00a0 2022-04-25 [1] CRAN (R 4.2.0)\r\n#> \u00a0crayon \u00a0 \u00a0 \u00a0 \u00a01.5.1 \u00a0 2022-03-26 [1] CRAN (R 4.2.0)\r\n#> \u00a0DBI \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 1.1.2 \u00a0 2021-12-20 [1] CRAN (R 4.2.0)\r\n#> \u00a0digest \u00a0 \u00a0 \u00a0 \u00a00.6.29 \u00a02021-12-01 [1] CRAN (R 4.2.0)\r\n#> \u00a0dplyr \u00a0 \u00a0 \u00a0 \\* 1.0.9 \u00a0 2022-04-28 [1] CRAN (R 4.2.0)\r\n#> \u00a0ellipsis \u00a0 \u00a0 \u00a00.3.2 \u00a0 2021-04-29 [1] CRAN (R 4.2.0)\r\n#> \u00a0evaluate \u00a0 \u00a0 \u00a00.15 \u00a0 \u00a02022-02-18 [1] CRAN (R 4.2.0)\r\n#> \u00a0fansi \u00a0 \u00a0 \u00a0 \u00a0 1.0.3 \u00a0 2022-03-24 [1] CRAN (R 4.2.0)\r\n#> \u00a0fastmap \u00a0 \u00a0 \u00a0 1.1.0 \u00a0 2021-01-25 [1] CRAN (R 4.2.0)\r\n#> \u00a0fs \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a01.5.2 \u00a0 2021-12-08 [1] CRAN (R 4.2.0)\r\n#> \u00a0generics \u00a0 \u00a0 \u00a00.1.2 \u00a0 2022-01-31 [1] CRAN (R 4.2.0)\r\n#> \u00a0glue \u00a0 \u00a0 \u00a0 \u00a0 \u00a01.6.2 \u00a0 2022-02-24 [1] CRAN (R 4.2.0)\r\n#> \u00a0highr \u00a0 \u00a0 \u00a0 \u00a0 0.9 \u00a0 \u00a0 2021-04-16 [1] CRAN (R 4.2.0)\r\n#> \u00a0htmltools \u00a0 \u00a0 0.5.2 \u00a0 2021-08-25 [1] CRAN (R 4.2.0)\r\n#> \u00a0knitr \u00a0 \u00a0 \u00a0 \u00a0 1.39 \u00a0 \u00a02022-04-26 [1] CRAN (R 4.2.0)\r\n#> \u00a0lifecycle \u00a0 \u00a0 1.0.1 \u00a0 2021-09-24 [1] CRAN (R 4.2.0)\r\n#> \u00a0magrittr \u00a0 \u00a0 \u00a02.0.3 \u00a0 2022-03-30 [1] CRAN (R 4.2.0)\r\n#> \u00a0pillar \u00a0 \u00a0 \u00a0 \u00a01.7.0 \u00a0 2022-02-01 [1] CRAN (R 4.2.0)\r\n#> \u00a0pkgconfig \u00a0 \u00a0 2.0.3 \u00a0 2019-09-22 [1] CRAN (R 4.2.0)\r\n#> \u00a0purrr \u00a0 \u00a0 \u00a0 \u00a0 0.3.4 \u00a0 2020-04-17 [1] CRAN (R 4.2.0)\r\n#> \u00a0R6 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a02.5.1 \u00a0 2021-08-19 [1] CRAN (R 4.2.0)\r\n#> \u00a0reprex \u00a0 \u00a0 \u00a0 \u00a02.0.1 \u00a0 2021-08-05 [1] CRAN (R 4.2.0)\r\n#> \u00a0rlang \u00a0 \u00a0 \u00a0 \u00a0 1.0.2 \u00a0 2022-03-04 [1] CRAN (R 4.2.0)\r\n#> \u00a0rmarkdown \u00a0 \u00a0 2.14 \u00a0 \u00a02022-04-25 [1] CRAN (R 4.2.0)\r\n#> \u00a0rstudioapi \u00a0 \u00a00.13 \u00a0 \u00a02020-11-12 [1] CRAN (R 4.2.0)\r\n#> \u00a0sessioninfo \u00a0 1.2.2 \u00a0 2021-12-06 [1] CRAN (R 4.2.0)\r\n#> \u00a0stringi \u00a0 \u00a0 \u00a0 1.7.6 \u00a0 2021-11-29 [1] CRAN (R 4.2.0)\r\n#> \u00a0stringr \u00a0 \u00a0 \u00a0 1.4.0 \u00a0 2019-02-10 [1] CRAN (R 4.2.0)\r\n#> \u00a0tibble \u00a0 \u00a0 \u00a0 \u00a03.1.7 \u00a0 2022-05-03 [1] CRAN (R 4.2.0)\r\n#> \u00a0tidyselect \u00a0 \u00a01.1.2 \u00a0 2022-02-21 [1] CRAN (R 4.2.0)\r\n#> \u00a0tzdb \u00a0 \u00a0 \u00a0 \u00a0 \u00a00.3.0 \u00a0 2022-03-28 [1] CRAN (R 4.2.0)\r\n#> \u00a0utf8 \u00a0 \u00a0 \u00a0 \u00a0 \u00a01.2.2 \u00a0 2021-07-24 [1] CRAN (R 4.2.0)\r\n#> \u00a0vctrs \u00a0 \u00a0 \u00a0 \u00a0 0.4.1 \u00a0 2022-04-13 [1] CRAN (R 4.2.0)\r\n#> \u00a0withr \u00a0 \u00a0 \u00a0 \u00a0 2.5.0 \u00a0 2022-03-03 [1] CRAN (R 4.2.0)\r\n#> \u00a0xfun \u00a0 \u00a0 \u00a0 \u00a0 \u00a00.31 \u00a0 \u00a02022-05-10 [1] CRAN (R 4.2.0)\r\n#> \u00a0yaml \u00a0 \u00a0 \u00a0 \u00a0 \u00a02.3.5 \u00a0 2022-02-21 [1] CRAN (R 4.2.0)\r\n#>\u00a0\r\n#> \u00a0[1] C:/Users/sbashevkin/AppData/Local/R/win-library/4.2\r\n#> \u00a0[2] C:/Program Files/R/R-4.2.0/library\r\n#>\u00a0\r\n#> \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\r\n```\r\n\r\n</details>",
        "created_at": "2022-05-13T23:50:29.000Z",
        "updated_at": "2022-05-14T15:46:49.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: R",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2022-05-14T15:46:49.000Z"
    },
    "comments": [
        {
            "created_at": "2022-05-14T15:46:36.797Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-16577?focusedCommentId=17537051) by Jonathan Keane (jonkeane):*\nThanks for the report! We don't currently support calling functions with the package namespace attached \u2014 though it is something we are thinking about + something we plan to support (see ARROW-14575 for some discussion and possible approaches). We don't have a timeline for this, but it helps knowing that someone is looking for it!\r\n\r\nIf you don't mind, I'm going to close this issue, but please to feel free to continue the discussion on ARROW-14575 \r\n\r\nThanks again!"
        }
    ]
}