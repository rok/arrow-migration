{
    "issue": {
        "title": "[C++][Compute] Provide a kernel property testing API",
        "body": "***Note**: This issue was originally created as [ARROW-9135](https://issues.apache.org/jira/browse/ARROW-9135). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nSee discussion https://github.com/apache/arrow/pull/7410#discussion_r439704017\r\n\r\nTesting against random data fuzzes kernel implementations and provides sanity checks across a wide swath of parameter space with minimal configuration. Currently our random tests have a lot of boilerplate for generating the inputs and a lot of ad-hoc code for computing the expected values. It might be worthwhile to have an interface for specifying randomized tests more uniformly.\r\n\r\nSince kernels provide introspection of their input and output types we can generate inputs of those types (both scalar and array). For ScalarFunctions, a function with signature `Result<std::shared_ptr<Scalar>>(const ScalarVector& args, const FunctionOptions*)` will be sufficient to specify the expected behavior, and the expected output can be generated by applying that specification to the broadcast inputs.\r\n\r\nExample impl https://github.com/apache/arrow/pull/7410/commits/908504810ee9332f651cceb33a8b40f253383efe",
        "created_at": "2020-06-15T14:48:49.000Z",
        "updated_at": "2020-06-15T16:33:15.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: C++",
            "Type: bug"
        ],
        "closed": false
    },
    "comments": [
        {
            "created_at": "2020-06-15T14:53:42.538Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-9135?focusedCommentId=17135935) by Wes McKinney (wesm):*\nIf I have understood correctly, the implementation of property testing in PR 7410 requires that the developer provide a reimplementation the kernel logic in the unit test suite, is that right? "
        },
        {
            "created_at": "2020-06-15T16:33:15.718Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-9135?focusedCommentId=17136006) by Ben Kietzman (bkietz):*\nThat's accurate; currently other random tests do the same (for example https://github.com/apache/arrow/blob/cd87ac96eb67fc2085503fa7396d2e5f009ff3b0/cpp/src/arrow/compute/kernels/aggregate_test.cc#L53-L95 ). It'd certainly be possible to instead rely on the kernel itself as in `CheckScalarUnary`, which defers validation of inputs which are all scalars."
        }
    ]
}