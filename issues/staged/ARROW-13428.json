{
    "issue": {
        "title": "[C++][Flight] -lssl is missing with bundled gRPC and system shared OpenSSL",
        "body": "***Note**: This issue was originally created as [ARROW-13428](https://issues.apache.org/jira/browse/ARROW-13428). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nThis causes Apache Arrow GLib verification failure:\r\nhttps://github.com/apache/arrow/pull/10768\r\nhttps://github.com/ursacomputing/crossbow/runs/3125198200?check_suite_focus=true\r\n\r\n```\n\r\n g-ir-scanner: link: x86_64-linux-gnu-gcc -pthread -o /tmp/arrow-5.0.0.PYIBz/apache-arrow-5.0.0/c_glib/build/tmp-introspectijhws295/ArrowFlight-1.0 /tmp/arrow-5.0.0.PYIBz/apache-arrow-5.0.0/c_glib/build/tmp-introspectijhws295/ArrowFlight-1.0.o -L. -Wl,-rpath,. -Wl,--no-as-needed -L./arrow-flight-glib -L/tmp/arrow-5.0.0.PYIBz/apache-arrow-5.0.0/c_glib/build/arrow-glib -Wl,-rpath,/tmp/arrow-5.0.0.PYIBz/apache-arrow-5.0.0/c_glib/build/arrow-glib -L/tmp/arrow-5.0.0.PYIBz/install/lib -Wl,-rpath,/tmp/arrow-5.0.0.PYIBz/install/lib -L/tmp/arrow-5.0.0.PYIBz/install/lib -Wl,-rpath,/tmp/arrow-5.0.0.PYIBz/install/lib -larrow-flight-glib -larrow_flight -larrow -lgobject-2.0 -lglib-2.0 -lgirepository-1.0 -lgio-2.0 -lgobject-2.0 -Wl,--export-dynamic -lgmodule-2.0 -pthread -lglib-2.0\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `ENGINE_set_default'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `ERR_error_string_n'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `ENGINE_free'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `X509_NAME_dup'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `EVP_EncryptInit_ex'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_get_peer_cert_chain'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_CTX_set_next_protos_advertised_cb'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `BIO_read'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `ENGINE_by_id'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `HMAC_CTX_free'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `BIO_new'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `EVP_DigestSignFinal'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `CRYPTO_get_ex_new_index'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `OPENSSL_init_crypto'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `EVP_sha256'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_CTX_new'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `EVP_MD_CTX_new'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_set_SSL_CTX'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `BIO_ctrl'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_CTX_use_PrivateKey'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `X509_STORE_set_flags'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `EVP_PKEY_set1_RSA'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `HMAC_Init_ex'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_CTX_set_session_id_context'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `EVP_MD_CTX_free'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `BIO_new_bio_pair'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_CTX_set_options'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `X509_NAME_ENTRY_get_data'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_get_error'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `PEM_read_bio_PrivateKey'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_CTX_ctrl'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `X509_STORE_add_cert'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `ENGINE_init'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_CTX_set_cipher_list'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `OPENSSL_init_ssl'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_session_reused'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `EVP_EncryptUpdate'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_set_connect_state'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_set_bio'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SHA256_Update'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `PEM_read_bio_RSAPrivateKey'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_CTX_use_certificate'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `BIO_free'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `EVP_CIPHER_CTX_free'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_state_string_long'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_do_handshake'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `OPENSSL_sk_push'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `PEM_read_bio_X509_AUX'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `i2d_SSL_SESSION'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `EVP_aes_256_gcm'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `ENGINE_load_private_key'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_CTX_set_ex_data'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_ctrl'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SHA256_Final'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `TLS_method'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `OPENSSL_sk_num'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_read'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `ERR_print_errors'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_SESSION_free'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `EVP_DigestUpdate'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_get_peer_certificate'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `X509_get_ext_d2i'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_CTX_free'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `ERR_clear_error'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `BIO_write'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_CTX_get_ex_data'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `ERR_get_error'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `d2i_SSL_SESSION'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `PEM_read_bio_X509'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_get_SSL_CTX'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_CTX_set_client_CA_list'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `X509_NAME_free'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `CRYPTO_free'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `EVP_DecryptInit_ex'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `PEM_write_bio_X509'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `EVP_EncryptFinal_ex'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `EC_KEY_new_by_curve_name'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_get0_next_proto_negotiated'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_get_rbio'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `SSL_CTX_set_alpn_select_cb'\r\n/usr/bin/ld: /tmp/arrow-5.0.0.PYIBz/install/lib/libarrow_flight.so: undefined reference to `EVP_DigestSignInit'\r\ncollect2: error: ld returned 1 exit status\r\n```\r\n",
        "created_at": "2021-07-22T08:06:37.000Z",
        "updated_at": "2021-07-22T12:29:25.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: C++",
            "Component: FlightRPC",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2021-07-22T12:29:16.000Z"
    },
    "comments": [
        {
            "created_at": "2021-07-22T12:29:16.990Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-13428?focusedCommentId=17385466) by Krisztian Szucs (kszucs):*\nIssue resolved by pull request 10773\n<https://github.com/apache/arrow/pull/10773>"
        }
    ]
}