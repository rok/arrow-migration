{
    "issue": {
        "title": "[Ruby] Can't install Ruby 2.7 - Can't update Ruby 2.6 Windows",
        "body": "***Note**: This issue was originally created as [ARROW-7548](https://issues.apache.org/jira/browse/ARROW-7548). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nCan't install in Ruby 2.7 on Windows\r\n\r\nC:\\Users\\Dominic E Sisneros\\source\\repos\\ruby\\try_arrow>ruby -v\r\nruby 2.7.0p0 (2019-12-25 revision 647ee6f091) [x64-mingw32]\r\n\r\nC:\\Users\\Dominic E Sisneros\\source\\repos\\ruby\\try_arrow>gem install red-arrow\r\nFetching glib2-3.4.1.gem\r\nFetching extpp-0.0.8.gem\r\nFetching native-package-installer-1.0.9.gem\r\nFetching gio2-3.4.1.gem\r\nFetching gobject-introspection-3.4.1.gem\r\nFetching red-arrow-0.15.1.gem\r\nBuilding native extensions. This could take a while...\r\nSuccessfully installed extpp-0.0.8\r\nSuccessfully installed native-package-installer-1.0.9\r\nInstalling required msys2 packages: mingw-w64-x86_64-glib2\r\nwarning: mingw-w64-x86_64-glib2-2.62.4-1 is up to date \u2013 skipping\r\nBuilding native extensions. This could take a while...\r\nERROR:  Error installing red-arrow:\r\n        ERROR: Failed to build gem native extension.\r\n\r\n    current directory: C:/Ruby27-x64/lib/ruby/gems/2.7.0/gems/glib2-3.4.1/ext/glib2\r\nC:/Ruby27-x64/bin/ruby.exe -I C:/Ruby27-x64/lib/ruby/2.7.0 -r ./siteconf20200110-28684-mef9su.rb extconf.rb\r\nchecking for --enable-debug-build option... no\r\nchecking for -Wall option to compiler... yes\r\nchecking for -Waggregate-return option to compiler... yes\r\nchecking for -Wcast-align option to compiler... yes\r\nchecking for -Wextra option to compiler... yes\r\nchecking for -Wformat=2 option to compiler... yes\r\nchecking for -Winit-self option to compiler... yes\r\nchecking for -Wlarger-than-65500 option to compiler... yes\r\nchecking for -Wmissing-declarations option to compiler... yes\r\nchecking for -Wmissing-format-attribute option to compiler... yes\r\nchecking for -Wmissing-include-dirs option to compiler... yes\r\nchecking for -Wmissing-noreturn option to compiler... yes\r\nchecking for -Wmissing-prototypes option to compiler... yes\r\nchecking for -Wnested-externs option to compiler... no\r\nchecking for -Wold-style-definition option to compiler... yes\r\nchecking for -Wpacked option to compiler... yes\r\nchecking for -Wp,-D_FORTIFY_SOURCE=2 option to compiler... yes\r\nchecking for -Wpointer-arith option to compiler... yes\r\nchecking for -Wundef option to compiler... yes\r\nchecking for -Wout-of-line-declaration option to compiler... no\r\nchecking for -Wunsafe-loop-optimizations option to compiler... yes\r\nchecking for -Wwrite-strings option to compiler... yes\r\nchecking for Homebrew... no\r\nchecking for gobject-2.0 version (>= 2.12.0)... yes\r\nchecking for gthread-2.0... yes\r\nchecking for unistd.h... yes\r\nchecking for io.h... yes\r\nchecking for g_spawn_close_pid() in glib.h... yes\r\nchecking for g_thread_init() in glib.h... yes\r\nchecking for g_main_depth() in glib.h... yes\r\nchecking for g_listenv() in glib.h... yes\r\nchecking for rb_check_array_type() in ruby.h... yes\r\nchecking for rb_check_hash_type() in ruby.h... yes\r\nchecking for rb_exec_recursive() in ruby.h... yes\r\nchecking for rb_errinfo() in ruby.h... yes\r\nchecking for rb_thread_call_without_gvl() in ruby.h... yes\r\nchecking for ruby_native_thread_p() in ruby.h... yes\r\nchecking for rb_thread_call_with_gvl() in ruby.h... yes\r\nchecking for rb_gc_register_mark_object() in ruby.h... yes\r\nchecking for rb_exc_new_str() in ruby.h... yes\r\nchecking for rb_enc_str_new_static() in ruby.h... yes\r\nchecking for curr_thread in ruby.h,node.h... no\r\nchecking for rb_curr_thread in ruby.h,node.h... no\r\ncreating ruby-glib2.pc\r\ncreating glib-enum-types.c\r\ncreating glib-enum-types.h\r\ncreating Makefile\r\n\r\ncurrent directory: C:/Ruby27-x64/lib/ruby/gems/2.7.0/gems/glib2-3.4.1/ext/glib2\r\nmake \"DESTDIR=\" clean\r\n\r\ncurrent directory: C:/Ruby27-x64/lib/ruby/gems/2.7.0/gems/glib2-3.4.1/ext/glib2\r\nmake \"DESTDIR=\"\r\ncompiling glib-enum-types.c\r\ncc1.exe: warning: C:/Ruby26-x64/msys64/Ruby26-x64/msys64/mingw64/include: No such file or directory [-Wmissing-include-dirs]\r\ncc1.exe: warning: C:/Ruby26-x64/msys64/Ruby26-x64/msys64/mingw64/lib/libffi-3.2.1/include: No such file or directory [-Wmissing-include-dirs]\r\ncc1.exe: warning: C:/Ruby26-x64/msys64/Ruby26-x64/msys64/mingw64/include/glib-2.0: No such file or directory [-Wmissing-include-dirs]\r\ncc1.exe: warning: C:/Ruby26-x64/msys64/Ruby26-x64/msys64/mingw64/lib/glib-2.0/include: No such file or directory [-Wmissing-include-dirs]\r\ncc1.exe: warning: C:/Ruby26-x64/msys64/Ruby26-x64/msys64/mingw64/include: No such file or directory [-Wmissing-include-dirs]\r\ncc1.exe: warning: C:/Ruby26-x64/msys64/Ruby26-x64/msys64/mingw64/include/glib-2.0: No such file or directory [-Wmissing-include-dirs]\r\ncc1.exe: warning: C:/Ruby26-x64/msys64/Ruby26-x64/msys64/mingw64/lib/glib-2.0/include: No such file or directory [-Wmissing-include-dirs]\r\nIn file included from rbgprivate.h:31,\r\n                 from glib-enum-types.c:4:\r\nrbgobject.h:25:10: fatal error: glib-object.h: No such file or directory\r\n   25 | #include <glib-object.h>\r\n      |          ^~~~~~~~~~~~~~~\r\ncompilation terminated.\r\nmake: \\*\\*\\* [Makefile:244: glib-enum-types.o] Error 1\r\n\r\nmake failed, exit code 2\r\n\r\nGem files will remain installed in C:/Ruby27-x64/lib/ruby/gems/2.7.0/gems/glib2-3.4.1 for inspection.\r\nResults logged to C:/Ruby27-x64/lib/ruby/gems/2.7.0/extensions/x64-mingw32/2.7.0/glib2-3.4.1/gem_make.out\r\n\r\nC:\\Users\\Dominic E Sisneros\\source\\repos\\ruby\\try_arrow>",
        "created_at": "2020-01-10T16:26:18.000Z",
        "updated_at": "2020-04-26T23:45:22.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: Ruby",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2020-04-26T23:45:22.000Z"
    },
    "comments": [
        {
            "created_at": "2020-01-10T22:29:02.097Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-7548?focusedCommentId=17013246) by Kouhei Sutou (kou):*\n```\n\r\ncc1.exe: warning: C:/Ruby26-x64/msys64/Ruby26-x64/msys64/mingw64/include: No such file or directory [-Wmissing-include-dirs]\r\n```\r\n\r\n\"26\" is strange because you use Ruby 2.7.\r\n\r\nDo you share something with Ruby 2.6 and Ruby 2.7?\r\n"
        },
        {
            "created_at": "2020-01-10T22:29:39.116Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-7548?focusedCommentId=17013247) by Kouhei Sutou (kou):*\ne.g. MSYS2"
        },
        {
            "created_at": "2020-04-26T23:45:22.583Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-7548?focusedCommentId=17092891) by Kouhei Sutou (kou):*\nIt seems that this is caused by the reporter's environment problem.\r\nIf this looks like an Apache Arrow related problem, please open a new issue with more information."
        }
    ]
}