{
    "issue": {
        "title": "[C++] Fail to build Apache Arror cpp from source",
        "body": "***Note**: This issue was originally created as [ARROW-15874](https://issues.apache.org/jira/browse/ARROW-15874). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\n> [  3%] Building CXX object src/arrow/python/CMakeFiles/arrow_python_flight_objlib.dir/flight.cc.o\n> cd ....../apache-arrow-7.0.0/cpp/build/src/xsimd_ep-build && /usr/local/bin/cmake -Dmake=make -P ....../apache-arrow-7.0.0/cpp/build/src/xsimd_ep-stamp/xsimd_ep-install-RELEASE.cmake\n> cd ....../apache-arrow-7.0.0/cpp/build/src/arrow/python && /usr/bin/ccache /usr/local/bin/c++ -DARROW_HAVE_RUNTIME_AVX2 -DARROW_HAVE_RUNTIME_AVX512 -DARROW_HAVE_RUNTIME_BMI2 -DARROW_HAVE_RUNTIME_SSE4_2 -DARROW_HAVE_SSE4_2 -DARROW_HDFS -DARROW_JEMALLOC -DARROW_JEMALLOC_INCLUDE_DIR=\"\" -DARROW_PYFLIGHT_EXPORTING -DARROW_WITH_BROTLI -DARROW_WITH_BZ2 -DARROW_WITH_LZ4 -DARROW_WITH_RE2 -DARROW_WITH_SNAPPY -DARROW_WITH_TIMING_TESTS -DARROW_WITH_UTF8PROC -DARROW_WITH_ZLIB -DARROW_WITH_ZSTD -DURI_STATIC_BUILD -I....../apache-arrow-7.0.0/cpp/build/src -I....../apache-arrow-7.0.0/cpp/src -I....../apache-arrow-7.0.0/cpp/src/generated -isystem ....../apache-arrow-7.0.0/cpp/thirdparty/flatbuffers/include -isystem ....../apache-arrow-7.0.0/cpp/build/jemalloc_ep-prefix/src -isystem ....../apache-arrow-7.0.0/cpp/build/xsimd_ep/src/xsimd_ep-install/include -isystem ....../apache-arrow-7.0.0/cpp/thirdparty/hadoop/include -isystem /home/lvision/.local/lib/python3.8/site-packages/numpy/core/include -isystem /usr/include/python3.8 -Wno-noexcept-type  -fdiagnostics-color=always -O3 -DNDEBUG  -Wall -fno-semantic-interposition -msse4.2  -O3 -DNDEBUG -fPIC -std=c++11 -MD -MT src/arrow/python/CMakeFiles/arrow_python_flight_objlib.dir/flight.cc.o -MF CMakeFiles/arrow_python_flight_objlib.dir/flight.cc.o.d -o CMakeFiles/arrow_python_flight_objlib.dir/flight.cc.o -c ....../apache-arrow-7.0.0/cpp/src/arrow/python/flight.cc\n> make[2]: Leaving directory '....../apache-arrow-7.0.0/cpp/build'\n> make  -f src/plasma/CMakeFiles/plasma_objlib.dir/build.make src/plasma/CMakeFiles/plasma_objlib.dir/build\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/time.cc:18:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/./epoch_time_point.h:21:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/../../arrow/vendored/datetime/date.h:53:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ios:42:\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:474:25: error: expected ';' at end of declaration list\n> typedef int io_state\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:476:26: error: expected ';' at end of declaration list\n> typedef int open_mode\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:478:25: error: expected ';' at end of declaration list\n> typedef int seek_dir\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:481:37: error: expected ';' at end of declaration list\n> typedef std::streampos streampos\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:483:37: error: expected ';' at end of declaration list\n> typedef std::streamoff streamoff\n> ^\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/time.cc:18:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/./epoch_time_point.h:21:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/../../arrow/vendored/datetime/date.h:53:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ios:43:\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:35: error: expected parameter declarator\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:35: error: expected ')'\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:34: note: to match this '('\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c+/9/streambuf:789:7: error: C+ requires a type specifier for all declarations\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:66: error: expected ';' at end of declaration list\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:835:5: error: out-of-line definition of 'basic_streambuf<_CharT, _Traits>' does not match any declaration in 'basic_streambuf<_CharT, _Traits>'\n> basic_streambuf(const basic_streambuf&) = default;\n> ^~~~~~~~~~~~~~~\n> make[2]: Entering directory '....../apache-arrow-7.0.0/cpp/build'\n> [  3%] Building CXX object src/arrow/gpu/CMakeFiles/arrow_cuda_objlib.dir/cuda_internal.cc.o\n> cd ....../apache-arrow-7.0.0/cpp/build/src/arrow/gpu && /usr/bin/ccache /usr/local/bin/c++ -DARROW_EXPORTING -DARROW_HAVE_RUNTIME_AVX2 -DARROW_HAVE_RUNTIME_AVX512 -DARROW_HAVE_RUNTIME_BMI2 -DARROW_HAVE_RUNTIME_SSE4_2 -DARROW_HAVE_SSE4_2 -DARROW_HDFS -DARROW_JEMALLOC -DARROW_JEMALLOC_INCLUDE_DIR=\"\" -DARROW_WITH_BROTLI -DARROW_WITH_BZ2 -DARROW_WITH_LZ4 -DARROW_WITH_RE2 -DARROW_WITH_SNAPPY -DARROW_WITH_TIMING_TESTS -DARROW_WITH_UTF8PROC -DARROW_WITH_ZLIB -DARROW_WITH_ZSTD -DURI_STATIC_BUILD -I....../apache-arrow-7.0.0/cpp/build/src -I....../apache-arrow-7.0.0/cpp/src -I....../apache-arrow-7.0.0/cpp/src/generated -isystem ....../apache-arrow-7.0.0/cpp/thirdparty/flatbuffers/include -isystem ....../apache-arrow-7.0.0/cpp/build/jemalloc_ep-prefix/src -isystem ....../apache-arrow-7.0.0/cpp/build/xsimd_ep/src/xsimd_ep-install/include -isystem ....../apache-arrow-7.0.0/cpp/thirdparty/hadoop/include -isystem /usr/local/cuda/include -Wno-noexcept-type  -fdiagnostics-color=always -O3 -DNDEBUG  -Wall -fno-semantic-interposition -msse4.2  -O3 -DNDEBUG -fPIC -std=c++11 -MD -MT src/arrow/gpu/CMakeFiles/arrow_cuda_objlib.dir/cuda_internal.cc.o -MF CMakeFiles/arrow_cuda_objlib.dir/cuda_internal.cc.o.d -o CMakeFiles/arrow_cuda_objlib.dir/cuda_internal.cc.o -c ....../apache-arrow-7.0.0/cpp/src/arrow/gpu/cuda_internal.cc\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/timestamp_arithmetic.cc:18:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/./epoch_time_point.h:21:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/../../arrow/vendored/datetime/date.h:53:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ios:42:\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:474:25: error: expected ';' at end of declaration list\n> typedef int io_state\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:476:26: error: expected ';' at end of declaration list\n> typedef int open_mode\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:478:25: error: expected ';' at end of declaration list\n> typedef int seek_dir\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:481:37: error: expected ';' at end of declaration list\n> typedef std::streampos streampos\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:483:37: error: expected ';' at end of declaration list\n> typedef std::streamoff streamoff\n> ^\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/timestamp_arithmetic.cc:18:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/./epoch_time_point.h:21:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/../../arrow/vendored/datetime/date.h:53:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ios:43:\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:35: error: expected parameter declarator\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:35: error: expected ')'\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:34: note: to match this '('\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c+/9/streambuf:789:7: error: C+ requires a type specifier for all declarations\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:66: error: expected ';' at end of declaration list\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:835:5: error: out-of-line definition of 'basic_streambuf<_CharT, _Traits>' does not match any declaration in 'basic_streambuf<_CharT, _Traits>'\n> basic_streambuf(const basic_streambuf&) = default;\n> ^~~~~~~~~~~~~~~\n> [  4%] Building CXX object src/plasma/CMakeFiles/plasma_objlib.dir/client.cc.o\n> cd ....../apache-arrow-7.0.0/cpp/build/src/plasma && /usr/bin/ccache /usr/local/bin/c++ -DARROW_EXPORTING -DARROW_HAVE_RUNTIME_AVX2 -DARROW_HAVE_RUNTIME_AVX512 -DARROW_HAVE_RUNTIME_BMI2 -DARROW_HAVE_RUNTIME_SSE4_2 -DARROW_HAVE_SSE4_2 -DARROW_JEMALLOC -DARROW_JEMALLOC_INCLUDE_DIR=\"\" -DARROW_WITH_RE2 -DARROW_WITH_TIMING_TESTS -DARROW_WITH_UTF8PROC -DPLASMA_CUDA -I....../apache-arrow-7.0.0/cpp/build/src -I....../apache-arrow-7.0.0/cpp/src -I....../apache-arrow-7.0.0/cpp/src/generated -isystem ....../apache-arrow-7.0.0/cpp/thirdparty/flatbuffers/include -isystem ....../apache-arrow-7.0.0/cpp/build/jemalloc_ep-prefix/src -isystem ....../apache-arrow-7.0.0/cpp/build/xsimd_ep/src/xsimd_ep-install/include -isystem ....../apache-arrow-7.0.0/cpp/thirdparty/hadoop/include -Wno-noexcept-type  -fdiagnostics-color=always -O3 -DNDEBUG  -Wall -fno-semantic-interposition -msse4.2  -fPIC -O3 -DNDEBUG -fPIC -std=c++11 -MD -MT src/plasma/CMakeFiles/plasma_objlib.dir/client.cc.o -MF CMakeFiles/plasma_objlib.dir/client.cc.o.d -o CMakeFiles/plasma_objlib.dir/client.cc.o -c ....../apache-arrow-7.0.0/cpp/src/plasma/client.cc\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/basic_decimal.cc:26:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/iomanip:40:\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:474:25: error: expected ';' at end of declaration list\n> typedef int io_state\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:476:26: error: expected ';' at end of declaration list\n> typedef int open_mode\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:478:25: error: expected ';' at end of declaration list\n> typedef int seek_dir\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:481:37: error: expected ';' at end of declaration list\n> typedef std::streampos streampos\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:483:37: error: expected ';' at end of declaration list\n> typedef std::streamoff streamoff\n> ^\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/extended_math_ops.cc:23:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/decimal_ops.h:22:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/basic_decimal_scalar.h:23:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/decimal.h:26:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/result.h:27:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/status.h:25:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/string_builder.h:21:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ostream:38:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ios:42:\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:474:25: error: expected ';' at end of declaration list\n> typedef int io_state\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:476:26: error: expected ';' at end of declaration list\n> typedef int open_mode\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:478:25: error: expected ';' at end of declaration list\n> typedef int seek_dir\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:481:37: error: expected ';' at end of declaration list\n> typedef std::streampos streampos\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:483:37: error: expected ';' at end of declaration list\n> typedef std::streamoff streamoff\n> ^\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/basic_decimal.cc:26:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/iomanip:43:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/locale:40:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/locale_facets.h:44:\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:35: error: expected parameter declarator\n> In file included from       _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/decimal_ops.cc\n> :20                                  ^:\n> \n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/decimal_ops.h:22/usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:\n> :In file included from 789....../apache-arrow-7.0.0/cpp/src/gandiva/basic_decimal_scalar.h::3523::\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/decimal.h:error26: :\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/result.hexpected ')':27\n> :\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf....../apache-arrow-7.0.0/cpp/src/arrow/status.h::78925::\n> 34In file included from :....../apache-arrow-7.0.0/cpp/src/arrow/util/string_builder.h :21:\n> noteIn file included from : /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ostream:to match this '('38:\n> \n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ios:42:\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:      _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")474\n> :25                                 ^:\n> error: /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambufexpected ';' at end of declaration list:789\n> :7: error:     typedef int io_stateC++ requires a type specifier for all declarations\n> \n> ^\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:476:26: error: expected ';' at end of declaration list\n> typedef int open_mode\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:66: error: expected ';' at end of declaration list\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:478:25:       _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> error:                                                                  ^\n> expected ';' at end of declaration list\n> typedef int seek_dir\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:481:37: error: expected ';' at end of declaration list\n> typedef std::streampos streampos\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:483:37: error: expected ';' at end of declaration list\n> typedef std::streamoff streamoff\n> ^\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/decimal_wrapper.cc:18:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/decimal_ops.h:22:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/basic_decimal_scalar.h:23:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/decimal.h:26:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/result.h:27:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/status.h:25:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/string_builder.h:21:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ostream:38:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ios:42:\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:474:25: error: expected ';' at end of declaration list\n> typedef int io_state\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:835:5: error: out-of-line definition of 'basic_streambuf<_CharT, _Traits>' does not match any declaration in 'basic_streambuf<_CharT, _Traits>'\n> basic_streambuf(const basic_streambuf&) = default;\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:    ^~~~~~~~~~~~~~~476\n> :26: error: expected ';' at end of declaration list\n> typedef int open_mode\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:478:25: error: expected ';' at end of declaration list\n> typedef int seek_dir\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:481:37: error: expected ';' at end of declaration list\n> typedef std::streampos streampos\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:483:37: error: expected ';' at end of declaration list\n> In file included from     typedef std::streamoff streamoff....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/extended_math_ops.cc\n> :23                                    ^:\n> \n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/decimal_ops.h:22:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/basic_decimal_scalar.h:23:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/decimal.h:26:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/result.h:27:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/status.h:25:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/string_builder.h:21:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ostream:38:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ios:43:\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:35: error: expected parameter declarator\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:35: error: expected ')'\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:34: note: to match this '('\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c+/9/streambuf:789:7: error: C+ requires a type specifier for all declarations\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:66: error: expected ';' at end of declaration list\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:835:5: error: out-of-line definition of 'basic_streambuf<_CharT, _Traits>' does not match any declaration in 'basic_streambuf<_CharT, _Traits>'\n> basic_streambuf(const basic_streambuf&) = default;\n> ^~~~~~~~~~~~~~~\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/decimal_ops.cc:20:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/decimal_ops.h:22:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/basic_decimal_scalar.h:23:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/decimal.h:26:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/result.h:27:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/status.h:25:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/string_builder.h:21:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ostream:38:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ios:43:\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:35: error: expected parameter declarator\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:35: error: expected ')'\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:34: note: to match this '('\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c+/9/streambuf:789:7: error: C+ requires a type specifier for all declarations\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:66: error: expected ';' at end of declaration list\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/decimal_wrapper.cc:18:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/decimal_ops.h:22:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/basic_decimal_scalar.h:23:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/decimal.h:26:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/result.h:27:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/status.h:25:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/string_builder.h:21:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ostream:38:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ios:43:\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:35: error: expected parameter declarator\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c+/9/streambuf:/usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c+/9/streambuf789::83535::5 : error: error: expected ')'out-of-line definition of 'basic_streambuf<_CharT, _Traits>' does not match any declaration in 'basic_streambuf<_CharT, _Traits>'\n> \n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:34:     basic_streambuf(const basic_streambuf&) = default;\n> note    ^~~~~~~~~~~~~~~: \n> to match this '('\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c+/9/streambuf:789:7: error: C+ requires a type specifier for all declarations\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:66: error: expected ';' at end of declaration list\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:835:5: error: out-of-line definition of 'basic_streambuf<_CharT, _Traits>' does not match any declaration in 'basic_streambuf<_CharT, _Traits>'\n> basic_streambuf(const basic_streambuf&) = default;\n> ^~~~~~~~~~~~~~~\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/string_ops.cc:20:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/value_parsing.h:31:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/type.h:30:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/result.h:27:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/status.h:25:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/string_builder.h:21:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ostream:38:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ios:42:\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:474:25: error: expected ';' at end of declaration list\n> typedef int io_state\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:476:26: error: expected ';' at end of declaration list\n> typedef int open_mode\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:478:25: error: expected ';' at end of declaration list\n> typedef int seek_dir\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:481:37: error: expected ';' at end of declaration list\n> typedef std::streampos streampos\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:483:37: error: expected ';' at end of declaration list\n> typedef std::streamoff streamoff\n> ^\n> In file included from ....../apache-arrow-7.0.0/cpp/src/gandiva/precompiled/string_ops.cc:20:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/value_parsing.h:31:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/type.h:30:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/result.h:27:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/status.h:25:\n> In file included from ....../apache-arrow-7.0.0/cpp/src/arrow/util/string_builder.h:21:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ostream:38:\n> In file included from /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/ios:43:\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:35: error: expected parameter declarator\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:35: error: expected ')'\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:34: note: to match this '('\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c+/9/streambuf:789:7: error: C+ requires a type specifier for all declarations\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:789:66: error: expected ';' at end of declaration list\n> _GLIBCXX_DEPRECATED_SUGGEST(\"std::basic_streambuf::sbumpc\")\n> ^\n> /usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/streambuf:835:5: error: out-of-line definition of 'basic_streambuf<_CharT, _Traits>' does not match any declaration in 'basic_streambuf<_CharT, _Traits>'\n> basic_streambuf(const basic_streambuf&) = default;\n> ^~~~~~~~~~~~~~~\n> [  4%] Building CXX object src/arrow/gpu/CMakeFiles/arrow_cuda_objlib.dir/cuda_memory.cc.o",
        "created_at": "2022-03-09T00:07:40.000Z",
        "updated_at": "2022-04-14T08:15:09.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: C++",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2022-04-14T08:15:09.000Z"
    },
    "comments": [
        {
            "created_at": "2022-03-09T02:39:47.926Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15874?focusedCommentId=17503264) by Yibo Cai (yibocai):*\nFrom below error, looks your gcc and libstdc++ is not compatible?\r\n\r\n```bash\n\r\n/usr/lib/gcc/x86_64-linux-gnu/9/../../../../include/c++/9/bits/ios_base.h:474:25: error: expected ';' at end of declaration list\r\ntypedef int io_state\r\n^\r\n```"
        },
        {
            "created_at": "2022-03-09T07:27:29.516Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15874?focusedCommentId=17503344) by Pei Jia (jiapei100):*\nThank you `[~yibocai]` \u00a0\r\n\r\nAfter I installed \\***libstdc++-10-dev**\\* ,\u00a0 there is some progress. Thank you very much..."
        },
        {
            "created_at": "2022-03-09T07:29:44.916Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15874?focusedCommentId=17503345) by Yibo Cai (yibocai):*\nGlad to see you have progress.\r\n\r\nIs it okay to close this issue? Or you would like to try more?"
        },
        {
            "created_at": "2022-04-14T08:15:09.661Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15874?focusedCommentId=17522149) by Yibo Cai (yibocai):*\nFeel free to reopen if there are still issues."
        }
    ]
}