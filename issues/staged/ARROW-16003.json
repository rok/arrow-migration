{
    "issue": {
        "title": "[R] Installing on R fails with hash mismatch for Boost",
        "body": "***Note**: This issue was originally created as [ARROW-16003](https://issues.apache.org/jira/browse/ARROW-16003). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\n`install.packages(arrow)` fails on Linux when downloading Boost due to a hash mismatch. The expected hash is 267e04a7c0bfe85daf796dedc789c3a27a76707e1c968f0a2a87bb96331e2b61 according to <https://github.com/apache/arrow/blob/master/cpp/thirdparty/versions.txt#L37>, while the actual one is aeb26f80e80945e82ee93e5939baebdca47b9dee80a07d3144be1e1a6a66dd6a (in line with the official ones, <https://www.boost.org/users/history/version_1_75_0.html>).\r\n```Java\n\r\nCMake Error at boost_ep-stamp/boost_ep-download-RELEASE.cmake:37 (message):\r\nCommand failed: 1\r\n\r\n'/opt/cmake/bin/cmake' '-Dmake=' '-Dconfig=' '-P' '/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_ep-stamp/boost_ep-download-RELEASE-impl.cmake'\r\n\r\nSee also\r\n\r\n/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_ep-stamp/boost_ep-download-*.log\r\n\r\n\u2013 stdout output is:\r\n...skipping to end...\r\nmplete]\r\n\u2013 [download 100% complete]\r\n\u2013 verifying file...\r\nfile='/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz'\r\n\u2013 SHA256 hash of\r\n/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz\r\ndoes not match expected value\r\nexpected: '267e04a7c0bfe85daf796dedc789c3a27a76707e1c968f0a2a87bb96331e2b61'\r\nactual: 'aeb26f80e80945e82ee93e5939baebdca47b9dee80a07d3144be1e1a6a66dd6a'\r\n\u2013 Hash mismatch, removing...\r\n\u2013 Using src='https://sourceforge.net/projects/boost/files/boost/1.75.0/boost_1_75_0.tar.gz'\r\n\u2013 [download 100% complete]\r\n\u2013 [download 0% complete]\r\n\u2013 [download 100% complete]\r\n\u2013 verifying file...\r\nfile='/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz'\r\n\u2013 SHA256 hash of\r\n/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz\r\ndoes not match expected value\r\nexpected: '267e04a7c0bfe85daf796dedc789c3a27a76707e1c968f0a2a87bb96331e2b61'\r\nactual: 'aeb26f80e80945e82ee93e5939baebdca47b9dee80a07d3144be1e1a6a66dd6a'\r\n\u2013 Hash mismatch, removing...\r\n\u2013 Using src='https://boostorg.jfrog.io/artifactory/main/release/1.75.0/source/boost_1_75_0.tar.gz'\r\n\u2013 [download 0% complete]\r\n\u2013 [download 100% complete]\r\n\u2013 verifying file...\r\nfile='/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz'\r\n\u2013 SHA256 hash of\r\n/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz\r\ndoes not match expected value\r\nexpected: '267e04a7c0bfe85daf796dedc789c3a27a76707e1c968f0a2a87bb96331e2b61'\r\nactual: 'aeb26f80e80945e82ee93e5939baebdca47b9dee80a07d3144be1e1a6a66dd6a'\r\n\u2013 Hash mismatch, removing...\r\n\u2013 Using src='https://sourceforge.net/projects/boost/files/boost/1.75.0/boost_1_75_0.tar.gz'\r\n\u2013 [download 100% complete]\r\n\u2013 [download 0% complete]\r\n\u2013 [download 100% complete]\r\n\u2013 verifying file...\r\nfile='/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz'\r\n\u2013 SHA256 hash of\r\n/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz\r\ndoes not match expected value\r\nexpected: '267e04a7c0bfe85daf796dedc789c3a27a76707e1c968f0a2a87bb96331e2b61'\r\nactual: 'aeb26f80e80945e82ee93e5939baebdca47b9dee80a07d3144be1e1a6a66dd6a'\r\n\u2013 Hash mismatch, removing...\r\n\r\n\u2013 stderr output is:\r\nCMake Error at boost_ep-stamp/download-boost_ep.cmake:170 (message):\r\nEach download failed!\r\n\r\nerror: downloading 'https://apache.jfrog.io/artifactory/arrow/thirdparty/7.0.0/boost_1_75_0.tar.gz' failed\r\nstatus_code: 22\r\nstatus_string: \"HTTP response code said error\"\r\nlog:\r\n\r\nCMake Error at boost_ep-stamp/boost_ep-download-RELEASE-impl.cmake:9 (message):\r\nCommand failed (1):\r\n\r\n'/opt/cmake/bin/cmake' '-P' '/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_ep-stamp/download-boost_ep.cmake'\r\n\r\nCMake Error at boost_ep-stamp/boost_ep-download-RELEASE.cmake:47 (message):\r\nStopping after outputting logs.\r\n\r\nmake[2]: *** [CMakeFiles/boost_ep.dir/build.make:110: boost_ep-prefix/src/boost_ep-stamp/boost_ep-download] Error 1\r\nmake[1]: *** [CMakeFiles/Makefile2:1084: CMakeFiles/boost_ep.dir/all] Error 2\r\ngmake: *** [Makefile:160: all] Error 2\r\n * \r\n ** \r\n *** \r\n **** Error building Arrow C++.\r\n ----- \r\n ------ \r\n ------- \r\n -------- \r\n --------- \r\n ---------- \r\n ----------- \r\n ------------ \r\n ------------- \r\n -------------- \r\n --------------- \r\n ---------------- \r\n ----------------- \r\n ------------------ \r\n ------------------- \r\n -------------------- \r\n --------------------- \r\n ---------------------- \r\n ----------------------- \r\n ------------------------ \r\n ------------------------- NOTE ---------------------------\r\nThere was an issue preparing the Arrow C++ libraries.\r\nSee [https://arrow.apache.org/docs/r/articles/install.html]\r\n---------------------------------------------------------\r\nERROR: configuration failed for package \u2018arrow\u2019\r\n * removing \u2018/opt/R/4.1/library/arrow\u2019\r\n\r\nThe downloaded source packages are in\r\n\u2018/tmp/Rtmp0FpihC/downloaded_packages\u2019\r\nWarning message:\r\nIn install.packages(\"arrow\") :\r\ninstallation of package \u2018arrow\u2019 had non-zero exit status\r\n> remove.packages(\"arrow\")\r\nCMake Error at boost_ep-stamp/boost_ep-download-RELEASE.cmake:37 (message):\r\nCommand failed: 1\r\n\r\n'/opt/cmake/bin/cmake' '-Dmake=' '-Dconfig=' '-P' '/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_ep-stamp/boost_ep-download-RELEASE-impl.cmake'\r\n\r\nSee also\r\n\r\n/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_ep-stamp/boost_ep-download-*.log\r\n\r\n\u2013 stdout output is:\r\n...skipping to end...\r\nmplete]\r\n\u2013 [download 100% complete]\r\n\u2013 verifying file...\r\nfile='/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz'\r\n\u2013 SHA256 hash of\r\n/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz\r\ndoes not match expected value\r\nexpected: '267e04a7c0bfe85daf796dedc789c3a27a76707e1c968f0a2a87bb96331e2b61'\r\nactual: 'aeb26f80e80945e82ee93e5939baebdca47b9dee80a07d3144be1e1a6a66dd6a'\r\n\u2013 Hash mismatch, removing...\r\n\u2013 Using src='https://sourceforge.net/projects/boost/files/boost/1.75.0/boost_1_75_0.tar.gz'\r\n\u2013 [download 100% complete]\r\n\u2013 [download 0% complete]\r\n\u2013 [download 100% complete]\r\n\u2013 verifying file...\r\nfile='/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz'\r\n\u2013 SHA256 hash of\r\n/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz\r\ndoes not match expected value\r\nexpected: '267e04a7c0bfe85daf796dedc789c3a27a76707e1c968f0a2a87bb96331e2b61'\r\nactual: 'aeb26f80e80945e82ee93e5939baebdca47b9dee80a07d3144be1e1a6a66dd6a'\r\n\u2013 Hash mismatch, removing...\r\n\u2013 Using src='https://boostorg.jfrog.io/artifactory/main/release/1.75.0/source/boost_1_75_0.tar.gz'\r\n\u2013 [download 0% complete]\r\n\u2013 [download 100% complete]\r\n\u2013 verifying file...\r\nfile='/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz'\r\n\u2013 SHA256 hash of\r\n/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz\r\ndoes not match expected value\r\nexpected: '267e04a7c0bfe85daf796dedc789c3a27a76707e1c968f0a2a87bb96331e2b61'\r\nactual: 'aeb26f80e80945e82ee93e5939baebdca47b9dee80a07d3144be1e1a6a66dd6a'\r\n\u2013 Hash mismatch, removing...\r\n\u2013 Using src='https://sourceforge.net/projects/boost/files/boost/1.75.0/boost_1_75_0.tar.gz'\r\n\u2013 [download 100% complete]\r\n\u2013 [download 0% complete]\r\n\u2013 [download 100% complete]\r\n\u2013 verifying file...\r\nfile='/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz'\r\n\u2013 SHA256 hash of\r\n/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_1_75_0.tar.gz\r\ndoes not match expected value\r\nexpected: '267e04a7c0bfe85daf796dedc789c3a27a76707e1c968f0a2a87bb96331e2b61'\r\nactual: 'aeb26f80e80945e82ee93e5939baebdca47b9dee80a07d3144be1e1a6a66dd6a'\r\n\u2013 Hash mismatch, removing...\r\n\r\n\u2013 stderr output is:\r\nCMake Error at boost_ep-stamp/download-boost_ep.cmake:170 (message):\r\nEach download failed!\r\n\r\nerror: downloading 'https://apache.jfrog.io/artifactory/arrow/thirdparty/7.0.0/boost_1_75_0.tar.gz' failed\r\nstatus_code: 22\r\nstatus_string: \"HTTP response code said error\"\r\nlog:\r\n\r\nCMake Error at boost_ep-stamp/boost_ep-download-RELEASE-impl.cmake:9 (message):\r\nCommand failed (1):\r\n\r\n'/opt/cmake/bin/cmake' '-P' '/tmp/RtmpHTgeAH/file48f93e4a54d3/boost_ep-prefix/src/boost_ep-stamp/download-boost_ep.cmake'\r\n\r\nCMake Error at boost_ep-stamp/boost_ep-download-RELEASE.cmake:47 (message):\r\nStopping after outputting logs.\r\n\r\nmake[2]: *** [CMakeFiles/boost_ep.dir/build.make:110: boost_ep-prefix/src/boost_ep-stamp/boost_ep-download] Error 1\r\nmake[1]: *** [CMakeFiles/Makefile2:1084: CMakeFiles/boost_ep.dir/all] Error 2\r\ngmake: *** [Makefile:160: all] Error 2\r\n * \r\n ** \r\n *** \r\n **** Error building Arrow C++.\r\n ----- \r\n ------ \r\n ------- \r\n -------- \r\n --------- \r\n ---------- \r\n ----------- \r\n ------------ \r\n ------------- \r\n -------------- \r\n --------------- \r\n ---------------- \r\n ----------------- \r\n ------------------ \r\n ------------------- \r\n -------------------- \r\n --------------------- \r\n ---------------------- \r\n ----------------------- \r\n ------------------------ \r\n ------------------------- NOTE ---------------------------\r\nThere was an issue preparing the Arrow C++ libraries.\r\nSee [https://arrow.apache.org/docs/r/articles/install.html]\r\n---------------------------------------------------------\r\nERROR: configuration failed for package \u2018arrow\u2019\r\n * removing \u2018/opt/R/4.1/library/arrow\u2019\r\n\r\nThe downloaded source packages are in\r\n\u2018/tmp/Rtmp0FpihC/downloaded_packages\u2019\r\nWarning message:\r\nIn install.packages(\"arrow\") :\r\ninstallation of package \u2018arrow\u2019 had non-zero exit status\r\n> remove.packages(\"arrow\")\r\n```",
        "created_at": "2022-03-22T15:09:35.000Z",
        "updated_at": "2022-04-05T07:38:50.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: R",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2022-04-05T07:38:50.000Z"
    },
    "comments": [
        {
            "created_at": "2022-03-22T15:27:30.130Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-16003?focusedCommentId=17510690) by bers (bers):*\nFor the record, downloading \"arrow_7.0.0.tar.gz\", untaring, fixing the bad hash in \"tools/cpp/thirdparty/versions.txt\" and then installing using \"devtools::install()\" has fixed the issue for me."
        },
        {
            "created_at": "2022-04-05T07:38:43.092Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-16003?focusedCommentId=17517278) by Nicola Crane (thisisnic):*\nThanks for reporting this `[~bers]`!  I think this may have been caused by a transient issue on a subset of servers- I see you found an effective workaround.  I believe this to be fixed now so I'm closing this ticket, but if you're still running into this problem, just let us know and we ca investigate."
        }
    ]
}