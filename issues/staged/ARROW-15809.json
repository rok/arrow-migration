{
    "issue": {
        "title": "[C++] AppVeyor builds with Flight failing due to link error",
        "body": "***Note**: This issue was originally created as [ARROW-15809](https://issues.apache.org/jira/browse/ARROW-15809). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nPossibly due to an abseil-cpp package bump in conda-forge? See https://github.com/conda-forge/abseil-cpp-feedstock/pull/25\r\n\r\nPossibly the grpc-cpp conda-forge package just needs to be rebuilt against the new libraries?\r\n\r\n```\n\r\n[126/349] Linking CXX shared library release\\arrow_flight.dll\r\nFAILED: release/arrow_flight.dll release/arrow_flight.lib \r\ncmd.exe /C \"cd . && C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\cmake.exe -E vs_link_dll --intdir=src\\arrow\\flight\\CMakeFiles\\arrow_flight_shared.dir --rc=C:\\PROGRA~2\\WI3CF2~1\\10\\bin\\100183~1.0\\x64\\rc.exe --mt=C:\\PROGRA~2\\WI3CF2~1\\10\\bin\\100183~1.0\\x64\\mt.exe --manifests  -- C:\\PROGRA~2\\MIB055~1\\2017\\COMMUN~1\\VC\\Tools\\MSVC\\1416~1.270\\bin\\Hostx64\\x64\\link.exe /nologo src\\arrow\\flight\\CMakeFiles\\arrow_flight_shared.dir\\Unity\\unity_1_cxx.cxx.obj src\\arrow\\flight\\CMakeFiles\\arrow_flight_shared.dir\\Unity\\unity_0_cxx.cxx.obj  /out:release\\arrow_flight.dll /implib:release\\arrow_flight.lib /pdb:release\\arrow_flight.pdb /dll /version:800.0 /machine:x64  /NODEFAULTLIB:LIBCMT /INCREMENTAL:NO  release\\arrow.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\grpc++.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\libprotobuf.lib  ws2_32.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\brotlienc.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\brotlidec.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\brotlicommon.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\aws-cpp-sdk-config.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\aws-cpp-sdk-transfer.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\aws-cpp-sdk-identity-management.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\aws-cpp-sdk-cognito-identity.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\aws-cpp-sdk-sts.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\aws-cpp-sdk-s3.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\aws-cpp-sdk-core.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\aws-c-event-stream.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\aws-c-io.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\aws-c-cal.lib  NCrypt.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\aws-checksums.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\aws-c-common.lib  BCrypt.lib  Kernel32.lib  Ws2_32.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\utf8proc.lib  mimalloc_ep\\src\\mimalloc_ep\\lib\\mimalloc-1.7\\mimalloc-static.lib  ws2_32.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\grpc.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\libssl.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\libcrypto.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\re2.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\z.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\cares.lib  advapi32.lib  iphlpapi.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\address_sorting.lib  ws2_32.lib  crypt32.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\absl_statusor.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\gpr.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\upb.lib  C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\abseil_dll.lib  kernel32.lib user32.lib gdi32.lib winspool.lib shell32.lib ole32.lib oleaut32.lib uuid.lib comdlg32.lib advapi32.lib  && cd .\"\r\nLINK: command \"C:\\PROGRA~2\\MIB055~1\\2017\\COMMUN~1\\VC\\Tools\\MSVC\\1416~1.270\\bin\\Hostx64\\x64\\link.exe /nologo src\\arrow\\flight\\CMakeFiles\\arrow_flight_shared.dir\\Unity\\unity_1_cxx.cxx.obj src\\arrow\\flight\\CMakeFiles\\arrow_flight_shared.dir\\Unity\\unity_0_cxx.cxx.obj /out:release\\arrow_flight.dll /implib:release\\arrow_flight.lib /pdb:release\\arrow_flight.pdb /dll /version:800.0 /machine:x64 /NODEFAULTLIB:LIBCMT /INCREMENTAL:NO release\\arrow.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\grpc++.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\libprotobuf.lib ws2_32.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\brotlienc.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\brotlidec.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\brotlicommon.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\aws-cpp-sdk-config.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\aws-cpp-sdk-transfer.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\aws-cpp-sdk-identity-management.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\aws-cpp-sdk-cognito-identity.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\aws-cpp-sdk-sts.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\aws-cpp-sdk-s3.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\bin\\aws-cpp-sdk-core.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\aws-c-event-stream.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\aws-c-io.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\aws-c-cal.lib NCrypt.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\aws-checksums.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\aws-c-common.lib BCrypt.lib Kernel32.lib Ws2_32.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\utf8proc.lib mimalloc_ep\\src\\mimalloc_ep\\lib\\mimalloc-1.7\\mimalloc-static.lib ws2_32.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\grpc.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\libssl.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\libcrypto.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\re2.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\z.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\cares.lib advapi32.lib iphlpapi.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\address_sorting.lib ws2_32.lib crypt32.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\absl_statusor.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\gpr.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\upb.lib C:\\Miniconda37-x64\\envs\\arrow\\Library\\lib\\abseil_dll.lib kernel32.lib user32.lib gdi32.lib winspool.lib shell32.lib ole32.lib oleaut32.lib uuid.lib comdlg32.lib advapi32.lib /MANIFEST /MANIFESTFILE:release\\arrow_flight.dll.manifest\" failed (exit code 1120) with the following output:\r\n   Creating library release\\arrow_flight.lib and object release\\arrow_flight.exp\r\ngrpc.lib(external_account_credentials.cc.obj) : error LNK2019: unresolved external symbol \"char const * const absl::lts_20211102::RFC3339_full\" (?RFC3339_full@lts_20211102@absl@@3QBDB) referenced in function \"private: void __cdecl grpc_core::ExternalAccountCredentials::OnImpersenateServiceAccountInternal(struct grpc_error *)\" (?OnImpersenateServiceAccountInternal@ExternalAccountCredentials@grpc_core@@AEAAXPEAUgrpc_error@@@Z)\r\ngrpc.lib(compression_internal.cc.obj) : error LNK2019: unresolved external symbol \"unsigned char const * const absl::lts_20211102::ascii_internal::kPropertyBits\" (?kPropertyBits@ascii_internal@lts_20211102@absl@@3QBEB) referenced in function \"public: static class grpc_core::CompressionAlgorithmSet __cdecl grpc_core::CompressionAlgorithmSet::FromString(class absl::lts_20211102::string_view)\" (?FromString@CompressionAlgorithmSet@grpc_core@@SA?AV12@Vstring_view@lts_20211102@absl@@@Z)\r\ngrpc.lib(uri_parser.cc.obj) : error LNK2001: unresolved external symbol \"unsigned char const * const absl::lts_20211102::ascii_internal::kPropertyBits\" (?kPropertyBits@ascii_internal@lts_20211102@absl@@3QBEB)\r\ngrpc.lib(rls.cc.obj) : error LNK2019: unresolved external symbol \"private: static void const * const absl::lts_20211102::hash_internal::MixingHashState::kSeed\" (?kSeed@MixingHashState@hash_internal@lts_20211102@absl@@0QEBXEB) referenced in function \"public: static unsigned __int64 __cdecl absl::lts_20211102::hash_internal::MixingHashState::hash<struct grpc_core::`anonymous namespace'::RlsLb::RequestKey,0>(struct grpc_core::`anonymous namespace'::RlsLb::RequestKey const &)\" (??$hash@URequestKey@RlsLb@?A0xd54f831c@grpc_core@@$0A@@MixingHashState@hash_internal@lts_20211102@absl@@SA_KAEBURequestKey@RlsLb@?A0xd54f831c@grpc_core@@@Z)\r\nrelease\\arrow_flight.dll : fatal error LNK1120: 3 unresolved externals\r\n[127/349] Building CXX object src\\arrow\\python\\CMakeFiles\\arrow_python_flight_shared.dir\\Unity\\unity_0_cxx.cxx.obj\r\n[128/349] Performing build step for 'googletest_ep'\r\n```",
        "created_at": "2022-02-28T20:37:09.000Z",
        "updated_at": "2022-03-01T16:15:15.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: C++",
            "Type: bug"
        ],
        "closed": false
    },
    "comments": [
        {
            "created_at": "2022-03-01T16:15:15.005Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15809?focusedCommentId=17499632) by David Li (lidavidm):*\nUpstream took down the abseil-cpp package (https://github.com/conda-forge/admin-requests/pull/393) so this is no longer happening. We'll work with them to test out the new package when it arrives (https://github.com/conda-forge/abseil-cpp-feedstock/pull/27)."
        }
    ]
}