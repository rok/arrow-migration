{
    "issue": {
        "title": "[JS] Arrow does not compile with Typescript 4.2",
        "body": "***Note**: This issue was originally created as [ARROW-12302](https://issues.apache.org/jira/browse/ARROW-12302). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\n```java\n\r\nyarn tsc\r\nyarn run v1.22.10\r\n$ /Users/dominik/Code/arrow/js/node_modules/.bin/tsc\r\nsrc/bin/arrow2csv.ts:104:24 - error TS7057: 'yield' expression implicitly results in an 'any' type because its containing generator lacks a return-type annotation.104             reader && (yield reader);\r\n                           ~~~~~~~~~~~~src/bin/arrow2csv.ts:115:28 - error TS7057: 'yield' expression implicitly results in an 'any' type because its containing generator lacks a return-type annotation.115                 reader && (yield reader);\r\n                               ~~~~~~~~~~~~src/interfaces.ts:255:5 - error TS2502: '[Type.List                 ]' is referenced directly or indirectly in its own type annotation.255     [Type.List                 ]: T extends type.List                 ? vecs.ListVector<T['valueType']>                     : never ;\r\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~src/interfaces.ts:258:5 - error TS2502: '[Type.FixedSizeList        ]' is referenced directly or indirectly in its own type annotation.258     [Type.FixedSizeList        ]: T extends type.FixedSizeList        ? vecs.FixedSizeListVector<T['valueType']>            : never ;\r\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~src/io/adapters.ts:207:25 - error TS2304: Cannot find name 'ReadableStreamBYOBReader'.207     private byobReader: ReadableStreamBYOBReader | null = null;\r\n                            ~~~~~~~~~~~~~~~~~~~~~~~~src/io/adapters.ts:209:21 - error TS2304: Cannot find name 'ReadableStreamBYOBReader'.209     private reader: ReadableStreamBYOBReader | ReadableStreamDefaultReader<T> | null;\r\n                        ~~~~~~~~~~~~~~~~~~~~~~~~src/io/adapters.ts:264:56 - error TS2554: Expected 0 arguments, but got 1.264             this.byobReader = this.source['getReader']({ mode: 'byob' });\r\n                                                           ~~~~~~~~~~~~~~~~src/io/adapters.ts:283:33 - error TS2304: Cannot find name 'ReadableStreamBYOBReader'.283 async function readInto(reader: ReadableStreamBYOBReader, buffer: ArrayBufferLike, offset: number, size: number): Promise<ReadableStreamReadResult<Uint8Array>> {\r\n                                    ~~~~~~~~~~~~~~~~~~~~~~~~src/io/adapters.ts:303:17 - error TS2322: Type '(value: [T, any] | PromiseLike<[T, any]>) => void' is not assignable to type '(value?: [T, any] | PromiseLike<[T, any]> | undefined) => void'.303         (r) => (resolve = r) && stream['once'](event, handler)\r\n                    ~~~~~~~src/io/adapters.ts:303:17 - error TS2322: Type '(value: [T, any] | PromiseLike<[T, any]>) => void' is not assignable to type '(value?: [T, any] | PromiseLike<[T, any]> | undefined) => void'.\r\n  Types of parameters 'value' and 'value' are incompatible.\r\n    Type '[T, any] | PromiseLike<[T, any]> | undefined' is not assignable to type '[T, any] | PromiseLike<[T, any]>'.\r\n      Type 'undefined' is not assignable to type '[T, any] | PromiseLike<[T, any]>'.303         (r) => (resolve = r) && stream['once'](event, handler)\r\n                    ~~~~~~~src/io/adapters.ts:394:45 - error TS2794: Expected 1 arguments, but got 0. Did you forget to include 'void' in your type argument to 'Promise'?394                 err != null ? reject(err) : resolve();\r\n                                                ~~~~~~~~~  node_modules/typescript/lib/lib.es2015.promise.d.ts:33:34\r\n    33     new <T>(executor: (resolve: (value: T | PromiseLike<T>) => void, reject: (reason?: any) => void) => void): Promise<T>;\r\n                                        ~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    An argument for 'value' was not provided.src/io/interfaces.ts:79:58 - error TS2304: Cannot find name 'PipeOptions'.79     public pipeTo(writable: WritableStream<T>, options?: PipeOptions) { return this._getDOMStream().pipeTo(writable, options); }\r\n                                                            ~~~~~~~~~~~src/io/interfaces.ts:80:119 - error TS2304: Cannot find name 'PipeOptions'.80     public pipeThrough<R extends ReadableStream<any>>(duplex: { writable: WritableStream<T>, readable: R }, options?: PipeOptions) {\r\n                                                                                                                         ~~~~~~~~~~~src/io/interfaces.ts:169:39 - error TS2322: Type '(value: IteratorResult<TReadable, any> | PromiseLike<IteratorResult<TReadable, any>>) => void' is not assignable to type '(value?: IteratorResult<TReadable, any> | PromiseLike<IteratorResult<TReadable, any>> | undefined) => void'.\r\n  Types of parameters 'value' and 'value' are incompatible.\r\n    Type 'IteratorResult<TReadable, any> | PromiseLike<IteratorResult<TReadable, any>> | undefined' is not assignable to type 'IteratorResult<TReadable, any> | PromiseLike<IteratorResult<TReadable, any>>'.\r\n      Type 'undefined' is not assignable to type 'IteratorResult<TReadable, any> | PromiseLike<IteratorResult<TReadable, any>>'.169                 this.resolvers.push({ resolve, reject });\r\n                                          ~~~~~~~  src/io/interfaces.ts:96:24\r\n    96 type Resolution<T> = { resolve: (value?: T | PromiseLike<T>) => void; reject: (reason?: any) => void; };\r\n                              ~~~~~~~\r\n    The expected type comes from property 'resolve' which is declared here on type 'Resolution<IteratorResult<TReadable, any>>'src/io/whatwg/writer.ts:33:9 - error TS2322: Type 'string' is not assignable to type 'undefined'.33         type: 'bytes',\r\n           ~~~~src/recordbatch.ts:48:19 - error TS2394: This overload signature is not compatible with its implementation signature.48     public static from<T extends { [key: string]: DataType } = any, TNull = any>(options: VectorBuilderOptionsAsync<Struct<T>, TNull>): Promise<Table<T>>;\r\n                     ~~~~  src/recordbatch.ts:50:19\r\n    50     public static from<T extends { [key: string]: DataType } = any, TNull = any>(options: VectorBuilderOptions<Struct<T>, TNull> | VectorBuilderOptionsAsync<Struct<T>, TNull>) {\r\n                         ~~~~\r\n    The implementation signature is declared here.src/util/buffer.ts:89:11 - error TS2304: Cannot find name 'ReadableStreamReadResult'.89           ReadableStreamReadResult<ArrayBufferView | ArrayBufferLike | ArrayBufferView | Iterable<number> | ArrayLike<number> | ByteBuffer | string | null | undefined> ;\r\n             ~~~~~~~~~~~~~~~~~~~~~~~~src/vector/index.ts:88:55 - error TS2502: 'args' is referenced directly or indirectly in its own type annotation.88 function newVector<T extends DataType>(data: Data<T>, ...args: VectorCtorArgs<V<T>>): V<T> {\r\n                                                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~src/vector/map.ts:26:12 - error TS7023: 'asList' implicitly has return type 'any' because it does not have a return type annotation and is referenced directly or indirectly in one of its return expressions.26     public asList() {\r\n              ~~~~~~\r\nFound 19 errors.\r\n```\r\n\u00a0",
        "created_at": "2021-04-08T16:29:31.000Z",
        "updated_at": "2022-01-16T22:35:30.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: JavaScript",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2022-01-16T22:35:30.000Z"
    },
    "comments": [
        {
            "created_at": "2022-01-16T22:35:30.791Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-12302?focusedCommentId=17476892) by Dominik Moritz (domoritz):*\nDone in https://github.com/apache/arrow/pull/10371"
        }
    ]
}