{
    "issue": {
        "title": "[R] Support for codec 'snappy' not built",
        "body": "***Note**: This issue was originally created as [ARROW-15047](https://issues.apache.org/jira/browse/ARROW-15047). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\n`read_parquet` returns error `NotImplemented: Support for codec 'snappy' not built`:\r\n```r\n\r\n> library(arrow)\r\nSee arrow_info() for available features\r\n\r\nAttaching package: \u2018arrow\u2019\r\n\r\nThe following object is masked from \u2018package:utils\u2019:\r\n\r\n    timestamp\r\n\r\n> read_parquet(\"data.parquet\")\r\nError: NotImplemented: Support for codec 'snappy' not built\r\nIn order to read this file, you will need to reinstall arrow with additional features enabled.\r\nSet one of these environment variables before installing:\r\n\r\n * LIBARROW_MINIMAL=false (for all optional features, including 'snappy')\r\n * ARROW_WITH_SNAPPY=ON (for just 'snappy')\r\n\r\nSee https://arrow.apache.org/docs/r/articles/install.html for details\r\n\r\n```\r\n\r\nPackage info:\r\n```r\n\r\n\r\n\r\n> arrow_info()\r\nArrow package version: 6.0.1\r\n\r\nCapabilities:\r\n\r\ndataset    TRUE\r\nparquet    TRUE\r\njson       TRUE\r\ns3        FALSE\r\nutf8proc   TRUE\r\nre2        TRUE\r\nsnappy    FALSE\r\ngzip      FALSE\r\nbrotli    FALSE\r\nzstd      FALSE\r\nlz4       FALSE\r\nlz4_frame FALSE\r\nlzo       FALSE\r\nbz2       FALSE\r\njemalloc  FALSE\r\nmimalloc  FALSE\r\n\r\nTo reinstall with more optional capabilities enabled, see\r\n   https://arrow.apache.org/docs/r/articles/install.html\r\n\r\nMemory:\r\n\r\nAllocator  system\r\nCurrent   0 bytes\r\nMax       0 bytes\r\n\r\nRuntime:\r\n\r\nSIMD Level          avx512\r\nDetected SIMD Level avx512\r\n\r\nBuild:\r\n\r\nC++ Library Version   6.0.1\r\nC++ Compiler            GNU\r\nC++ Compiler Version 11.1.0\r\n\r\n```\r\n\r\n\r\nBuild log:\r\n```\n\r\n\r\n> install.packages(\"arrow\")\r\nInstalling package into \u2018/home/gkobeaga/R/x86_64-pc-linux-gnu-library/4.1\u2019\r\n\r\ntrying URL 'https://ftp.cixug.es/CRAN/src/contrib/arrow_6.0.1.tar.gz'\r\nContent type 'application/x-gzip' length 4774511 bytes (4.6 MB)\r\n==================================================\r\ndownloaded 4.6 MB\r\n\r\n* installing *source* package \u2018arrow\u2019 ...\r\n** package \u2018arrow\u2019 successfully unpacked and MD5 sums checked\r\n** using staged installation\r\n*** Found local C++ source: 'tools/cpp'\r\n*** Building C++ libraries\r\n**** arrow\r\nPKG_CFLAGS=-I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/libarrow/arrow-6.0.1/include  -DARR\r\nOW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATASET -DARROW_R_WITH_JSON\r\nPKG_LIBS=-L/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/libarrow/arrow-6.0.1/lib -larrow_data\r\nset -lparquet -larrow -larrow -larrow_bundled_dependencies -larrow_dataset -lparquet\r\n** libs\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c RTasks.cpp -o RTasks.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c altrep.cpp -o altrep.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c array.cpp -o array.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c array_to_vector.cpp -o array_to_vector.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c arraydata.cpp -o arraydata.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c arrowExports.cpp -o arrowExports.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c buffer.cpp -o buffer.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c chunkedarray.cpp -o chunkedarray.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c compression.cpp -o compression.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c compute-exec.cpp -o compute-exec.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c compute.cpp -o compute.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c config.cpp -o config.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c csv.cpp -o csv.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c dataset.cpp -o dataset.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c datatype.cpp -o datatype.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c expression.cpp -o expression.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c feather.cpp -o feather.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c field.cpp -o field.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c filesystem.cpp -o filesystem.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c imports.cpp -o imports.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c io.cpp -o io.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c json.cpp -o json.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c memorypool.cpp -o memorypool.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c message.cpp -o message.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c parquet.cpp -o parquet.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c py-to-r.cpp -o py-to-r.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c r_to_arrow.cpp -o r_to_arrow.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c recordbatch.cpp -o recordbatch.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c recordbatchreader.cpp -o recordbatchreader.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c recordbatchwriter.cpp -o recordbatchwriter.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c scalar.cpp -o scalar.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c schema.cpp -o schema.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c symbols.cpp -o symbols.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c table.cpp -o table.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c threadpool.cpp -o threadpool.o\r\ng++ -std=gnu++11 -I\"/usr/include/R/\" -DNDEBUG -I/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arrow/\r\nlibarrow/arrow-6.0.1/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_PARQUET -DARROW_R_WITH_DATA\r\nSET -DARROW_R_WITH_JSON -I../inst/include/  -D_FORTIFY_SOURCE=2   -fpic  -march=x86-64 -mtune\r\n=generic -O2 -pipe -fno-plt  -c type_infer.cpp -o type_infer.o\r\ng++ -std=gnu++11 -shared -L/usr/lib64/R/lib -Wl,-O1,--sort-common,--as-needed,-z,relro,-z,now\r\n -o arrow.so RTasks.o altrep.o array.o array_to_vector.o arraydata.o arrowExports.o buffer.o\r\nchunkedarray.o compression.o compute-exec.o compute.o config.o csv.o dataset.o datatype.o exp\r\nression.o feather.o field.o filesystem.o imports.o io.o json.o memorypool.o message.o parquet\r\n.o py-to-r.o r_to_arrow.o recordbatch.o recordbatchreader.o recordbatchwriter.o scalar.o sche\r\nma.o symbols.o table.o threadpool.o type_infer.o -L/tmp/Rtmp8RvB3e/R.INSTALL18bab269ad532/arr\r\now/libarrow/arrow-6.0.1/lib -larrow_dataset -lparquet -larrow -larrow -larrow_bundled_depende\r\nncies -larrow_dataset -lparquet -L/usr/lib64/R/lib -lR\r\ninstalling to /home/gkobeaga/R/x86_64-pc-linux-gnu-library/4.1/00LOCK-arrow/00new/arrow/libs\r\n** R\r\n** inst\r\n** byte-compile and prepare package for lazy loading\r\n** help\r\n*** installing help indices\r\n** building package indices\r\n** installing vignettes\r\n** testing if installed package can be loaded from temporary location\r\n** checking absolute paths in shared objects and dynamic libraries\r\n** testing if installed package can be loaded from final location\r\n** testing if installed package keeps a record of temporary installation path\r\n* DONE (arrow)\r\n\r\nThe downloaded source packages are in\r\n        \u2018/tmp/RtmpeuZcdE/downloaded_packages\u2019\r\n```\r\n",
        "created_at": "2021-12-09T18:59:33.000Z",
        "updated_at": "2021-12-18T09:51:04.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: R",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2021-12-16T15:24:52.000Z"
    },
    "comments": [
        {
            "created_at": "2021-12-09T19:15:52.724Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15047?focusedCommentId=17456686) by Will Jones (willjones127):*\nHi Gorka, did you try following the instructions provided in the error message? In order to build optional components you need to set an environment variable before building. Try:\r\n\r\n```R\n\r\nSys.setenv(LIBARROW_MINIMAL = \"false\")\r\ninstall.packages(\"arrow\")\r\n```"
        },
        {
            "created_at": "2021-12-09T21:08:13.659Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15047?focusedCommentId=17456732) by Gorka Kobeaga (gkobeaga):*\nHi Will. Thanks! Setting the environment variable solved the problem. \r\n\r\nI didn't realize that the hint was from the R package, I thought it was from the cpp library itself. Perhaps, it would be clearer with an R error message like:\r\n\r\n```r\n\r\n * Sys.setenv(LIBARROW_MINIMAL=\"false\") (for all optional features, including 'snappy')\r\n * Sys.setenv(ARROW_WITH_SNAPPY=\"ON\") (for just 'snappy')\r\n```"
        },
        {
            "created_at": "2021-12-09T22:12:56.864Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15047?focusedCommentId=17456771) by Will Jones (willjones127):*\nSure that suggestion makes sense to me. I appreciate the feedback."
        },
        {
            "created_at": "2021-12-09T22:17:45.391Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15047?focusedCommentId=17456776) by Jonathan Keane (jonkeane):*\nAlso good to know: starting in 7.0.0 snappy will be enabled by default. We've spent a bunch of time confirming that this would work on CRAN and all of the platforms we support."
        },
        {
            "created_at": "2021-12-16T15:24:52.270Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-15047?focusedCommentId=17460809) by Jonathan Keane (jonkeane):*\nIssue resolved by pull request 11924\n<https://github.com/apache/arrow/pull/11924>"
        }
    ]
}