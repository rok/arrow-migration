{
    "issue": {
        "title": "Update gandiva protobuf compilation support to include M1",
        "body": "***Note**: This issue was originally created as [ARROW-16532](https://issues.apache.org/jira/browse/ARROW-16532). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nGandiva needs to generate Protobuf Java sources from the definitions, and this relies on a JAR that has the native Protobuf compiler embedded in it - but the current package doesn't have an ARMv8 build available. \u00a0protobuf-java\u00a0version 3.20.1 does have M1 support.\r\n\u00a0\r\nThis means that building from source as\u00a0documented (https://arrow.apache.org/docs/developers/java/building.html) cannot be done on M1 as the following exception occurs:\r\n\u00a0\r\n\r\n{{{{[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  03:38 min\r\n[INFO] Finished at: 2022-05-10T16:19:24-04:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.xolstice.maven.plugins:protobuf-maven-plugin:0.6.1:compile (default) on project arrow-gandiva: Unable to resolve artifact: Missing:\r\n[ERROR] ----------\r\n[ERROR] 1) com.google.protobuf:protoc:exe:osx-aarch_64:2.5.0\r\n[ERROR]\r\n[ERROR]   Try downloading the file manually from the project website.\r\n[ERROR]\r\n[ERROR]   Then, install it using the command:\r\n[ERROR]       mvn install:install-file -DgroupId=com.google.protobuf -DartifactId=protoc -Dversion=2.5.0 -Dclassifier=osx-aarch_64 -Dpackaging=exe -Dfile=/path/to/file\r\n[ERROR]\r\n[ERROR]   Alternatively, if you host your own repository you can deploy the file there:\r\n[ERROR]       mvn deploy:deploy-file -DgroupId=com.google.protobuf -DartifactId=protoc -Dversion=2.5.0 -Dclassifier=osx-aarch_64 -Dpackaging=exe -Dfile=/path/to/file -Durl=[url] -DrepositoryId=[id]\r\n[ERROR]\r\n[ERROR]   Path to dependency:\r\n[ERROR]     1) org.apache.arrow.gandiva:arrow-gandiva:jar:9.0.0-SNAPSHOT\r\n[ERROR]     2) com.google.protobuf:protoc:exe:osx-aarch_64:2.5.0\r\n[ERROR]\r\n[ERROR] ----------\r\n[ERROR] 1 required artifact is missing.\r\n[ERROR]\r\n[ERROR] for artifact:\r\n[ERROR]   org.apache.arrow.gandiva:arrow-gandiva:jar:9.0.0-SNAPSHOT\r\n[ERROR]\r\n[ERROR] from the specified remote repositories:\r\n[ERROR]   apache.snapshots (https://repository.apache.org/snapshots, releases=false, snapshots=true),\r\n[ERROR]   central (https://repo.maven.apache.org/maven2, releases=true, snapshots=false)\r\n[ERROR]\r\n[ERROR] -> [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n[ERROR]\r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn <args> -rf :arrow-gandiva}}}}\r\n\u00a0\r\n\u00a0\r\n\u00a0",
        "created_at": "2022-05-11T18:06:33.000Z",
        "updated_at": "2022-05-11T18:12:43.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: Java",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2022-05-11T18:12:43.000Z"
    },
    "comments": []
}