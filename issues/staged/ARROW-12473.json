{
    "issue": {
        "title": "error: \u2018parquet\u2019 was not declared in this scope",
        "body": "***Note**: This issue was originally created as [ARROW-12473](https://issues.apache.org/jira/browse/ARROW-12473). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nI' m trying to install from\r\n\r\nand when I get to R CMD INSTALL . I get https://github.com/apache/arrow/commit/2b2eeeb7ef751eadb4f49ea616bf5c1c852c707a\r\n\r\n```java\n\r\n$ R CMD INSTALL .\r\n* installing to library \u2018/home/pacha/R/x86_64-pc-linux-gnu-library/4.0\u2019\r\n* installing *source* package \u2018arrow\u2019 ...\r\n** using staged installation\r\n*** Generating code with data-raw/codegen.R\r\n*** > 416 functions decorated with [[arrow|dataset|parquet|s3::export]]\r\n*** > `src/arrowExports.cpp` not modified\r\n*** > `R/arrowExports.R` not modified\r\n*** Using ARROW_HOME as the source of libarrow\r\nPKG_CFLAGS=-I/home/pacha/.arrow/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_DATASET -DARROW_R_WITH_S3\r\nPKG_LIBS=-L/home/pacha/.arrow/lib -larrow_dataset -larrow \r\n** libs\r\ng++ -std=gnu++11 -I\"/usr/share/R/include\" -DNDEBUG -I/home/pacha/.arrow/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_DATASET -DARROW_R_WITH_S3 -I'/usr/lib/R/site-library/cpp11/include'    -fpic  -g -O2 -fdebug-prefix-map=/build/r-base-tRgc13/r-base-4.0.5=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g  -c array.cpp -o array.o\r\ng++ -std=gnu++11 -I\"/usr/share/R/include\" -DNDEBUG -I/home/pacha/.arrow/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_DATASET -DARROW_R_WITH_S3 -I'/usr/lib/R/site-library/cpp11/include'    -fpic  -g -O2 -fdebug-prefix-map=/build/r-base-tRgc13/r-base-4.0.5=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g  -c array_to_vector.cpp -o array_to_vector.o\r\ng++ -std=gnu++11 -I\"/usr/share/R/include\" -DNDEBUG -I/home/pacha/.arrow/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_DATASET -DARROW_R_WITH_S3 -I'/usr/lib/R/site-library/cpp11/include'    -fpic  -g -O2 -fdebug-prefix-map=/build/r-base-tRgc13/r-base-4.0.5=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g  -c arraydata.cpp -o arraydata.o\r\ng++ -std=gnu++11 -I\"/usr/share/R/include\" -DNDEBUG -I/home/pacha/.arrow/include  -DARROW_R_WITH_ARROW -DARROW_R_WITH_DATASET -DARROW_R_WITH_S3 -I'/usr/lib/R/site-library/cpp11/include'    -fpic  -g -O2 -fdebug-prefix-map=/build/r-base-tRgc13/r-base-4.0.5=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -g  -c arrowExports.cpp -o arrowExports.o\r\narrowExports.cpp:1646:131: error: \u2018parquet\u2019 was not declared in this scope\r\n 1646 | void dataset___ParquetFileWriteOptions__update(const std::shared_ptr<ds::ParquetFileWriteOptions>& options, const std::shared_ptr<parquet::WriterProperties>& writer_props, const std::shared_ptr<parquet::ArrowWriterProperties>& arrow_writer_props);\r\n      |                                                                                                                                   ^~~~~~~\r\narrowExports.cpp:1646:156: error: template argument 1 is invalid\r\n 1646 | void dataset___ParquetFileWriteOptions__update(const std::shared_ptr<ds::ParquetFileWriteOptions>& options, const std::shared_ptr<parquet::WriterProperties>& writer_props, const std::shared_ptr<parquet::ArrowWriterProperties>& arrow_writer_props);\r\n      |                                                                                                                                                            ^\r\narrowExports.cpp:1646:131: error: \u2018parquet\u2019 was not declared in this scope\r\n 1646 | void dataset___ParquetFileWriteOptions__update(const std::shared_ptr<ds::ParquetFileWriteOptions>& options, const std::shared_ptr<parquet::WriterProperties>& writer_props, const std::shared_ptr<parquet::ArrowWriterProperties>& arrow_writer_props);\r\n      |                                                                                                                                   ^~~~~~~\r\narrowExports.cpp:1646:156: error: template argument 1 is invalid\r\n 1646 | void dataset___ParquetFileWriteOptions__update(const std::shared_ptr<ds::ParquetFileWriteOptions>& options, const std::shared_ptr<parquet::WriterProperties>& writer_props, const std::shared_ptr<parquet::ArrowWriterProperties>& arrow_writer_props);\r\n      |                                                                                                                                                            ^\r\narrowExports.cpp:1646:131: error: \u2018parquet\u2019 was not declared in this scope\r\n 1646 | void dataset___ParquetFileWriteOptions__update(const std::shared_ptr<ds::ParquetFileWriteOptions>& options, const std::shared_ptr<parquet::WriterProperties>& writer_props, const std::shared_ptr<parquet::ArrowWriterProperties>& arrow_writer_props);\r\n      |                                                                                                                                   ^~~~~~~\r\narrowExports.cpp:1646:156: error: template argument 1 is invalid\r\n 1646 | void dataset___ParquetFileWriteOptions__update(const std::shared_ptr<ds::ParquetFileWriteOptions>& options, const std::shared_ptr<parquet::WriterProperties>& writer_props, const std::shared_ptr<parquet::ArrowWriterProperties>& arrow_writer_props);\r\n      |                                                                                                                                                            ^\r\narrowExports.cpp:1646:131: error: \u2018parquet\u2019 was not declared in this scope\r\n 1646 | void dataset___ParquetFileWriteOptions__update(const std::shared_ptr<ds::ParquetFileWriteOptions>& options, const std::shared_ptr<parquet::WriterProperties>& writer_props, const std::shared_ptr<parquet::ArrowWriterProperties>& arrow_writer_props);\r\n      |                                                                                                                                   ^~~~~~~\r\narrowExports.cpp:1646:156: error: template argument 1 is invalid\r\n 1646 | void dataset___ParquetFileWriteOptions__update(const std::shared_ptr<ds::ParquetFileWriteOptions>& options, const std::shared_ptr<parquet::WriterProperties>& writer_props, const std::shared_ptr<parquet::ArrowWriterProperties>& arrow_writer_props);\r\n      |                                                                                                                                                            ^\r\narrowExports.cpp:1646:131: error: \u2018parquet\u2019 was not declared in this scope\r\n 1646 | void dataset___ParquetFileWriteOptions__update(const std::shared_ptr<ds::ParquetFileWriteOptions>& options, const std::shared_ptr<parquet::WriterProperties>& writer_props, const std::shared_ptr<parquet::ArrowWriterProperties>& arrow_writer_props);\r\n      |                                                                                                                                   ^~~~~~~\r\narrowExports.cpp:1646:156: error: template argument 1 is invalid\r\n 1646 | void dataset___ParquetFileWriteOptions__update(const std::shared_ptr<ds::ParquetFileWriteOptions>& options, const std::shared_ptr<parquet::WriterProperties>& writer_props, const std::shared_ptr<parquet::ArrowWriterProperties>& arrow_writer_props);\r\n      |                                                                                                                                                            ^\r\narrowExports.cpp:1646:115: error: invalid use of template-name \u2018std::shared_ptr\u2019 without an argument list\r\n 1646 | void dataset___ParquetFileWriteOptions__update(const std::shared_ptr<ds::ParquetFileWriteOptions>& options, const std::shared_ptr<parquet::WriterProperties>& writer_props, const std::shared_ptr<parquet::ArrowWriterProperties>& arrow_writer_props);\r\n      |                                                                                                                   ^~~\r\narrowExports.cpp:1646:115: note: class template argument deduction is only available with \u2018-std=c++17\u2019 or \u2018-std=gnu++17\u2019\r\nIn file included from /usr/include/c++/9/bits/shared_ptr.h:52,\r\n                 from /usr/include/c++/9/memory:81,\r\n                 from /usr/lib/R/site-library/cpp11/include/cpp11/as.hpp:5,\r\n                 from /usr/lib/R/site-library/cpp11/include/cpp11.hpp:5,\r\n                 from arrowExports.cpp:2:\r\n/usr/include/c++/9/bits/shared_ptr_base.h:348:11: note: \u2018template<class _Tp> class std::shared_ptr\u2019 declared here\r\n  348 |     class shared_ptr;\r\n      |           ^~~~~~~~~~\r\narrowExports.cpp:1646:130: error: expected \u2018,\u2019 or \u2018...\u2019 before \u2018<\u2019 token\r\n 1646 | void dataset___ParquetFileWriteOptions__update(const std::shared_ptr<ds::ParquetFileWriteOptions>& options, const std::shared_ptr<parquet::WriterProperties>& writer_props, const std::shared_ptr<parquet::ArrowWriterProperties>& arrow_writer_props);\r\n      |                                                                                                                                  ^\r\narrowExports.cpp: In function \u2018SEXPREC* _arrow_dataset___ParquetFileWriteOptions__update(SEXP, SEXP, SEXP)\u2019:\r\narrowExports.cpp:1650:40: error: \u2018parquet\u2019 was not declared in this scope\r\n 1650 |  arrow::r::Input<const std::shared_ptr<parquet::WriterProperties>&>::type writer_props(writer_props_sexp);\r\n      |                                        ^~~~~~~\r\narrowExports.cpp:1650:65: error: template argument 1 is invalid\r\n 1650 |  arrow::r::Input<const std::shared_ptr<parquet::WriterProperties>&>::type writer_props(writer_props_sexp);\r\n      |                                                                 ^\r\narrowExports.cpp:1650:67: error: template argument 1 is invalid\r\n 1650 |  arrow::r::Input<const std::shared_ptr<parquet::WriterProperties>&>::type writer_props(writer_props_sexp);\r\n      |                                                                   ^\r\narrowExports.cpp:1650:75: error: qualified-id in declaration before \u2018writer_props\u2019\r\n 1650 |  arrow::r::Input<const std::shared_ptr<parquet::WriterProperties>&>::type writer_props(writer_props_sexp);\r\n      |                                                                           ^~~~~~~~~~~~\r\narrowExports.cpp:1651:72: error: template argument 1 is invalid\r\n 1651 |  arrow::r::Input<const std::shared_ptr<parquet::ArrowWriterProperties>&>::type arrow_writer_props(arrow_writer_props_sexp);\r\n      |                                                                        ^\r\narrowExports.cpp:1651:80: error: qualified-id in declaration before \u2018arrow_writer_props\u2019\r\n 1651 |  arrow::r::Input<const std::shared_ptr<parquet::ArrowWriterProperties>&>::type arrow_writer_props(arrow_writer_props_sexp);\r\n      |                                                                                ^~~~~~~~~~~~~~~~~~\r\narrowExports.cpp:1652:53: error: \u2018writer_props\u2019 was not declared in this scope; did you mean \u2018writer_props_sexp\u2019?\r\n 1652 |  dataset___ParquetFileWriteOptions__update(options, writer_props, arrow_writer_props);\r\n      |                                                     ^~~~~~~~~~~~\r\n      |                                                     writer_props_sexp\r\narrowExports.cpp:1652:67: error: \u2018arrow_writer_props\u2019 was not declared in this scope; did you mean \u2018arrow_writer_props_sexp\u2019?\r\n 1652 |  dataset___ParquetFileWriteOptions__update(options, writer_props, arrow_writer_props);\r\n      |                                                                   ^~~~~~~~~~~~~~~~~~\r\n      |                                                                   arrow_writer_props_sexp\r\nmake: *** [/usr/lib/R/etc/Makeconf:181: arrowExports.o] Error 1\r\nERROR: compilation failed for package \u2018arrow\u2019\r\n* removing \u2018/home/pacha/R/x86_64-pc-linux-gnu-library/4.0/arrow\u2019\r\n```\r\n",
        "created_at": "2021-04-19T23:20:35.000Z",
        "updated_at": "2021-04-20T15:03:56.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: R",
            "Type: task"
        ],
        "closed": true,
        "closed_at": "2021-04-20T15:03:56.000Z"
    },
    "comments": []
}