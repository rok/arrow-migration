{
    "issue": {
        "title": "[C++] Reference benchmarks fail compiling",
        "body": "***Note**: This issue was originally created as [ARROW-7408](https://issues.apache.org/jira/browse/ARROW-7408). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\n```Java\n\r\n../src/arrow/util/compression_benchmark.cc:72:23: warning: 'MakeCompressor' is deprecated: Use Result-returning version [-Wdeprecated-declarations]\r\n  ABORT_NOT_OK(codec->MakeCompressor(&compressor));\r\n                      ^\r\n../src/arrow/util/compression.h:189:3: note: 'MakeCompressor' has been explicitly marked deprecated here\r\n  ARROW_DEPRECATED(\"Use Result-returning version\")\r\n  ^\r\n../src/arrow/util/macros.h:96:48: note: expanded from macro 'ARROW_DEPRECATED'\r\n#  define ARROW_DEPRECATED(...) __attribute__((deprecated(__VA_ARGS__)))\r\n                                               ^\r\n../src/arrow/util/compression_benchmark.cc:83:61: error: too many arguments to function call, expected 4, have 6\r\n                                      output_buffer.data(), &bytes_read, &bytes_written));\r\n                                                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n../src/arrow/testing/gtest_util.h:108:18: note: expanded from macro 'ABORT_NOT_OK'\r\n    auto _res = (expr);                                             \\\r\n                 ^~~~\r\n../src/arrow/util/compression.h:62:3: note: 'Compress' declared here\r\n  virtual Result<CompressResult> Compress(int64_t input_len, const uint8_t* input,\r\n  ^\r\n../src/arrow/util/compression_benchmark.cc:101:34: error: too many arguments to function call, expected 2, have 4\r\n                                 &bytes_written, &should_retry));\r\n                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n../src/arrow/testing/gtest_util.h:108:18: note: expanded from macro 'ABORT_NOT_OK'\r\n    auto _res = (expr);                                             \\\r\n                 ^~~~\r\n../src/arrow/util/compression.h:77:3: note: 'End' declared here\r\n  virtual Result<EndResult> End(int64_t output_len, uint8_t* output) = 0;\r\n  ^\r\n../src/arrow/util/compression_benchmark.cc:121:45: error: variable 'codec' declared with deduced type 'auto' cannot appear in its own initializer\r\n  auto codec = *Codec::Create(compression, &codec);\r\n                                            ^\r\n../src/arrow/util/compression_benchmark.cc:143:23: warning: 'Create' is deprecated: Use Result-returning version [-Wdeprecated-declarations]\r\n  ABORT_NOT_OK(Codec::Create(compression, &codec));\r\n                      ^\r\n../src/arrow/util/compression.h:170:3: note: 'Create' has been explicitly marked deprecated here\r\n  ARROW_DEPRECATED(\"Use Result-returning version\")\r\n  ^\r\n../src/arrow/util/macros.h:96:48: note: expanded from macro 'ARROW_DEPRECATED'\r\n#  define ARROW_DEPRECATED(...) __attribute__((deprecated(__VA_ARGS__)))\r\n                                               ^\r\n../src/arrow/util/compression_benchmark.cc:152:25: warning: 'MakeDecompressor' is deprecated: Use Result-returning version [-Wdeprecated-declarations]\r\n    ABORT_NOT_OK(codec->MakeDecompressor(&decompressor));\r\n                        ^\r\n../src/arrow/util/compression.h:193:3: note: 'MakeDecompressor' has been explicitly marked deprecated here\r\n  ARROW_DEPRECATED(\"Use Result-returning version\")\r\n  ^\r\n../src/arrow/util/macros.h:96:48: note: expanded from macro 'ARROW_DEPRECATED'\r\n#  define ARROW_DEPRECATED(...) __attribute__((deprecated(__VA_ARGS__)))\r\n                                               ^\r\n../src/arrow/util/compression_benchmark.cc:163:67: error: too many arguments to function call, expected 4, have 7\r\n                                            output_buffer.data(), &bytes_read,\r\n                                                                  ^~~~~~~~~~~~\r\n../src/arrow/testing/gtest_util.h:108:18: note: expanded from macro 'ABORT_NOT_OK'\r\n    auto _res = (expr);                                             \\\r\n                 ^~~~\r\n../src/arrow/util/compression.h:99:3: note: 'Decompress' declared here\r\n  virtual Result<DecompressResult> Decompress(int64_t input_len, const uint8_t* input,\r\n  ^\r\n3 warnings and 4 errors generated.\r\n```",
        "created_at": "2019-12-17T11:20:11.000Z",
        "updated_at": "2019-12-17T21:56:14.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: C++",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2019-12-17T21:56:14.000Z"
    },
    "comments": [
        {
            "created_at": "2019-12-17T21:56:14.825Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-7408?focusedCommentId=16998620) by Kouhei Sutou (kou):*\nIssue resolved by pull request 6047\n<https://github.com/apache/arrow/pull/6047>"
        }
    ]
}