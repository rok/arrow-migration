{
    "issue": {
        "title": "[C++] vcpkg arrow port ArrowDataset component usage",
        "body": "***Note**: This issue was originally created as [ARROW-14681](https://issues.apache.org/jira/browse/ARROW-14681). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nvcpkg arrow port (<https://github.com/microsoft/vcpkg/tree/master/ports/arrow)>\u00a0installs not only arrow but also other arrow components such as ArrowDataset/ArrowFlight. After installation, I can use `find_package(Arrow)` in CMake/vcpkg to find the arrow package and use it. But I wonder how I can use other components such as ArrowDataset. I tried using it in CMake like below:\r\n\r\n1)\u00a0`find_package(ArrowDataset REQUIRED)`\r\n\r\nCMake will report error like below:\r\n> \u2013 _find_package pkg_name=ArrowDataset args=REQUIRED\n> CMake Error at /Users/ss/dev/tools/vcpkg/scripts/buildsystems/vcpkg.cmake:789 (_find_package):\n> By not providing \"FindArrowDataset.cmake\" in CMAKE_MODULE_PATH this project\n> has asked CMake to find a package configuration file provided by\n> \"ArrowDataset\", but CMake did not find one.\n> \n> Could not find a package configuration file provided by \"ArrowDataset\" with\n> any of the following names:\n> \n> ArrowDatasetConfig.cmake\n> arrowdataset-config.cmake\n> \n> Add the installation prefix of \"ArrowDataset\" to CMAKE_PREFIX_PATH or set\n> \"ArrowDataset_DIR\" to a directory containing one of the above files. \u00a0If\n> \"ArrowDataset\" provides a separate development package or SDK, be sure it\n> has been installed.\r\n\u00a0\r\n\r\n2) `find_package(Arrow CONFIGS ArrowDatasetConfig.cmake REQUIRED)`\r\n\r\nThe ArrowDatasetConfig.cmake can be found, however, it tries to find Parquet internally and still failed with error like below:\r\n> \u2013 _find_package pkg_name=Arrow args=CONFIGS;ArrowDatasetConfig.cmake;REQUIRED\n> \u2013 _find_package pkg_name=Arrow args=REQUIRED\n> \u2013 _find_package pkg_name=Threads args=REQUIRED\n> \u2013 _find_package pkg_name=Snappy args=REQUIRED\n> \u2013 _find_package pkg_name=PkgConfig args=QUIET\n> \u2013 _find_package pkg_name=Threads args=REQUIRED\n> \u2013 _find_package pkg_name=Thrift args=REQUIRED\n> \u2013 Found thrift: /Users/ss/dev/tools/vcpkg/installed/x64-osx\n> \u2013 _find_package pkg_name=Threads args=QUIET\n> \u2013 _find_package pkg_name=lz4 args=REQUIRED\n> \u2013 _find_package pkg_name=zstd args=REQUIRED\n> \u2013 _find_package pkg_name=re2Alt args=REQUIRED\n> \u2013 _find_package pkg_name=re2 args=\n> \u2013 _find_package pkg_name=BZip2 args=REQUIRED\n> \u2013 _find_package pkg_name=unofficial-utf8proc args=REQUIRED\n> \u2013 _find_package pkg_name=c-ares args=\n> \u2013 _find_package pkg_name=c-ares args=CONFIG\n> \u2013 _find_package pkg_name=absl args=CONFIG\n> \u2013 _find_package pkg_name=Threads args=\n> \u2013 _find_package pkg_name=upb args=CONFIG;REQUIRED\n> \u2013 _find_package pkg_name=Parquet args=REQUIRED\n> CMake Error at /Users/ss/dev/tools/vcpkg/scripts/buildsystems/vcpkg.cmake:789 (_find_package):\n> By not providing \"FindParquet.cmake\" in CMAKE_MODULE_PATH this project has\n> asked CMake to find a package configuration file provided by \"Parquet\", but\n> CMake did not find one.\n> \n> Could not find a package configuration file provided by \"Parquet\" with any\n> of the following names:\n> \n> ParquetConfig.cmake\n> parquet-config.cmake\n> \n> Add the installation prefix of \"Parquet\" to CMAKE_PREFIX_PATH or set\n> \"Parquet_DIR\" to a directory containing one of the above files. \u00a0If\n> \"Parquet\" provides a separate development package or SDK, be sure it has\n> been installed.\n> Call Stack (most recent call first):\n> /usr/local/Cellar/cmake/3.21.3_1/share/cmake/Modules/CMakeFindDependencyMacro.cmake:47 (find_package)\n> /Users/ss/dev/tools/vcpkg/installed/x64-osx/share/arrow/ArrowDatasetConfig.cmake:55 (find_dependency)\n> /Users/ss/dev/tools/vcpkg/scripts/buildsystems/vcpkg.cmake:789 (_find_package)\r\nIs there any instruction describing how this could be done? Thanks.",
        "created_at": "2021-11-11T23:39:12.000Z",
        "updated_at": "2021-11-12T00:39:29.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: C++",
            "Type: enhancement"
        ],
        "closed": false
    },
    "comments": [
        {
            "created_at": "2021-11-12T00:39:29.252Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-14681?focusedCommentId=17442521) by Kouhei Sutou (kou):*\nThis is an our CMake package problem.\r\nWe hope that we can fix this in the next release.\r\n\r\nWorkaround:\r\n\r\n```\n\r\nfind_package(Arrow REQUIRED)\r\nget_filename_component(ARROW_SEARCH_DIR ${Arrow_CONFIG} DIRECTORY)\r\nfind_package(ArrowDataset REQUIRED HINTS ${ARROW_SEARCH_DIR})\r\n```\r\n\r\nSee also: ARROW-12175"
        }
    ]
}