{
    "issue": {
        "title": "[R][Python] DLL ImportError loading pyarrow with reticulate",
        "body": "***Note**: This issue was originally created as [ARROW-13329](https://issues.apache.org/jira/browse/ARROW-13329). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\nHi,\r\n\r\n\u00a0\r\n\r\nI'm trying to use arrow flight through reticulate but am getting the following error when calling any function from the library.\r\n\r\nError in py_module_import(module, convert = convert) : \r\n ImportError: DLL load failed while importing lib: The specified procedure could not be found.\r\n\r\n\u00a0\r\n\r\nI set up a virtual environment as such:\r\n\r\nvirtualenv_create(\r\n envname ='...',\r\n python='C:/Users/.../AppData/Local/Programs/Python/Python39/python.exe',\r\n packages=c('pandas','xlsxwriter','pyarrow')\r\n)\r\n\r\nI can't use the\u00a0arrow::install_pyarrow() command because I don't have conda installed.\r\n\r\n\u00a0\r\n\r\nAny help would be appreciated.\r\n\r\n\u00a0\r\n\r\nRegards\r\n\r\n\u00a0\r\n\r\n\u00a0",
        "created_at": "2021-07-13T20:01:14.000Z",
        "updated_at": "2022-03-11T16:47:43.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: Python",
            "Component: R",
            "Type: bug"
        ],
        "closed": false
    },
    "comments": [
        {
            "created_at": "2021-08-17T13:31:22.710Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-13329?focusedCommentId=17400392) by Neal Richardson (npr):*\ninstall_pyarrow() takes ... arguments that pass through to reticulate::py_install() so you should be able to tell it not to use conda or miniconda.\r\n\r\nI'm not a reticulate expert but I wonder if you've got different python versions in play, or something. Would need more details on your environment to say more."
        },
        {
            "created_at": "2022-03-11T16:26:12.286Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-13329?focusedCommentId=17504994) by Chris Dunderdale (ThatStatsGuy):*\n`[~npr]` Just ran into the same problem today, unfortunately. I haven't got a solution for this, but I can replicate a similar scenario using the following steps:\r\n1. Start with fresh windows (newly spun up VM on Azure) - Windows 10 20h2-pro-g2\n1. Download and install R (4.13) from CRAN\n1. Download and install RTools40 (asked for by reticulate/arrow packages when installing)\n1. As per RTools website, setup the .REnviron fille for the make.exe path\n1. Download and install RStudio 2022.02.0 Build 443 from the RStudio website\n1. In R\u00a0\n   \n   {code:java}\n   install.packages(reticulate)\n### Details\r\npackage \u2018rprojroot\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018Rcpp\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018RcppTOML\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018here\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018jsonlite\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018png\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018rappdirs\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018withr\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018reticulate\u2019 successfully unpacked and MD5 sums checked\r\n```Java\n\r\n{code:java}\r\ninstall.packages(arrow)\r\n### Details\r\npackage \u2018bit\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018magrittr\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018ellipsis\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018glue\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018assertthat\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018bit64\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018purrr\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018R6\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018rlang\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018tidyselect\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018vctrs\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018cpp11\u2019 successfully unpacked and MD5 sums checked\r\npackage \u2018arrow\u2019 successfully unpacked and MD5 sums checked\n```\r\n```java\n\r\nlibrary(reticulate)\r\nlibrary(arrow)\n```\r\n```java\n\r\ninstall_miniconda() #respond y to install\r\n### Details\r\nCollecting package metadata (current_repodata.json): ...working... done\r\nSolving environment: ...working... done## Package Plan ##\u00a0 environment location: C:\\Users\\<user>~1\\AppData\\Local\\R-MINI~1\u00a0 added / updated specs:\r\n\u00a0 \u00a0 - conda\r\nThe following packages will be downloaded:\u00a0 \u00a0 package \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0build\r\n\u00a0 \u00a0 ---------------------------|-----------------\r\n\u00a0 \u00a0 ca-certificates-2022.2.1 \u00a0 | \u00a0 \u00a0 \u00a0 haa95532_0 \u00a0 \u00a0 \u00a0 \u00a0 123 KB\r\n\u00a0 \u00a0 cffi-1.15.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 py39h2bbff1b_1 \u00a0 \u00a0 \u00a0 \u00a0 224 KB\r\n\u00a0 \u00a0 pyopenssl-22.0.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 pyhd3eb1b0_0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a050 KB\r\n\u00a0 \u00a0 six-1.16.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 pyhd3eb1b0_1 \u00a0 \u00a0 \u00a0 \u00a0 \u00a018 KB\r\n\u00a0 \u00a0 sqlite-3.38.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 h2bbff1b_0 \u00a0 \u00a0 \u00a0 \u00a0 807 KB\r\n\u00a0 \u00a0 urllib3-1.26.8 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 pyhd3eb1b0_0 \u00a0 \u00a0 \u00a0 \u00a0 106 KB\r\n\u00a0 \u00a0 ------------------------------------------------------------\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0Total: \u00a0 \u00a0 \u00a0 \u00a0 1.3 MBThe following packages will be REMOVED:\u00a0 conda-content-trust-0.1.1-pyhd3eb1b0_0The following packages will be UPDATED:\u00a0 ca-certificates \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 2021.10.26-haa95532_2 --> 2022.2.1-haa95532_0\r\n\u00a0 cffi \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a01.15.0-py39h2bbff1b_0 --> 1.15.0-py39h2bbff1b_1\r\n\u00a0 pyopenssl \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 21.0.0-pyhd3eb1b0_1 --> 22.0.0-pyhd3eb1b0_0\r\n\u00a0 six \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 1.16.0-pyhd3eb1b0_0 --> 1.16.0-pyhd3eb1b0_1\r\n\u00a0 sqlite \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a03.37.0-h2bbff1b_0 --> 3.38.0-h2bbff1b_0\r\n\u00a0 urllib3 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 1.26.7-pyhd3eb1b0_0 --> 1.26.8-pyhd3eb1b0_0Downloading and Extracting Packages\r\npyopenssl-22.0.0 \u00a0 \u00a0 | 50 KB \u00a0 \u00a0 | ########## | 100%\u00a0\r\nurllib3-1.26.8 \u00a0 \u00a0 \u00a0 | 106 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\nsqlite-3.38.0 \u00a0 \u00a0 \u00a0 \u00a0| 807 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\ncffi-1.15.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| 224 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\nca-certificates-2022 | 123 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\nsix-1.16.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | 18 KB \u00a0 \u00a0 | ########## | 100%\u00a0\r\nPreparing transaction: ...working... done\r\nVerifying transaction: ...working... done\r\nExecuting transaction: ...working... done\r\nCollecting package metadata (current_repodata.json): ...working... done\r\nSolving environment: ...working... done## Package Plan ##\u00a0 environment location: C:\\Users\\<user>~1\\AppData\\Local\\R-MINI~1\\envs\\r-reticulate\u00a0 added / updated specs:\r\n\u00a0 \u00a0 - numpy\r\n\u00a0 \u00a0 - python=3.8\r\nThe following packages will be downloaded:\u00a0 \u00a0 package \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0build\r\n\u00a0 \u00a0 ---------------------------|-----------------\r\n\u00a0 \u00a0 ca-certificates-2021.10.8 \u00a0| \u00a0 \u00a0 \u00a0 h5b45459_0 \u00a0 \u00a0 \u00a0 \u00a0 176 KB \u00a0conda-forge\r\n\u00a0 \u00a0 intel-openmp-2022.0.0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0h57928b3_3663 \u00a0 \u00a0 \u00a0 \u00a0 3.6 MB \u00a0conda-forge\r\n\u00a0 \u00a0 libblas-3.9.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 13_win64_mkl \u00a0 \u00a0 \u00a0 \u00a0 5.3 MB \u00a0conda-forge\r\n\u00a0 \u00a0 libcblas-3.9.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 13_win64_mkl \u00a0 \u00a0 \u00a0 \u00a0 5.3 MB \u00a0conda-forge\r\n\u00a0 \u00a0 liblapack-3.9.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 13_win64_mkl \u00a0 \u00a0 \u00a0 \u00a0 5.3 MB \u00a0conda-forge\r\n\u00a0 \u00a0 mkl-2022.0.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 h0e2418a_796 \u00a0 \u00a0 \u00a0 181.9 MB \u00a0conda-forge\r\n\u00a0 \u00a0 numpy-1.22.3 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 py38hcf66579_0 \u00a0 \u00a0 \u00a0 \u00a0 6.1 MB \u00a0conda-forge\r\n\u00a0 \u00a0 openssl-3.0.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 h8ffe710_2 \u00a0 \u00a0 \u00a0 \u00a010.0 MB \u00a0conda-forge\r\n\u00a0 \u00a0 pip-22.0.4 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 pyhd8ed1ab_0 \u00a0 \u00a0 \u00a0 \u00a0 1.5 MB \u00a0conda-forge\r\n\u00a0 \u00a0 python-3.8.12 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0|h900ac77_2_cpython \u00a0 \u00a0 \u00a0 \u00a019.3 MB \u00a0conda-forge\r\n\u00a0 \u00a0 python_abi-3.8 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 2_cp38 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 4 KB \u00a0conda-forge\r\n\u00a0 \u00a0 setuptools-60.9.3 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 py38haa244fe_0 \u00a0 \u00a0 \u00a0 \u00a0 1.1 MB \u00a0conda-forge\r\n\u00a0 \u00a0 sqlite-3.37.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 h8ffe710_0 \u00a0 \u00a0 \u00a0 \u00a0 1.2 MB \u00a0conda-forge\r\n\u00a0 \u00a0 tbb-2021.5.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 h2d74725_0 \u00a0 \u00a0 \u00a0 \u00a0 148 KB \u00a0conda-forge\r\n\u00a0 \u00a0 ucrt-10.0.20348.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 h57928b3_0 \u00a0 \u00a0 \u00a0 \u00a0 1.2 MB \u00a0conda-forge\r\n\u00a0 \u00a0 vc-14.2 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 hb210afc_6 \u00a0 \u00a0 \u00a0 \u00a0 \u00a013 KB \u00a0conda-forge\r\n\u00a0 \u00a0 vs2015_runtime-14.29.30037 | \u00a0 \u00a0 \u00a0 h902a5da_6 \u00a0 \u00a0 \u00a0 \u00a0 1.3 MB \u00a0conda-forge\r\n\u00a0 \u00a0 wheel-0.37.1 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 pyhd8ed1ab_0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a031 KB \u00a0conda-forge\r\n\u00a0 \u00a0 ------------------------------------------------------------\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0Total: \u00a0 \u00a0 \u00a0 243.3 MBThe following NEW packages will be INSTALLED:\u00a0 ca-certificates \u00a0 \u00a0conda-forge/win-64::ca-certificates-2021.10.8-h5b45459_0\r\n\u00a0 intel-openmp \u00a0 \u00a0 \u00a0 conda-forge/win-64::intel-openmp-2022.0.0-h57928b3_3663\r\n\u00a0 libblas \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::libblas-3.9.0-13_win64_mkl\r\n\u00a0 libcblas \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::libcblas-3.9.0-13_win64_mkl\r\n\u00a0 liblapack \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::liblapack-3.9.0-13_win64_mkl\r\n\u00a0 mkl \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::mkl-2022.0.0-h0e2418a_796\r\n\u00a0 numpy \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::numpy-1.22.3-py38hcf66579_0\r\n\u00a0 openssl \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::openssl-3.0.0-h8ffe710_2\r\n\u00a0 pip \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/noarch::pip-22.0.4-pyhd8ed1ab_0\r\n\u00a0 python \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::python-3.8.12-h900ac77_2_cpython\r\n\u00a0 python_abi \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::python_abi-3.8-2_cp38\r\n\u00a0 setuptools \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::setuptools-60.9.3-py38haa244fe_0\r\n\u00a0 sqlite \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::sqlite-3.37.0-h8ffe710_0\r\n\u00a0 tbb \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::tbb-2021.5.0-h2d74725_0\r\n\u00a0 ucrt \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::ucrt-10.0.20348.0-h57928b3_0\r\n\u00a0 vc \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::vc-14.2-hb210afc_6\r\n\u00a0 vs2015_runtime \u00a0 \u00a0 conda-forge/win-64::vs2015_runtime-14.29.30037-h902a5da_6\r\n\u00a0 wheel \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/noarch::wheel-0.37.1-pyhd8ed1ab_0\r\nPreparing transaction: ...working... done\r\nVerifying transaction: ...working... done\r\nExecuting transaction: ...working... done\r\n* Miniconda has been successfully installed at \"C:/Users/<user>/AppData/Local/r-miniconda\".\n```\r\n```java\n\r\npy_config()\r\n### Details\r\n\r\npython: \u00a0 \u00a0 \u00a0 \u00a0 C:/Users/<user>Admin/AppData/Local/r-miniconda/envs/r-reticulate/python.exe\r\nlibpython: \u00a0 \u00a0 \u00a0C:/Users/<user>Admin/AppData/Local/r-miniconda/envs/r-reticulate/python38.dll\r\npythonhome: \u00a0 \u00a0 C:/Users/<user>Admin/AppData/Local/r-miniconda/envs/r-reticulate\r\nversion: \u00a0 \u00a0 \u00a0 \u00a03.8.12 | packaged by conda-forge | (default, Oct 12 2021, 21:19:05) [MSC v.1916 64 bit (AMD64)]\r\nArchitecture: \u00a0 64bit\r\nnumpy: \u00a0 \u00a0 \u00a0 \u00a0 \u00a0C:/Users/<user>Admin/AppData/Local/r-miniconda/envs/r-reticulate/Lib/site-packages/numpy\r\nnumpy_version: \u00a01.22.3\n```\r\n```java\n\r\n#Try connect to client even though arrow is not installed on env\r\nclient <- flight_connect(port = 5005)\r\n#expected error\r\nError in py_module_import(module, convert = convert) :\u00a0\r\n\u00a0 ModuleNotFoundError: No module named 'pyarrow'\n```\r\n```java\n\r\ninstall_pyarrow()\r\n### Details\r\nCollecting package metadata (current_repodata.json): ...working... done\r\nSolving environment: ...working... failed with initial frozen solve. Retrying with flexible solve.\r\nSolving environment: ...working... failed with repodata from current_repodata.json, will retry with next repodata source.\r\nCollecting package metadata (repodata.json): ...working... done\r\nSolving environment: ...working... done## Package Plan ##\u00a0 environment location: C:\\Users\\<user>Admin\\AppData\\Local\\r-miniconda\\envs\\r-reticulate\u00a0 added / updated specs:\r\n\u00a0 \u00a0 - pyarrow\r\nThe following packages will be downloaded:\u00a0 \u00a0 package \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0build\r\n\u00a0 \u00a0 ---------------------------|-----------------\r\n\u00a0 \u00a0 arrow-cpp-3.0.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0|py38haeefe89_1_cpu \u00a0 \u00a0 \u00a0 \u00a013.7 MB \u00a0conda-forge\r\n\u00a0 \u00a0 aws-c-common-0.4.57 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 ha925a31_1 \u00a0 \u00a0 \u00a0 \u00a0 150 KB \u00a0conda-forge\r\n\u00a0 \u00a0 aws-c-event-stream-0.1.6 \u00a0 | \u00a0 \u00a0 \u00a0 h7915e17_3 \u00a0 \u00a0 \u00a0 \u00a0 \u00a026 KB \u00a0conda-forge\r\n\u00a0 \u00a0 aws-checksums-0.1.9 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 hb01e4cc_0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a051 KB \u00a0conda-forge\r\n\u00a0 \u00a0 aws-sdk-cpp-1.8.130 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 hd77b12b_0 \u00a0 \u00a0 \u00a0 \u00a0 2.4 MB\r\n\u00a0 \u00a0 brotli-1.0.9 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 h8ffe710_6 \u00a0 \u00a0 \u00a0 \u00a0 \u00a018 KB \u00a0conda-forge\r\n\u00a0 \u00a0 brotli-bin-1.0.9 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 h8ffe710_6 \u00a0 \u00a0 \u00a0 \u00a0 \u00a021 KB \u00a0conda-forge\r\n\u00a0 \u00a0 bzip2-1.0.8 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 h8ffe710_4 \u00a0 \u00a0 \u00a0 \u00a0 149 KB \u00a0conda-forge\r\n\u00a0 \u00a0 c-ares-1.18.1 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 h8ffe710_0 \u00a0 \u00a0 \u00a0 \u00a0 114 KB \u00a0conda-forge\r\n\u00a0 \u00a0 gflags-2.2.2 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0ha925a31_1004 \u00a0 \u00a0 \u00a0 \u00a0 \u00a080 KB \u00a0conda-forge\r\n\u00a0 \u00a0 glog-0.4.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 h0174b99_3 \u00a0 \u00a0 \u00a0 \u00a0 \u00a083 KB \u00a0conda-forge\r\n\u00a0 \u00a0 grpc-cpp-1.35.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 hc60d5dd_4 \u00a0 \u00a0 \u00a0 \u00a0 6.8 MB\r\n\u00a0 \u00a0 krb5-1.19.2 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 hc8ab02b_4 \u00a0 \u00a0 \u00a0 \u00a0 847 KB \u00a0conda-forge\r\n\u00a0 \u00a0 libbrotlicommon-1.0.9 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 h8ffe710_6 \u00a0 \u00a0 \u00a0 \u00a0 \u00a067 KB \u00a0conda-forge\r\n\u00a0 \u00a0 libbrotlidec-1.0.9 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 h8ffe710_6 \u00a0 \u00a0 \u00a0 \u00a0 \u00a033 KB \u00a0conda-forge\r\n\u00a0 \u00a0 libbrotlienc-1.0.9 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 h8ffe710_6 \u00a0 \u00a0 \u00a0 \u00a0 721 KB \u00a0conda-forge\r\n\u00a0 \u00a0 libcurl-7.82.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 h789b8ee_0 \u00a0 \u00a0 \u00a0 \u00a0 301 KB \u00a0conda-forge\r\n\u00a0 \u00a0 libevent-2.1.10 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 h91dae50_4 \u00a0 \u00a0 \u00a0 \u00a0 422 KB \u00a0conda-forge\r\n\u00a0 \u00a0 libprotobuf-3.14.0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 h7755175_0 \u00a0 \u00a0 \u00a0 \u00a0 2.3 MB \u00a0conda-forge\r\n\u00a0 \u00a0 libssh2-1.10.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 h9a1e1f7_2 \u00a0 \u00a0 \u00a0 \u00a0 227 KB \u00a0conda-forge\r\n\u00a0 \u00a0 libthrift-0.13.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 he1d8c1a_6 \u00a0 \u00a0 \u00a0 \u00a0 1.1 MB\r\n\u00a0 \u00a0 libutf8proc-2.7.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 hcb41399_0 \u00a0 \u00a0 \u00a0 \u00a0 101 KB \u00a0conda-forge\r\n\u00a0 \u00a0 libzlib-1.2.11 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0h8ffe710_1013 \u00a0 \u00a0 \u00a0 \u00a0 \u00a063 KB \u00a0conda-forge\r\n\u00a0 \u00a0 lz4-c-1.9.3 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 h8ffe710_1 \u00a0 \u00a0 \u00a0 \u00a0 135 KB \u00a0conda-forge\r\n\u00a0 \u00a0 parquet-cpp-1.5.1 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a02 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 3 KB \u00a0conda-forge\r\n\u00a0 \u00a0 pyarrow-3.0.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0|py38ha37a76c_1_cpu \u00a0 \u00a0 \u00a0 \u00a0 2.1 MB \u00a0conda-forge\r\n\u00a0 \u00a0 re2-2020.11.01 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 h0e60522_0 \u00a0 \u00a0 \u00a0 \u00a0 468 KB \u00a0conda-forge\r\n\u00a0 \u00a0 snappy-1.1.8 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 ha925a31_3 \u00a0 \u00a0 \u00a0 \u00a0 \u00a050 KB \u00a0conda-forge\r\n\u00a0 \u00a0 xz-5.2.5 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 h62dcd97_1 \u00a0 \u00a0 \u00a0 \u00a0 211 KB \u00a0conda-forge\r\n\u00a0 \u00a0 zlib-1.2.11 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| \u00a0 \u00a0h8ffe710_1013 \u00a0 \u00a0 \u00a0 \u00a0 106 KB \u00a0conda-forge\r\n\u00a0 \u00a0 zstd-1.4.9 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | \u00a0 \u00a0 \u00a0 h6255e5f_0 \u00a0 \u00a0 \u00a0 \u00a0 915 KB \u00a0conda-forge\r\n\u00a0 \u00a0 ------------------------------------------------------------\r\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0Total: \u00a0 \u00a0 \u00a0 \u00a033.6 MBThe following NEW packages will be INSTALLED:\u00a0 arrow-cpp \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::arrow-cpp-3.0.0-py38haeefe89_1_cpu\r\n\u00a0 aws-c-common \u00a0 \u00a0 \u00a0 conda-forge/win-64::aws-c-common-0.4.57-ha925a31_1\r\n\u00a0 aws-c-event-stream conda-forge/win-64::aws-c-event-stream-0.1.6-h7915e17_3\r\n\u00a0 aws-checksums \u00a0 \u00a0 \u00a0conda-forge/win-64::aws-checksums-0.1.9-hb01e4cc_0\r\n\u00a0 aws-sdk-cpp \u00a0 \u00a0 \u00a0 \u00a0pkgs/main/win-64::aws-sdk-cpp-1.8.130-hd77b12b_0\r\n\u00a0 brotli \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::brotli-1.0.9-h8ffe710_6\r\n\u00a0 brotli-bin \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::brotli-bin-1.0.9-h8ffe710_6\r\n\u00a0 bzip2 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::bzip2-1.0.8-h8ffe710_4\r\n\u00a0 c-ares \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::c-ares-1.18.1-h8ffe710_0\r\n\u00a0 gflags \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::gflags-2.2.2-ha925a31_1004\r\n\u00a0 glog \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::glog-0.4.0-h0174b99_3\r\n\u00a0 grpc-cpp \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 pkgs/main/win-64::grpc-cpp-1.35.0-hc60d5dd_4\r\n\u00a0 krb5 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::krb5-1.19.2-hc8ab02b_4\r\n\u00a0 libbrotlicommon \u00a0 \u00a0conda-forge/win-64::libbrotlicommon-1.0.9-h8ffe710_6\r\n\u00a0 libbrotlidec \u00a0 \u00a0 \u00a0 conda-forge/win-64::libbrotlidec-1.0.9-h8ffe710_6\r\n\u00a0 libbrotlienc \u00a0 \u00a0 \u00a0 conda-forge/win-64::libbrotlienc-1.0.9-h8ffe710_6\r\n\u00a0 libcurl \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::libcurl-7.82.0-h789b8ee_0\r\n\u00a0 libevent \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::libevent-2.1.10-h91dae50_4\r\n\u00a0 libprotobuf \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::libprotobuf-3.14.0-h7755175_0\r\n\u00a0 libssh2 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::libssh2-1.10.0-h9a1e1f7_2\r\n\u00a0 libthrift \u00a0 \u00a0 \u00a0 \u00a0 \u00a0pkgs/main/win-64::libthrift-0.13.0-he1d8c1a_6\r\n\u00a0 libutf8proc \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::libutf8proc-2.7.0-hcb41399_0\r\n\u00a0 libzlib \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::libzlib-1.2.11-h8ffe710_1013\r\n\u00a0 lz4-c \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::lz4-c-1.9.3-h8ffe710_1\r\n\u00a0 parquet-cpp \u00a0 \u00a0 \u00a0 \u00a0conda-forge/noarch::parquet-cpp-1.5.1-2\r\n\u00a0 pyarrow \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::pyarrow-3.0.0-py38ha37a76c_1_cpu\r\n\u00a0 re2 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0conda-forge/win-64::re2-2020.11.01-h0e60522_0\r\n\u00a0 snappy \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::snappy-1.1.8-ha925a31_3\r\n\u00a0 xz \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::xz-5.2.5-h62dcd97_1\r\n\u00a0 zlib \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::zlib-1.2.11-h8ffe710_1013\r\n\u00a0 zstd \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 conda-forge/win-64::zstd-1.4.9-h6255e5f_0Downloading and Extracting Packages\r\nzlib-1.2.11 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| 106 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\nc-ares-1.18.1 \u00a0 \u00a0 \u00a0 \u00a0| 114 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\nlibbrotlienc-1.0.9 \u00a0 | 721 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\nbrotli-1.0.9 \u00a0 \u00a0 \u00a0 \u00a0 | 18 KB \u00a0 \u00a0 | ########## | 100%\u00a0\r\nkrb5-1.19.2 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| 847 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\ngflags-2.2.2 \u00a0 \u00a0 \u00a0 \u00a0 | 80 KB \u00a0 \u00a0 | ########## | 100%\u00a0\r\naws-c-common-0.4.57 \u00a0| 150 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\nlibcurl-7.82.0 \u00a0 \u00a0 \u00a0 | 301 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\ngrpc-cpp-1.35.0 \u00a0 \u00a0 \u00a0| 6.8 MB \u00a0 \u00a0| ########## | 100%\u00a0\r\nzstd-1.4.9 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | 915 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\naws-sdk-cpp-1.8.130 \u00a0| 2.4 MB \u00a0 \u00a0| ########## | 100%\u00a0\r\nre2-2020.11.01 \u00a0 \u00a0 \u00a0 | 468 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\narrow-cpp-3.0.0 \u00a0 \u00a0 \u00a0| 13.7 MB \u00a0 | ########## | 100%\u00a0\r\nlibthrift-0.13.0 \u00a0 \u00a0 | 1.1 MB \u00a0 \u00a0| ########## | 100%\u00a0\r\nxz-5.2.5 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | 211 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\nbrotli-bin-1.0.9 \u00a0 \u00a0 | 21 KB \u00a0 \u00a0 | ########## | 100%\u00a0\r\nbzip2-1.0.8 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| 149 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\nlibbrotlidec-1.0.9 \u00a0 | 33 KB \u00a0 \u00a0 | ########## | 100%\u00a0\r\nlibevent-2.1.10 \u00a0 \u00a0 \u00a0| 422 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\nlibbrotlicommon-1.0. | 67 KB \u00a0 \u00a0 | ########## | 100%\u00a0\r\naws-checksums-0.1.9 \u00a0| 51 KB \u00a0 \u00a0 | ########## | 100%\u00a0\r\naws-c-event-stream-0 | 26 KB \u00a0 \u00a0 | ########## | 100%\u00a0\r\npyarrow-3.0.0 \u00a0 \u00a0 \u00a0 \u00a0| 2.1 MB \u00a0 \u00a0| ########## | 100%\u00a0\r\nlz4-c-1.9.3 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0| 135 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\nlibutf8proc-2.7.0 \u00a0 \u00a0| 101 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\nparquet-cpp-1.5.1 \u00a0 \u00a0| 3 KB \u00a0 \u00a0 \u00a0| ########## | 100%\u00a0\r\nlibprotobuf-3.14.0 \u00a0 | 2.3 MB \u00a0 \u00a0| ########## | 100%\u00a0\r\nlibssh2-1.10.0 \u00a0 \u00a0 \u00a0 | 227 KB \u00a0 \u00a0| ########## | 100%\u00a0\r\nlibzlib-1.2.11 \u00a0 \u00a0 \u00a0 | 63 KB \u00a0 \u00a0 | ########## | 100%\u00a0\r\nsnappy-1.1.8 \u00a0 \u00a0 \u00a0 \u00a0 | 50 KB \u00a0 \u00a0 | ########## | 100%\u00a0\r\nglog-0.4.0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 | 83 KB \u00a0 \u00a0 | ########## | 100%\u00a0\r\nPreparing transaction: ...working... done\r\nVerifying transaction: ...working... done\r\nExecuting transaction: ...working... done\n```\r\n```java\n\r\n#just to confirm that nothing changed\r\npy_config()\r\n### Details\r\npython: \u00a0 \u00a0 \u00a0 \u00a0 C:/Users/<user>Admin/AppData/Local/r-miniconda/envs/r-reticulate/python.exe\r\nlibpython: \u00a0 \u00a0 \u00a0C:/Users/<user>Admin/AppData/Local/r-miniconda/envs/r-reticulate/python38.dll\r\npythonhome: \u00a0 \u00a0 C:/Users/<user>Admin/AppData/Local/r-miniconda/envs/r-reticulate\r\nversion: \u00a0 \u00a0 \u00a0 \u00a03.8.12 | packaged by conda-forge | (default, Oct 12 2021, 21:19:05) [MSC v.1916 64 bit (AMD64)]\r\nArchitecture: \u00a0 64bit\r\nnumpy: \u00a0 \u00a0 \u00a0 \u00a0 \u00a0C:/Users/<user>Admin/AppData/Local/r-miniconda/envs/r-reticulate/Lib/site-packages/numpy\r\nnumpy_version: \u00a01.22.3\n```\r\n```java\n\r\nclient <- flight_connect(port = 5005)\r\n#Error in py_module_import(module, convert = convert) :\u00a0\r\n\u00a0 ImportError: DLL load failed while importing lib: The specified procedure could not be found.\n```\r\n```java\n\r\n#try get any stack trace\r\ntraceback()\r\n### Details\r\n4: stop(structure(list(message = \"ImportError: DLL load failed while importing lib: The specified procedure could not be found.\",\u00a0\r\n\u00a0 \u00a0 \u00a0 \u00a0call = py_module_import(module, convert = convert), cppstack = NULL), class = c(\"Rcpp::exception\",\u00a0\r\n\u00a0 \u00a0\"C++Error\", \"error\", \"condition\")))\r\n3: py_module_import(module, convert = convert)\r\n2: reticulate::import(\"pyarrow\")\r\n1: flight_connect(port = 5005)\n```\r\n```java\n\r\n#Try get even more details\r\noptions(error = browser) \r\n### Details\r\nError in py_module_import(module, convert = convert) :\u00a0\r\n\u00a0 ImportError: DLL load failed while importing lib: The specified procedure could not be found.Detailed traceback:\r\n\u00a0 File \"C:\\Program Files\\R\\R-4.1.3\\library\\reticulate\\python\\rpytools\\loader.py\", line 39, in _import_hook\r\n\u00a0 \u00a0 module = _import(\r\n\u00a0 File \"C:\\Users\\<user>~1\\AppData\\Local\\R-MINI~1\\envs\\R-RETI~1\\lib\\site-packages\\pyarrow\\__init__.py\", line 63, in <module>\r\n\u00a0 \u00a0 import pyarrow.lib as _lib\r\n\u00a0 File \"C:\\Program Files\\R\\R-4.1.3\\library\\reticulate\\python\\rpytools\\loader.py\", line 39, in _import_hook\r\n\u00a0 \u00a0 module = _import(\r\nCalled from: stop(list(message = \"ImportError: DLL load failed while importing lib: The specified procedure could not be found.\\n\\nDetailed traceback:\\n \u00a0File \\\"C:\\\\Program Files\\\\R\\\\R-4.1.3\\\\library\\\\reticulate\\\\python\\\\rpytools\\\\loader.py\\\", line 39, in _import_hook\\n \u00a0 \u00a0module = _import(\\n \u00a0File \\\"C:\\\\Users\\\\<user>~1\\\\AppData\\\\Local\\\\R-MINI~1\\\\envs\\\\R-RETI~1\\\\lib\\\\site-packages\\\\pyarrow\\\\__init__.py\\\", line 63, in <module>\\n \u00a0 \u00a0import pyarrow.lib as _lib\\n \u00a0File \\\"C:\\\\Program Files\\\\R\\\\R-4.1.3\\\\library\\\\reticulate\\\\python\\\\rpytools\\\\loader.py\\\", line 39, in _import_hook\\n \u00a0 \u00a0module = _import(\\n\",\u00a0\r\n\u00a0 \u00a0 call = py_module_import(module, convert = convert), cppstack = NULL))\n```\r\nI've tried this several times over the past few days with various configurations - all of which produce exactly the same issue\r\n \\* With Anaconda instead of MiniConda that's installed in the above replication\r\n \\* Without conda using a virtual env\r\n \\* Making sure that my \"base\" interpreter doesn't have pyarrow installed instead of installing to my env\r\n\r\nI can't seem to get this working by hook or by crook unfortunately :( would be great to know if someone has specific versions which they know are working."
        }
    ]
}