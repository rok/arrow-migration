{
    "issue": {
        "title": "[RUST]Failed to build Datafusion \"0.14.1-SNAPSHOT\" on windows 10 with gcc",
        "body": "***Note**: This issue was originally created as [ARROW-7562](https://issues.apache.org/jira/browse/ARROW-7562). Please see the [migration documentation](https://gist.github.com/toddfarmer/12aa88361532d21902818a6044fda4c3) for further details.*\n\n### Original Issue Description:\n**Description**\r\nFailed to build Datafusion \"0.14.1-SNAPSHOT\" on windows 10 with gcc.\r\n\r\n**ENV**\r\nOS: Windows 10 home x64\r\nRust: rustc 1.40.0 (73528e339 2019-12-16)\r\ntool-chain: stable-x86_64-pc-windows-gnu\r\n\r\n**Error Message**\r\nC:\\...>cargo build\r\n    Updating crates.io index\r\n  Downloaded datafusion v0.14.1\r\n  Downloaded arrow v0.14.1\r\n  Downloaded parquet v0.14.1\r\n   Compiling libc v0.2.66\r\n   Compiling winapi-x86_64-pc-windows-gnu v0.4.0\r\n   Compiling autocfg v1.0.0\r\n   Compiling winapi v0.3.8\r\n   Compiling jobserver v0.1.18\r\n   Compiling autocfg v0.1.7\r\n   Compiling cfg-if v0.1.10\r\n   Compiling serde v1.0.104\r\n   Compiling ryu v1.0.2\r\nerror: linking with `gcc` failed: exit code: 1\r\n  |\r\n  = note: \"gcc\" \"~~Wl,~~-enable-long-section-names\" \"-fno-use-linker-plugin\" \"~~Wl,~~-nxcompat\" \"-nostdlib\" \"-m64\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\ncrt2.o\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nrsbegin.o\" \"-L\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.0.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.1.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.10.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.11.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.12.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.13.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.14.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.15.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.2.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.3.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.4.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.5.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.6.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.7.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.8.rcgu.o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.build_script_build.a2mmm3dl-cgu.9.rcgu.o\" \"-o\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.exe\" \"C:\n...\ndecision_tree\ntarget\ndebug\nbuild\nwinapi-x86_64-pc-windows-gnu-829bc947f470b4f9\nbuild_script_build-829bc947f470b4f9.1xskf0mjinzrnllw.rcgu.o\" \"~~Wl,~~-gc-sections\" \"-nodefaultlibs\" \"-L\" \"C:\n...\ndecision_tree\ntarget\ndebug\ndeps\" \"-L\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\" \"~~Wl,~~-start-group\" \"-Wl,-Bstatic\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nlibstd-b2edf0d660b7d0f9.rlib\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nlibpanic_unwind-7e953ee8f9635c7d.rlib\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nlibhashbrown-e8afb968ab90e500.rlib\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nlibrustc_std_workspace_alloc-e8419395669aaa65.rlib\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nlibbacktrace-b8f097773498a5ee.rlib\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nlibbacktrace_sys-62a3909dee852181.rlib\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nlibrustc_demangle-924bb7101c68c1d8.rlib\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nlibunwind-2a0c0c619dd4f1b4.rlib\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nlibcfg_if-044cd404714d2f70.rlib\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nliblibc-e8a2adcdb42c219f.rlib\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nliballoc-d534c26800059fc0.rlib\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nlibrustc_std_workspace_core-e290ce33c9e25913.rlib\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nlibcore-6aa7019b222bb41e.rlib\" \"~~Wl,~~-end-group\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nlibcompiler_builtins-b57439afd567327d.rlib\" \"-Wl,-Bdynamic\" \"-ladvapi32\" \"-lws2_32\" \"-luserenv\" \"-Wl,-Bstatic\" \"-lgcc_eh\" \"-lpthread\" \"-Wl,-Bdynamic\" \"-lmingwex\" \"-lmingw32\" \"-lgcc\" \"-lmsvcrt\" \"-lmsvcrt\" \"-luser32\" \"-lkernel32\" \"C:\nWindows\nSystem32\nconfig\nsystemprofile\n.rustup\ntoolchains\nstable-x86_64-pc-windows-gnu\nlib\nrustlib\nx86_64-pc-windows-gnu\nlib\nrsend.o\"\r\n**Repo steps:**\r\n1. added `datafusion = \"0.14.1-SNAPSHOT\"` to `[dependences]` section;\r\n2. in the console, run `cargo build`.\r\n\r\n**Relative issue**\r\nhttps://issues.apache.org/jira/browse/ARROW-7563\r\n",
        "created_at": "2020-01-14T02:29:00.000Z",
        "updated_at": "2020-03-15T17:25:14.000Z",
        "labels": [
            "Migrated from Jira",
            "Component: Rust",
            "Component: Rust - DataFusion",
            "Type: bug"
        ],
        "closed": true,
        "closed_at": "2020-03-15T17:25:14.000Z"
    },
    "comments": [
        {
            "created_at": "2020-01-14T04:47:00.907Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-7562?focusedCommentId=17014862) by Neville Dipale (nevi_me):*\nHi `[~huangkaibo]`, arrow and datafusion currently require nightly. You shouldn't be able to build with stable. Can you try building with nightly?"
        },
        {
            "created_at": "2020-03-15T17:25:14.744Z",
            "body": "***Note**: [Comment](https://issues.apache.org/jira/browse/ARROW-7562?focusedCommentId=17059746) by Andy Grove (andygrove):*\nClosing as not a problem because wrong Rust version was being used."
        }
    ]
}