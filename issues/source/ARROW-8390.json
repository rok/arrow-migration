{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13297506",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506",
    "key": "ARROW-8390",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12346687",
                "id": "12346687",
                "description": "",
                "name": "0.17.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-04-20"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 7200,
            "total": 7200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 7200,
            "total": 7200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-8390/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 13,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506/worklog/419887",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6890: ARROW-8390: [R] Expose schema unification features\nURL: https://github.com/apache/arrow/pull/6890\n \n \n   Recent changes made the default on dataset creation no longer scan all files and find a unified schema. This patch exposes an option on `$Inspect` and `$Finish` to re\u00ebnable the old behavior. It also adds a wrapper around `UnifySchemas` for general use and adds that in `Dataset$create()` when making a `UnionDataset`.\r\n   \r\n   Dataset tests aren't really exercising the new options; hoping those are sufficiently tested in the C++ library.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-04-09T23:41:57.735+0000",
                    "updated": "2020-04-09T23:41:57.735+0000",
                    "started": "2020-04-09T23:41:57.735+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "419887",
                    "issueId": "13297506"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506/worklog/419889",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on issue #6890: ARROW-8390: [R] Expose schema unification features\nURL: https://github.com/apache/arrow/pull/6890#issuecomment-611805795\n \n \n   https://issues.apache.org/jira/browse/ARROW-8390\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-04-09T23:46:48.029+0000",
                    "updated": "2020-04-09T23:46:48.029+0000",
                    "started": "2020-04-09T23:46:48.029+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "419889",
                    "issueId": "13297506"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506/worklog/419938",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6890: ARROW-8390: [R] Expose schema unification features\nURL: https://github.com/apache/arrow/pull/6890#discussion_r406559679\n \n \n\n ##########\n File path: r/src/dataset.cpp\n ##########\n @@ -76,8 +76,14 @@ std::vector<std::string> dataset___FileSystemDataset__files(\n \n // [[arrow::export]]\n std::shared_ptr<ds::Dataset> dataset___DatasetFactory__Finish1(\n-    const std::shared_ptr<ds::DatasetFactory>& factory) {\n-  return VALUE_OR_STOP(factory->Finish());\n+    const std::shared_ptr<ds::DatasetFactory>& factory, bool unify_schemas) {\n+  ds::FinishOptions opts;\n+  if (unify_schemas) {\n+    ds::InspectOptions in_opts;\n+    opts.inspect_options.fragments = in_opts.kInspectAllFragments;\n \n Review comment:\n   ```suggestion\r\n       opts.inspect_options.fragments = ds::InspectOptions::kInspectAllFragments;\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-04-10T01:35:31.409+0000",
                    "updated": "2020-04-10T01:35:31.409+0000",
                    "started": "2020-04-10T01:35:31.409+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "419938",
                    "issueId": "13297506"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506/worklog/419939",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6890: ARROW-8390: [R] Expose schema unification features\nURL: https://github.com/apache/arrow/pull/6890#discussion_r406560582\n \n \n\n ##########\n File path: r/src/dataset.cpp\n ##########\n @@ -89,8 +95,12 @@ std::shared_ptr<ds::Dataset> dataset___DatasetFactory__Finish2(\n \n // [[arrow::export]]\n std::shared_ptr<arrow::Schema> dataset___DatasetFactory__Inspect(\n-    const std::shared_ptr<ds::DatasetFactory>& factory) {\n-  return VALUE_OR_STOP(factory->Inspect());\n+    const std::shared_ptr<ds::DatasetFactory>& factory, bool unify_schemas) {\n+  ds::InspectOptions opts;\n+  if (unify_schemas) {\n+    opts.fragments = opts.kInspectAllFragments;\n \n Review comment:\n   ```suggestion\r\n       opts.fragments = ds::InspectOptions::kInspectAllFragments;\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-04-10T01:35:31.437+0000",
                    "updated": "2020-04-10T01:35:31.437+0000",
                    "started": "2020-04-10T01:35:31.437+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "419939",
                    "issueId": "13297506"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506/worklog/419940",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6890: ARROW-8390: [R] Expose schema unification features\nURL: https://github.com/apache/arrow/pull/6890#discussion_r406561522\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -43,19 +43,36 @@\n #'   * `NULL` for no partitioning\n #'\n #' The default is to autodetect Hive-style partitions.\n+#' @param unify_schemas logical: should all data fragments (files, `Dataset`s)\n+#' be scanned in order to create a unified schema from them? If `FALSE`, only\n+#' the first fragment will be inspected for its schema. Use this\n+#' fast path when you know and trust that all fragments have an identical schema.\n+#' The default is `FALSE` when creating a dataset from a file path (because\n+#' there may be many files and scanning may be slow) but `TRUE` when `sources`\n+#' is a list of `Dataset`s (because there should be few `Dataset`s in the list\n+#' and their `Schema`s are already in memory).\n #' @param ... additional arguments passed to `dataset_factory()` when\n #' `sources` is a file path, otherwise ignored.\n #' @return A [Dataset] R6 object. Use `dplyr` methods on it to query the data,\n #' or call [`$NewScan()`][Scanner] to construct a query directly.\n #' @export\n #' @seealso `vignette(\"dataset\", package = \"arrow\")`\n #' @include arrow-package.R\n-open_dataset <- function(sources, schema = NULL, partitioning = hive_partition(), ...) {\n+open_dataset <- function(sources,\n+                         schema = NULL,\n+                         partitioning = hive_partition(),\n+                         unify_schemas = NULL,\n+                         ...) {\n   if (is_list_of(sources, \"Dataset\")) {\n     if (is.null(schema)) {\n-      # Take the first one.\n-      # Someday, we should expose a way to unify schemas\n-      schema <- sources[[1]]$schema\n+      if (is.null(unify_schemas) || isTRUE(unify_schemas)) {\n+        # Default is to unify schemas here\n+        schema <- unify_schemas(schemas = map(sources, ~.$schema))\n \n Review comment:\n   I guess this is probably a lack of R knowledge on my part, but it looks extremely odd to have declared `unify_schemas` as a parameter of this function then later use an identically named function. I would have expected the function `unify_schemas` to be shadowed by the function parameter\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-04-10T01:35:31.440+0000",
                    "updated": "2020-04-10T01:35:31.440+0000",
                    "started": "2020-04-10T01:35:31.440+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "419940",
                    "issueId": "13297506"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506/worklog/419941",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6890: ARROW-8390: [R] Expose schema unification features\nURL: https://github.com/apache/arrow/pull/6890#discussion_r406560505\n \n \n\n ##########\n File path: r/src/dataset.cpp\n ##########\n @@ -76,8 +76,14 @@ std::vector<std::string> dataset___FileSystemDataset__files(\n \n // [[arrow::export]]\n std::shared_ptr<ds::Dataset> dataset___DatasetFactory__Finish1(\n-    const std::shared_ptr<ds::DatasetFactory>& factory) {\n-  return VALUE_OR_STOP(factory->Finish());\n+    const std::shared_ptr<ds::DatasetFactory>& factory, bool unify_schemas) {\n+  ds::FinishOptions opts;\n+  if (unify_schemas) {\n+    ds::InspectOptions in_opts;\n+    opts.inspect_options.fragments = in_opts.kInspectAllFragments;\n+    opts.validate_fragments = true;\n \n Review comment:\n   Validating all fragments against a schema should only be necessary if the dataset schema *hadn't* been inspected and unified from all fragments. I'd expect this to either be an independent argument to `dataset___DatasetFactory__Finish1` or dropped\r\n   ```suggestion\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-04-10T01:35:31.482+0000",
                    "updated": "2020-04-10T01:35:31.482+0000",
                    "started": "2020-04-10T01:35:31.482+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "419941",
                    "issueId": "13297506"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506/worklog/420137",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on pull request #6890: ARROW-8390: [R] Expose schema unification features\nURL: https://github.com/apache/arrow/pull/6890#discussion_r406681240\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -43,19 +43,36 @@\n #'   * `NULL` for no partitioning\n #'\n #' The default is to autodetect Hive-style partitions.\n+#' @param unify_schemas logical: should all data fragments (files, `Dataset`s)\n+#' be scanned in order to create a unified schema from them? If `FALSE`, only\n+#' the first fragment will be inspected for its schema. Use this\n \n Review comment:\n   I like the logic of this parameter. I think it is better than what we have now in C++ (not needing two parameters to get this behaviour), although the C++ might be fine to have more fine grained control. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-04-10T09:28:17.240+0000",
                    "updated": "2020-04-10T09:28:17.240+0000",
                    "started": "2020-04-10T09:28:17.240+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "420137",
                    "issueId": "13297506"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506/worklog/420347",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6890: ARROW-8390: [R] Expose schema unification features\nURL: https://github.com/apache/arrow/pull/6890#discussion_r406860898\n \n \n\n ##########\n File path: r/src/dataset.cpp\n ##########\n @@ -76,8 +76,14 @@ std::vector<std::string> dataset___FileSystemDataset__files(\n \n // [[arrow::export]]\n std::shared_ptr<ds::Dataset> dataset___DatasetFactory__Finish1(\n-    const std::shared_ptr<ds::DatasetFactory>& factory) {\n-  return VALUE_OR_STOP(factory->Finish());\n+    const std::shared_ptr<ds::DatasetFactory>& factory, bool unify_schemas) {\n+  ds::FinishOptions opts;\n+  if (unify_schemas) {\n+    ds::InspectOptions in_opts;\n+    opts.inspect_options.fragments = in_opts.kInspectAllFragments;\n+    opts.validate_fragments = true;\n \n Review comment:\n   But we don\u2019t do Inspect first I don\u2019t think, we just call Finish\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-04-10T17:31:24.568+0000",
                    "updated": "2020-04-10T17:31:24.568+0000",
                    "started": "2020-04-10T17:31:24.568+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "420347",
                    "issueId": "13297506"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506/worklog/420348",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6890: ARROW-8390: [R] Expose schema unification features\nURL: https://github.com/apache/arrow/pull/6890#discussion_r406861355\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -43,19 +43,36 @@\n #'   * `NULL` for no partitioning\n #'\n #' The default is to autodetect Hive-style partitions.\n+#' @param unify_schemas logical: should all data fragments (files, `Dataset`s)\n+#' be scanned in order to create a unified schema from them? If `FALSE`, only\n+#' the first fragment will be inspected for its schema. Use this\n+#' fast path when you know and trust that all fragments have an identical schema.\n+#' The default is `FALSE` when creating a dataset from a file path (because\n+#' there may be many files and scanning may be slow) but `TRUE` when `sources`\n+#' is a list of `Dataset`s (because there should be few `Dataset`s in the list\n+#' and their `Schema`s are already in memory).\n #' @param ... additional arguments passed to `dataset_factory()` when\n #' `sources` is a file path, otherwise ignored.\n #' @return A [Dataset] R6 object. Use `dplyr` methods on it to query the data,\n #' or call [`$NewScan()`][Scanner] to construct a query directly.\n #' @export\n #' @seealso `vignette(\"dataset\", package = \"arrow\")`\n #' @include arrow-package.R\n-open_dataset <- function(sources, schema = NULL, partitioning = hive_partition(), ...) {\n+open_dataset <- function(sources,\n+                         schema = NULL,\n+                         partitioning = hive_partition(),\n+                         unify_schemas = NULL,\n+                         ...) {\n   if (is_list_of(sources, \"Dataset\")) {\n     if (is.null(schema)) {\n-      # Take the first one.\n-      # Someday, we should expose a way to unify schemas\n-      schema <- sources[[1]]$schema\n+      if (is.null(unify_schemas) || isTRUE(unify_schemas)) {\n+        # Default is to unify schemas here\n+        schema <- unify_schemas(schemas = map(sources, ~.$schema))\n \n Review comment:\n   Yeah I think R lookup works different when you\u2019re calling a function\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-04-10T17:32:38.927+0000",
                    "updated": "2020-04-10T17:32:38.927+0000",
                    "started": "2020-04-10T17:32:38.927+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "420348",
                    "issueId": "13297506"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506/worklog/420396",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6890: ARROW-8390: [R] Expose schema unification features\nURL: https://github.com/apache/arrow/pull/6890#discussion_r406889502\n \n \n\n ##########\n File path: r/src/dataset.cpp\n ##########\n @@ -76,8 +76,14 @@ std::vector<std::string> dataset___FileSystemDataset__files(\n \n // [[arrow::export]]\n std::shared_ptr<ds::Dataset> dataset___DatasetFactory__Finish1(\n-    const std::shared_ptr<ds::DatasetFactory>& factory) {\n-  return VALUE_OR_STOP(factory->Finish());\n+    const std::shared_ptr<ds::DatasetFactory>& factory, bool unify_schemas) {\n+  ds::FinishOptions opts;\n+  if (unify_schemas) {\n+    ds::InspectOptions in_opts;\n+    opts.inspect_options.fragments = in_opts.kInspectAllFragments;\n+    opts.validate_fragments = true;\n \n Review comment:\n   If schema is not explicitly set in FinishOptions, then `inspect_options` is used to invoke Inspect automatically in order to determine a schema. This happens in C++:\r\n   https://github.com/apache/arrow/blob/303bcc2b887f1b8b97993f15941370aedb2e67e1/cpp/src/arrow/dataset/discovery.cc#L92-L95\r\n   \r\n   Since you just inspected and unified the schemas of all the fragments anyway, it's redundant to then verify them against that unified schema\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-04-10T18:40:15.927+0000",
                    "updated": "2020-04-10T18:40:15.927+0000",
                    "started": "2020-04-10T18:40:15.926+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "420396",
                    "issueId": "13297506"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506/worklog/420398",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6890: ARROW-8390: [R] Expose schema unification features\nURL: https://github.com/apache/arrow/pull/6890#discussion_r406890359\n \n \n\n ##########\n File path: r/src/dataset.cpp\n ##########\n @@ -76,8 +76,14 @@ std::vector<std::string> dataset___FileSystemDataset__files(\n \n // [[arrow::export]]\n std::shared_ptr<ds::Dataset> dataset___DatasetFactory__Finish1(\n-    const std::shared_ptr<ds::DatasetFactory>& factory) {\n-  return VALUE_OR_STOP(factory->Finish());\n+    const std::shared_ptr<ds::DatasetFactory>& factory, bool unify_schemas) {\n+  ds::FinishOptions opts;\n+  if (unify_schemas) {\n+    ds::InspectOptions in_opts;\n+    opts.inspect_options.fragments = in_opts.kInspectAllFragments;\n+    opts.validate_fragments = true;\n \n Review comment:\n   In order to validate schemas, you'd probably want to add `validate_schemas` as a parameter of `dataset___DatasetFactory__Finish2` (if TRUE, check that all fragments match the schema which was explicitly provided)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-04-10T18:42:28.374+0000",
                    "updated": "2020-04-10T18:42:28.374+0000",
                    "started": "2020-04-10T18:42:28.374+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "420398",
                    "issueId": "13297506"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506/worklog/420477",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6890: ARROW-8390: [R] Expose schema unification features\nURL: https://github.com/apache/arrow/pull/6890#discussion_r406931397\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -43,19 +43,36 @@\n #'   * `NULL` for no partitioning\n #'\n #' The default is to autodetect Hive-style partitions.\n+#' @param unify_schemas logical: should all data fragments (files, `Dataset`s)\n+#' be scanned in order to create a unified schema from them? If `FALSE`, only\n+#' the first fragment will be inspected for its schema. Use this\n+#' fast path when you know and trust that all fragments have an identical schema.\n+#' The default is `FALSE` when creating a dataset from a file path (because\n+#' there may be many files and scanning may be slow) but `TRUE` when `sources`\n+#' is a list of `Dataset`s (because there should be few `Dataset`s in the list\n+#' and their `Schema`s are already in memory).\n #' @param ... additional arguments passed to `dataset_factory()` when\n #' `sources` is a file path, otherwise ignored.\n #' @return A [Dataset] R6 object. Use `dplyr` methods on it to query the data,\n #' or call [`$NewScan()`][Scanner] to construct a query directly.\n #' @export\n #' @seealso `vignette(\"dataset\", package = \"arrow\")`\n #' @include arrow-package.R\n-open_dataset <- function(sources, schema = NULL, partitioning = hive_partition(), ...) {\n+open_dataset <- function(sources,\n+                         schema = NULL,\n+                         partitioning = hive_partition(),\n+                         unify_schemas = NULL,\n+                         ...) {\n   if (is_list_of(sources, \"Dataset\")) {\n     if (is.null(schema)) {\n-      # Take the first one.\n-      # Someday, we should expose a way to unify schemas\n-      schema <- sources[[1]]$schema\n+      if (is.null(unify_schemas) || isTRUE(unify_schemas)) {\n+        # Default is to unify schemas here\n+        schema <- unify_schemas(schemas = map(sources, ~.$schema))\n+      } else {\n+        # Take the first one.\n+        # Someday, we should expose a way to unify schemas\n \n Review comment:\n   ```suggestion\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-04-10T20:33:15.721+0000",
                    "updated": "2020-04-10T20:33:15.721+0000",
                    "started": "2020-04-10T20:33:15.720+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "420477",
                    "issueId": "13297506"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506/worklog/420479",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6890: ARROW-8390: [R] Expose schema unification features\nURL: https://github.com/apache/arrow/pull/6890\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-04-10T20:34:09.741+0000",
                    "updated": "2020-04-10T20:34:09.741+0000",
                    "started": "2020-04-10T20:34:09.741+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "420479",
                    "issueId": "13297506"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 7200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@49287044[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4f8eb088[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@18f44aed[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@22c4b38b[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@33874748[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@4713a21[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3e68bb60[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@39371fcd[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3083b2a4[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3dae36a7[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@46e639c9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@472e9faf[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 7200,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Apr 10 20:34:12 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-04-10T20:34:12.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-8390/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2020-04-09T23:27:03.000+0000",
        "updated": "2020-04-10T20:34:12.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 7200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] Expose schema unification features",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13297506/comment/17080954",
                    "id": "17080954",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Issue resolved by pull request 6890\n[https://github.com/apache/arrow/pull/6890]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2020-04-10T20:34:12.475+0000",
                    "updated": "2020-04-10T20:34:12.475+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0dheg:",
        "customfield_12314139": null
    }
}