{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13254907",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907",
    "key": "ARROW-6458",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12345978",
                "id": "12345978",
                "description": "",
                "name": "0.15.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-10-05"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
            "name": "fan_li_ya",
            "key": "fan_li_ya",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Liya Fan",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
            "name": "fan_li_ya",
            "key": "fan_li_ya",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Liya Fan",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
            "name": "fan_li_ya",
            "key": "fan_li_ya",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Liya Fan",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "aggregateprogress": {
            "progress": 9000,
            "total": 9000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 9000,
            "total": 9000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-6458/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 15,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/307576",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5304: ARROW-6458: [Java] Improve the performance and code structure for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304\n \n \n   As discussed in https://github.com/apache/arrow/pull/5195#issuecomment-526157961, there are some problems with the current ways of comparing floating point vectors, we solve them in this PR:\r\n   \r\n   1. there are if statements/duplicated members in ApproxEqualsVisitor, making the code redundant and less clear.\r\n   2. the comparion of float4 and float8 are based on wrapped objects Float and Double, which may have performance penalty.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-06T02:11:42.417+0000",
                    "updated": "2019-09-06T02:11:42.417+0000",
                    "started": "2019-09-06T02:11:42.416+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "307576",
                    "issueId": "13254907"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/308298",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on issue #5304: ARROW-6458: [Java] Improve the performance and code structure for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304#issuecomment-529071813\n \n \n   > @liyafan82 I think this change should probably be broken into two different changes. One that avoid boxing/unboxing and a second one that consolidates code. The code consolidation has the potential to actually hurt performance. As part of the boxing/unboxing we should also introduce a performance test to verify it actually improves performance (which can then be used to measure the impact of the code consolidation behind the interface).\r\n   \r\n   It is a good suggestion to split into two issues for the two problems. I will revise the code and provide the performance benchmark accordingly.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-07T04:34:41.715+0000",
                    "updated": "2019-09-07T04:34:41.715+0000",
                    "started": "2019-09-07T04:34:41.714+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "308298",
                    "issueId": "13254907"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/308798",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on issue #5304: ARROW-6458: [Java] Remove value boxing/unboxing for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304#issuecomment-529466477\n \n \n   @emkornfield I have split the issue into two, according to your suggestion.\r\n   This is the first part, to remove boxing/unboxing of floating point values.\r\n   \r\n   Performance benchmark show that there is a performance improvement of over 10%:\r\n   \r\n   Before:\r\n   Float8Benchmarks.approxEqualsBenchmark  avgt    5  7.161 \u00b1 0.026  us/op\r\n   \r\n   After\r\n   Float8Benchmarks.approxEqualsBenchmark  avgt    5  6.355 \u00b1 0.004  us/op\r\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-09T13:10:47.754+0000",
                    "updated": "2019-09-09T13:10:47.754+0000",
                    "started": "2019-09-09T13:10:47.754+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "308798",
                    "issueId": "13254907"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/309490",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #5304: ARROW-6458: [Java] Remove value boxing/unboxing for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304#discussion_r322531194\n \n \n\n ##########\n File path: java/performance/src/test/java/org/apache/arrow/vector/Float8Benchmarks.java\n ##########\n @@ -64,14 +73,28 @@ public void prepare() {\n     fromVector = new Float8Vector(\"vector\", allocator);\n     fromVector.allocateNew(VECTOR_LENGTH);\n \n-    for (int i = 0;i < VECTOR_LENGTH; i++) {\n+    compareVector1 = new Float8Vector(\"vector cmp1\", allocator);\n+    compareVector1.allocateNew(VECTOR_LENGTH);\n+    compareVector2 = new Float8Vector(\"vector cmp2\", allocator);\n+    compareVector2.allocateNew(VECTOR_LENGTH);\n \n Review comment:\n   please add float4 vectors as part of this benchmark.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-10T02:42:06.030+0000",
                    "updated": "2019-09-10T02:42:06.030+0000",
                    "started": "2019-09-10T02:42:06.030+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "309490",
                    "issueId": "13254907"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/309498",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #5304: ARROW-6458: [Java] Remove value boxing/unboxing for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304#discussion_r322532976\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/compare/ApproxEqualsVisitor.java\n ##########\n @@ -53,13 +51,63 @@ public ApproxEqualsVisitor(ValueVector left, ValueVector right, float floatEpsil\n     super(left, right, true);\n     this.floatEpsilon = floatEpsilon;\n     this.doubleEpsilon = doubleEpsilon;\n+\n+    floatDiffFunction = (vector1, index1, vector2, index2) -> {\n+      boolean isNull1 = vector1.isNull(index1);\n+      boolean isNull2 = vector2.isNull(index2);\n+\n+      if (isNull1 || isNull2) {\n+        if (isNull1 && isNull2) {\n+          return true;\n+        } else {\n+          // exactly one of them is null\n+          return false;\n+        }\n+      }\n+\n+      float leftValue = vector1.get(index1);\n+      float rightValue = vector2.get(index2);\n+\n+      if (Float.isNaN(leftValue)) {\n+        return Float.isNaN(rightValue);\n+      }\n+      if (Float.isInfinite(leftValue)) {\n+        return Float.isInfinite(rightValue) && Math.signum(leftValue) == Math.signum(rightValue);\n+      }\n+      return Math.abs(leftValue - rightValue) <= floatEpsilon;\n+    };\n+\n+    doubleDiffFunction = (vector1, index1, vector2, index2) -> {\n \n Review comment:\n   I think this change is too much, I think the right thing to do is introduce an interface is to change DiffFunction into two interface.  \r\n   \r\n   DiffFunctionFloat {\r\n      bool approxEquals(float v1, float v2);\r\n   }\r\n   \r\n   DiffFunctionDouble {\r\n     bool approxEquals(double v1, double v2);\r\n   }\r\n   \r\n   and \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-10T02:53:17.086+0000",
                    "updated": "2019-09-10T02:53:17.086+0000",
                    "started": "2019-09-10T02:53:17.086+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "309498",
                    "issueId": "13254907"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/309521",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5304: ARROW-6458: [Java] Remove value boxing/unboxing for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304#discussion_r322547149\n \n \n\n ##########\n File path: java/performance/src/test/java/org/apache/arrow/vector/Float8Benchmarks.java\n ##########\n @@ -64,14 +73,28 @@ public void prepare() {\n     fromVector = new Float8Vector(\"vector\", allocator);\n     fromVector.allocateNew(VECTOR_LENGTH);\n \n-    for (int i = 0;i < VECTOR_LENGTH; i++) {\n+    compareVector1 = new Float8Vector(\"vector cmp1\", allocator);\n+    compareVector1.allocateNew(VECTOR_LENGTH);\n+    compareVector2 = new Float8Vector(\"vector cmp2\", allocator);\n+    compareVector2.allocateNew(VECTOR_LENGTH);\n \n Review comment:\n   Sure. I will add benchmarks for float4 to class Float4Benchmarks.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-10T04:24:48.714+0000",
                    "updated": "2019-09-10T04:24:48.714+0000",
                    "started": "2019-09-10T04:24:48.713+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "309521",
                    "issueId": "13254907"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/309522",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5304: ARROW-6458: [Java] Remove value boxing/unboxing for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304#discussion_r322547198\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/compare/ApproxEqualsVisitor.java\n ##########\n @@ -53,13 +51,63 @@ public ApproxEqualsVisitor(ValueVector left, ValueVector right, float floatEpsil\n     super(left, right, true);\n     this.floatEpsilon = floatEpsilon;\n     this.doubleEpsilon = doubleEpsilon;\n+\n+    floatDiffFunction = (vector1, index1, vector2, index2) -> {\n+      boolean isNull1 = vector1.isNull(index1);\n+      boolean isNull2 = vector2.isNull(index2);\n+\n+      if (isNull1 || isNull2) {\n+        if (isNull1 && isNull2) {\n+          return true;\n+        } else {\n+          // exactly one of them is null\n+          return false;\n+        }\n+      }\n+\n+      float leftValue = vector1.get(index1);\n+      float rightValue = vector2.get(index2);\n+\n+      if (Float.isNaN(leftValue)) {\n+        return Float.isNaN(rightValue);\n+      }\n+      if (Float.isInfinite(leftValue)) {\n+        return Float.isInfinite(rightValue) && Math.signum(leftValue) == Math.signum(rightValue);\n+      }\n+      return Math.abs(leftValue - rightValue) <= floatEpsilon;\n+    };\n+\n+    doubleDiffFunction = (vector1, index1, vector2, index2) -> {\n \n Review comment:\n   I see. Will revise accordingly.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-10T04:25:08.349+0000",
                    "updated": "2019-09-10T04:25:08.349+0000",
                    "started": "2019-09-10T04:25:08.347+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "309522",
                    "issueId": "13254907"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/309950",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #5304: ARROW-6458: [Java] Remove value boxing/unboxing for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304#discussion_r322855220\n \n \n\n ##########\n File path: java/performance/src/test/java/org/apache/arrow/vector/Float8Benchmarks.java\n ##########\n @@ -64,14 +73,28 @@ public void prepare() {\n     fromVector = new Float8Vector(\"vector\", allocator);\n     fromVector.allocateNew(VECTOR_LENGTH);\n \n-    for (int i = 0;i < VECTOR_LENGTH; i++) {\n+    compareVector1 = new Float8Vector(\"vector cmp1\", allocator);\n+    compareVector1.allocateNew(VECTOR_LENGTH);\n+    compareVector2 = new Float8Vector(\"vector cmp2\", allocator);\n+    compareVector2.allocateNew(VECTOR_LENGTH);\n \n Review comment:\n   Please consolidate into 1 floatbenchmarks class and a single benchmark. (reasoning behind this: http://insightfullogic.com/2014/May/12/fast-and-megamorphic-what-influences-method-invoca/)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-10T16:54:38.200+0000",
                    "updated": "2019-09-10T16:54:38.200+0000",
                    "started": "2019-09-10T16:54:38.200+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "309950",
                    "issueId": "13254907"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/310397",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5304: ARROW-6458: [Java] Remove value boxing/unboxing for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304#discussion_r323115755\n \n \n\n ##########\n File path: java/performance/src/test/java/org/apache/arrow/vector/Float8Benchmarks.java\n ##########\n @@ -64,14 +73,28 @@ public void prepare() {\n     fromVector = new Float8Vector(\"vector\", allocator);\n     fromVector.allocateNew(VECTOR_LENGTH);\n \n-    for (int i = 0;i < VECTOR_LENGTH; i++) {\n+    compareVector1 = new Float8Vector(\"vector cmp1\", allocator);\n+    compareVector1.allocateNew(VECTOR_LENGTH);\n+    compareVector2 = new Float8Vector(\"vector cmp2\", allocator);\n+    compareVector2.allocateNew(VECTOR_LENGTH);\n \n Review comment:\n   Sure. Thanks for the article. We have also found some problems with megamorphic methods in the current code base. Will improve them later. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-11T08:23:14.119+0000",
                    "updated": "2019-09-11T08:23:14.119+0000",
                    "started": "2019-09-11T08:23:14.119+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "310397",
                    "issueId": "13254907"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/310752",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #5304: ARROW-6458: [Java] Remove value boxing/unboxing for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304#discussion_r323317757\n \n \n\n ##########\n File path: java/performance/src/test/java/org/apache/arrow/vector/Float8Benchmarks.java\n ##########\n @@ -64,14 +73,28 @@ public void prepare() {\n     fromVector = new Float8Vector(\"vector\", allocator);\n     fromVector.allocateNew(VECTOR_LENGTH);\n \n-    for (int i = 0;i < VECTOR_LENGTH; i++) {\n+    compareVector1 = new Float8Vector(\"vector cmp1\", allocator);\n+    compareVector1.allocateNew(VECTOR_LENGTH);\n+    compareVector2 = new Float8Vector(\"vector cmp2\", allocator);\n+    compareVector2.allocateNew(VECTOR_LENGTH);\n \n Review comment:\n   For things not on the hot path it probably isn't worth changing.  The only reason I'm bringing it up here is because the code seemed to already written to avoid those calls.   If there are a lot of places you intend to fix then having a discussion on the mailing list would be a good idea.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-11T15:44:20.664+0000",
                    "updated": "2019-09-11T15:44:20.664+0000",
                    "started": "2019-09-11T15:44:20.664+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "310752",
                    "issueId": "13254907"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/311116",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5304: ARROW-6458: [Java] Remove value boxing/unboxing for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304#discussion_r323529232\n \n \n\n ##########\n File path: java/performance/src/test/java/org/apache/arrow/vector/Float8Benchmarks.java\n ##########\n @@ -64,14 +73,28 @@ public void prepare() {\n     fromVector = new Float8Vector(\"vector\", allocator);\n     fromVector.allocateNew(VECTOR_LENGTH);\n \n-    for (int i = 0;i < VECTOR_LENGTH; i++) {\n+    compareVector1 = new Float8Vector(\"vector cmp1\", allocator);\n+    compareVector1.allocateNew(VECTOR_LENGTH);\n+    compareVector2 = new Float8Vector(\"vector cmp2\", allocator);\n+    compareVector2.allocateNew(VECTOR_LENGTH);\n \n Review comment:\n   Sure. Sounds reasonable.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-12T02:02:13.945+0000",
                    "updated": "2019-09-12T02:02:13.945+0000",
                    "started": "2019-09-12T02:02:13.945+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "311116",
                    "issueId": "13254907"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/311405",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5304: ARROW-6458: [Java] Remove value boxing/unboxing for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304#discussion_r323738524\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/compare/ApproxEqualsVisitor.java\n ##########\n @@ -53,13 +51,63 @@ public ApproxEqualsVisitor(ValueVector left, ValueVector right, float floatEpsil\n     super(left, right, true);\n     this.floatEpsilon = floatEpsilon;\n     this.doubleEpsilon = doubleEpsilon;\n+\n+    floatDiffFunction = (vector1, index1, vector2, index2) -> {\n+      boolean isNull1 = vector1.isNull(index1);\n+      boolean isNull2 = vector2.isNull(index2);\n+\n+      if (isNull1 || isNull2) {\n+        if (isNull1 && isNull2) {\n+          return true;\n+        } else {\n+          // exactly one of them is null\n+          return false;\n+        }\n+      }\n+\n+      float leftValue = vector1.get(index1);\n+      float rightValue = vector2.get(index2);\n+\n+      if (Float.isNaN(leftValue)) {\n+        return Float.isNaN(rightValue);\n+      }\n+      if (Float.isInfinite(leftValue)) {\n+        return Float.isInfinite(rightValue) && Math.signum(leftValue) == Math.signum(rightValue);\n+      }\n+      return Math.abs(leftValue - rightValue) <= floatEpsilon;\n+    };\n+\n+    doubleDiffFunction = (vector1, index1, vector2, index2) -> {\n \n Review comment:\n   @emkornfield \r\n   I have revised the code to make the changes smaller.\r\n   And I have merged the benchmarks to a single class and a single benchmark, according to your suggestion.\r\n   \r\n   The benchmark results are as follows:\r\n   Before:\r\n   FloatingPointBenchmarks.approxEqualsBenchmark  avgt    5  14.480 \u00b1 0.023  us/op\r\n   \r\n   After:\r\n   FloatingPointBenchmarks.approxEqualsBenchmark  avgt    5  13.517 \u00b1 0.041  us/op\r\n   \r\n   By removing boxing/unboxing, we have a performance improvement of about 6.7%\r\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-12T13:26:50.990+0000",
                    "updated": "2019-09-12T13:26:50.990+0000",
                    "started": "2019-09-12T13:26:50.990+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "311405",
                    "issueId": "13254907"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/312915",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #5304: ARROW-6458: [Java] Remove value boxing/unboxing for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304#issuecomment-531758095\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/5304?src=pr&el=h1) Report\n   > Merging [#5304](https://codecov.io/gh/apache/arrow/pull/5304?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/abc786099627ef429109da16b9dc768b4efbd866?src=pr&el=desc) will **increase** coverage by `0.98%`.\n   > The diff coverage is `n/a`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/5304/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/5304?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #5304      +/-   ##\n   ==========================================\n   + Coverage   88.59%   89.57%   +0.98%     \n   ==========================================\n     Files         950      702     -248     \n     Lines      126185   107156   -19029     \n     Branches     1495        0    -1495     \n   ==========================================\n   - Hits       111791    95990   -15801     \n   + Misses      14029    11166    -2863     \n   + Partials      365        0     -365\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/5304?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [cpp/src/arrow/filesystem/s3\\_internal.h](https://codecov.io/gh/apache/arrow/pull/5304/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9maWxlc3lzdGVtL3MzX2ludGVybmFsLmg=) | `90.74% <0%> (-3.71%)` | :arrow_down: |\n   | [cpp/src/arrow/json/converter.cc](https://codecov.io/gh/apache/arrow/pull/5304/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9qc29uL2NvbnZlcnRlci5jYw==) | `90.05% <0%> (-1.76%)` | :arrow_down: |\n   | [cpp/src/arrow/json/chunked\\_builder.cc](https://codecov.io/gh/apache/arrow/pull/5304/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9qc29uL2NodW5rZWRfYnVpbGRlci5jYw==) | `79.91% <0%> (-1.68%)` | :arrow_down: |\n   | [cpp/src/plasma/thirdparty/ae/ae.c](https://codecov.io/gh/apache/arrow/pull/5304/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvdGhpcmRwYXJ0eS9hZS9hZS5j) | `70.75% <0%> (-0.95%)` | :arrow_down: |\n   | [python/pyarrow/tests/test\\_parquet.py](https://codecov.io/gh/apache/arrow/pull/5304/diff?src=pr&el=tree#diff-cHl0aG9uL3B5YXJyb3cvdGVzdHMvdGVzdF9wYXJxdWV0LnB5) | `96.09% <0%> (-0.12%)` | :arrow_down: |\n   | [r/src/recordbatch.cpp](https://codecov.io/gh/apache/arrow/pull/5304/diff?src=pr&el=tree#diff-ci9zcmMvcmVjb3JkYmF0Y2guY3Bw) | | |\n   | [go/arrow/math/uint64\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/5304/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC91aW50NjRfYW1kNjQuZ28=) | | |\n   | [r/R/list.R](https://codecov.io/gh/apache/arrow/pull/5304/diff?src=pr&el=tree#diff-ci9SL2xpc3QuUg==) | | |\n   | [r/src/symbols.cpp](https://codecov.io/gh/apache/arrow/pull/5304/diff?src=pr&el=tree#diff-ci9zcmMvc3ltYm9scy5jcHA=) | | |\n   | [r/src/array\\_to\\_vector.cpp](https://codecov.io/gh/apache/arrow/pull/5304/diff?src=pr&el=tree#diff-ci9zcmMvYXJyYXlfdG9fdmVjdG9yLmNwcA==) | | |\n   | ... and [244 more](https://codecov.io/gh/apache/arrow/pull/5304/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/5304?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/5304?src=pr&el=footer). Last update [abc7860...907c17d](https://codecov.io/gh/apache/arrow/pull/5304?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-16T12:36:49.477+0000",
                    "updated": "2019-09-16T12:36:49.477+0000",
                    "started": "2019-09-16T12:36:49.476+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "312915",
                    "issueId": "13254907"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/313474",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on issue #5304: ARROW-6458: [Java] Remove value boxing/unboxing for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304#issuecomment-532055393\n \n \n   +1, thank you.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-17T04:39:00.713+0000",
                    "updated": "2019-09-17T04:39:00.713+0000",
                    "started": "2019-09-17T04:39:00.713+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "313474",
                    "issueId": "13254907"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/worklog/313475",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #5304: ARROW-6458: [Java] Remove value boxing/unboxing for ApproxEqualsVisitor\nURL: https://github.com/apache/arrow/pull/5304\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-17T04:39:59.616+0000",
                    "updated": "2019-09-17T04:39:59.616+0000",
                    "started": "2019-09-17T04:39:59.616+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "313475",
                    "issueId": "13254907"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 9000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@6e80ac2f[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@333423fa[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3da27e74[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@2f9ba1c9[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@48baae6d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@5c0c14a1[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7273908a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@14e2e4[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1dc0fd4d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@21555b48[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4f4c7828[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@6868b0e7[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 9000,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Sep 17 04:40:12 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-09-17T04:40:11.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-6458/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2019-09-05T03:56:50.000+0000",
        "updated": "2019-09-17T04:40:12.000+0000",
        "timeoriginalestimate": null,
        "description": "As discussed in https://github.com/apache/arrow/pull/5195#issuecomment-526157961, there are some problems with the current ways of comparing floating point vectors, we solve them in this PR:\r\n\r\n1. there are if statements/duplicated members in ApproxEqualsVisitor, making the code redundant and less clear.\r\n2. the comparion of float4 and float8 are based on wrapped objects Float and Double, which may have performance penalty.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 9000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Java] Remove value boxing/unboxing for ApproxEqualsVisitor",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254907/comment/16931086",
                    "id": "16931086",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=emkornfield%40gmail.com",
                        "name": "emkornfield@gmail.com",
                        "key": "emkornfield@gmail.com",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Micah Kornfield",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Issue resolved by pull request 5304\n[https://github.com/apache/arrow/pull/5304]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=emkornfield%40gmail.com",
                        "name": "emkornfield@gmail.com",
                        "key": "emkornfield@gmail.com",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Micah Kornfield",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-09-17T04:40:12.036+0000",
                    "updated": "2019-09-17T04:40:12.036+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z06c7k:",
        "customfield_12314139": null
    }
}