{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13103489",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489",
    "key": "ARROW-1577",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12341352",
                "id": "12341352",
                "name": "0.8.0",
                "archived": false,
                "released": true,
                "releaseDate": "2017-12-18"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12341352",
                "id": "12341352",
                "name": "0.8.0",
                "archived": false,
                "released": true,
                "releaseDate": "2017-12-18"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=paul.e.taylor",
            "name": "paul.e.taylor",
            "key": "paul.e.taylor",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Paul Taylor",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12332552",
                "id": "12332552",
                "name": "JavaScript"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1577/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@3a56c980[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2dbf49bc[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7cbe4d8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@506ebf34[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4cf067bd[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@2ef8e22f[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@764d3e0c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@53ffa8ee[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1c7df0a3[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@75fd9099[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6adf6d74[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@44490019[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Nov 23 15:25:04 UTC 2017",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2017-11-23T15:24:49.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1577/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2017-09-20T03:23:40.000+0000",
        "updated": "2017-11-23T15:25:04.000+0000",
        "timeoriginalestimate": null,
        "description": "Since the NPM JavaScript module may wish to release more frequently than the main Arrow \"monorepo\", we should create a script to produce signed NPM artifacts to use for voting:\n\n* Update metadata for new version\n* Run unit tests\n* Create package tarballs with NPM\n* GPG sign and create md5 and sha512 checksum files\n* Upload to Apache dev SVN\n\ni.e. like https://github.com/apache/arrow/blob/master/dev/release/02-source.sh, but only for JavaScript.\n\nWe will also want to write instructions for Arrow developers to verify the tarballs to streamline the release votes",
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[JS] Package release script for NPM modules",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16178440",
                    "id": "16178440",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=paul.e.taylor",
                        "name": "paul.e.taylor",
                        "key": "paul.e.taylor",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Paul Taylor",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "[~wesmckinn] does the voting process determine whether the release is published to npm? or should I include the `npm publish` steps in the release script?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=paul.e.taylor",
                        "name": "paul.e.taylor",
                        "key": "paul.e.taylor",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Paul Taylor",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2017-09-25T01:49:23.464+0000",
                    "updated": "2017-09-25T01:54:42.707+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16178465",
                    "id": "16178465",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "We would wait until the vote passes to publish to npm -- the best thing would be for the npm publish step to be possible from the JS source artifact, so that what gets published on NPM is a by-product of the signed tarball that's been approved by the community",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2017-09-25T02:48:36.041+0000",
                    "updated": "2017-09-25T02:48:36.041+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16238664",
                    "id": "16238664",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "We should get this up and running and have a first JS release. Can I help with this?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2017-11-04T01:00:31.400+0000",
                    "updated": "2017-11-04T01:00:31.400+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16261929",
                    "id": "16261929",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "trxcllnt opened a new pull request #1346: ARROW-1577: [JS] add ASF release scripts\nURL: https://github.com/apache/arrow/pull/1346\n \n \n   @wesm does [this](https://github.com/apache/arrow/commit/b270dbad4f4fd70e19613b93148ec2ae3596e1fd#diff-fc8acbd4f42fb5e6b0cad14928b68115R59) look good\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-22T03:36:38.014+0000",
                    "updated": "2017-11-22T03:36:38.014+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16262059",
                    "id": "16262059",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "trxcllnt commented on issue #1346: ARROW-1577: [JS] add ASF release scripts\nURL: https://github.com/apache/arrow/pull/1346#issuecomment-346261217\n \n \n   @wesm ok, I added `dev/release/js-source-release.sh` and `js/npm-release.sh` scripts:\r\n   \r\n   ```sh\r\n   cd $ARROW_HOME\r\n   # create a release branch (assuming patch release 0.1.2 -> 0.1.3)\r\n   git co -b release-js-0_1_3\r\n   # create a new v0.1.3 tag\r\n   git tag -a apache-arrow-js-0.1.3 -m \"v0.1.3\"\r\n   ./dev/release/js-source-release.sh\r\n   # > Usage: ./dev/release/js-source-release.sh <js-version> <arrow-version> <rc-num>\r\n   \r\n   # - runs `npm version 0.1.3 --no-git-tag-version`\r\n   # - git-commits the new package.json@0.1.3\r\n   # - creates a tarball at dev/release/js-tmp/apache-arrow-js-0.1.3.tar.gz\r\n   # - copies signed tarballs to dev/release/js-tmp/js-rc-tmp/apache-arrow-js-0.1.3-rc0\r\n   # - svn commits the dev/release/js-tmp/js-rc-tmp/apache-arrow-js-0.1.3-rc0 directory\r\n   \r\n   # js-version 0.1.3, arrow-version 0.8.0, rc 0\r\n   ./dev/release/js-source-release.sh 0.1.3 0.8.0 0\r\n   ```\r\n   \r\n   And when we're ready to publish the modules to npm, we can run:\r\n   ```sh\r\n   cd apache-arrow-js-0.1.3-rc0\r\n   tar -xzf *.tar.gz\r\n   cd apache-arrow-js-0.1.3\r\n   # provide the same arrow-version so we can add an npm dist-tag to indicate which versions of Arrow the JS lib is compatible with\r\n   npm run release -- 0.8.0\r\n   # available at either\r\n   npm install apache-arrow@0.1.3\r\n   # or \r\n   npm install apache-arrow@v0.8.0\r\n   ```\r\n   \r\n   At the moment the `npm-release.sh` script [executes the integration tests](https://github.com/apache/arrow/pull/1346/commits/c9cb2e04ec4a85fe1e49d1c023b15fceb3598952#diff-a8aff12ce8d320cec92901f4a8129ed3R27) before publishing.\r\n   \r\n   If the `npm run release` step is run with the [integration test envars](https://github.com/trxcllnt/arrow/blob/js-asf-release-scripts/js/gulp/test-task.js#L66) available (or at the same directory level as the `arrow/js`), it should work fine. If thats's too much of a hassle, feel free to comment them out:\r\n   ```sh\r\n   # validate the targets pass all tests before publishing\r\n   npm install\r\n   # npx run-s clean:all lint create:testdata build\r\n   # npm run test -- -t ts -u --integration\r\n   # npm run test -- --integration\r\n   npx run-s clean:all lint build\r\n   npm run test\r\n   # ...\r\n   ```\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-22T07:02:36.488+0000",
                    "updated": "2017-11-22T07:02:36.488+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16262065",
                    "id": "16262065",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "trxcllnt commented on issue #1346: ARROW-1577: [JS] add ASF release scripts\nURL: https://github.com/apache/arrow/pull/1346#issuecomment-346261217\n \n \n   @wesm ok, I added `dev/release/js-source-release.sh` and `js/npm-release.sh` scripts:\r\n   \r\n   ```sh\r\n   cd $ARROW_HOME\r\n   # create a release branch (assuming patch release 0.1.2 -> 0.1.3)\r\n   git co -b release-js-0_1_3\r\n   # create a new v0.1.3 tag\r\n   git tag -a apache-arrow-js-0.1.3 -m \"v0.1.3\"\r\n   ./dev/release/js-source-release.sh\r\n   # > Usage: ./dev/release/js-source-release.sh <js-version> <arrow-version> <rc-num>\r\n   \r\n   # - runs `npm version 0.1.3 --no-git-tag-version`\r\n   # - git-commits the new package.json@0.1.3\r\n   # - creates a tarball at dev/release/js-tmp/apache-arrow-js-0.1.3.tar.gz\r\n   # - copies signed tarballs to dev/release/js-tmp/js-rc-tmp/apache-arrow-js-0.1.3-rc0\r\n   # - svn commits the dev/release/js-tmp/js-rc-tmp/apache-arrow-js-0.1.3-rc0 directory\r\n   \r\n   # js-version 0.1.3, arrow-version 0.8.0, rc 0\r\n   ./dev/release/js-source-release.sh 0.1.3 0.8.0 0\r\n   ```\r\n   \r\n   And when we're ready to publish the modules to npm, we can run:\r\n   ```sh\r\n   cd apache-arrow-js-0.1.3-rc0\r\n   tar -xzf *.tar.gz\r\n   cd apache-arrow-js-0.1.3\r\n   # provide the same arrow-version as `js-source-release.sh`,\r\n   # so we can add an npm dist-tag that indicates which Arrow\r\n    # release each npm version is compatible with\r\n   npm run release -- 0.8.0\r\n   # available at either\r\n   npm install apache-arrow@0.1.3\r\n   # or \r\n   npm install apache-arrow@v0.8.0\r\n   ```\r\n   \r\n   At the moment the `npm-release.sh` script [executes the integration tests](https://github.com/apache/arrow/pull/1346/commits/c9cb2e04ec4a85fe1e49d1c023b15fceb3598952#diff-a8aff12ce8d320cec92901f4a8129ed3R27) before publishing.\r\n   \r\n   If the `npm run release` step is run with the [integration test envars](https://github.com/trxcllnt/arrow/blob/js-asf-release-scripts/js/gulp/test-task.js#L66) available (or at the same directory level as the `arrow/js`), it should work fine. If thats's too much of a hassle, feel free to comment them out:\r\n   ```sh\r\n   # validate the targets pass all tests before publishing\r\n   npm install\r\n   # npx run-s clean:all lint create:testdata build\r\n   # npm run test -- -t ts -u --integration\r\n   # npm run test -- --integration\r\n   npx run-s clean:all lint build\r\n   npm run test\r\n   # ...\r\n   ```\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-22T07:04:30.224+0000",
                    "updated": "2017-11-22T07:04:30.224+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16262067",
                    "id": "16262067",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "trxcllnt commented on issue #1346: ARROW-1577: [JS] add ASF release scripts\nURL: https://github.com/apache/arrow/pull/1346#issuecomment-346261217\n \n \n   @wesm ok, I added `dev/release/js-source-release.sh` and `js/npm-release.sh` scripts:\r\n   \r\n   ```sh\r\n   cd $ARROW_HOME\r\n   # create a release branch (assuming patch release 0.1.2 -> 0.1.3)\r\n   git co -b release-js-0_1_3\r\n   # create a new v0.1.3 tag\r\n   git tag -a apache-arrow-js-0.1.3 -m \"v0.1.3\"\r\n   ./dev/release/js-source-release.sh\r\n   # > Usage: ./dev/release/js-source-release.sh <js-version> <arrow-version> <rc-num>\r\n   \r\n   # - runs `npm version 0.1.3 --no-git-tag-version`\r\n   # - git-commits the new package.json@0.1.3\r\n   # - creates a tarball at dev/release/js-tmp/apache-arrow-js-0.1.3.tar.gz\r\n   # - copies signed tarballs to dev/release/js-tmp/js-rc-tmp/apache-arrow-js-0.1.3-rc0\r\n   # - svn commits the dev/release/js-tmp/js-rc-tmp/apache-arrow-js-0.1.3-rc0 directory\r\n   \r\n   # js-version 0.1.3, arrow-version 0.8.0, rc 0\r\n   ./dev/release/js-source-release.sh 0.1.3 0.8.0 0\r\n   ```\r\n   \r\n   And when we're ready to publish the modules to npm, we can run:\r\n   ```sh\r\n   cd apache-arrow-js-0.1.3-rc0\r\n   tar -xzf *.tar.gz\r\n   cd apache-arrow-js-0.1.3\r\n   # provide the same arrow-version as `js-source-release.sh`,\r\n   # so we can add an npm dist-tag that indicates which Arrow\r\n   # release each npm version is compatible with\r\n   npm run release -- 0.8.0\r\n   # available at either\r\n   npm install apache-arrow@0.1.3\r\n   # or \r\n   npm install apache-arrow@v0.8.0\r\n   ```\r\n   \r\n   At the moment the `npm-release.sh` script [executes the integration tests](https://github.com/apache/arrow/pull/1346/commits/c9cb2e04ec4a85fe1e49d1c023b15fceb3598952#diff-a8aff12ce8d320cec92901f4a8129ed3R27) before publishing.\r\n   \r\n   If the `npm run release` step is run with the [integration test envars](https://github.com/trxcllnt/arrow/blob/js-asf-release-scripts/js/gulp/test-task.js#L66) available (or at the same directory level as the `arrow/js`), it should work fine. If thats's too much of a hassle, feel free to comment them out:\r\n   ```sh\r\n   # validate the targets pass all tests before publishing\r\n   npm install\r\n   # npx run-s clean:all lint create:testdata build\r\n   # npm run test -- -t ts -u --integration\r\n   # npm run test -- --integration\r\n   npx run-s clean:all lint build\r\n   npm run test\r\n   # ...\r\n   ```\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-22T07:05:08.036+0000",
                    "updated": "2017-11-22T07:05:08.036+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16262721",
                    "id": "16262721",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1346: ARROW-1577: [JS] add ASF release scripts\nURL: https://github.com/apache/arrow/pull/1346#issuecomment-346371702\n \n \n   In\r\n    \r\n   ```\r\n   # available at either\r\n   npm install apache-arrow@0.1.3\r\n   # or \r\n   npm install apache-arrow@v0.8.0\r\n   ```\r\n   \r\n   I am concerned this might confuse more than help. As long as two implementations are using the same metadata version (e.g. V4), then the older metadata is supposed to be forward compatible. So an older JS version that uses V4 would be compatible with versions of the other Arrow libraries other than 0.8.0. Is there somewhere else where we can document the version cross-compatibility?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-22T14:49:35.342+0000",
                    "updated": "2017-11-22T14:49:35.342+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16262722",
                    "id": "16262722",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1346: ARROW-1577: [JS] add ASF release scripts\nURL: https://github.com/apache/arrow/pull/1346#issuecomment-346371702\n \n \n   In\r\n    \r\n   ```\r\n   # available at either\r\n   npm install apache-arrow@0.1.3\r\n   # or \r\n   npm install apache-arrow@v0.8.0\r\n   ```\r\n   \r\n   I am concerned this might confuse more than help. As long as two implementations are using the same metadata version (e.g. V4), then the older metadata is supposed to be forward / backward compatible. So an older JS version that uses V4 would be compatible with versions of the other Arrow libraries other than 0.8.0. Is there somewhere else where we can document the version cross-compatibility?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-22T14:50:04.151+0000",
                    "updated": "2017-11-22T14:50:04.151+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16262767",
                    "id": "16262767",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1346: ARROW-1577: [JS] add ASF release scripts\nURL: https://github.com/apache/arrow/pull/1346#issuecomment-346379338\n \n \n   There are some missing steps in running the source release, can you let me know what I need to do?\r\n   \r\n   * Installed node with nvm `nvm install node`\r\n   * Tried running dev/release/js-source-release.sh, failed due to missing gulp\r\n   * Ran `npm install --global gulp`, then tried the script again, failed with:\r\n   \r\n   ```\r\n   Preparing source for tag apache-arrow-js-0.2.0\r\n   Using commit 6beed6abf3d288511a0766bf51a255842290032f\r\n   \r\n   > apache-arrow@0.2.0 clean:testdata /home/wesm/code/arrow/js\r\n   > gulp clean:testdata\r\n   \r\n   module.js:544\r\n       throw err;\r\n       ^\r\n   \r\n   Error: Cannot find module 'del'\r\n       at Function.Module._resolveFilename (module.js:542:15)\r\n       at Function.Module._load (module.js:472:25)\r\n       at Module.require (module.js:585:17)\r\n       at require (internal/module.js:11:18)\r\n       at Object.<anonymous> (/home/wesm/code/arrow/js/gulpfile.js:18:13)\r\n       at Module._compile (module.js:641:30)\r\n       at Object.Module._extensions..js (module.js:652:10)\r\n       at Module.load (module.js:560:32)\r\n       at tryModuleLoad (module.js:503:12)\r\n       at Function.Module._load (module.js:495:3)\r\n   npm ERR! code ELIFECYCLE\r\n   npm ERR! errno 1\r\n   npm ERR! apache-arrow@0.2.0 clean:testdata: `gulp clean:testdata`\r\n   npm ERR! Exit status 1\r\n   npm ERR! \r\n   npm ERR! Failed at the apache-arrow@0.2.0 clean:testdata script.\r\n   npm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n   npm WARN Local package.json exists, but node_modules missing, did you mean to install?\r\n   \r\n   npm ERR! A complete log of this run can be found in:\r\n   npm ERR!     /home/wesm/.npm/_logs/2017-11-22T15_10_58_135Z-debug.log\r\n   ```\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-22T15:13:08.744+0000",
                    "updated": "2017-11-22T15:13:08.744+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16263281",
                    "id": "16263281",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "trxcllnt commented on issue #1346: ARROW-1577: [JS] add ASF release scripts\nURL: https://github.com/apache/arrow/pull/1346#issuecomment-346462332\n \n \n   @wesm ah right, I forgot you need the dependencies installed. I've updated the release script run `npm install` before doing things.\r\n   \r\n   You shouldn't need to hand edit the version in package.json, because the [`npm version`](https://docs.npmjs.com/cli/version) command will do that for you [here](https://github.com/apache/arrow/pull/1346/commits/567c570e3568a97e90349e6911fa342b6c08274b#diff-2ca055280723a1db988255852328f368R54). If the version is already set in package.json to the value you pass to `js-source-release.sh`, the command will fail with a \"same-version\" error.\r\n   \r\n   `npm version` typically also automatically creates git tags. I had this disabled, but found a config variable that lets us specify the [tag version prefix](https://docs.npmjs.com/misc/config#tag-version-prefix)\r\n   \r\n   So now [this command](https://github.com/apache/arrow/pull/1346/commits/6692e1797a355e7351be16cced42511ff2bb006c#diff-2ca055280723a1db988255852328f368R44) will:\r\n   1. increment the package.json version to the `$js_version` you pass to `js-source-release.sh`\r\n   2. `git commit -m \"[Release] apache-arrow-js-X.Y.Z\"`\r\n   3. `git tag -a apache-arrow-js-X.Y.Z` ([specified here]((https://github.com/apache/arrow/pull/1346/commits/6692e1797a355e7351be16cced42511ff2bb006c#diff-3564d26fe29cca7ef63a785b2ed23ed0R3)))\r\n   \r\n   so now you shouldn't have to explicitly create a new git tag before running `js-source-release.sh`, as npm will do that automatically.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-22T20:17:33.498+0000",
                    "updated": "2017-11-22T20:17:33.498+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16263283",
                    "id": "16263283",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "trxcllnt commented on issue #1346: ARROW-1577: [JS] add ASF release scripts\nURL: https://github.com/apache/arrow/pull/1346#issuecomment-346462332\n \n \n   @wesm ah right, I forgot you need the dependencies installed. I've updated the release script run `npm install` before doing things.\r\n   \r\n   You shouldn't need to hand edit the version in package.json, because the [`npm version`](https://docs.npmjs.com/cli/version) command will do that for you [here](https://github.com/apache/arrow/pull/1346/commits/567c570e3568a97e90349e6911fa342b6c08274b#diff-2ca055280723a1db988255852328f368R54). If the version is already set in package.json to the value you pass to `js-source-release.sh`, the command will fail with a \"same-version\" error.\r\n   \r\n   `npm version` typically also automatically creates git tags. I had this disabled, but found a config variable that lets us specify the [tag version prefix](https://docs.npmjs.com/misc/config#tag-version-prefix)\r\n   \r\n   So now [this command](https://github.com/apache/arrow/pull/1346/commits/6692e1797a355e7351be16cced42511ff2bb006c#diff-2ca055280723a1db988255852328f368R44) will:\r\n   1. increment the package.json version to the `$js_version` you pass to `js-source-release.sh`\r\n   2. `git commit -m \"[Release] apache-arrow-js-X.Y.Z\"`\r\n   3. `git tag -a apache-arrow-js-X.Y.Z` ([specified here](https://github.com/apache/arrow/pull/1346/commits/6692e1797a355e7351be16cced42511ff2bb006c#diff-3564d26fe29cca7ef63a785b2ed23ed0R3))\r\n   \r\n   so now you shouldn't have to explicitly create a new git tag before running `js-source-release.sh`, as npm will do that automatically.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-22T20:18:21.854+0000",
                    "updated": "2017-11-22T20:18:21.854+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16263332",
                    "id": "16263332",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1346: ARROW-1577: [JS] add ASF release scripts\nURL: https://github.com/apache/arrow/pull/1346#issuecomment-346470928\n \n \n   Cool, I will give it another go!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-22T20:57:22.560+0000",
                    "updated": "2017-11-22T20:57:22.560+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16263338",
                    "id": "16263338",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1346: ARROW-1577: [JS] add ASF release scripts\nURL: https://github.com/apache/arrow/pull/1346#issuecomment-346471395\n \n \n   ```\r\n   $ dev/release/js-source-release.sh 0.2.0 0\r\n   Preparing source for tag apache-arrow-js-0.2.0\r\n   \r\n   > uglifyjs-webpack-plugin@0.4.6 postinstall /home/wesm/code/arrow/js/node_modules/webpack/node_modules/uglifyjs-webpack-plugin\r\n   > node lib/post_install.js\r\n   \r\n   npm WARN apache-arrow@0.1.2 requires a peer of command-line-usage@4.0.1 but none is installed. You must install peer dependencies yourself.\r\n   npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.1.3 (node_modules/fsevents):\r\n   npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.1.3: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\r\n   \r\n   added 1269 packages in 22.642s\r\n   v0.2.0\r\n   \r\n   > apache-arrow@0.2.0 version /home/wesm/code/arrow/js\r\n   > npm install && npm run clean:all\r\n   \r\n   npm WARN apache-arrow@0.2.0 requires a peer of command-line-usage@4.0.1 but none is installed. You must install peer dependencies yourself.\r\n   npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.1.3 (node_modules/fsevents):\r\n   npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.1.3: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\r\n   \r\n   added 116 packages in 4.871s\r\n   \r\n   > apache-arrow@0.2.0 clean:all /home/wesm/code/arrow/js\r\n   > run-p clean clean:testdata\r\n   \r\n   \r\n   > apache-arrow@0.2.0 clean /home/wesm/code/arrow/js\r\n   > gulp clean\r\n   \r\n   \r\n   > apache-arrow@0.2.0 clean:testdata /home/wesm/code/arrow/js\r\n   > gulp clean:testdata\r\n   \r\n   [15:59:12] Using gulpfile ~/code/arrow/js/gulpfile.js\r\n   [15:59:12] Using gulpfile ~/code/arrow/js/gulpfile.js\r\n   [15:59:12] Starting 'clean:testdata'...\r\n   [15:59:12] Starting 'clean'...\r\n   [15:59:12] Starting 'clean:ts'...\r\n   [15:59:12] Starting 'clean:apache-arrow'...\r\n   [15:59:12] Starting 'clean:es5:cjs'...\r\n   [15:59:12] Starting 'clean:es2015:cjs'...\r\n   [15:59:12] Starting 'clean:esnext:cjs'...\r\n   [15:59:12] Starting 'clean:es5:esm'...\r\n   [15:59:12] Starting 'clean:es2015:esm'...\r\n   [15:59:12] Starting 'clean:esnext:esm'...\r\n   [15:59:12] Starting 'clean:es5:cls'...\r\n   [15:59:12] Starting 'clean:es2015:cls'...\r\n   [15:59:12] Starting 'clean:esnext:cls'...\r\n   [15:59:12] Starting 'clean:es5:umd'...\r\n   [15:59:12] Starting 'clean:es2015:umd'...\r\n   [15:59:12] Starting 'clean:esnext:umd'...\r\n   [15:59:12] Finished 'clean:testdata' after 5.41 ms\r\n   [15:59:12] Finished 'clean:ts' after 10 ms\r\n   [15:59:12] Finished 'clean:apache-arrow' after 11 ms\r\n   [15:59:12] Finished 'clean:es5:cjs' after 11 ms\r\n   [15:59:12] Finished 'clean:es2015:cjs' after 11 ms\r\n   [15:59:12] Finished 'clean:esnext:cjs' after 11 ms\r\n   [15:59:12] Finished 'clean:es5:esm' after 14 ms\r\n   [15:59:12] Finished 'clean:es2015:esm' after 14 ms\r\n   [15:59:12] Finished 'clean:esnext:esm' after 14 ms\r\n   [15:59:12] Finished 'clean:es5:cls' after 14 ms\r\n   [15:59:12] Finished 'clean:es2015:cls' after 14 ms\r\n   [15:59:12] Finished 'clean:esnext:cls' after 14 ms\r\n   [15:59:12] Finished 'clean:es5:umd' after 14 ms\r\n   [15:59:12] Finished 'clean:es2015:umd' after 14 ms\r\n   [15:59:12] Finished 'clean:esnext:umd' after 14 ms\r\n   [15:59:12] Finished 'clean' after 17 ms\r\n   Cannot continue: unknown git tag: apache-arrow-js-0.2.0\r\n   ```\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-22T20:59:39.196+0000",
                    "updated": "2017-11-22T20:59:39.196+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16263480",
                    "id": "16263480",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1346: ARROW-1577: [JS] add ASF release scripts\nURL: https://github.com/apache/arrow/pull/1346#issuecomment-346491793\n \n \n   Rebased. +1, will merge once the builds run\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-22T22:38:24.453+0000",
                    "updated": "2017-11-22T22:38:24.453+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16264470",
                    "id": "16264470",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm closed pull request #1346: ARROW-1577: [JS] add ASF release scripts\nURL: https://github.com/apache/arrow/pull/1346\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/ci/travis_script_integration.sh b/ci/travis_script_integration.sh\nindex 105a0cc60..9514a30a8 100755\n--- a/ci/travis_script_integration.sh\n+++ b/ci/travis_script_integration.sh\n@@ -51,7 +51,7 @@ pushd $ARROW_JS_DIR\n npm run lint\n npm run build\n # create initial test data\n-npm run test:createTestData\n+npm run create:testdata\n # run once to write the snapshots\n npm test -- -t ts -u --integration\n # run again to test all builds against the snapshots\ndiff --git a/dev/README.md b/dev/README.md\nindex f3e963cf4..62ffb0a8f 100644\n--- a/dev/README.md\n+++ b/dev/README.md\n@@ -113,3 +113,11 @@ Studio 2015):\n ```\n dev/release/verify-release-candidate.bat apache-arrow-0.7.0.tar.gz\n ```\n+\n+### Verifying the JavaScript release\n+\n+For JavaScript-specific releases, use a different verification script:\n+\n+```shell\n+bash dev/release/js-verify-release-candidate.sh 0.7.0 0\n+```\n\\ No newline at end of file\ndiff --git a/dev/release/README b/dev/release/README\nindex dd2f512a0..8e0104ed8 100644\n--- a/dev/release/README\n+++ b/dev/release/README\n@@ -49,3 +49,16 @@ Logon to the apache repository: https://repository.apache.org/#stagingRepositori\n Select the arrow staging repository you just just created: orgapachearrow-100x\n Click the \"close\" button\n Once validation has passed, click the \"release\" button\n+\n+# Releasing JavaScript\n+\n+* Make release branch then tag the release\n+\n+git checkout -b release-js-X.Y.Z\n+git tag -a apache-arrow-js-X.Y.Z\n+\n+* Build the source release (requires NodeJS)\n+\n+dev/release/js-source-release.sh X.Y.Z $RC_NUM\n+\n+* After release vote push tag, and rebase master on release branch\n\\ No newline at end of file\ndiff --git a/dev/release/js-source-release.sh b/dev/release/js-source-release.sh\nnew file mode 100755\nindex 000000000..bf32acd05\n--- /dev/null\n+++ b/dev/release/js-source-release.sh\n@@ -0,0 +1,103 @@\n+#!/bin/bash\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+#\n+set -e\n+\n+SOURCE_DIR=\"$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" && pwd )\"\n+\n+if [ \"$#\" -ne 2 ]; then\n+  echo \"Usage: $0 <js-version> <rc-num>\"\n+  exit\n+fi\n+\n+js_version=$1\n+rc=$2\n+\n+tag=apache-arrow-js-${js_version}\n+tagrc=${tag}-rc${rc}\n+\n+echo \"Preparing source for tag ${tag}\"\n+\n+tarball=${tag}.tar.gz\n+\n+# cd to $ARROW_HOME/js\n+cd $SOURCE_DIR/../../js\n+JS_SRC_DIR=\"$PWD\"\n+# npm pack the js source files\n+npm install\n+\n+npm version --no-git-tag-version $js_version\n+git add package.json\n+git commit -m \"[Release] Apache Arrow JavaScript $js_version\"\n+git tag -a ${tag}\n+\n+release_hash=`git rev-list $tag 2> /dev/null | head -n 1 `\n+\n+if [ -z \"$release_hash\" ]; then\n+  echo \"Cannot continue: unknown git tag: $tag\"\n+  exit\n+fi\n+\n+echo \"Using commit $release_hash\"\n+\n+cd $SOURCE_DIR\n+\n+rm -rf js-tmp\n+# `npm pack` writes the .tgz file to the current dir, so cd into js-tmp\n+mkdir -p js-tmp\n+cd js-tmp\n+# run npm pack on `arrow/js`\n+npm pack ${JS_SRC_DIR}\n+# unzip and remove the npm pack tarball\n+tar -xzf *.tgz && rm *.tgz\n+# `npm pack` puts files in a dir called \"package\"\n+cp $JS_SRC_DIR/../NOTICE.txt package\n+cp $JS_SRC_DIR/../LICENSE.txt package\n+# rename \"package\" to $tag\n+mv package ${tag}\n+tar czf ${tarball} ${tag}\n+rm -rf ${tag}\n+\n+${SOURCE_DIR}/run-rat.sh ${tarball}\n+\n+# sign the archive\n+gpg --armor --output ${tarball}.asc --detach-sig ${tarball}\n+gpg --print-md MD5 ${tarball} > ${tarball}.md5\n+sha1sum $tarball > ${tarball}.sha1\n+sha256sum $tarball > ${tarball}.sha256\n+sha512sum $tarball > ${tarball}.sha512\n+\n+# check out the arrow RC folder\n+svn co --depth=empty https://dist.apache.org/repos/dist/dev/arrow js-rc-tmp\n+\n+# add the release candidate for the tag\n+mkdir -p js-rc-tmp/${tagrc}\n+cp ${tarball}* js-rc-tmp/${tagrc}\n+svn add js-rc-tmp/${tagrc}\n+svn ci -m 'Apache Arrow JavaScript ${version} RC${rc}' js-rc-tmp/${tagrc}\n+\n+cd -\n+\n+# clean up\n+rm -rf js-tmp\n+\n+echo \"Success! The release candidate is available here:\"\n+echo \"  https://dist.apache.org/repos/dist/dev/arrow/${tagrc}\"\n+echo \"\"\n+echo \"Commit SHA1: ${release_hash}\"\ndiff --git a/dev/release/js-verify-release-candidate.sh b/dev/release/js-verify-release-candidate.sh\nnew file mode 100755\nindex 000000000..5a37e10f7\n--- /dev/null\n+++ b/dev/release/js-verify-release-candidate.sh\n@@ -0,0 +1,100 @@\n+#!/bin/bash\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+#\n+\n+# Requirements\n+# - nodejs >= 6.0.0 (best way is to use nvm)\n+\n+case $# in\n+  2) VERSION=\"$1\"\n+     RC_NUMBER=\"$2\"\n+     ;;\n+\n+  *) echo \"Usage: $0 X.Y.Z RC_NUMBER\"\n+     exit 1\n+     ;;\n+esac\n+\n+set -ex\n+\n+HERE=$(cd `dirname \"${BASH_SOURCE[0]:-$0}\"` && pwd)\n+\n+ARROW_DIST_URL='https://dist.apache.org/repos/dist/dev/arrow'\n+\n+download_dist_file() {\n+  curl -f -O $ARROW_DIST_URL/$1\n+}\n+\n+download_rc_file() {\n+  download_dist_file apache-arrow-js-${VERSION}-rc${RC_NUMBER}/$1\n+}\n+\n+import_gpg_keys() {\n+  download_dist_file KEYS\n+  gpg --import KEYS\n+}\n+\n+fetch_archive() {\n+  local dist_name=$1\n+  download_rc_file ${dist_name}.tar.gz\n+  download_rc_file ${dist_name}.tar.gz.asc\n+  download_rc_file ${dist_name}.tar.gz.md5\n+  download_rc_file ${dist_name}.tar.gz.sha512\n+  gpg --verify ${dist_name}.tar.gz.asc ${dist_name}.tar.gz\n+  gpg --print-md MD5 ${dist_name}.tar.gz | diff - ${dist_name}.tar.gz.md5\n+  if [ \"$(uname)\" == \"Darwin\" ]; then\n+    shasum -a 512 ${dist_name}.tar.gz | diff - ${dist_name}.tar.gz.sha512\n+  else\n+    sha512sum ${dist_name}.tar.gz | diff - ${dist_name}.tar.gz.sha512\n+  fi\n+}\n+\n+setup_tempdir() {\n+  cleanup() {\n+    rm -fr \"$TMPDIR\"\n+  }\n+  trap cleanup EXIT\n+  TMPDIR=$(mktemp -d -t \"$1.XXXXX\")\n+}\n+\n+setup_tempdir \"arrow-js-$VERSION\"\n+echo \"Working in sandbox $TMPDIR\"\n+cd $TMPDIR\n+\n+VERSION=$1\n+RC_NUMBER=$2\n+\n+TARBALL=apache-arrow-js-$1.tar.gz\n+\n+import_gpg_keys\n+\n+DIST_NAME=\"apache-arrow-js-${VERSION}\"\n+fetch_archive $DIST_NAME\n+tar xvzf ${DIST_NAME}.tar.gz\n+cd ${DIST_NAME}\n+\n+npm install\n+# npx run-s clean:all lint create:testdata build\n+# npm run test -- -t ts -u --integration\n+# npm run test -- --integration\n+npx run-s clean:all lint build\n+npm run test\n+\n+echo 'Release candidate looks good!'\n+exit 0\ndiff --git a/dev/release/verify-release-candidate.sh b/dev/release/verify-release-candidate.sh\nindex 8d1bed75b..7c5e7fd0a 100755\n--- a/dev/release/verify-release-candidate.sh\n+++ b/dev/release/verify-release-candidate.sh\n@@ -173,7 +173,16 @@ test_glib() {\n test_js() {\n   pushd js\n   npm install\n-  npm run validate\n+  # clean, lint, and build JS source\n+  npm run clean:all\n+  npm run lint\n+  npm run build\n+  # create initial integration test data\n+  npm run create:testdata\n+  # run once to write the snapshots\n+  npm test -- -t ts -u --integration\n+  # run again to test all builds against the snapshots\n+  npm test -- --integration\n   popd\n }\n \ndiff --git a/js/.npmrc b/js/.npmrc\nindex 71ffabdd5..b6b25d1f1 100644\n--- a/js/.npmrc\n+++ b/js/.npmrc\n@@ -1,2 +1,2 @@\n save-prefix=\n-package-lock=false\n+package-lock=false\n\\ No newline at end of file\ndiff --git a/js/README.md b/js/README.md\nindex e07be6bc0..9b1753f68 100644\n--- a/js/README.md\n+++ b/js/README.md\n@@ -183,22 +183,24 @@ The base `apache-arrow` package includes all the compilation targets for conveni\n The targets are also published under the `@apache-arrow` namespace:\n \n ```sh\n-npm install @apache-arrow/es5-cjs # ES5 CommonJS target\n-npm install @apache-arrow/es5-esm # ES5 ESModules target\n-npm install @apache-arrow/es5-umd # ES5 UMD target\n-npm install @apache-arrow/es2015-cjs # ES2015 CommonJS target\n-npm install @apache-arrow/es2015-esm # ES2015 ESModules target\n-npm install @apache-arrow/es2015-umd # ES2015 UMD target\n-npm install @apache-arrow/esnext-esm # ESNext CommonJS target\n-npm install @apache-arrow/esnext-esm # ESNext ESModules target\n-npm install @apache-arrow/esnext-umd # ESNext UMD target\n+npm install apache-arrow # <-- combined es5/CommonJS + UMD, es2015/ESModules + UMD, and TypeScript package\n+npm install @apache-arrow/ts # standalone TypeScript package\n+npm install @apache-arrow/es5-cjs # standalone es5/CommonJS package\n+npm install @apache-arrow/es5-esm # standalone es5/ESModules package\n+npm install @apache-arrow/es5-umd # standalone es5/UMD package\n+npm install @apache-arrow/es2015-cjs # standalone es2015/CommonJS package\n+npm install @apache-arrow/es2015-esm # standalone es2015/ESModules package\n+npm install @apache-arrow/es2015-umd # standalone es2015/UMD package\n+npm install @apache-arrow/esnext-esm # standalone esNext/CommonJS package\n+npm install @apache-arrow/esnext-esm # standalone esNext/ESModules package\n+npm install @apache-arrow/esnext-umd # standalone esNext/UMD package\n ```\n \n ### Why we package like this\n \n The JS community is a diverse group with a varied list of target environments and tool chains. Publishing multiple packages accommodates projects of all stripes.\n \n-If you think we missed a compilation target and it's a blocker for adoption, please open an issue. We're here for you \u2764\ufe0f.\n+If you think we missed a compilation target and it's a blocker for adoption, please open an issue.\n \n # License\n \ndiff --git a/js/gulp/package-task.js b/js/gulp/package-task.js\nindex ad56d172e..824284e6a 100644\n--- a/js/gulp/package-task.js\n+++ b/js/gulp/package-task.js\n@@ -48,13 +48,7 @@ const createMainPackageJson = (target, format) => (orig) => ({\n     module: `${mainExport}.mjs`,\n     browser: `${mainExport}.es5.min.js`,\n     [`browser:es2015`]: `${mainExport}.es2015.min.js`,\n-    [`@std/esm`]: { esm: `mjs` },\n-    // Temporary workaround until https://github.com/Microsoft/tslib/pull/44 is merged\n-    scripts: {\n-        postinstall: `npm i shx && npm run tslib_mjs && npm run tslib_pkg && npm r shx`,\n-        tslib_mjs: `shx cp $(node -e \\\"console.log(require.resolve('tslib/tslib.es6.js'))\\\") $(node -e \\\"var r=require,p=r('path');console.log(p.join(p.dirname(r.resolve('tslib')),'tslib.mjs'))\\\")`,\n-        tslib_pkg: `node -e \\\"var r=require,p=r('path'),f=r('fs'),k=p.join(p.dirname(r.resolve('tslib')),'package.json'),x=JSON.parse(f.readFileSync(k));x.main='tslib';f.writeFileSync(k,JSON.stringify(x))\\\"`\n-    }\n+    [`@std/esm`]: { esm: `mjs` }\n });\n   \n const createTypeScriptPackageJson = (target, format) => (orig) => ({\ndiff --git a/js/gulp/test-task.js b/js/gulp/test-task.js\nindex ae6b8071d..ac9755e11 100644\n--- a/js/gulp/test-task.js\n+++ b/js/gulp/test-task.js\n@@ -73,12 +73,13 @@ const CPP_STREAM_TO_FILE = path.join(CPP_EXE_PATH, 'stream-to-file');\n const CPP_FILE_TO_STREAM = path.join(CPP_EXE_PATH, 'file-to-stream');\n \n const testFilesDir = path.join(ARROW_HOME, 'js/test/data');\n+const snapshotsDir = path.join(ARROW_HOME, 'js/test/__snapshots__');\n const cppFilesDir = path.join(testFilesDir, 'cpp');\n const javaFilesDir = path.join(testFilesDir, 'java');\n const jsonFilesDir = path.join(testFilesDir, 'json');\n \n async function cleanTestData() {\n-    return await del(`${testFilesDir}/**`);\n+    return await del([`${testFilesDir}/**`, `${snapshotsDir}/**`]);\n }\n \n async function createTestJSON() {\ndiff --git a/js/gulp/util.js b/js/gulp/util.js\nindex e23fc3985..23476da2d 100644\n--- a/js/gulp/util.js\n+++ b/js/gulp/util.js\n@@ -15,6 +15,7 @@\n // specific language governing permissions and limitations\n // under the License.\n \n+const fs = require('fs');\n const path = require(`path`);\n const pump = require(`pump`);\n const { Observable, ReplaySubject } = require('rxjs');\n@@ -27,13 +28,26 @@ const releasesRootDir = `targets`;\n const knownTargets = [`es5`, `es2015`, `esnext`];\n const knownModules = [`cjs`, `esm`, `cls`, `umd`];\n const moduleFormatsToSkipCombosOf = { cls: true };\n-const metadataFiles = [`../LICENSE.txt`, `../NOTICE.txt`, `README.md`];\n const packageJSONFields = [\n   `version`, `license`, `description`,\n   `author`, `homepage`, `repository`,\n   `bugs`, `keywords`,  `dependencies`\n ];\n \n+const metadataFiles = [`LICENSE.txt`, `NOTICE.txt`, `README.md`].map((filename) => {\n+    let err = false, prefixes = [`./`, `../`];\n+    let p = prefixes.find((prefix) => {\n+        try {\n+            fs.statSync(path.resolve(path.join(prefix, filename)));\n+        } catch (e) { return false; }\n+        return true;\n+    });\n+    if (!p) {\n+        throw new Error(`Couldn't find ${filename} in ./ or ../`);\n+    }\n+    return path.join(p, filename);\n+});\n+\n // see: https://github.com/google/closure-compiler/blob/c1372b799d94582eaf4b507a4a22558ff26c403c/src/com/google/javascript/jscomp/CompilerOptions.java#L2988\n const gCCLanguageNames = {\n     es5: `ECMASCRIPT5`,\ndiff --git a/js/gulpfile.js b/js/gulpfile.js\nindex cd0ac7002..a60363214 100644\n--- a/js/gulpfile.js\n+++ b/js/gulpfile.js\n@@ -86,8 +86,8 @@ const buildConcurrent = (tasks) => () =>\n             .merge(...knownTargets.map((target) =>\n                 del(`${targetDir(target, `cls`)}/**`)))));\n   \n-gulp.task(`test:cleanTestData`, cleanTestData);\n-gulp.task(`test:createTestData`, createTestData);\n+gulp.task(`clean:testdata`, cleanTestData);\n+gulp.task(`create:testdata`, createTestData);\n gulp.task( `test`, gulp.series(getTasks(`test`)));\n gulp.task(`debug`, gulp.series(getTasks(`debug`)));\n gulp.task(`clean`, gulp.parallel(getTasks(`clean`)));\ndiff --git a/js/npm-release.sh b/js/npm-release.sh\nold mode 100644\nnew mode 100755\nindex 0bf70d979..42cd73c0c\n--- a/js/npm-release.sh\n+++ b/js/npm-release.sh\n@@ -16,5 +16,15 @@\n # KIND, either express or implied.  See the License for the\n # specific language governing permissions and limitations\n # under the License.\n+set -e\n \n-lerna publish --yes --skip-git --force-publish=*\n\\ No newline at end of file\n+# validate the targets pass all tests before publishing\n+npm install\n+# npx run-s clean:all lint create:testdata build\n+# npm run test -- -t ts -u --integration\n+# npm run test -- --integration\n+npx run-s clean:all lint build\n+npm run test\n+\n+# publish the JS target modules to npm\n+npx lerna publish --yes --skip-git --force-publish=*\ndiff --git a/js/package.json b/js/package.json\nindex 1a110b2d5..9933f75a2 100644\n--- a/js/package.json\n+++ b/js/package.json\n@@ -17,16 +17,16 @@\n     \"debug\": \"gulp debug\",\n     \"perf\": \"node ./perf/index.js\",\n     \"release\": \"./npm-release.sh\",\n-    \"validate\": \"run-s --silent lint build clean\",\n+    \"clean:all\": \"run-p clean clean:testdata\",\n+    \"clean:testdata\": \"gulp clean:testdata\",\n+    \"create:testdata\": \"gulp create:testdata\",\n     \"test:coverage\": \"gulp test -t ts --coverage\",\n-    \"test:cleanTestData\": \"gulp test:cleanTestData\",\n-    \"test:createTestData\": \"gulp test:createTestData\",\n     \"doc\": \"shx rm -rf ./doc && esdoc\",\n-    \"lint\": \"npm-run-all -p lint:*\",\n+    \"lint\": \"run-p lint:*\",\n     \"lint:src\": \"tslint --fix --project -p tsconfig.json -c tslint.json \\\"src/**/*.ts\\\"\",\n     \"lint:test\": \"tslint --fix --project -p test/tsconfig.json -c tslint.json \\\"test/**/*.ts\\\"\",\n     \"prepublishOnly\": \"echo \\\"Error: do 'npm run release' instead of 'npm publish'\\\" && exit 1\",\n-    \"postinstall\": \"shx cp node_modules/tslib/tslib.es6.js node_modules/tslib/tslib.mjs\"\n+    \"version\": \"npm install && npm run clean:all\"\n   },\n   \"repository\": {\n     \"type\": \"git\",\n@@ -43,12 +43,15 @@\n   },\n   \"homepage\": \"https://github.com/apache/arrow/blob/master/js/README.md\",\n   \"files\": [\n+    \"bin\",\n     \"src\",\n-    \"dist\",\n-    \"types\",\n-    \"targets\",\n-    \"LICENSE\",\n-    \"README.md\"\n+    \"gulp\",\n+    \"test\",\n+    \"*.json\",\n+    \"tsconfig\",\n+    \"README.md\",\n+    \"gulpfile.js\",\n+    \"npm-release.sh\"\n   ],\n   \"peerDependencies\": {\n     \"command-line-usage\": \"4.0.1\"\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-23T15:24:48.378+0000",
                    "updated": "2017-11-23T15:24:48.378+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16264471",
                    "id": "16264471",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 1346\n[https://github.com/apache/arrow/pull/1346]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2017-11-23T15:24:49.444+0000",
                    "updated": "2017-11-23T15:24:49.444+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13103489/comment/16264472",
                    "id": "16264472",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1346: ARROW-1577: [JS] add ASF release scripts\nURL: https://github.com/apache/arrow/pull/1346#issuecomment-346645739\n \n \n   Thanks @trxcllnt!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-23T15:25:04.439+0000",
                    "updated": "2017-11-23T15:25:04.439+0000"
                }
            ],
            "maxResults": 18,
            "total": 18,
            "startAt": 0
        },
        "customfield_12311820": "0|i3ka13:",
        "customfield_12314139": null
    }
}