{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13392780",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780",
    "key": "ARROW-13509",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12350323",
                "id": "12350323",
                "description": "",
                "name": "6.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-10-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "kernel",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12348823",
                "id": "12348823",
                "description": "",
                "name": "3.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-01-25"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349493",
                "id": "12349493",
                "description": "",
                "name": "4.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-04-26"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349983",
                "id": "12349983",
                "description": "",
                "name": "5.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-07-28"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=aucahuasi",
            "name": "aucahuasi",
            "key": "aucahuasi",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=aucahuasi&avatarId=47450",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=aucahuasi&avatarId=47450",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=aucahuasi&avatarId=47450",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=aucahuasi&avatarId=47450"
            },
            "displayName": "Percy Camilo Trive\u00f1o Aucahuasi",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=0x26dres",
            "name": "0x26dres",
            "key": "0x26dres",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=0x26dres&avatarId=50850",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=0x26dres&avatarId=50850",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=0x26dres&avatarId=50850",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=0x26dres&avatarId=50850"
            },
            "displayName": "&res",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=0x26dres",
            "name": "0x26dres",
            "key": "0x26dres",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=0x26dres&avatarId=50850",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=0x26dres&avatarId=50850",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=0x26dres&avatarId=50850",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=0x26dres&avatarId=50850"
            },
            "displayName": "&res",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 7800,
            "total": 7800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 7800,
            "total": 7800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-13509/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 13,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/worklog/633795",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "aucahuasi opened a new pull request #10880:\nURL: https://github.com/apache/arrow/pull/10880\n\n\n   This PR makes the Take kernel pass the type from the input arrays when constructing the chunked array.\r\n   https://issues.apache.org/jira/browse/ARROW-13509\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-04T19:57:47.473+0000",
                    "updated": "2021-08-04T19:57:47.473+0000",
                    "started": "2021-08-04T19:57:47.473+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "633795",
                    "issueId": "13392780"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/worklog/633796",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #10880:\nURL: https://github.com/apache/arrow/pull/10880#issuecomment-892933396\n\n\n   https://issues.apache.org/jira/browse/ARROW-13509\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-04T19:58:02.515+0000",
                    "updated": "2021-08-04T19:58:02.515+0000",
                    "started": "2021-08-04T19:58:02.514+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "633796",
                    "issueId": "13392780"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/worklog/633798",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10880:\nURL: https://github.com/apache/arrow/pull/10880#discussion_r682919988\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/vector_selection.cc\n##########\n@@ -2035,7 +2035,7 @@ Result<std::shared_ptr<ChunkedArray>> TakeCC(const ChunkedArray& values,\n     ARROW_ASSIGN_OR_RAISE(new_chunks[i],\n                           Concatenate(current_chunk->chunks(), ctx->memory_pool()));\n   }\n-  return std::make_shared<ChunkedArray>(std::move(new_chunks));\n+  return std::make_shared<ChunkedArray>(std::move(new_chunks), values.type());\n\nReview comment:\n       Thanks for fixing this!\r\n   \r\n   There's a similar case down on line 2051 here - that should probably be fixed too.\r\n   \r\n   We should also add test cases to make sure this doesn't regress.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-04T20:02:32.718+0000",
                    "updated": "2021-08-04T20:02:32.718+0000",
                    "started": "2021-08-04T20:02:32.718+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "633798",
                    "issueId": "13392780"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/worklog/633814",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "aucahuasi commented on a change in pull request #10880:\nURL: https://github.com/apache/arrow/pull/10880#discussion_r682941143\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/vector_selection.cc\n##########\n@@ -2035,7 +2035,7 @@ Result<std::shared_ptr<ChunkedArray>> TakeCC(const ChunkedArray& values,\n     ARROW_ASSIGN_OR_RAISE(new_chunks[i],\n                           Concatenate(current_chunk->chunks(), ctx->memory_pool()));\n   }\n-  return std::make_shared<ChunkedArray>(std::move(new_chunks));\n+  return std::make_shared<ChunkedArray>(std::move(new_chunks), values.type());\n\nReview comment:\n       Thanks for the review @lidavidm I'll address your comments cc @westonpace \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-04T20:36:42.905+0000",
                    "updated": "2021-08-04T20:36:42.905+0000",
                    "started": "2021-08-04T20:36:42.904+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "633814",
                    "issueId": "13392780"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/worklog/634111",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10880:\nURL: https://github.com/apache/arrow/pull/10880#discussion_r682919988\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/vector_selection.cc\n##########\n@@ -2035,7 +2035,7 @@ Result<std::shared_ptr<ChunkedArray>> TakeCC(const ChunkedArray& values,\n     ARROW_ASSIGN_OR_RAISE(new_chunks[i],\n                           Concatenate(current_chunk->chunks(), ctx->memory_pool()));\n   }\n-  return std::make_shared<ChunkedArray>(std::move(new_chunks));\n+  return std::make_shared<ChunkedArray>(std::move(new_chunks), values.type());\n\nReview comment:\n       Thanks for fixing this!\r\n   \r\n   There's a similar case down on line 2051 here - that should probably be fixed too.\r\n   \r\n   We should also add test cases to make sure this doesn't regress.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T11:13:29.026+0000",
                    "updated": "2021-08-05T11:13:29.026+0000",
                    "started": "2021-08-05T11:13:29.026+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634111",
                    "issueId": "13392780"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/worklog/634235",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "aucahuasi opened a new pull request #10880:\nURL: https://github.com/apache/arrow/pull/10880\n\n\n   This PR makes the Take kernel pass the type from the input arrays when constructing the chunked array.\r\n   https://issues.apache.org/jira/browse/ARROW-13509\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T11:28:22.504+0000",
                    "updated": "2021-08-05T11:28:22.504+0000",
                    "started": "2021-08-05T11:28:22.504+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634235",
                    "issueId": "13392780"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/worklog/634383",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "aucahuasi commented on a change in pull request #10880:\nURL: https://github.com/apache/arrow/pull/10880#discussion_r682941143\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/vector_selection.cc\n##########\n@@ -2035,7 +2035,7 @@ Result<std::shared_ptr<ChunkedArray>> TakeCC(const ChunkedArray& values,\n     ARROW_ASSIGN_OR_RAISE(new_chunks[i],\n                           Concatenate(current_chunk->chunks(), ctx->memory_pool()));\n   }\n-  return std::make_shared<ChunkedArray>(std::move(new_chunks));\n+  return std::make_shared<ChunkedArray>(std::move(new_chunks), values.type());\n\nReview comment:\n       Thanks for the review @lidavidm I'll address your comments cc @westonpace \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T11:44:39.400+0000",
                    "updated": "2021-08-05T11:44:39.400+0000",
                    "started": "2021-08-05T11:44:39.400+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634383",
                    "issueId": "13392780"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/worklog/634425",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #10880:\nURL: https://github.com/apache/arrow/pull/10880#issuecomment-892933396\n\n\n   https://issues.apache.org/jira/browse/ARROW-13509\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T11:49:18.665+0000",
                    "updated": "2021-08-05T11:49:18.665+0000",
                    "started": "2021-08-05T11:49:18.664+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634425",
                    "issueId": "13392780"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/worklog/634633",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10880:\nURL: https://github.com/apache/arrow/pull/10880#discussion_r683590441\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/vector_selection_test.cc\n##########\n@@ -996,6 +996,16 @@ TEST_F(TestTakeKernel, InvalidIndexType) {\n                                          \"[0.0, 1.0, 0.1]\", &arr));\n }\n \n+TEST_F(TestTakeKernel, TakeEmptyIndices) {\n+  Datum out;\n+  auto dat = Datum(std::make_shared<ChunkedArray>(ArrayFromJSON(int8(), \"[]\")));\n+  auto idx = Datum(std::make_shared<ChunkedArray>(ArrayVector(), int32()));\n+  auto ret = Take(dat, idx).Value(&out);\n+  ASSERT_OK(ret);\n\nReview comment:\n       ```suggestion\r\n   TEST_F(TestTakeKernel, TakeEmptyIndices) {\r\n     Datum dat = ChunkedArrayFromJSON(int8(), {\"[]\"});\r\n     Datum idx = ChunkedArrayFromJSON(int32(), {});\r\n     ASSERT_OK_AND_ASSIGN(auto out, Take(dat, idx));\r\n   ```\n\n##########\nFile path: cpp/src/arrow/compute/kernels/vector_selection_test.cc\n##########\n@@ -996,6 +996,16 @@ TEST_F(TestTakeKernel, InvalidIndexType) {\n                                          \"[0.0, 1.0, 0.1]\", &arr));\n }\n \n+TEST_F(TestTakeKernel, TakeEmptyIndices) {\n+  Datum out;\n+  auto dat = Datum(std::make_shared<ChunkedArray>(ArrayFromJSON(int8(), \"[]\")));\n+  auto idx = Datum(std::make_shared<ChunkedArray>(ArrayVector(), int32()));\n+  auto ret = Take(dat, idx).Value(&out);\n+  ASSERT_OK(ret);\n\nReview comment:\n       This can be simplified a bit.\n\n##########\nFile path: cpp/src/arrow/compute/kernels/vector_selection_test.cc\n##########\n@@ -996,6 +996,16 @@ TEST_F(TestTakeKernel, InvalidIndexType) {\n                                          \"[0.0, 1.0, 0.1]\", &arr));\n }\n \n+TEST_F(TestTakeKernel, TakeEmptyIndices) {\n+  Datum out;\n+  auto dat = Datum(std::make_shared<ChunkedArray>(ArrayFromJSON(int8(), \"[]\")));\n+  auto idx = Datum(std::make_shared<ChunkedArray>(ArrayVector(), int32()));\n+  auto ret = Take(dat, idx).Value(&out);\n+  ASSERT_OK(ret);\n\nReview comment:\n       I think we should test both branches above too. This tests the changes in TestCC, we can add a test for TestAC that calls Take with an Array and an empty (chunk-less) ChunkedArray. \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T16:05:26.258+0000",
                    "updated": "2021-08-05T16:05:26.258+0000",
                    "started": "2021-08-05T16:05:26.258+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634633",
                    "issueId": "13392780"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/worklog/634645",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "aucahuasi commented on a change in pull request #10880:\nURL: https://github.com/apache/arrow/pull/10880#discussion_r683604452\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/vector_selection_test.cc\n##########\n@@ -996,6 +996,16 @@ TEST_F(TestTakeKernel, InvalidIndexType) {\n                                          \"[0.0, 1.0, 0.1]\", &arr));\n }\n \n+TEST_F(TestTakeKernel, TakeEmptyIndices) {\n+  Datum out;\n+  auto dat = Datum(std::make_shared<ChunkedArray>(ArrayFromJSON(int8(), \"[]\")));\n+  auto idx = Datum(std::make_shared<ChunkedArray>(ArrayVector(), int32()));\n+  auto ret = Take(dat, idx).Value(&out);\n+  ASSERT_OK(ret);\n\nReview comment:\n       Thanks David!\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T16:21:43.964+0000",
                    "updated": "2021-08-05T16:21:43.964+0000",
                    "started": "2021-08-05T16:21:43.963+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634645",
                    "issueId": "13392780"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/worklog/634681",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "aucahuasi commented on pull request #10880:\nURL: https://github.com/apache/arrow/pull/10880#issuecomment-893634764\n\n\n   > LGTM. I left a suggestion for the tests since we have some helper functions to make those cases easier to write.\r\n   \r\n   I applied the suggestions, but let me know if I forgot something thanks!\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T17:17:16.815+0000",
                    "updated": "2021-08-05T17:17:16.815+0000",
                    "started": "2021-08-05T17:17:16.814+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634681",
                    "issueId": "13392780"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/worklog/634689",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #10880:\nURL: https://github.com/apache/arrow/pull/10880#issuecomment-893657720\n\n\n   The AppVeyor failure looks like a flake (s3fs on windows being flaky). I kicked off the 'Dev PR' pipeline again though I expect that to also be a fluke.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T17:42:30.414+0000",
                    "updated": "2021-08-05T17:42:30.414+0000",
                    "started": "2021-08-05T17:42:30.413+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634689",
                    "issueId": "13392780"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/worklog/634812",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm closed pull request #10880:\nURL: https://github.com/apache/arrow/pull/10880\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T21:22:27.500+0000",
                    "updated": "2021-08-05T21:22:27.500+0000",
                    "started": "2021-08-05T21:22:27.500+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634812",
                    "issueId": "13392780"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 7800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@508cd3f3[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@577f5ff2[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1dd70aae[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@307a5629[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@68c7e625[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@51b7b5d2[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@74105730[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@16b99c85[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4118b6b9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@2d6d926d[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5bb2f927[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@1b50b60[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 7800,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Aug 05 21:22:21 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": [
            "Python"
        ],
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-08-05T21:22:21.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-13509/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2021-07-30T14:35:18.000+0000",
        "updated": "2021-09-15T21:06:09.000+0000",
        "timeoriginalestimate": null,
        "description": "I'm trying to explode a table (in the pandas sense: [https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.explode.html)]\r\n\r\nAs it's not yet supported, I've writen some code to do it using a mix of list_flatten and list_parent_indices. It works well, excepted it crashed when for empty tables where it crashes.\r\n{code:python}\r\nWARNING: Logging before InitGoogleLogging() is written to STDERR\r\nF0730 15:16:05.164858 13612 chunked_array.cc:48]  Check failed: (chunks_.size()) > (0) cannot construct ChunkedArray from empty vector and omitted type\r\n*** Check failure stack trace: ***Process finished with exit code 134 (interrupted by signal 6: SIGABRT)\r\n\r\n{code}\r\n\r\nHere's a reproducable example:\r\n\r\n{code:python}\r\n\r\nimport sys\r\n\r\nimport pyarrow as pa\r\nfrom pyarrow import compute\r\nimport pandas as pd\r\n\r\ntable = pa.Table.from_arrays(\r\n    [\r\n        pa.array([101, 102, 103], pa.int32()),\r\n        pa.array([['a'], ['a', 'b'], ['a', 'b', 'c']], pa.list_(pa.string()))\r\n    ],\r\n    names=['key', 'list']\r\n)\r\n\r\n\r\ndef explode(table) -> pd.DataFrame:\r\n    exploded_list = compute.list_flatten(table['list'])\r\n\r\n    indices = compute.list_parent_indices(table['list'])\r\n    assert indices.type == pa.int32()\r\n    keys = compute.take(table['key'], indices)  # <--- Crashes here\r\n    return pa.Table.from_arrays(\r\n        [keys, exploded_list],\r\n        names=['key', 'list_element']\r\n    )\r\n\r\n\r\nexplode(table).to_pandas().to_markdown(sys.stdout)\r\nexplode(table.slice(0, 0)).to_pandas().to_markdown(sys.stdout) # <--- doesn't work\r\n{code}\r\n\u00a0\r\nI've narrowed it down to the following: \r\n\r\nwhen list_parent_indices is called on an empty table it returns this empty chunk array:\r\n{code}\r\npa.chunked_array([], pa.int32())\r\n{code}\r\nInstead of this chunked array with 1 empty chunk:\r\n{code}\r\npa.chunked_array([pa.array([], pa.int32())])\r\n{code}\r\n\r\nIn turn take doesn't work with the empty chunked aray:\r\n{code:python}\r\ncompute.take(pa.chunked_array([pa.array([], pa.int32())]),\r\n             pa.chunked_array([], pa.int32())) # Bad\r\ncompute.take(pa.chunked_array([pa.array([], pa.int32())]),\r\n             pa.chunked_array([pa.array([], pa.int32())])) # Good\r\n{code}\r\n\r\n\r\nNow in terms of how to fix it there's two solutions:\r\n* take could accept empty chunked array\r\n* list_parent_indices could return a chunked array with an empty chunk\r\n\r\nPS: the error message isn't accurate. It says \"cannot construct ChunkedArray from empty vector and omitted type\". But the array being passed has got a type (int32) but no chunk. It makes me suspect that something in take strip the type of the empty chunked array.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\u00a0",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 10m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 7800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Take compute function should pass through ChunkedArray type to handle empty input arrays",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/comment/17391579",
                    "id": "17391579",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Thanks for the report. The error is most likely because the Take kernel implementation omits the type when constructing the chunked array, but it could and should pass through the type from the input arrays. See [TakeCC|https://github.com/apache/arrow/blob/c51e4a179379628578a69f536ffca80a844efcd2/cpp/src/arrow/compute/kernels/vector_selection.cc#L2038]. Additionally I can confirm this still affects 5.0.0.\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-08-02T13:04:11.105+0000",
                    "updated": "2021-08-02T13:04:11.105+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392780/comment/17394309",
                    "id": "17394309",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 10880\n[https://github.com/apache/arrow/pull/10880]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-08-05T21:22:21.313+0000",
                    "updated": "2021-08-05T21:22:21.313+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z0thgg:",
        "customfield_12314139": null
    }
}