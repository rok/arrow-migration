{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13283327",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13283327",
    "key": "ARROW-7772",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12346687",
                "id": "12346687",
                "description": "",
                "name": "0.17.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-04-20"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "dataset",
            "newbie",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12340948",
                "id": "12340948",
                "description": "",
                "name": "0.16.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-02-07"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
            "name": "bkietz",
            "key": "bkietz",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
            },
            "displayName": "Ben Kietzman",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=stephhazlitt",
            "name": "stephhazlitt",
            "key": "stephhazlitt",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stephhazlitt&avatarId=41739",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stephhazlitt&avatarId=41739",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stephhazlitt&avatarId=41739",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stephhazlitt&avatarId=41739"
            },
            "displayName": "Stephanie Hazlitt",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=stephhazlitt",
            "name": "stephhazlitt",
            "key": "stephhazlitt",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stephhazlitt&avatarId=41739",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stephhazlitt&avatarId=41739",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stephhazlitt&avatarId=41739",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stephhazlitt&avatarId=41739"
            },
            "displayName": "Stephanie Hazlitt",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 1800,
            "total": 1800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 1800,
            "total": 1800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-7772/votes",
            "votes": 1,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 3,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13283327/worklog/381976",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6354: ARROW-7772: [R][C++][Dataset] Unable to filter on date32 object with date64 scalar\nURL: https://github.com/apache/arrow/pull/6354\n \n \n   I fixed the issue in the R bindings that triggered @stephhazlitt's report. Then I added another test that still causes the crash. \r\n   \r\n   The crash message points at this line: https://github.com/apache/arrow/blob/master/cpp/src/arrow/scalar.cc#L333\r\n   \r\n   ```\r\n   /Users/enpiar/Documents/ursa/arrow/cpp/src/arrow/dataset/filter.cc:929:  Check failed: _s.ok() Operation failed: maybe_value.status()\r\n   Bad status: NotImplemented: casting scalars of type timestamp[s] to type date32[day]\r\n   In /Users/enpiar/Documents/ursa/arrow/cpp/src/arrow/scalar.cc, line 333, code: VisitTypeInline(*to, &unpack_to_type)\r\n   ```\r\n   \r\n   @bkietz over to you to catch that crash and also hopefully to support this cast. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-05T00:51:19.472+0000",
                    "updated": "2020-02-05T00:51:19.472+0000",
                    "started": "2020-02-05T00:51:19.472+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "381976",
                    "issueId": "13283327"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13283327/worklog/381983",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on issue #6354: ARROW-7772: [R][C++][Dataset] Unable to filter on date32 object with date64 scalar\nURL: https://github.com/apache/arrow/pull/6354#issuecomment-582191625\n \n \n   https://issues.apache.org/jira/browse/ARROW-7772\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-05T01:01:44.196+0000",
                    "updated": "2020-02-05T01:01:44.196+0000",
                    "started": "2020-02-05T01:01:44.195+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "381983",
                    "issueId": "13283327"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13283327/worklog/383767",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6354: ARROW-7772: [R][C++][Dataset] Unable to filter on date32 object with date64 scalar\nURL: https://github.com/apache/arrow/pull/6354\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-07T18:15:59.391+0000",
                    "updated": "2020-02-07T18:15:59.391+0000",
                    "started": "2020-02-07T18:15:59.390+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "383767",
                    "issueId": "13283327"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 1800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@39fcb0f1[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1b565b3b[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@190b714c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@30ad6ed5[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@275bedba[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@382ae5b[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@41c13e76[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@1ac13b5d[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@628f3382[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@7469b9fe[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3c930b8b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@2f9bd497[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 1800,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Feb 07 18:16:03 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-02-07T18:16:03.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-7772/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2020-02-04T22:01:16.000+0000",
        "updated": "2020-04-10T15:31:58.000+0000",
        "timeoriginalestimate": null,
        "description": "I am trying to filter on a date column using `open_dataset()` and `dplyr::filter()`:\r\n\r\n{code}\r\nlibrary(arrow)\r\nlibrary(dplyr)\r\n\r\ntmp <- tempfile()\r\ndir.create(tmp)\r\ndf <- data.frame(date = Sys.Date())\r\nwrite_parquet(df, file.path(tmp, \"file.parquet\"))\r\n\r\nds <- open_dataset(tmp)\r\n\r\n\r\nds %>%\r\n filter(date > as.Date(\"2020-02-02\")) %>%\r\n collect()\r\n{code}\r\n\u00a0\r\n\r\nThis code crashes R with this error message:\r\n{quote}/private/var/folders/nz/vv4_9tw56nv9k3tkvyszvwg80000gn/T/hbtmp/apache-arrow-20200203-29929-1uoyri7/cpp/src/arrow/result.cc:28: ValueOrDie called on an error: NotImplemented: casting scalarsof type date64[ms] to type date32[day]\r\n0 arrow.so 0x0000000104461f1d _ZN5arrow4util7CerrLogD2Ev + 209\r\n1 arrow.so 0x0000000104461e3e _ZN5arrow4util7CerrLogD0Ev + 14\r\n2 arrow.so 0x0000000104461de6 _ZN5arrow4util8ArrowLogD1Ev + 34\r\n3 arrow.so 0x000000010436c57f _ZN5arrow8internal14DieWithMessageERKNSt3__112basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEE + 63\r\n4 arrow.so 0x000000010436d384 _ZNR5arrow6ResultINSt3__110shared_ptrINS_6ScalarEEEE10ValueOrDieEv + 192\r\n5 arrow.so 0x000000010426ee1a _ZN5arrow7dataset23InsertImplicitCastsImpl4CastENSt3__110shared_ptrINS_8DataTypeEEEPNS3_INS0_10ExpressionEEE + 186\r\n6 arrow.so 0x000000010426e033 _ZN5arrow7dataset23InsertImplicitCastsImplclERKNS0_20ComparisonExpressionE + 757\r\n7 arrow.so 0x0000000104269de7 _ZN5arrow7dataset15VisitExpressionINS0_23InsertImplicitCastsImplEEEDTclfp0_fp_EERKNS0_10ExpressionEOT_ + 317\r\n8 arrow.so 0x0000000104269c76 _ZN5arrow7dataset19InsertImplicitCastsERKNS0_10ExpressionERKNS_6SchemaE + 36\r\n9 arrow.so 0x0000000104134e04 _Z32dataset___ScannerBuilder__FilterRKNSt3__110shared_ptrIN5arrow7dataset14ScannerBuilderEEERKNS0_INS2_10ExpressionEEE + 52\r\n10 arrow.so 0x00000001040f35b7 _arrow_dataset___ScannerBuilder__Filter + 135\r\n11 libR.dylib 0x00000001001f375b R_doDotCall + 955\r\n12 libR.dylib 0x000000010023d46a bcEval + 99306\r\n13 libR.dylib 0x000000010022494d Rf_eval + 445\r\n14 libR.dylib 0x0000000100243209 R_execClosure + 2153\r\n15 libR.dylib 0x000000010024210a Rf_applyClosure + 346\r\n16 libR.dylib 0x0000000100224e7d Rf_eval + 1773\r\n17 libR.dylib 0x0000000100245880 do_begin + 432\r\n18 libR.dylib 0x0000000100224b40 Rf_eval + 944\r\n19 libR.dylib 0x0000000100243209 R_execClosure + 2153\r\n20 libR.dylib 0x000000010024210a Rf_applyClosure + 346\r\n21 libR.dylib 0x000000010022bd71 bcEval + 27889\r\n22 libR.dylib 0x000000010022494d Rf_eval + 445\r\n23 libR.dylib 0x0000000100243209 R_execClosure + 2153\r\n24 libR.dylib 0x000000010024210a Rf_applyClosure + 346\r\n25 libR.dylib 0x0000000100287675 dispatchMethod + 757\r\n26 libR.dylib 0x0000000100287332 Rf_usemethod + 738\r\n27 libR.dylib 0x0000000100287926 do_usemethod + 646\r\n28 libR.dylib 0x000000010022c369 bcEval + 29417\r\n29 libR.dylib 0x000000010022494d Rf_eval + 445\r\n30 libR.dylib 0x0000000100243209 R_execClosure + 2153\r\n31 libR.dylib 0x000000010024210a Rf_applyClosure + 346\r\n32 libR.dylib 0x0000000100224e7d Rf_eval + 1773\r\n33 libR.dylib 0x0000000100243209 R_execClosure + 2153\r\n34 libR.dylib 0x000000010024210a Rf_applyClosure + 346\r\n35 libR.dylib 0x000000010022bd71 bcEval + 27889\r\n36 libR.dylib 0x000000010022494d Rf_eval + 445\r\n37 libR.dylib 0x00000001002418c3 forcePromise + 179\r\n38 libR.dylib 0x0000000100224c30 Rf_eval + 1184\r\n39 libR.dylib 0x0000000100247241 do_withVisible + 49\r\n40 libR.dylib 0x0000000100286603 do_internal + 339\r\n41 libR.dylib 0x000000010022c369 bcEval + 29417\r\n42 libR.dylib 0x000000010022494d Rf_eval + 445\r\n43 libR.dylib 0x0000000100243209 R_execClosure + 2153\r\n44 libR.dylib 0x000000010024210a Rf_applyClosure + 346\r\n45 libR.dylib 0x000000010022bd71 bcEval + 27889\r\n46 libR.dylib 0x000000010022494d Rf_eval + 445\r\n47 libR.dylib 0x0000000100243209 R_execClosure + 2153\r\n48 libR.dylib 0x000000010024210a Rf_applyClosure + 346\r\n49 libR.dylib 0x0000000100224e7d Rf_eval + 1773\r\n50 libR.dylib 0x0000000100243209 R_execClosure + 2153\r\n51 libR.dylib 0x000000010024210a Rf_applyClosure + 346\r\n52 libR.dylib 0x0000000100224e7d Rf_eval + 1773\r\n53 libR.dylib 0x0000000100246bc6 do_eval + 646\r\n54 libR.dylib 0x000000010022c186 bcEval + 28934\r\n55 libR.dylib 0x000000010022494d Rf_eval + 445\r\n56 libR.dylib 0x0000000100243209 R_execClosure + 2153\r\n57 libR.dylib 0x000000010024210a Rf_applyClosure + 346\r\n58 libR.dylib 0x000000010022bd71 bcEval + 27889\r\n59 libR.dylib 0x000000010022494d Rf_eval + 445\r\n60 libR.dylib 0x00000001002418c3 forcePromise + 179\r\n61 libR.dylib 0x0000000100224c30 Rf_eval + 1184\r\n62 libR.dylib 0x0000000100247241 do_withVisible + 49\r\n63 libR.dylib 0x0000000100286603 do_internal + 339\r\n64 libR.dylib 0x000000010022c369 bcEval + 29417\r\n65 libR.dylib 0x000000010022494d Rf_eval + 445\r\n66 libR.dylib 0x0000000100243209 R_execClosure + 2153\r\n67 libR.dylib 0x000000010024210a Rf_applyClosure + 346\r\n68 libR.dylib 0x000000010022bd71 bcEval + 27889\r\n69 libR.dylib 0x000000010022494d Rf_eval + 445\r\n70 libR.dylib 0x0000000100243209 R_execClosure + 2153\r\n71 libR.dylib 0x000000010024210a Rf_applyClosure + 346\r\n72 libR.dylib 0x0000000100224e7d Rf_eval + 1773\r\n73 libR.dylib 0x000000010027506a Rf_ReplIteration + 794\r\n74 libR.dylib 0x000000010027658f run_Rmainloop + 207\r\n75 R 0x000000010016cf5b main + 27\r\n76 libdyld.dylib 0x00007fff7de493d5 start + 1\r\nAbort trap: 6\r\n{quote}\r\n\u00a0\r\n\r\nThanks to Neal Richardson for help with the above reprex and putting words to the issue - Neal says:\r\n{quote}\"the 3 bugs are: (1) that should not crash; (2) R should translate Date in the filter expression to date32, just as it does for vectors; (3) the C++ layer should probably support that date64 to date32 cast (up for debate and technically not a bug, just not yet implemented I guess)\".\r\n{quote}\r\n\u00a0\r\n\r\nsession_info():\r\n{quote}\u2500 Session info \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 setting value version R version 3.6.2 (2019-12-12) os macOS Mojave 10.14.6 system x86_64, darwin15.6.0 ui RStudio language (EN) collate en_CA.UTF-8 ctype en_CA.UTF-8 tz America/Vancouver date 2020-02-04 \u2500 Packages \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 package * version date lib source arrow * 0.15.1.20200203 2020-02-03 [1] local assertthat 0.2.1 2019-03-21 [1] CRAN (R 3.6.0) backports 1.1.5 2019-10-02 [1] CRAN (R 3.6.0) bit 1.1-15.1 2020-01-14 [1] CRAN (R 3.6.0) bit64 0.9-7 2017-05-08 [1] CRAN (R 3.6.0) bortles 0.0.0.9000 2019-11-12 [1] Github (adam-gruer/bortles@068a1b1) callr 3.4.1 2020-01-24 [1] CRAN (R 3.6.0) cli 2.0.1 2020-01-08 [1] CRAN (R 3.6.0) clisymbols 1.2.0 2017-05-21 [1] CRAN (R 3.6.0) crayon 1.3.4 2017-09-16 [1] CRAN (R 3.6.0) desc 1.2.0 2018-05-01 [1] CRAN (R 3.6.0) devtools * 2.2.1 2019-09-24 [1] CRAN (R 3.6.1) digest 0.6.23 2019-11-23 [1] CRAN (R 3.6.0) dplyr * 0.8.4 2020-01-31 [1] CRAN (R 3.6.0) ellipsis 0.3.0 2019-09-20 [1] CRAN (R 3.6.0) evaluate 0.14 2019-05-28 [1] CRAN (R 3.6.0) fansi 0.4.1 2020-01-08 [1] CRAN (R 3.6.0) fs 1.3.1 2019-05-06 [1] CRAN (R 3.6.0) glue 1.3.1 2019-03-12 [1] CRAN (R 3.6.0) here * 0.1 2017-05-28 [1] CRAN (R 3.5.0) htmltools 0.4.0 2019-10-04 [1] CRAN (R 3.6.0) knitr 1.27 2020-01-16 [1] CRAN (R 3.6.2) magrittr 1.5 2014-11-22 [1] CRAN (R 3.6.0) memoise 1.1.0 2017-04-21 [1] CRAN (R 3.6.0) packrat 0.5.0 2018-11-14 [1] CRAN (R 3.6.0) pillar 1.4.3 2019-12-20 [1] CRAN (R 3.6.0) pkgbuild 1.0.6 2019-10-09 [1] CRAN (R 3.6.0) pkgconfig 2.0.3 2019-09-22 [1] CRAN (R 3.6.0) pkgload 1.0.2 2018-10-29 [1] CRAN (R 3.6.0) praise 1.0.0 2015-08-11 [1] CRAN (R 3.5.0) prettyunits 1.1.1 2020-01-24 [1] CRAN (R 3.6.0) processx 3.4.1 2019-07-18 [1] CRAN (R 3.6.0) prompt 1.0.0 2020-01-13 [1] Github (gaborcsardi/prompt@b332c42) ps 1.3.0 2018-12-21 [1] CRAN (R 3.6.0) purrr 0.3.3 2019-10-18 [1] CRAN (R 3.6.0) R6 2.4.1 2019-11-12 [1] CRAN (R 3.6.0) Rcpp 1.0.3 2019-11-08 [1] CRAN (R 3.6.0) remotes 2.1.0 2019-06-24 [1] CRAN (R 3.6.0) reprex 0.3.0 2019-05-16 [1] CRAN (R 3.6.0) rlang 0.4.4 2020-01-28 [1] CRAN (R 3.6.0) rmarkdown 2.1 2020-01-20 [1] CRAN (R 3.6.0) rprojroot 1.3-2 2018-01-03 [1] CRAN (R 3.6.0) rstudioapi 0.10 2019-03-19 [1] CRAN (R 3.6.0) sessioninfo 1.1.1 2018-11-05 [1] CRAN (R 3.6.0) testthat * 2.3.1 2019-12-01 [1] CRAN (R 3.6.0) tibble 2.1.3 2019-06-06 [1] CRAN (R 3.6.0) tictoc * 1.0 2014-06-17 [1] CRAN (R 3.6.0) tidyselect 1.0.0 2020-01-27 [1] CRAN (R 3.6.0) usethis * 1.5.1 2019-07-04 [1] CRAN (R 3.6.0) vctrs 0.2.2 2020-01-24 [1] CRAN (R 3.6.0) whisker 0.4 2019-08-28 [1] CRAN (R 3.6.0) withr 2.1.2 2018-03-15 [1] CRAN (R 3.6.0) xfun 0.12 2020-01-13 [1] CRAN (R 3.6.0)\r\n{quote}",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "0.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 1800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R][C++][Dataset] Unable to filter on date32 object with date64 scalar",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": "version  R version 3.6.2 (2019-12-12)\r\n os       macOS Mojave 10.14.6        \r\n system   x86_64, darwin15.6.0        ",
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13283327/comment/17032569",
                    "id": "17032569",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Issue resolved by pull request 6354\n[https://github.com/apache/arrow/pull/6354]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2020-02-07T18:16:03.188+0000",
                    "updated": "2020-02-07T18:16:03.188+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0b5o8:",
        "customfield_12314139": null
    }
}