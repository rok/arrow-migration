{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13343859",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859",
    "key": "ARROW-10792",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12348823",
                "id": "12348823",
                "description": "",
                "name": "3.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-01-25"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorgecarleitao",
            "name": "jorgecarleitao",
            "key": "jorgecarleitao",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=jorgecarleitao&avatarId=43827",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jorgecarleitao&avatarId=43827",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jorgecarleitao&avatarId=43827",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jorgecarleitao&avatarId=43827"
            },
            "displayName": "Jorge Leit\u00e3o",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333244",
                "id": "12333244",
                "name": "Continuous Integration"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333773",
                "id": "12333773",
                "name": "Rust"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorgecarleitao",
            "name": "jorgecarleitao",
            "key": "jorgecarleitao",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=jorgecarleitao&avatarId=43827",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jorgecarleitao&avatarId=43827",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jorgecarleitao&avatarId=43827",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jorgecarleitao&avatarId=43827"
            },
            "displayName": "Jorge Leit\u00e3o",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorgecarleitao",
            "name": "jorgecarleitao",
            "key": "jorgecarleitao",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=jorgecarleitao&avatarId=43827",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jorgecarleitao&avatarId=43827",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jorgecarleitao&avatarId=43827",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jorgecarleitao&avatarId=43827"
            },
            "displayName": "Jorge Leit\u00e3o",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 21000,
            "total": 21000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 21000,
            "total": 21000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-10792/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 35,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/519234",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao opened a new pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821\n\n\n   This PR refactors the CI with the purpose of making it faster, easier to extend, and more robust. The main consequences of this PR are:\r\n   \r\n   1. build time of non-integration jobs reduced by half (11m vs 20m)\r\n   2. coverage is now part of all builds\r\n   3. significantly reduced the risk of cache misses, and the size of the caches\r\n   4. macos now have caching in place, like other builds\r\n   5. significantly easier to extend to other architectures, os, etc.\r\n   \r\n   The overall design of this PR is that most steps of the CI process should be independent of all others as much as possible, so that\r\n   \r\n   * they can run in parallel\r\n   * it is clearer where the failure is\r\n   * it is easier to extend the build to other variations (arch, os, flags, etc.)\r\n   \r\n   Intrinsically, the CI pipeline is just a DAG where certain jobs benefit from shared compute and thus depend on common nodes, while others run independently.\r\n   \r\n   This PR re-writes most of our CI as simple github jobs that share caches whenever makes sense, thereby describing the aforementioned DAG. Consequently, many of the sequential steps are now executed in parallel, causing the items describe above.\r\n   \r\n   There are two tasks depending on rust that are not in the `rust.yaml`:\r\n   \r\n   * lint, that happens via archery\r\n   * integration tests, that happens via archery\r\n   \r\n   The bottleneck of a green pipeline are the integration tests, that currently re-compile a significant number of components (as I already flagged on the mailing list), but at least we get faster failures for compilation (2.5m) and clippy (4.5m).\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-02T20:39:46.399+0000",
                    "updated": "2020-12-02T20:39:46.399+0000",
                    "started": "2020-12-02T20:39:46.398+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "519234",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/519242",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao commented on pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#issuecomment-737487996\n\n\n   @nevi-me , a follow-up of the issue that we were discussing in another PR. IMO this design would enable us to much more easily add new architectures to the CI (we just need to add them to the matrix and would run in parallel).\r\n   \r\n   cc @kszucs \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-02T20:51:47.664+0000",
                    "updated": "2020-12-02T20:51:47.664+0000",
                    "started": "2020-12-02T20:51:47.663+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "519242",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/519244",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#issuecomment-737490236\n\n\n   https://issues.apache.org/jira/browse/ARROW-10792\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-02T20:56:29.448+0000",
                    "updated": "2020-12-02T20:56:29.448+0000",
                    "started": "2020-12-02T20:56:29.448+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "519244",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/519245",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#issuecomment-737491170\n\n\n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=h1) Report\n   > Merging [#8821](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=desc) (590b58a) into [master](https://codecov.io/gh/apache/arrow/commit/322cd01fff055c4d4a03839fe5ac435948e75b09?el=desc) (322cd01) will **decrease** coverage by `31.77%`.\n   > The diff coverage is `59.74%`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/8821/graphs/tree.svg?width=650&height=150&src=pr&token=LpTCFbqVT1)](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=tree)\n   \n   ```diff\n   @@             Coverage Diff             @@\n   ##           master    #8821       +/-   ##\n   ===========================================\n   - Coverage   84.54%   52.77%   -31.78%     \n   ===========================================\n     Files         185      165       -20     \n     Lines       46176    29813    -16363     \n   ===========================================\n   - Hits        39041    15734    -23307     \n   - Misses       7135    14079     +6944     \n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [rust/arrow/src/array/transform/boolean.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvYXJyYXkvdHJhbnNmb3JtL2Jvb2xlYW4ucnM=) | `76.92% <0.00%> (-23.08%)` | :arrow_down: |\n   | [rust/arrow/src/array/transform/list.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvYXJyYXkvdHJhbnNmb3JtL2xpc3QucnM=) | `36.36% <0.00%> (-8.09%)` | :arrow_down: |\n   | [rust/arrow/src/compute/kernels/comparison.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvY29tcHV0ZS9rZXJuZWxzL2NvbXBhcmlzb24ucnM=) | `96.27% <\u00f8> (\u00f8)` | |\n   | [rust/arrow/src/compute/kernels/filter.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvY29tcHV0ZS9rZXJuZWxzL2ZpbHRlci5ycw==) | `58.72% <\u00f8> (-2.55%)` | :arrow_down: |\n   | [rust/arrow/src/compute/kernels/limit.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvY29tcHV0ZS9rZXJuZWxzL2xpbWl0LnJz) | `100.00% <\u00f8> (\u00f8)` | |\n   | [rust/arrow/src/record\\_batch.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvcmVjb3JkX2JhdGNoLnJz) | `84.04% <\u00f8> (-6.31%)` | :arrow_down: |\n   | [rust/datafusion/src/logical\\_plan/builder.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9sb2dpY2FsX3BsYW4vYnVpbGRlci5ycw==) | `0.00% <0.00%> (-85.10%)` | :arrow_down: |\n   | [rust/datafusion/src/logical\\_plan/plan.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9sb2dpY2FsX3BsYW4vcGxhbi5ycw==) | `0.00% <\u00f8> (-83.69%)` | :arrow_down: |\n   | [...tafusion/src/physical\\_plan/distinct\\_expressions.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9waHlzaWNhbF9wbGFuL2Rpc3RpbmN0X2V4cHJlc3Npb25zLnJz) | `0.00% <0.00%> (-90.91%)` | :arrow_down: |\n   | [rust/datafusion/src/physical\\_plan/functions.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9waHlzaWNhbF9wbGFuL2Z1bmN0aW9ucy5ycw==) | `0.00% <\u00f8> (-82.13%)` | :arrow_down: |\n   | ... and [152 more](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=footer). Last update [17805f3...590b58a](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-02T20:58:25.462+0000",
                    "updated": "2020-12-02T20:58:25.462+0000",
                    "started": "2020-12-02T20:58:25.462+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "519245",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/519355",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nevi-me commented on a change in pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#discussion_r534656496\n\n\n\n##########\nFile path: .github/workflows/rust.yml\n##########\n@@ -22,144 +22,300 @@ on:\n     paths:\n       - '.github/workflows/rust.yml'\n       - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n   pull_request:\n     paths:\n       - '.github/workflows/rust.yml'\n       - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n \n-env:\n-  DOCKER_BUILDKIT: 0\n-  COMPOSE_DOCKER_CLI_BUILD: 1\n-  ARCHERY_DOCKER_USER: ${{ secrets.DOCKERHUB_USER }}\n-  ARCHERY_DOCKER_PASSWORD: ${{ secrets.DOCKERHUB_TOKEN }}\n-\n jobs:\n \n-  debian:\n-    name: AMD64 Debian 10 Rust ${{ matrix.rust }}\n+  # build the docker image with rust and necessary dependencies\n+  linux-build-image:\n+    name: Linux ${{ matrix.arch }} Rust ${{ matrix.rust }} build image\n     runs-on: ubuntu-latest\n-    if: ${{ !contains(github.event.pull_request.title, 'WIP') }}\n     strategy:\n-      fail-fast: false\n       matrix:\n-        rust: [nightly-2020-11-24]\n+        arch: [amd64]\n+        rust: [stable, nightly-2020-11-24]\n     env:\n-      RUST: ${{ matrix.rust }}\n+      REGISTRY: docker.pkg.github.com\n+      IMAGE_NAME: docker.pkg.github.com/${{ github.repository }}/${{ matrix.arch }}-linux-rust-${{ matrix.rust }}\n     steps:\n-      - name: Checkout Arrow\n-        uses: actions/checkout@v2\n-        with:\n-          fetch-depth: 0\n-      - name: Fetch Submodules and Tags\n+      # based on https://github.com/dtinth/github-actions-docker-layer-caching-poc/blob/master/.github/workflows/dockerimage.yml\n+      - uses: actions/checkout@v2\n+      - name: Build build image\n         shell: bash\n-        run: ci/scripts/util_checkout.sh\n-      - name: Free Up Disk Space\n-        shell: bash\n-        run: ci/scripts/util_cleanup.sh\n-      - name: Cache Docker Volumes\n-        uses: actions/cache@v1\n-        with:\n-          path: .docker\n-          key: debian-10-rust-${{ hashFiles('rust/**/**.rs', 'rust/**/Cargo.toml') }}\n-          restore-keys: debian-10-rust-\n-      - name: Setup Python\n-        uses: actions/setup-python@v1\n-        with:\n-          python-version: 3.8\n-      - name: Setup Archery\n-        run: pip install -e dev/archery[docker]\n-      - name: Execute Docker Build\n         run: |\n-          sudo sysctl -w kernel.core_pattern=\"core.%e.%p\"\n-          ulimit -c unlimited\n-          archery docker run debian-rust\n-      - name: Fix Cache Permissions\n-        run: sudo chmod -R o+r .docker\n-      - name: Docker Push\n-        if: success() && github.event_name == 'push' && github.repository == 'apache/arrow'\n-        continue-on-error: true\n-        shell: bash\n-        run: archery docker push debian-rust\n+          echo ${{ secrets.GITHUB_TOKEN }} | docker login $REGISTRY -u $GITHUB_ACTOR --password-stdin\n+          docker pull $IMAGE_NAME || true\n+          docker build -f ci/docker/debian-10-rust.dockerfile . -t $IMAGE_NAME --cache-from $IMAGE_NAME\n+          docker push $IMAGE_NAME || true\n \n-  windows:\n-    name: AMD64 Windows 2019 Rust ${{ matrix.rust }}\n-    runs-on: windows-latest\n-    if: ${{ !contains(github.event.pull_request.title, 'WIP') }}\n+  # build the library, a compilation step used by multiple steps below\n+  linux-build-lib:\n+    name: Linux ${{ matrix.arch }} Rust ${{ matrix.rust }} build libraries\n+    needs: [linux-build-image]\n+    runs-on: ubuntu-latest\n     strategy:\n-      fail-fast: false\n       matrix:\n+        arch: [amd64]\n         rust: [nightly-2020-11-24]\n+    container:\n+      image: docker.pkg.github.com/${{ github.repository }}/${{ matrix.arch }}-linux-rust-${{ matrix.rust }}\n+      credentials:\n+        username: ${{ github.actor }}\n+        password: ${{ github.token }}\n+      env:\n+        # so that cache takes it\n+        CARGO_HOME: /github/home/.cargo\n+        CARGO_TARGET_DIR: /github/home/target/\n     steps:\n-      - name: Install Rust\n-        uses: actions-rs/toolchain@v1\n-        with:\n-            toolchain: ${{ matrix.rust }}\n-            override: true\n-            components: rustfmt\n-      - name: Install Flatbuffers\n-        shell: bash\n-        run: choco install flatc\n-      - name: Checkout Arrow\n-        uses: actions/checkout@v2\n+      - uses: actions/checkout@v2\n+      - name: Cache Cargo\n+        uses: actions/cache@v2\n         with:\n-          fetch-depth: 0\n-      - name: Fetch Submodules and Tags\n-        shell: bash\n-        run: ci/scripts/util_checkout.sh\n-      - name: Cache Build Artifacts\n-        uses: actions/cache@v1\n+          # these represent dependencies downloaded by cargo\n+          # and thus do not depend on the OS, arch nor rust version.\n+          path: /github/home/.cargo\n+          key: cargo-cache-${{ hashFiles('**/Cargo.lock') }}\n+          restore-keys: cargo-cache-\n+      - name: Cache Rust dependencies\n+        uses: actions/cache@v2\n         with:\n-          path: rust/target\n-          key: windows-rust-v1-${{ hashFiles('rust/**/**.rs', 'rust/**/Cargo.toml') }}\n-          restore-keys: windows-rust-v1-\n+          # these represent compiled steps of both dependencies and arrow\n+          # and thus are specific for a particular OS, arch and rust version.\n+          path: /github/home/target\n+          key: ${{ runner.os }}-${{ matrix.arch }}-target-cache-${{ matrix.rust }}-${{ hashFiles('**/Cargo.lock') }}\n+          restore-keys: ${{ runner.os }}-${{ matrix.arch }}-target-cache-${{ matrix.rust }}-\n       - name: Build\n-        shell: bash\n-        run: ci/scripts/rust_build.sh $(pwd) $(pwd)/build\n-      - name: Test\n-        shell: bash\n-        run: ci/scripts/rust_test.sh $(pwd) $(pwd)/build\n+        run: cd rust && cargo build\n \n-  macos:\n-    name: AMD64 MacOS 10.15 Rust ${{ matrix.rust }}\n-    runs-on: macos-latest\n-    if: ${{ !contains(github.event.pull_request.title, 'WIP') }}\n+  # test the crate\n+  linux-test:\n+    name: Linux ${{ matrix.arch }} Rust ${{ matrix.rust }} test workspace\n+    needs: [linux-build-lib]\n+    runs-on: ubuntu-latest\n     strategy:\n-      fail-fast: false\n       matrix:\n+        arch: [amd64]\n         rust: [nightly-2020-11-24]\n+    container:\n+      image: docker.pkg.github.com/${{ github.repository }}/${{ matrix.arch }}-linux-rust-${{ matrix.rust }}\n+      credentials:\n+        username: ${{ github.actor }}\n+        password: ${{ github.token }}\n+      env:\n+        CARGO_HOME: /github/home/.cargo\n+        CARGO_TARGET_DIR: /github/home/target\n+\n+        ARROW_TEST_DATA: /__w/arrow/arrow/testing/data\n+        PARQUET_TEST_DATA: /__w/arrow/arrow/cpp/submodules/parquet-testing/data\n+    steps:\n+      - uses: actions/checkout@v2\n+        with:\n+          submodules: true\n+      - name: Cache Cargo\n+        uses: actions/cache@v2\n+        with:\n+          path: /github/home/.cargo\n+          # these keys equal the ones on `linux-build-lib` for re-use\n+          key: cargo-cache-${{ hashFiles('**/Cargo.lock') }}\n+          restore-keys: cargo-cache-\n+      - name: Cache Rust dependencies\n+        uses: actions/cache@v2\n+        with:\n+          path: /github/home/target\n+          # these keys equal the ones on `linux-build-lib` for re-use\n+          key: ${{ runner.os }}-${{ matrix.arch }}-target-cache-${{ matrix.rust }}-${{ hashFiles('**/Cargo.lock') }}\n+          restore-keys: ${{ runner.os }}-${{ matrix.arch }}-target-cache-${{ matrix.rust }}-\n+      - name: Run tests\n+        run: |\n+          cd rust\n+          cargo test\n+          # test datafusion examples\n+          cd datafusion\n+          cargo run --example csv_sql\n+          cargo run --example parquet_sql\n+\n+  # test the --features \"simd\" of the arrow crate\n+  linux-test-simd:\n+    name: Linux ${{ matrix.arch }} Rust ${{ matrix.rust }} test arrow simd\n+    needs: [linux-build-lib]\n+    runs-on: ubuntu-latest\n+    strategy:\n+      matrix:\n+        arch: [amd64]\n+        rust: [nightly-2020-11-24]\n+    container:\n+      image: docker.pkg.github.com/${{ github.repository }}/${{ matrix.arch }}-linux-rust-${{ matrix.rust }}\n+      credentials:\n+        username: ${{ github.actor }}\n+        password: ${{ github.token }}\n+      env:\n+        CARGO_HOME: /github/home/.cargo\n+        CARGO_TARGET_DIR: /github/home/target\n+\n+        ARROW_TEST_DATA: /__w/arrow/arrow/testing/data\n+    steps:\n+      - uses: actions/checkout@v2\n+        with:\n+          submodules: true\n+      - name: Cache Cargo\n+        uses: actions/cache@v2\n+        with:\n+          path: /github/home/.cargo\n+          # these keys equal the ones on `linux-build-lib` for re-use\n+          key: cargo-cache-${{ hashFiles('**/Cargo.lock') }}\n+          restore-keys: cargo-cache-\n+      - name: Cache Rust dependencies\n+        uses: actions/cache@v2\n+        with:\n+          path: /github/home/target\n+          # these keys equal the ones on `linux-build-lib` for re-use\n+          key: ${{ runner.os }}-${{ matrix.arch }}-target-cache-${{ matrix.rust }}-${{ hashFiles('**/Cargo.lock') }}\n+          restore-keys: ${{ runner.os }}-${{ matrix.arch }}-target-cache-${{ matrix.rust }}-\n+      - name: Run tests\n+        run: |\n+          cd rust/arrow\n+          cargo test --features \"simd\"\n+\n+  # test the arrow crate with stable rust\n+  linux-test-stable:\n+    name: Linux ${{ matrix.arch }} Rust ${{ matrix.rust }} test arrow\n+    needs: [linux-build-image]\n+    runs-on: ubuntu-latest\n+    strategy:\n+      matrix:\n+        arch: [amd64]\n+        rust: [stable]\n+    container:\n+      image: docker.pkg.github.com/${{ github.repository }}/${{ matrix.arch }}-linux-rust-${{ matrix.rust }}\n+      credentials:\n+        username: ${{ github.actor }}\n+        password: ${{ github.token }}\n+      env:\n+        CARGO_HOME: /github/home/.cargo\n+        CARGO_TARGET_DIR: /github/home/target\n+\n+        ARROW_TEST_DATA: /__w/arrow/arrow/testing/data\n     steps:\n-      - name: Install Rust\n-        uses: actions-rs/toolchain@v1\n+      - uses: actions/checkout@v2\n+        with:\n+          submodules: true\n+      - name: Cache Cargo\n+        uses: actions/cache@v2\n+        with:\n+          path: /github/home/.cargo\n+          # these keys equal the ones on `linux-build-lib` for re-use\n+          key: cargo-cache-${{ hashFiles('**/Cargo.lock') }}\n+          restore-keys: cargo-cache-\n+      - name: Cache Rust dependencies\n+        uses: actions/cache@v2\n+        with:\n+          path: /github/home/target\n+          # these keys equal the ones on `linux-build-lib` for re-use\n+          key: ${{ runner.os }}-${{ matrix.arch }}-target-cache-${{ matrix.rust }}-${{ hashFiles('**/Cargo.lock') }}\n+          restore-keys: ${{ runner.os }}-${{ matrix.arch }}-target-cache-${{ matrix.rust }}-\n+      - name: Run tests\n+        run: |\n+          cd rust/arrow\n\nReview comment:\n       @GregBowyer we'd be able to add parquet to stable tests here, so we can leave out adding it to CI in your PR\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-03T04:19:18.022+0000",
                    "updated": "2020-12-03T04:19:18.022+0000",
                    "started": "2020-12-03T04:19:18.022+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "519355",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/519377",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io edited a comment on pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#issuecomment-737491170\n\n\n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=h1) Report\n   > Merging [#8821](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=desc) (8b5cb6f) into [master](https://codecov.io/gh/apache/arrow/commit/322cd01fff055c4d4a03839fe5ac435948e75b09?el=desc) (322cd01) will **decrease** coverage by `31.75%`.\n   > The diff coverage is `59.60%`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/8821/graphs/tree.svg?width=650&height=150&src=pr&token=LpTCFbqVT1)](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=tree)\n   \n   ```diff\n   @@             Coverage Diff             @@\n   ##           master    #8821       +/-   ##\n   ===========================================\n   - Coverage   84.54%   52.79%   -31.76%     \n   ===========================================\n     Files         185      165       -20     \n     Lines       46176    29829    -16347     \n   ===========================================\n   - Hits        39041    15748    -23293     \n   - Misses       7135    14081     +6946     \n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [rust/arrow/src/array/transform/boolean.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvYXJyYXkvdHJhbnNmb3JtL2Jvb2xlYW4ucnM=) | `76.92% <0.00%> (-23.08%)` | :arrow_down: |\n   | [rust/arrow/src/array/transform/list.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvYXJyYXkvdHJhbnNmb3JtL2xpc3QucnM=) | `36.36% <0.00%> (-8.09%)` | :arrow_down: |\n   | [rust/arrow/src/compute/kernels/comparison.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvY29tcHV0ZS9rZXJuZWxzL2NvbXBhcmlzb24ucnM=) | `96.27% <\u00f8> (\u00f8)` | |\n   | [rust/arrow/src/compute/kernels/filter.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvY29tcHV0ZS9rZXJuZWxzL2ZpbHRlci5ycw==) | `58.72% <\u00f8> (-2.55%)` | :arrow_down: |\n   | [rust/arrow/src/compute/kernels/limit.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvY29tcHV0ZS9rZXJuZWxzL2xpbWl0LnJz) | `100.00% <\u00f8> (\u00f8)` | |\n   | [rust/arrow/src/record\\_batch.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvcmVjb3JkX2JhdGNoLnJz) | `84.04% <\u00f8> (-6.31%)` | :arrow_down: |\n   | [rust/datafusion/src/logical\\_plan/builder.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9sb2dpY2FsX3BsYW4vYnVpbGRlci5ycw==) | `0.00% <0.00%> (-85.10%)` | :arrow_down: |\n   | [rust/datafusion/src/logical\\_plan/plan.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9sb2dpY2FsX3BsYW4vcGxhbi5ycw==) | `0.00% <\u00f8> (-83.69%)` | :arrow_down: |\n   | [...tafusion/src/physical\\_plan/distinct\\_expressions.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9waHlzaWNhbF9wbGFuL2Rpc3RpbmN0X2V4cHJlc3Npb25zLnJz) | `0.00% <0.00%> (-90.91%)` | :arrow_down: |\n   | [rust/datafusion/src/physical\\_plan/functions.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9waHlzaWNhbF9wbGFuL2Z1bmN0aW9ucy5ycw==) | `0.00% <\u00f8> (-82.13%)` | :arrow_down: |\n   | ... and [152 more](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=footer). Last update [17805f3...8b5cb6f](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-03T05:14:50.379+0000",
                    "updated": "2020-12-03T05:14:50.379+0000",
                    "started": "2020-12-03T05:14:50.378+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "519377",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/519553",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io edited a comment on pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#issuecomment-737491170\n\n\n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=h1) Report\n   > Merging [#8821](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=desc) (fe124f3) into [master](https://codecov.io/gh/apache/arrow/commit/322cd01fff055c4d4a03839fe5ac435948e75b09?el=desc) (322cd01) will **decrease** coverage by `31.72%`.\n   > The diff coverage is `58.22%`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/8821/graphs/tree.svg?width=650&height=150&src=pr&token=LpTCFbqVT1)](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=tree)\n   \n   ```diff\n   @@             Coverage Diff             @@\n   ##           master    #8821       +/-   ##\n   ===========================================\n   - Coverage   84.54%   52.82%   -31.73%     \n   ===========================================\n     Files         185      165       -20     \n     Lines       46176    29837    -16339     \n   ===========================================\n   - Hits        39041    15761    -23280     \n   - Misses       7135    14076     +6941     \n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [rust/arrow/src/array/transform/boolean.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvYXJyYXkvdHJhbnNmb3JtL2Jvb2xlYW4ucnM=) | `76.92% <0.00%> (-23.08%)` | :arrow_down: |\n   | [rust/arrow/src/array/transform/list.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvYXJyYXkvdHJhbnNmb3JtL2xpc3QucnM=) | `36.36% <0.00%> (-8.09%)` | :arrow_down: |\n   | [rust/arrow/src/compute/kernels/comparison.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvY29tcHV0ZS9rZXJuZWxzL2NvbXBhcmlzb24ucnM=) | `96.27% <\u00f8> (\u00f8)` | |\n   | [rust/arrow/src/compute/kernels/filter.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvY29tcHV0ZS9rZXJuZWxzL2ZpbHRlci5ycw==) | `58.72% <\u00f8> (-2.55%)` | :arrow_down: |\n   | [rust/arrow/src/compute/kernels/limit.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvY29tcHV0ZS9rZXJuZWxzL2xpbWl0LnJz) | `100.00% <\u00f8> (\u00f8)` | |\n   | [rust/arrow/src/record\\_batch.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvcmVjb3JkX2JhdGNoLnJz) | `84.04% <\u00f8> (-6.31%)` | :arrow_down: |\n   | [rust/datafusion/src/logical\\_plan/builder.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9sb2dpY2FsX3BsYW4vYnVpbGRlci5ycw==) | `0.00% <0.00%> (-85.10%)` | :arrow_down: |\n   | [rust/datafusion/src/logical\\_plan/plan.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9sb2dpY2FsX3BsYW4vcGxhbi5ycw==) | `0.00% <\u00f8> (-83.69%)` | :arrow_down: |\n   | [...tafusion/src/physical\\_plan/distinct\\_expressions.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9waHlzaWNhbF9wbGFuL2Rpc3RpbmN0X2V4cHJlc3Npb25zLnJz) | `0.00% <0.00%> (-90.91%)` | :arrow_down: |\n   | [rust/datafusion/src/physical\\_plan/functions.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9waHlzaWNhbF9wbGFuL2Z1bmN0aW9ucy5ycw==) | `0.00% <\u00f8> (-82.13%)` | :arrow_down: |\n   | ... and [156 more](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=footer). Last update [17805f3...8803c13](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-03T11:07:25.701+0000",
                    "updated": "2020-12-03T11:07:25.701+0000",
                    "started": "2020-12-03T11:07:25.700+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "519553",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/519801",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io edited a comment on pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#issuecomment-737491170\n\n\n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=h1) Report\n   > Merging [#8821](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=desc) (c151b60) into [master](https://codecov.io/gh/apache/arrow/commit/322cd01fff055c4d4a03839fe5ac435948e75b09?el=desc) (322cd01) will **decrease** coverage by `7.08%`.\n   > The diff coverage is `63.74%`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/8821/graphs/tree.svg?width=650&height=150&src=pr&token=LpTCFbqVT1)](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #8821      +/-   ##\n   ==========================================\n   - Coverage   84.54%   77.45%   -7.09%     \n   ==========================================\n     Files         185      166      -19     \n     Lines       46176    39218    -6958     \n   ==========================================\n   - Hits        39041    30378    -8663     \n   - Misses       7135     8840    +1705     \n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [rust/arrow/src/array/transform/boolean.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvYXJyYXkvdHJhbnNmb3JtL2Jvb2xlYW4ucnM=) | `76.92% <0.00%> (-23.08%)` | :arrow_down: |\n   | [rust/arrow/src/array/transform/list.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvYXJyYXkvdHJhbnNmb3JtL2xpc3QucnM=) | `36.36% <0.00%> (-8.09%)` | :arrow_down: |\n   | [rust/arrow/src/compute/kernels/comparison.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvY29tcHV0ZS9rZXJuZWxzL2NvbXBhcmlzb24ucnM=) | `96.27% <\u00f8> (\u00f8)` | |\n   | [rust/arrow/src/compute/kernels/filter.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvY29tcHV0ZS9rZXJuZWxzL2ZpbHRlci5ycw==) | `58.72% <\u00f8> (-2.55%)` | :arrow_down: |\n   | [rust/arrow/src/compute/kernels/limit.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvY29tcHV0ZS9rZXJuZWxzL2xpbWl0LnJz) | `100.00% <\u00f8> (\u00f8)` | |\n   | [rust/arrow/src/record\\_batch.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9hcnJvdy9zcmMvcmVjb3JkX2JhdGNoLnJz) | `88.29% <\u00f8> (-2.06%)` | :arrow_down: |\n   | [rust/datafusion/src/logical\\_plan/builder.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9sb2dpY2FsX3BsYW4vYnVpbGRlci5ycw==) | `0.00% <0.00%> (-85.10%)` | :arrow_down: |\n   | [rust/datafusion/src/logical\\_plan/plan.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9sb2dpY2FsX3BsYW4vcGxhbi5ycw==) | `0.00% <\u00f8> (-83.69%)` | :arrow_down: |\n   | [...tafusion/src/physical\\_plan/distinct\\_expressions.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9waHlzaWNhbF9wbGFuL2Rpc3RpbmN0X2V4cHJlc3Npb25zLnJz) | `0.00% <0.00%> (-90.91%)` | :arrow_down: |\n   | [rust/datafusion/src/physical\\_plan/functions.rs](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9waHlzaWNhbF9wbGFuL2Z1bmN0aW9ucy5ycw==) | `0.00% <\u00f8> (-82.13%)` | :arrow_down: |\n   | ... and [112 more](https://codecov.io/gh/apache/arrow/pull/8821/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=footer). Last update [17805f3...c151b60](https://codecov.io/gh/apache/arrow/pull/8821?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-03T18:15:04.722+0000",
                    "updated": "2020-12-03T18:15:04.722+0000",
                    "started": "2020-12-03T18:15:04.722+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "519801",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/520041",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao closed pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T07:41:22.095+0000",
                    "updated": "2020-12-04T07:41:22.095+0000",
                    "started": "2020-12-04T07:41:22.095+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520041",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/520049",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao opened a new pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821\n\n\n   This PR refactors the CI with the purpose of making it faster, easier to extend, and more robust. The main consequences of this PR are:\r\n   \r\n   1. build time of non-integration jobs reduced by half (10m vs 20m)\r\n   2. coverage is now part of all builds\r\n   3. significantly reduced the risk of cache misses, and the size of the caches\r\n   4. reduced complexity by removing the need to build a docker image\r\n   5. macos now have caching in place, like other builds\r\n   5. significantly easier to extend to other architectures, os, etc.\r\n   \r\n   The overall design of this PR is that most steps of the CI process should be independent of all others as much as possible, so that\r\n   \r\n   * they can run in parallel\r\n   * it is clearer where the failure is\r\n   * it is easier to extend the build to other variations (arch, os, flags, etc.)\r\n   \r\n   Intrinsically, the CI pipeline is just a DAG where certain jobs benefit from shared compute and thus depend on common nodes, while others run independently.\r\n   \r\n   This PR re-writes most of our CI as simple github jobs that share caches whenever makes sense, thereby describing the aforementioned DAG. Consequently, many of the sequential steps are now executed in parallel, causing the items describe above.\r\n   \r\n   There are two tasks depending on rust that are not in the `rust.yaml`:\r\n   \r\n   * lint, that happens via archery\r\n   * integration tests, that happens via archery\r\n   \r\n   The bottleneck of a green pipeline are the integration tests, that currently re-compile a significant number of components (as I already flagged on the mailing list), but at least we get faster failures for compilation (2.5m) and clippy (4.5m).\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T07:45:21.085+0000",
                    "updated": "2020-12-04T07:45:21.085+0000",
                    "started": "2020-12-04T07:45:21.085+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520049",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/520055",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#discussion_r535900056\n\n\n\n##########\nFile path: .github/workflows/rust.yml\n##########\n@@ -21,145 +21,286 @@ on:\n   push:\n     paths:\n       - '.github/workflows/rust.yml'\n-      - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n   pull_request:\n     paths:\n       - '.github/workflows/rust.yml'\n-      - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n \n-env:\n-  DOCKER_BUILDKIT: 0\n-  COMPOSE_DOCKER_CLI_BUILD: 1\n-  ARCHERY_DOCKER_USER: ${{ secrets.DOCKERHUB_USER }}\n-  ARCHERY_DOCKER_PASSWORD: ${{ secrets.DOCKERHUB_TOKEN }}\n-\n jobs:\n \n-  debian:\n-    name: AMD64 Debian 10 Rust ${{ matrix.rust }}\n+  # build the library, a compilation step used by multiple steps below\n+  linux-build-lib:\n+    name: Linux ${{ matrix.arch }} Rust ${{ matrix.rust }} build libraries\n\nReview comment:\n       I'd prefer the previous title to better align with the rest of the builds, e.g.:\r\n   `AMD64 Debian 10 Rust ${{ matrix.rust }} build libraries`\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T07:50:33.594+0000",
                    "updated": "2020-12-04T07:50:33.594+0000",
                    "started": "2020-12-04T07:50:33.594+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520055",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/520056",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#discussion_r535900733\n\n\n\n##########\nFile path: .github/workflows/rust.yml\n##########\n@@ -21,145 +21,286 @@ on:\n   push:\n     paths:\n       - '.github/workflows/rust.yml'\n-      - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n   pull_request:\n     paths:\n       - '.github/workflows/rust.yml'\n-      - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n \n-env:\n-  DOCKER_BUILDKIT: 0\n-  COMPOSE_DOCKER_CLI_BUILD: 1\n-  ARCHERY_DOCKER_USER: ${{ secrets.DOCKERHUB_USER }}\n-  ARCHERY_DOCKER_PASSWORD: ${{ secrets.DOCKERHUB_TOKEN }}\n-\n jobs:\n \n-  debian:\n-    name: AMD64 Debian 10 Rust ${{ matrix.rust }}\n+  # build the library, a compilation step used by multiple steps below\n+  linux-build-lib:\n+    name: Linux ${{ matrix.arch }} Rust ${{ matrix.rust }} build libraries\n     runs-on: ubuntu-latest\n-    if: ${{ !contains(github.event.pull_request.title, 'WIP') }}\n     strategy:\n-      fail-fast: false\n       matrix:\n+        arch: [amd64]\n         rust: [nightly-2020-11-24]\n-    env:\n-      RUST: ${{ matrix.rust }}\n+    container:\n+      image: ${{ matrix.arch }}/rust\n     steps:\n-      - name: Checkout Arrow\n-        uses: actions/checkout@v2\n+      - uses: actions/checkout@v2\n+      - name: Cache Cargo\n+        uses: actions/cache@v2\n         with:\n-          fetch-depth: 0\n-      - name: Fetch Submodules and Tags\n-        shell: bash\n-        run: ci/scripts/util_checkout.sh\n-      - name: Free Up Disk Space\n-        shell: bash\n-        run: ci/scripts/util_cleanup.sh\n-      - name: Cache Docker Volumes\n-        uses: actions/cache@v1\n-        with:\n-          path: .docker\n-          key: debian-10-rust-${{ hashFiles('rust/**/**.rs', 'rust/**/Cargo.toml') }}\n-          restore-keys: debian-10-rust-\n-      - name: Setup Python\n-        uses: actions/setup-python@v1\n-        with:\n-          python-version: 3.8\n-      - name: Setup Archery\n-        run: pip install -e dev/archery[docker]\n-      - name: Execute Docker Build\n+          # these represent dependencies downloaded by cargo\n+          # and thus do not depend on the OS, arch nor rust version.\n+          path: /github/home/.cargo\n+          key: cargo-cache-\n+      - name: Cache Rust dependencies\n+        uses: actions/cache@v2\n+        with:\n+          # these represent compiled steps of both dependencies and arrow\n+          # and thus are specific for a particular OS, arch and rust version.\n+          path: /github/home/target\n+          key: ${{ runner.os }}-${{ matrix.arch }}-target-cache-${{ matrix.rust }}-\n+      - uses: actions-rs/toolchain@v1\n+        with:\n+          toolchain: ${{ matrix.rust }}\n+          default: true\n+          components: rustfmt\n+      - name: Build\n         run: |\n-          sudo sysctl -w kernel.core_pattern=\"core.%e.%p\"\n-          ulimit -c unlimited\n-          archery docker run debian-rust\n-      - name: Fix Cache Permissions\n-        run: sudo chmod -R o+r .docker\n-      - name: Docker Push\n-        if: success() && github.event_name == 'push' && github.repository == 'apache/arrow'\n-        continue-on-error: true\n-        shell: bash\n-        run: archery docker push debian-rust\n+          export CARGO_HOME=\"/github/home/.cargo\"\n+          export CARGO_TARGET_DIR=\"/github/home/target\"\n+          cd rust\n+          cargo build\n \n-  windows:\n-    name: AMD64 Windows 2019 Rust ${{ matrix.rust }}\n-    runs-on: windows-latest\n-    if: ${{ !contains(github.event.pull_request.title, 'WIP') }}\n+  # test the crate\n+  linux-test:\n+    name: Linux ${{ matrix.arch }} Rust ${{ matrix.rust }} test workspace\n+    needs: [linux-build-lib]\n+    runs-on: ubuntu-latest\n     strategy:\n-      fail-fast: false\n       matrix:\n+        arch: [amd64]\n         rust: [nightly-2020-11-24]\n+    container:\n+      image: ${{ matrix.arch }}/rust\n+      env:\n+        ARROW_TEST_DATA: /__w/arrow/arrow/testing/data\n\nReview comment:\n       What is the `__w` prefix?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T07:52:00.496+0000",
                    "updated": "2020-12-04T07:52:00.496+0000",
                    "started": "2020-12-04T07:52:00.496+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520056",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/520058",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#discussion_r535902088\n\n\n\n##########\nFile path: docker-compose.yml\n##########\n@@ -903,35 +902,6 @@ services:\n       /bin/bash -c \"\n         /arrow/ci/scripts/r_sanitize.sh /arrow\"\n \n-  ################################ Rust #######################################\n-\n-  debian-rust:\n\nReview comment:\n       Even if we plan to use plain GHA jobs without docker-compose it'd be nice to keep it around to let contributors execute rust builds without installing the toolchain locally.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T07:54:51.017+0000",
                    "updated": "2020-12-04T07:54:51.017+0000",
                    "started": "2020-12-04T07:54:51.017+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520058",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/520062",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#issuecomment-738629896\n\n\n   Thanks Jorge for working on this! \r\n   \r\n   In general it looks good to me, but this PR makes local reproducibility harder. Considering that cargo makes the building process straightforward and if it indeed speeds up the build execution by a factor of 2 I can accept that tradeoff. \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T08:00:29.897+0000",
                    "updated": "2020-12-04T08:00:29.897+0000",
                    "started": "2020-12-04T08:00:29.897+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520062",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/520069",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs edited a comment on pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#issuecomment-738629896\n\n\n   Thanks Jorge for working on this! \r\n   \r\n   In general it looks good to me, but this PR makes harder to reproduce the exact same environment locally. Considering that cargo makes the building process straightforward and if it indeed speeds up the build execution by a factor of 2 I can accept that tradeoff. \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T08:11:10.514+0000",
                    "updated": "2020-12-04T08:11:10.514+0000",
                    "started": "2020-12-04T08:11:10.513+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520069",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/520297",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao commented on a change in pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#discussion_r536296786\n\n\n\n##########\nFile path: .github/workflows/rust.yml\n##########\n@@ -21,145 +21,286 @@ on:\n   push:\n     paths:\n       - '.github/workflows/rust.yml'\n-      - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n   pull_request:\n     paths:\n       - '.github/workflows/rust.yml'\n-      - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n \n-env:\n-  DOCKER_BUILDKIT: 0\n-  COMPOSE_DOCKER_CLI_BUILD: 1\n-  ARCHERY_DOCKER_USER: ${{ secrets.DOCKERHUB_USER }}\n-  ARCHERY_DOCKER_PASSWORD: ${{ secrets.DOCKERHUB_TOKEN }}\n-\n jobs:\n \n-  debian:\n-    name: AMD64 Debian 10 Rust ${{ matrix.rust }}\n+  # build the library, a compilation step used by multiple steps below\n+  linux-build-lib:\n+    name: Linux ${{ matrix.arch }} Rust ${{ matrix.rust }} build libraries\n\nReview comment:\n       Agreed. The issue with hard-coding AMD64 is that it does not depend on `${{ matrix.arch }}`. Would it be ok to be amd64, since that is the name of the image?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T18:31:56.426+0000",
                    "updated": "2020-12-04T18:31:56.426+0000",
                    "started": "2020-12-04T18:31:56.426+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520297",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/520300",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#discussion_r536302049\n\n\n\n##########\nFile path: .github/workflows/rust.yml\n##########\n@@ -21,145 +21,286 @@ on:\n   push:\n     paths:\n       - '.github/workflows/rust.yml'\n-      - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n   pull_request:\n     paths:\n       - '.github/workflows/rust.yml'\n-      - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n \n-env:\n-  DOCKER_BUILDKIT: 0\n-  COMPOSE_DOCKER_CLI_BUILD: 1\n-  ARCHERY_DOCKER_USER: ${{ secrets.DOCKERHUB_USER }}\n-  ARCHERY_DOCKER_PASSWORD: ${{ secrets.DOCKERHUB_TOKEN }}\n-\n jobs:\n \n-  debian:\n-    name: AMD64 Debian 10 Rust ${{ matrix.rust }}\n+  # build the library, a compilation step used by multiple steps below\n+  linux-build-lib:\n+    name: Linux ${{ matrix.arch }} Rust ${{ matrix.rust }} build libraries\n\nReview comment:\n       I see, lowercase is fine then.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T18:41:31.634+0000",
                    "updated": "2020-12-04T18:41:31.634+0000",
                    "started": "2020-12-04T18:41:31.634+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520300",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/520302",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#discussion_r536304032\n\n\n\n##########\nFile path: .github/workflows/rust.yml\n##########\n@@ -21,145 +21,286 @@ on:\n   push:\n     paths:\n       - '.github/workflows/rust.yml'\n-      - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n   pull_request:\n     paths:\n       - '.github/workflows/rust.yml'\n-      - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n \n-env:\n-  DOCKER_BUILDKIT: 0\n-  COMPOSE_DOCKER_CLI_BUILD: 1\n-  ARCHERY_DOCKER_USER: ${{ secrets.DOCKERHUB_USER }}\n-  ARCHERY_DOCKER_PASSWORD: ${{ secrets.DOCKERHUB_TOKEN }}\n-\n jobs:\n \n-  debian:\n-    name: AMD64 Debian 10 Rust ${{ matrix.rust }}\n+  # build the library, a compilation step used by multiple steps below\n+  linux-build-lib:\n+    name: Linux ${{ matrix.arch }} Rust ${{ matrix.rust }} build libraries\n\nReview comment:\n       On the other hand we won't be able to execute non-amd64 build on github actions since we would need hosted agents with different arch, so you can also hardcode 'AMD64'.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T18:45:05.023+0000",
                    "updated": "2020-12-04T18:45:05.023+0000",
                    "started": "2020-12-04T18:45:05.023+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520302",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/520303",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#discussion_r536304032\n\n\n\n##########\nFile path: .github/workflows/rust.yml\n##########\n@@ -21,145 +21,286 @@ on:\n   push:\n     paths:\n       - '.github/workflows/rust.yml'\n-      - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n   pull_request:\n     paths:\n       - '.github/workflows/rust.yml'\n-      - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n \n-env:\n-  DOCKER_BUILDKIT: 0\n-  COMPOSE_DOCKER_CLI_BUILD: 1\n-  ARCHERY_DOCKER_USER: ${{ secrets.DOCKERHUB_USER }}\n-  ARCHERY_DOCKER_PASSWORD: ${{ secrets.DOCKERHUB_TOKEN }}\n-\n jobs:\n \n-  debian:\n-    name: AMD64 Debian 10 Rust ${{ matrix.rust }}\n+  # build the library, a compilation step used by multiple steps below\n+  linux-build-lib:\n+    name: Linux ${{ matrix.arch }} Rust ${{ matrix.rust }} build libraries\n\nReview comment:\n       On the other hand we won't be able to execute non-amd64 build on github actions since we would need hosted agents with different arch (but there aren't any), so you can also hardcode 'AMD64'.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T18:45:28.253+0000",
                    "updated": "2020-12-04T18:45:28.253+0000",
                    "started": "2020-12-04T18:45:28.253+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520303",
                    "issueId": "13343859"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/worklog/520330",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao commented on a change in pull request #8821:\nURL: https://github.com/apache/arrow/pull/8821#discussion_r536358928\n\n\n\n##########\nFile path: .github/workflows/rust.yml\n##########\n@@ -21,145 +21,286 @@ on:\n   push:\n     paths:\n       - '.github/workflows/rust.yml'\n-      - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n   pull_request:\n     paths:\n       - '.github/workflows/rust.yml'\n-      - 'ci/docker/*rust*'\n-      - 'ci/scripts/rust_*.sh'\n-      - 'ci/scripts/util_*.sh'\n       - 'rust/**'\n       - 'format/Flight.proto'\n \n-env:\n-  DOCKER_BUILDKIT: 0\n-  COMPOSE_DOCKER_CLI_BUILD: 1\n-  ARCHERY_DOCKER_USER: ${{ secrets.DOCKERHUB_USER }}\n-  ARCHERY_DOCKER_PASSWORD: ${{ secrets.DOCKERHUB_TOKEN }}\n-\n jobs:\n \n-  debian:\n-    name: AMD64 Debian 10 Rust ${{ matrix.rust }}\n+  # build the library, a compilation step used by multiple steps below\n+  linux-build-lib:\n+    name: Linux ${{ matrix.arch }} Rust ${{ matrix.rust }} build libraries\n     runs-on: ubuntu-latest\n-    if: ${{ !contains(github.event.pull_request.title, 'WIP') }}\n     strategy:\n-      fail-fast: false\n       matrix:\n+        arch: [amd64]\n         rust: [nightly-2020-11-24]\n-    env:\n-      RUST: ${{ matrix.rust }}\n+    container:\n+      image: ${{ matrix.arch }}/rust\n     steps:\n-      - name: Checkout Arrow\n-        uses: actions/checkout@v2\n+      - uses: actions/checkout@v2\n+      - name: Cache Cargo\n+        uses: actions/cache@v2\n         with:\n-          fetch-depth: 0\n-      - name: Fetch Submodules and Tags\n-        shell: bash\n-        run: ci/scripts/util_checkout.sh\n-      - name: Free Up Disk Space\n-        shell: bash\n-        run: ci/scripts/util_cleanup.sh\n-      - name: Cache Docker Volumes\n-        uses: actions/cache@v1\n-        with:\n-          path: .docker\n-          key: debian-10-rust-${{ hashFiles('rust/**/**.rs', 'rust/**/Cargo.toml') }}\n-          restore-keys: debian-10-rust-\n-      - name: Setup Python\n-        uses: actions/setup-python@v1\n-        with:\n-          python-version: 3.8\n-      - name: Setup Archery\n-        run: pip install -e dev/archery[docker]\n-      - name: Execute Docker Build\n+          # these represent dependencies downloaded by cargo\n+          # and thus do not depend on the OS, arch nor rust version.\n+          path: /github/home/.cargo\n+          key: cargo-cache-\n+      - name: Cache Rust dependencies\n+        uses: actions/cache@v2\n+        with:\n+          # these represent compiled steps of both dependencies and arrow\n+          # and thus are specific for a particular OS, arch and rust version.\n+          path: /github/home/target\n+          key: ${{ runner.os }}-${{ matrix.arch }}-target-cache-${{ matrix.rust }}-\n+      - uses: actions-rs/toolchain@v1\n+        with:\n+          toolchain: ${{ matrix.rust }}\n+          default: true\n+          components: rustfmt\n+      - name: Build\n         run: |\n-          sudo sysctl -w kernel.core_pattern=\"core.%e.%p\"\n-          ulimit -c unlimited\n-          archery docker run debian-rust\n-      - name: Fix Cache Permissions\n-        run: sudo chmod -R o+r .docker\n-      - name: Docker Push\n-        if: success() && github.event_name == 'push' && github.repository == 'apache/arrow'\n-        continue-on-error: true\n-        shell: bash\n-        run: archery docker push debian-rust\n+          export CARGO_HOME=\"/github/home/.cargo\"\n+          export CARGO_TARGET_DIR=\"/github/home/target\"\n+          cd rust\n+          cargo build\n \n-  windows:\n-    name: AMD64 Windows 2019 Rust ${{ matrix.rust }}\n-    runs-on: windows-latest\n-    if: ${{ !contains(github.event.pull_request.title, 'WIP') }}\n+  # test the crate\n+  linux-test:\n+    name: Linux ${{ matrix.arch }} Rust ${{ matrix.rust }} test workspace\n+    needs: [linux-build-lib]\n+    runs-on: ubuntu-latest\n     strategy:\n-      fail-fast: false\n       matrix:\n+        arch: [amd64]\n         rust: [nightly-2020-11-24]\n+    container:\n+      image: ${{ matrix.arch }}/rust\n+      env:\n+        ARROW_TEST_DATA: /__w/arrow/arrow/testing/data\n\nReview comment:\n       It is the absolute path to where the container action places the checkout code on. I tried using relative paths but I was unable to make it work.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T20:23:43.493+0000",
                    "updated": "2020-12-04T20:23:43.493+0000",
                    "started": "2020-12-04T20:23:43.493+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520330",
                    "issueId": "13343859"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 21000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@3a7b63ae[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3dcf7d6c[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2a426340[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@6c205f79[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@22ec1d98[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@413617e7[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@785724e2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@16e26706[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@54a0b89f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@25d814c3[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@646944ae[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@61b6c572[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 21000,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Dec 08 13:59:42 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-12-08T13:59:41.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-10792/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2020-12-02T20:13:55.000+0000",
        "updated": "2021-01-04T23:57:11.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "5h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 21000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Rust] [CI] Modulararize CI for faster and smaller builds",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13343859/comment/17245901",
                    "id": "17245901",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=alamb",
                        "name": "alamb",
                        "key": "alamb",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=alamb&avatarId=43364",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alamb&avatarId=43364",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alamb&avatarId=43364",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alamb&avatarId=43364"
                        },
                        "displayName": "Andrew Lamb",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 8821\n[https://github.com/apache/arrow/pull/8821]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=alamb",
                        "name": "alamb",
                        "key": "alamb",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=alamb&avatarId=43364",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alamb&avatarId=43364",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alamb&avatarId=43364",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alamb&avatarId=43364"
                        },
                        "displayName": "Andrew Lamb",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2020-12-08T13:59:42.037+0000",
                    "updated": "2020-12-08T13:59:42.037+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0l56o:",
        "customfield_12314139": null
    }
}