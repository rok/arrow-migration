{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13108468",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468",
    "key": "ARROW-1663",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12341352",
                "id": "12341352",
                "name": "0.8.0",
                "archived": false,
                "released": true,
                "releaseDate": "2017-12-18"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=yufeldman",
            "name": "yufeldman",
            "key": "yufeldman",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Yuliya Feldman",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=yufeldman",
            "name": "yufeldman",
            "key": "yufeldman",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Yuliya Feldman",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=yufeldman",
            "name": "yufeldman",
            "key": "yufeldman",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Yuliya Feldman",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1663/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@68aa25b0[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5b307e1[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@75e46a89[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@6875e7db[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@cfa4eae[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@12b6745f[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4450e4a2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@3dc98cc[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5d8d3927[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@7c38aa45[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3f8e3494[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@58f3d151[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Sun Nov 05 23:57:46 UTC 2017",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2017-11-05T23:57:46.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1663/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2017-10-11T01:24:37.000+0000",
        "updated": "2017-11-05T23:57:46.000+0000",
        "timeoriginalestimate": null,
        "description": "ARROW-1347 covered ListVector to have name of the field $data$ instead of [DEFAULT]\r\nWe left FixedSizeListVector behind.\r\n\r\nAnother case is backward compatibility - if schema was created before ARROW-1347 was in place  application may still suffer from side effects as it would not be updated based on new code.",
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Java] Follow up on ARROW-1347 and make schema backward compatible",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16199693",
                    "id": "16199693",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "GitHub user yufeldman opened a pull request:\n\n    https://github.com/apache/arrow/pull/1193\n\n    ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\n\n    \u2026t, add backward compatibility while deserializing schema that was generated before this JIRA checkin\n\nYou can merge this pull request into a Git repository by running:\n\n    $ git pull https://github.com/yufeldman/arrow ARROW-1663\n\nAlternatively you can review and apply these changes as the patch at:\n\n    https://github.com/apache/arrow/pull/1193.patch\n\nTo close this pull request, make a commit to your master/trunk branch\nwith (at least) the following in the commit message:\n\n    This closes #1193\n    \n----\ncommit c9d36e1a3ac68e306a993bcc208670a3c3127a17\nAuthor: Yuliya Feldman <yuliya@dremio.com>\nDate:   2017-10-11T01:59:32Z\n\n    ARROW-1663: use consistent name for null and not-null in FixedSizeList, add backward compatibility while deserializing schema that was generated before this JIRA checkin\n\n----\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-11T02:02:36.532+0000",
                    "updated": "2017-10-11T02:02:36.532+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16210373",
                    "id": "16210373",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Github user wesm commented on the issue:\n\n    https://github.com/apache/arrow/pull/1193\n  \n    What is the status of this patch? Can you rebase?\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-19T00:24:17.200+0000",
                    "updated": "2017-10-19T00:24:17.200+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16210393",
                    "id": "16210393",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=yufeldman",
                        "name": "yufeldman",
                        "key": "yufeldman",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Yuliya Feldman",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "sure",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=yufeldman",
                        "name": "yufeldman",
                        "key": "yufeldman",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Yuliya Feldman",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2017-10-19T00:43:34.525+0000",
                    "updated": "2017-10-19T00:43:34.525+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16210450",
                    "id": "16210450",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=yufeldman",
                        "name": "yufeldman",
                        "key": "yufeldman",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Yuliya Feldman",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "rebased",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=yufeldman",
                        "name": "yufeldman",
                        "key": "yufeldman",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Yuliya Feldman",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2017-10-19T01:48:15.568+0000",
                    "updated": "2017-10-19T01:48:15.568+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16213422",
                    "id": "16213422",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Github user jacques-n commented on the issue:\n\n    https://github.com/apache/arrow/pull/1193\n  \n    We aren't making the guarantee at the Arrow level that schema is backwards compatible. However, we have a bunch of Dremio OSS and Enterprise users that are relying on this code and the inconsistency here has been causing us problems (when dealing with data that is initially untyped lists but then is later found to have a type). I don't see much issue to adding the backwards compatibility code and it should help others who might have hit a problem. What are your concerns @BryanCutler?\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-20T22:35:45.735+0000",
                    "updated": "2017-10-20T22:35:45.735+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16215492",
                    "id": "16215492",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on issue #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#issuecomment-338735509\n \n \n   @jacques-n , there's no problem with adding backwards compatibility - I just wasn't sure where the request was coming from so I was trying to get some context. I'm fine with this, but I think some of it could be simplified a little.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-23T17:30:58.904+0000",
                    "updated": "2017-10-23T17:30:58.904+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16215506",
                    "id": "16215506",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r146339889\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/ZeroVector.java\n ##########\n @@ -109,7 +111,7 @@ public void clear() {\n \n   @Override\n   public Field getField() {\n-    return new Field(name, FieldType.nullable(new Null()), null);\n+    return new Field(DATA_VECTOR_NAME, FieldType.nullable(new Null()), null);\n \n Review comment:\n   That's fine, but my concern was that is `ZeroVector` only meant to ever be an inner data vector?  Or would a user ever want to make a ZeroVector and not name it `DATA_VECTOR_NAME`? If not then I think we should just hardcode the name \"$data$\" like you mentioned before. Otherwise maybe we can do something like allow setting a name in the constructor, and create the instance with the name \"$data$\".\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-23T17:36:40.901+0000",
                    "updated": "2017-10-23T17:36:40.901+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16215508",
                    "id": "16215508",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r146340416\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/types/pojo/Field.java\n ##########\n @@ -121,7 +124,18 @@ public static Field convertField(org.apache.arrow.flatbuf.Field field) {\n     }\n     ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n     for (int i = 0; i < field.childrenLength(); i++) {\n-      childrenBuilder.add(convertField(field.children(i)));\n+      Field childField = convertField(field.children(i));\n+      if ((field.typeType() == Type.List || field.typeType() == Type.FixedSizeList)\n+        && childField.getName().equals(ZeroVector.NAME)) {\n+        Field modifiedField = new Field(DATA_VECTOR_NAME, childField.isNullable(), childField.getType(),\n+          childField.getDictionary(),\n+          childField.getChildren(),\n+          childField.getTypeLayout(),\n+          childField.getMetadata());\n+        childrenBuilder.add(modifiedField);\n+        continue;\n+      }\n+      childrenBuilder.add(childField);\n \n Review comment:\n   Could you put this block in a separate method with a name that makes it obvious what it is changing and why?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-23T17:38:57.428+0000",
                    "updated": "2017-10-23T17:38:57.428+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16215567",
                    "id": "16215567",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "yufeldman commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r146349711\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/complex/FixedSizeListVector.java\n ##########\n @@ -54,6 +53,8 @@\n import org.apache.arrow.vector.util.SchemaChangeRuntimeException;\n import org.apache.arrow.vector.util.TransferPair;\n \n+import io.netty.buffer.ArrowBuf;\n+\n \n Review comment:\n   sure\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-23T18:14:48.158+0000",
                    "updated": "2017-10-23T18:14:48.158+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16215568",
                    "id": "16215568",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "yufeldman commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r146349671\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/types/pojo/Field.java\n ##########\n @@ -121,7 +124,18 @@ public static Field convertField(org.apache.arrow.flatbuf.Field field) {\n     }\n     ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n     for (int i = 0; i < field.childrenLength(); i++) {\n-      childrenBuilder.add(convertField(field.children(i)));\n+      Field childField = convertField(field.children(i));\n+      if ((field.typeType() == Type.List || field.typeType() == Type.FixedSizeList)\n+        && childField.getName().equals(ZeroVector.NAME)) {\n+        Field modifiedField = new Field(DATA_VECTOR_NAME, childField.isNullable(), childField.getType(),\n+          childField.getDictionary(),\n+          childField.getChildren(),\n+          childField.getTypeLayout(),\n+          childField.getMetadata());\n+        childrenBuilder.add(modifiedField);\n+        continue;\n+      }\n+      childrenBuilder.add(childField);\n \n Review comment:\n   sure\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-23T18:14:48.160+0000",
                    "updated": "2017-10-23T18:14:48.160+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16222778",
                    "id": "16222778",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r147512511\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/ZeroVector.java\n ##########\n @@ -39,7 +41,7 @@\n public class ZeroVector implements FieldVector {\n   public final static ZeroVector INSTANCE = new ZeroVector();\n \n-  private final String name = \"[DEFAULT]\";\n+  public static final String NAME = \"[DEFAULT]\";\n \n Review comment:\n   If this name is just used for the conversion, can we move it there?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-27T20:43:24.904+0000",
                    "updated": "2017-10-27T20:43:24.904+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16222787",
                    "id": "16222787",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r147513485\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestListVector.java\n ##########\n @@ -633,11 +633,11 @@ public void testGetBufferAddress() throws Exception {\n   public void testConsistentChildName() throws Exception {\n     try (ListVector listVector = ListVector.empty(\"sourceVector\", allocator)) {\n       String emptyListStr = listVector.getField().toString();\n-      assertTrue(emptyListStr.contains(ListVector.DATA_VECTOR_NAME));\n+      Assert.assertTrue(emptyListStr.contains(ListVector.DATA_VECTOR_NAME));\n \n-      listVector.addOrGetVector(FieldType.nullable(MinorType.INT.getType()));\n+      listVector.addOrGetVector(FieldType.nullable(Types.MinorType.INT.getType()));\n       String emptyVectorStr = listVector.getField().toString();\n-      assertTrue(emptyVectorStr.contains(ListVector.DATA_VECTOR_NAME));\n+      Assert.assertTrue(emptyVectorStr.contains(ListVector.DATA_VECTOR_NAME));\n \n Review comment:\n   The rest of the tests in this file match the way it was previously.  If you're going to change it here then I would prefer making the others consistent as well.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-27T20:47:55.800+0000",
                    "updated": "2017-10-27T20:47:55.800+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16222791",
                    "id": "16222791",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r147513746\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n ##########\n @@ -48,6 +55,73 @@\n  */\n public class TestConvert {\n \n+  private static String badSchemaJson = \"{\\n\" +\n+    \"  \\\"fields\\\" : [ {\\n\" +\n+    \"    \\\"nullable\\\" : true,\\n\" +\n+    \"    \\\"type\\\" : {\\n\" +\n+    \"      \\\"name\\\" : \\\"struct\\\"\\n\" +\n+    \"    },\\n\" +\n+    \"    \\\"children\\\" : [ {\\n\" +\n+    \"      \\\"nullable\\\" : true,\\n\" +\n+    \"      \\\"type\\\" : {\\n\" +\n+    \"        \\\"name\\\" : \\\"list\\\"\\n\" +\n+    \"      },\\n\" +\n+    \"      \\\"children\\\" : [ {\\n\" +\n+    \"        \\\"nullable\\\" : true,\\n\" +\n+    \"        \\\"type\\\" : {\\n\" +\n+    \"          \\\"name\\\" : \\\"null\\\"\\n\" +\n+    \"        },\\n\" +\n+    \"        \\\"children\\\" : [ ],\\n\" +\n+    \"        \\\"typeLayout\\\" : {\\n\" +\n+    \"          \\\"vectors\\\" : [ ]\\n\" +\n+    \"        },\\n\" +\n+    \"        \\\"name\\\" : \\\"[DEFAULT]\\\"\\n\" +\n+    \"      } ],\\n\" +\n+    \"      \\\"typeLayout\\\" : {\\n\" +\n+    \"        \\\"vectors\\\" : [ {\\n\" +\n+    \"          \\\"type\\\" : \\\"VALIDITY\\\",\\n\" +\n+    \"          \\\"typeBitWidth\\\" : 1\\n\" +\n+    \"        }, {\\n\" +\n+    \"          \\\"type\\\" : \\\"OFFSET\\\",\\n\" +\n+    \"          \\\"typeBitWidth\\\" : 32\\n\" +\n+    \"        } ]\\n\" +\n+    \"      },\\n\" +\n+    \"      \\\"name\\\" : \\\"list\\\"\\n\" +\n+    \"    }, {\\n\" +\n+    \"      \\\"nullable\\\" : true,\\n\" +\n+    \"      \\\"type\\\" : {\\n\" +\n+    \"        \\\"name\\\" : \\\"fixedsizelist\\\",\\n\" +\n+    \"        \\\"listSize\\\" : 5\\n\" +\n+    \"      },\\n\" +\n+    \"      \\\"children\\\" : [ {\\n\" +\n+    \"        \\\"nullable\\\" : true,\\n\" +\n+    \"        \\\"type\\\" : {\\n\" +\n+    \"          \\\"name\\\" : \\\"null\\\"\\n\" +\n+    \"        },\\n\" +\n+    \"        \\\"children\\\" : [ ],\\n\" +\n+    \"        \\\"typeLayout\\\" : {\\n\" +\n+    \"          \\\"vectors\\\" : [ ]\\n\" +\n+    \"        },\\n\" +\n+    \"        \\\"name\\\" : \\\"$data$\\\"\\n\" +\n+    \"      } ],\\n\" +\n+    \"      \\\"typeLayout\\\" : {\\n\" +\n+    \"        \\\"vectors\\\" : [ {\\n\" +\n+    \"          \\\"type\\\" : \\\"VALIDITY\\\",\\n\" +\n+    \"          \\\"typeBitWidth\\\" : 1\\n\" +\n+    \"        } ]\\n\" +\n+    \"      },\\n\" +\n+    \"      \\\"name\\\" : \\\"fixedlist\\\"\\n\" +\n+    \"    } ],\\n\" +\n+    \"    \\\"typeLayout\\\" : {\\n\" +\n+    \"      \\\"vectors\\\" : [ {\\n\" +\n+    \"        \\\"type\\\" : \\\"VALIDITY\\\",\\n\" +\n+    \"        \\\"typeBitWidth\\\" : 1\\n\" +\n+    \"      } ]\\n\" +\n+    \"    },\\n\" +\n+    \"    \\\"name\\\" : \\\"a\\\"\\n\" +\n+    \"  } ]\\n\" +\n+    \"}\\n\";\n \n Review comment:\n   This is a large block that's very hard to read just to check the name of a field.  Is there a more compact way you can test this?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-27T20:49:06.296+0000",
                    "updated": "2017-10-27T20:49:06.296+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16227510",
                    "id": "16227510",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "yufeldman commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148121744\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestListVector.java\n ##########\n @@ -633,11 +633,11 @@ public void testGetBufferAddress() throws Exception {\n   public void testConsistentChildName() throws Exception {\n     try (ListVector listVector = ListVector.empty(\"sourceVector\", allocator)) {\n       String emptyListStr = listVector.getField().toString();\n-      assertTrue(emptyListStr.contains(ListVector.DATA_VECTOR_NAME));\n+      Assert.assertTrue(emptyListStr.contains(ListVector.DATA_VECTOR_NAME));\n \n-      listVector.addOrGetVector(FieldType.nullable(MinorType.INT.getType()));\n+      listVector.addOrGetVector(FieldType.nullable(Types.MinorType.INT.getType()));\n       String emptyVectorStr = listVector.getField().toString();\n-      assertTrue(emptyVectorStr.contains(ListVector.DATA_VECTOR_NAME));\n+      Assert.assertTrue(emptyVectorStr.contains(ListVector.DATA_VECTOR_NAME));\n \n Review comment:\n   done\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T20:43:31.855+0000",
                    "updated": "2017-10-31T20:43:31.855+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16227514",
                    "id": "16227514",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "yufeldman commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148121961\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n ##########\n @@ -48,6 +55,73 @@\n  */\n public class TestConvert {\n \n+  private static String badSchemaJson = \"{\\n\" +\n+    \"  \\\"fields\\\" : [ {\\n\" +\n+    \"    \\\"nullable\\\" : true,\\n\" +\n+    \"    \\\"type\\\" : {\\n\" +\n+    \"      \\\"name\\\" : \\\"struct\\\"\\n\" +\n+    \"    },\\n\" +\n+    \"    \\\"children\\\" : [ {\\n\" +\n+    \"      \\\"nullable\\\" : true,\\n\" +\n+    \"      \\\"type\\\" : {\\n\" +\n+    \"        \\\"name\\\" : \\\"list\\\"\\n\" +\n+    \"      },\\n\" +\n+    \"      \\\"children\\\" : [ {\\n\" +\n+    \"        \\\"nullable\\\" : true,\\n\" +\n+    \"        \\\"type\\\" : {\\n\" +\n+    \"          \\\"name\\\" : \\\"null\\\"\\n\" +\n+    \"        },\\n\" +\n+    \"        \\\"children\\\" : [ ],\\n\" +\n+    \"        \\\"typeLayout\\\" : {\\n\" +\n+    \"          \\\"vectors\\\" : [ ]\\n\" +\n+    \"        },\\n\" +\n+    \"        \\\"name\\\" : \\\"[DEFAULT]\\\"\\n\" +\n+    \"      } ],\\n\" +\n+    \"      \\\"typeLayout\\\" : {\\n\" +\n+    \"        \\\"vectors\\\" : [ {\\n\" +\n+    \"          \\\"type\\\" : \\\"VALIDITY\\\",\\n\" +\n+    \"          \\\"typeBitWidth\\\" : 1\\n\" +\n+    \"        }, {\\n\" +\n+    \"          \\\"type\\\" : \\\"OFFSET\\\",\\n\" +\n+    \"          \\\"typeBitWidth\\\" : 32\\n\" +\n+    \"        } ]\\n\" +\n+    \"      },\\n\" +\n+    \"      \\\"name\\\" : \\\"list\\\"\\n\" +\n+    \"    }, {\\n\" +\n+    \"      \\\"nullable\\\" : true,\\n\" +\n+    \"      \\\"type\\\" : {\\n\" +\n+    \"        \\\"name\\\" : \\\"fixedsizelist\\\",\\n\" +\n+    \"        \\\"listSize\\\" : 5\\n\" +\n+    \"      },\\n\" +\n+    \"      \\\"children\\\" : [ {\\n\" +\n+    \"        \\\"nullable\\\" : true,\\n\" +\n+    \"        \\\"type\\\" : {\\n\" +\n+    \"          \\\"name\\\" : \\\"null\\\"\\n\" +\n+    \"        },\\n\" +\n+    \"        \\\"children\\\" : [ ],\\n\" +\n+    \"        \\\"typeLayout\\\" : {\\n\" +\n+    \"          \\\"vectors\\\" : [ ]\\n\" +\n+    \"        },\\n\" +\n+    \"        \\\"name\\\" : \\\"$data$\\\"\\n\" +\n+    \"      } ],\\n\" +\n+    \"      \\\"typeLayout\\\" : {\\n\" +\n+    \"        \\\"vectors\\\" : [ {\\n\" +\n+    \"          \\\"type\\\" : \\\"VALIDITY\\\",\\n\" +\n+    \"          \\\"typeBitWidth\\\" : 1\\n\" +\n+    \"        } ]\\n\" +\n+    \"      },\\n\" +\n+    \"      \\\"name\\\" : \\\"fixedlist\\\"\\n\" +\n+    \"    } ],\\n\" +\n+    \"    \\\"typeLayout\\\" : {\\n\" +\n+    \"      \\\"vectors\\\" : [ {\\n\" +\n+    \"        \\\"type\\\" : \\\"VALIDITY\\\",\\n\" +\n+    \"        \\\"typeBitWidth\\\" : 1\\n\" +\n+    \"      } ]\\n\" +\n+    \"    },\\n\" +\n+    \"    \\\"name\\\" : \\\"a\\\"\\n\" +\n+    \"  } ]\\n\" +\n+    \"}\\n\";\n \n Review comment:\n   done\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T20:45:21.562+0000",
                    "updated": "2017-10-31T20:45:21.562+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16227515",
                    "id": "16227515",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "yufeldman commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148121837\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/ZeroVector.java\n ##########\n @@ -39,7 +41,7 @@\n public class ZeroVector implements FieldVector {\n   public final static ZeroVector INSTANCE = new ZeroVector();\n \n-  private final String name = \"[DEFAULT]\";\n+  public static final String NAME = \"[DEFAULT]\";\n \n Review comment:\n   done\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T20:45:21.635+0000",
                    "updated": "2017-10-31T20:45:21.635+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16236283",
                    "id": "16236283",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148615555\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/types/pojo/Field.java\n ##########\n @@ -47,6 +49,8 @@\n \n public class Field {\n \n+  public static final String ZEROVECTOR_OLD_NAME = \"[DEFAULT]\";\n \n Review comment:\n   Just move this directly into `mutateOriginalNameIfNeeded` and same with the tests, no need to make this a static variable in Field.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T18:05:21.407+0000",
                    "updated": "2017-11-02T18:05:21.407+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16236301",
                    "id": "16236301",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148617770\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n ##########\n @@ -65,6 +71,43 @@ public void complex() {\n   }\n \n   @Test\n+  public void list() throws Exception {\n+    ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         ListVector writeVector = ListVector.empty(\"list\", allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         FixedSizeListVector writeVector = FixedSizeListVector.empty(\"fixedlist\", 5, allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n \n Review comment:\n   What are these 2 try blocks testing for?  \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T18:13:08.887+0000",
                    "updated": "2017-11-02T18:13:08.887+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16236306",
                    "id": "16236306",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148617770\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n ##########\n @@ -65,6 +71,43 @@ public void complex() {\n   }\n \n   @Test\n+  public void list() throws Exception {\n+    ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         ListVector writeVector = ListVector.empty(\"list\", allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         FixedSizeListVector writeVector = FixedSizeListVector.empty(\"fixedlist\", 5, allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n \n Review comment:\n   What is the purpose of these 2 try blocks? can they be combined?  \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T18:14:53.937+0000",
                    "updated": "2017-11-02T18:14:53.937+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16236316",
                    "id": "16236316",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148619456\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n ##########\n @@ -65,6 +71,43 @@ public void complex() {\n   }\n \n   @Test\n+  public void list() throws Exception {\n+    ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         ListVector writeVector = ListVector.empty(\"list\", allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         FixedSizeListVector writeVector = FixedSizeListVector.empty(\"fixedlist\", 5, allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+\n+    Field initialField = new Field(\"a\", FieldType.nullable(Struct.INSTANCE), childrenBuilder.build());\n+    ImmutableList.Builder<Field> parentBuilder = ImmutableList.builder();\n+    parentBuilder.add(initialField);\n+    FlatBufferBuilder builder = new FlatBufferBuilder();\n+    builder.finish(initialField.getField(builder));\n+    org.apache.arrow.flatbuf.Field flatBufField = org.apache.arrow.flatbuf.Field.getRootAsField(builder.dataBuffer());\n+    Field finalField = Field.convertField(flatBufField);\n+    assertEquals(initialField, finalField);\n+    assertTrue(!finalField.toString().contains(Field.ZEROVECTOR_OLD_NAME));\n+\n+\n \n Review comment:\n   nit: remove 1 blank line\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T18:19:18.919+0000",
                    "updated": "2017-11-02T18:19:18.919+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16236321",
                    "id": "16236321",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148620235\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n ##########\n @@ -65,6 +71,43 @@ public void complex() {\n   }\n \n   @Test\n+  public void list() throws Exception {\n+    ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         ListVector writeVector = ListVector.empty(\"list\", allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         FixedSizeListVector writeVector = FixedSizeListVector.empty(\"fixedlist\", 5, allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+\n+    Field initialField = new Field(\"a\", FieldType.nullable(Struct.INSTANCE), childrenBuilder.build());\n+    ImmutableList.Builder<Field> parentBuilder = ImmutableList.builder();\n+    parentBuilder.add(initialField);\n+    FlatBufferBuilder builder = new FlatBufferBuilder();\n+    builder.finish(initialField.getField(builder));\n+    org.apache.arrow.flatbuf.Field flatBufField = org.apache.arrow.flatbuf.Field.getRootAsField(builder.dataBuffer());\n+    Field finalField = Field.convertField(flatBufField);\n+    assertEquals(initialField, finalField);\n+    assertTrue(!finalField.toString().contains(Field.ZEROVECTOR_OLD_NAME));\n \n Review comment:\n   change to `assertFalse`\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T18:21:56.443+0000",
                    "updated": "2017-11-02T18:21:56.443+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16236324",
                    "id": "16236324",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148620454\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n ##########\n @@ -65,6 +71,43 @@ public void complex() {\n   }\n \n   @Test\n+  public void list() throws Exception {\n+    ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         ListVector writeVector = ListVector.empty(\"list\", allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         FixedSizeListVector writeVector = FixedSizeListVector.empty(\"fixedlist\", 5, allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+\n+    Field initialField = new Field(\"a\", FieldType.nullable(Struct.INSTANCE), childrenBuilder.build());\n+    ImmutableList.Builder<Field> parentBuilder = ImmutableList.builder();\n+    parentBuilder.add(initialField);\n+    FlatBufferBuilder builder = new FlatBufferBuilder();\n+    builder.finish(initialField.getField(builder));\n+    org.apache.arrow.flatbuf.Field flatBufField = org.apache.arrow.flatbuf.Field.getRootAsField(builder.dataBuffer());\n+    Field finalField = Field.convertField(flatBufField);\n+    assertEquals(initialField, finalField);\n+    assertTrue(!finalField.toString().contains(Field.ZEROVECTOR_OLD_NAME));\n+\n+\n+    Schema initialSchema = new Schema(parentBuilder.build());\n+    String jsonSchema = initialSchema.toJson();\n+    String modifiedSchema = jsonSchema.replace(\"$data$\", \"[DEFAULT]\");\n+\n+    Schema tempSchema = Schema.fromJSON(modifiedSchema);\n+    FlatBufferBuilder schemaBuilder = new FlatBufferBuilder();\n+    org.apache.arrow.vector.types.pojo.Schema schema = new org.apache.arrow.vector.types.pojo.Schema(tempSchema.getFields());\n+    schemaBuilder.finish(schema.getSchema(schemaBuilder));\n+    Schema finalSchema = Schema.deserialize(ByteBuffer.wrap(schemaBuilder.sizedByteArray()));\n+    assertTrue(!finalSchema.toString().contains(Field.ZEROVECTOR_OLD_NAME));\n \n Review comment:\n   assertFalse instead\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T18:22:47.256+0000",
                    "updated": "2017-11-02T18:22:47.256+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16236330",
                    "id": "16236330",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148621202\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n ##########\n @@ -65,6 +71,43 @@ public void complex() {\n   }\n \n   @Test\n+  public void list() throws Exception {\n+    ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         ListVector writeVector = ListVector.empty(\"list\", allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         FixedSizeListVector writeVector = FixedSizeListVector.empty(\"fixedlist\", 5, allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+\n+    Field initialField = new Field(\"a\", FieldType.nullable(Struct.INSTANCE), childrenBuilder.build());\n+    ImmutableList.Builder<Field> parentBuilder = ImmutableList.builder();\n+    parentBuilder.add(initialField);\n \n Review comment:\n   is this `parentBuilder` used?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T18:25:20.466+0000",
                    "updated": "2017-11-02T18:25:20.466+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16236619",
                    "id": "16236619",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "yufeldman commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148664452\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/types/pojo/Field.java\n ##########\n @@ -47,6 +49,8 @@\n \n public class Field {\n \n+  public static final String ZEROVECTOR_OLD_NAME = \"[DEFAULT]\";\n \n Review comment:\n   mutateOriginalNameIfNeeded may be invoked many times. I understand that compiler will optimize it, but I am not sure it makes sense to multiply \"[DEFAULT]\". May be place to keep this const is not a great one, I would prefer to keep it in ZeroVector - at least it has some association with it.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T21:25:10.544+0000",
                    "updated": "2017-11-02T21:25:10.544+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16236620",
                    "id": "16236620",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "yufeldman commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148663701\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n ##########\n @@ -65,6 +71,43 @@ public void complex() {\n   }\n \n   @Test\n+  public void list() throws Exception {\n+    ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         ListVector writeVector = ListVector.empty(\"list\", allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         FixedSizeListVector writeVector = FixedSizeListVector.empty(\"fixedlist\", 5, allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+\n+    Field initialField = new Field(\"a\", FieldType.nullable(Struct.INSTANCE), childrenBuilder.build());\n+    ImmutableList.Builder<Field> parentBuilder = ImmutableList.builder();\n+    parentBuilder.add(initialField);\n \n Review comment:\n   further down to get initial schema\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T21:25:10.549+0000",
                    "updated": "2017-11-02T21:25:10.549+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16236621",
                    "id": "16236621",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "yufeldman commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148663769\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n ##########\n @@ -65,6 +71,43 @@ public void complex() {\n   }\n \n   @Test\n+  public void list() throws Exception {\n+    ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         ListVector writeVector = ListVector.empty(\"list\", allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         FixedSizeListVector writeVector = FixedSizeListVector.empty(\"fixedlist\", 5, allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+\n+    Field initialField = new Field(\"a\", FieldType.nullable(Struct.INSTANCE), childrenBuilder.build());\n+    ImmutableList.Builder<Field> parentBuilder = ImmutableList.builder();\n+    parentBuilder.add(initialField);\n+    FlatBufferBuilder builder = new FlatBufferBuilder();\n+    builder.finish(initialField.getField(builder));\n+    org.apache.arrow.flatbuf.Field flatBufField = org.apache.arrow.flatbuf.Field.getRootAsField(builder.dataBuffer());\n+    Field finalField = Field.convertField(flatBufField);\n+    assertEquals(initialField, finalField);\n+    assertTrue(!finalField.toString().contains(Field.ZEROVECTOR_OLD_NAME));\n+\n+\n+    Schema initialSchema = new Schema(parentBuilder.build());\n+    String jsonSchema = initialSchema.toJson();\n+    String modifiedSchema = jsonSchema.replace(\"$data$\", \"[DEFAULT]\");\n+\n+    Schema tempSchema = Schema.fromJSON(modifiedSchema);\n+    FlatBufferBuilder schemaBuilder = new FlatBufferBuilder();\n+    org.apache.arrow.vector.types.pojo.Schema schema = new org.apache.arrow.vector.types.pojo.Schema(tempSchema.getFields());\n+    schemaBuilder.finish(schema.getSchema(schemaBuilder));\n+    Schema finalSchema = Schema.deserialize(ByteBuffer.wrap(schemaBuilder.sizedByteArray()));\n+    assertTrue(!finalSchema.toString().contains(Field.ZEROVECTOR_OLD_NAME));\n \n Review comment:\n   ok\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T21:25:10.549+0000",
                    "updated": "2017-11-02T21:25:10.549+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16236622",
                    "id": "16236622",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "yufeldman commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148663575\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n ##########\n @@ -65,6 +71,43 @@ public void complex() {\n   }\n \n   @Test\n+  public void list() throws Exception {\n+    ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         ListVector writeVector = ListVector.empty(\"list\", allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         FixedSizeListVector writeVector = FixedSizeListVector.empty(\"fixedlist\", 5, allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n \n Review comment:\n   yes\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T21:25:10.558+0000",
                    "updated": "2017-11-02T21:25:10.558+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16236623",
                    "id": "16236623",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "yufeldman commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148663879\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n ##########\n @@ -65,6 +71,43 @@ public void complex() {\n   }\n \n   @Test\n+  public void list() throws Exception {\n+    ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         ListVector writeVector = ListVector.empty(\"list\", allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         FixedSizeListVector writeVector = FixedSizeListVector.empty(\"fixedlist\", 5, allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+\n+    Field initialField = new Field(\"a\", FieldType.nullable(Struct.INSTANCE), childrenBuilder.build());\n+    ImmutableList.Builder<Field> parentBuilder = ImmutableList.builder();\n+    parentBuilder.add(initialField);\n+    FlatBufferBuilder builder = new FlatBufferBuilder();\n+    builder.finish(initialField.getField(builder));\n+    org.apache.arrow.flatbuf.Field flatBufField = org.apache.arrow.flatbuf.Field.getRootAsField(builder.dataBuffer());\n+    Field finalField = Field.convertField(flatBufField);\n+    assertEquals(initialField, finalField);\n+    assertTrue(!finalField.toString().contains(Field.ZEROVECTOR_OLD_NAME));\n \n Review comment:\n   ok\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T21:25:10.561+0000",
                    "updated": "2017-11-02T21:25:10.561+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16236624",
                    "id": "16236624",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "yufeldman commented on a change in pull request #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#discussion_r148663739\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n ##########\n @@ -65,6 +71,43 @@ public void complex() {\n   }\n \n   @Test\n+  public void list() throws Exception {\n+    ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         ListVector writeVector = ListVector.empty(\"list\", allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         FixedSizeListVector writeVector = FixedSizeListVector.empty(\"fixedlist\", 5, allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+    }\n+\n+    Field initialField = new Field(\"a\", FieldType.nullable(Struct.INSTANCE), childrenBuilder.build());\n+    ImmutableList.Builder<Field> parentBuilder = ImmutableList.builder();\n+    parentBuilder.add(initialField);\n+    FlatBufferBuilder builder = new FlatBufferBuilder();\n+    builder.finish(initialField.getField(builder));\n+    org.apache.arrow.flatbuf.Field flatBufField = org.apache.arrow.flatbuf.Field.getRootAsField(builder.dataBuffer());\n+    Field finalField = Field.convertField(flatBufField);\n+    assertEquals(initialField, finalField);\n+    assertTrue(!finalField.toString().contains(Field.ZEROVECTOR_OLD_NAME));\n+\n+\n \n Review comment:\n   ok\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T21:25:10.638+0000",
                    "updated": "2017-11-02T21:25:10.638+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16239457",
                    "id": "16239457",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia commented on issue #1193: ARROW-1663: use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#issuecomment-341958581\n \n \n   Changes look good to me. I am assuming we have pre-tested the patch with Dremio.\r\n   Please prefix the PR title with [JAVA].\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-05T09:01:33.338+0000",
                    "updated": "2017-11-05T09:01:33.338+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16239775",
                    "id": "16239775",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1193: ARROW-1663: [Java] use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193#issuecomment-342016607\n \n \n   +1\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-05T23:56:10.813+0000",
                    "updated": "2017-11-05T23:56:10.813+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16239776",
                    "id": "16239776",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm closed pull request #1193: ARROW-1663: [Java] use consistent name for null and not-null in FixedSizeLis\u2026\nURL: https://github.com/apache/arrow/pull/1193\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/ZeroVector.java b/java/vector/src/main/java/org/apache/arrow/vector/ZeroVector.java\nindex b267b2087..5ac00375f 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/ZeroVector.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/ZeroVector.java\n@@ -18,6 +18,8 @@\n \n package org.apache.arrow.vector;\n \n+import static org.apache.arrow.vector.complex.BaseRepeatedValueVector.DATA_VECTOR_NAME;\n+\n import java.util.Collections;\n import java.util.Iterator;\n import java.util.List;\n@@ -39,8 +41,6 @@\n public class ZeroVector implements FieldVector {\n   public final static ZeroVector INSTANCE = new ZeroVector();\n \n-  private final String name = \"[DEFAULT]\";\n-\n   private final TransferPair defaultPair = new TransferPair() {\n     @Override\n     public void transfer() {\n@@ -109,7 +109,7 @@ public void clear() {\n \n   @Override\n   public Field getField() {\n-    return new Field(name, FieldType.nullable(new Null()), null);\n+    return new Field(DATA_VECTOR_NAME, FieldType.nullable(new Null()), null);\n   }\n \n   @Override\ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/complex/ListVector.java b/java/vector/src/main/java/org/apache/arrow/vector/complex/ListVector.java\nindex 6511efcb7..ea28a6061 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/complex/ListVector.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/complex/ListVector.java\n@@ -39,7 +39,6 @@\n import org.apache.arrow.vector.FieldVector;\n import org.apache.arrow.vector.UInt4Vector;\n import org.apache.arrow.vector.ValueVector;\n-import org.apache.arrow.vector.VarCharVector;\n import org.apache.arrow.vector.ZeroVector;\n import org.apache.arrow.vector.complex.impl.ComplexCopier;\n import org.apache.arrow.vector.complex.impl.UnionListReader;\n@@ -49,7 +48,6 @@\n import org.apache.arrow.vector.schema.ArrowFieldNode;\n import org.apache.arrow.vector.types.Types.MinorType;\n import org.apache.arrow.vector.types.pojo.ArrowType;\n-import org.apache.arrow.vector.types.pojo.ArrowType.Null;\n import org.apache.arrow.vector.types.pojo.DictionaryEncoding;\n import org.apache.arrow.vector.types.pojo.Field;\n import org.apache.arrow.vector.types.pojo.FieldType;\n@@ -324,9 +322,6 @@ public int getBufferSize() {\n \n   @Override\n   public Field getField() {\n-    if (getDataVector() instanceof ZeroVector) {\n-      return new Field(name, fieldType, ImmutableList.of(new Field(DATA_VECTOR_NAME, FieldType.nullable(Null.INSTANCE), null)));\n-    }\n     return new Field(name, fieldType, ImmutableList.of(getDataVector().getField()));\n   }\n \ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/types/pojo/Field.java b/java/vector/src/main/java/org/apache/arrow/vector/types/pojo/Field.java\nindex 48e71a976..eba149bf7 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/types/pojo/Field.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/types/pojo/Field.java\n@@ -20,6 +20,7 @@\n \n \n import static com.google.common.base.Preconditions.checkNotNull;\n+import static org.apache.arrow.vector.complex.BaseRepeatedValueVector.DATA_VECTOR_NAME;\n import static org.apache.arrow.vector.types.pojo.ArrowType.getTypeForField;\n \n import java.util.Iterator;\n@@ -39,6 +40,7 @@\n import com.google.flatbuffers.FlatBufferBuilder;\n \n import org.apache.arrow.flatbuf.KeyValue;\n+import org.apache.arrow.flatbuf.Type;\n import org.apache.arrow.memory.BufferAllocator;\n import org.apache.arrow.vector.FieldVector;\n import org.apache.arrow.vector.schema.TypeLayout;\n@@ -121,7 +123,9 @@ public static Field convertField(org.apache.arrow.flatbuf.Field field) {\n     }\n     ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n     for (int i = 0; i < field.childrenLength(); i++) {\n-      childrenBuilder.add(convertField(field.children(i)));\n+      Field childField = convertField(field.children(i));\n+      childField = mutateOriginalNameIfNeeded(field, childField);\n+      childrenBuilder.add(childField);\n     }\n     List<Field> children = childrenBuilder.build();\n     ImmutableMap.Builder<String, String> metadataBuilder = ImmutableMap.builder();\n@@ -134,6 +138,27 @@ public static Field convertField(org.apache.arrow.flatbuf.Field field) {\n     return new Field(name, nullable, type, dictionary, children, new TypeLayout(layout.build()), metadata);\n   }\n \n+  /**\n+   * Helper method to ensure backward compatibility with schemas generated prior to ARROW-1347, ARROW-1663\n+   * @param field\n+   * @param originalChildField original field which name might be mutated\n+   * @return original or mutated field\n+   */\n+  private static Field mutateOriginalNameIfNeeded(org.apache.arrow.flatbuf.Field field, Field originalChildField) {\n+    if ((field.typeType() == Type.List || field.typeType() == Type.FixedSizeList)\n+        && originalChildField.getName().equals(\"[DEFAULT]\")) {\n+      return\n+        new Field(DATA_VECTOR_NAME,\n+          originalChildField.isNullable(),\n+          originalChildField.getType(),\n+          originalChildField.getDictionary(),\n+          originalChildField.getChildren(),\n+          originalChildField.getTypeLayout(),\n+          originalChildField.getMetadata());\n+    }\n+    return originalChildField;\n+  }\n+\n   public void validate() {\n     TypeLayout expectedLayout = TypeLayout.getTypeLayout(getType());\n     if (!expectedLayout.equals(typeLayout)) {\ndiff --git a/java/vector/src/test/java/org/apache/arrow/vector/TestFixedSizeListVector.java b/java/vector/src/test/java/org/apache/arrow/vector/TestFixedSizeListVector.java\nindex 5677f2566..43d9387b1 100644\n--- a/java/vector/src/test/java/org/apache/arrow/vector/TestFixedSizeListVector.java\n+++ b/java/vector/src/test/java/org/apache/arrow/vector/TestFixedSizeListVector.java\n@@ -26,6 +26,7 @@\n import org.apache.arrow.vector.complex.impl.UnionFixedSizeListReader;\n import org.apache.arrow.vector.complex.impl.UnionListReader;\n import org.apache.arrow.vector.complex.reader.FieldReader;\n+import org.apache.arrow.vector.types.Types;\n import org.apache.arrow.vector.types.Types.MinorType;\n import org.apache.arrow.vector.types.pojo.ArrowType;\n import org.apache.arrow.vector.types.pojo.FieldType;\n@@ -220,4 +221,17 @@ public void testTransferPair() {\n       }\n     }\n   }\n+\n+  @Test\n+  public void testConsistentChildName() throws Exception {\n+    try (FixedSizeListVector listVector = FixedSizeListVector.empty(\"sourceVector\", 2, allocator)) {\n+      String emptyListStr = listVector.getField().toString();\n+      Assert.assertTrue(emptyListStr.contains(ListVector.DATA_VECTOR_NAME));\n+\n+      listVector.addOrGetVector(FieldType.nullable(Types.MinorType.INT.getType()));\n+      String emptyVectorStr = listVector.getField().toString();\n+      Assert.assertTrue(emptyVectorStr.contains(ListVector.DATA_VECTOR_NAME));\n+    }\n+  }\n+\n }\ndiff --git a/java/vector/src/test/java/org/apache/arrow/vector/TestListVector.java b/java/vector/src/test/java/org/apache/arrow/vector/TestListVector.java\nindex 1c9b57499..59e1646e8 100644\n--- a/java/vector/src/test/java/org/apache/arrow/vector/TestListVector.java\n+++ b/java/vector/src/test/java/org/apache/arrow/vector/TestListVector.java\n@@ -26,12 +26,9 @@\n import org.apache.arrow.memory.BufferAllocator;\n import org.apache.arrow.vector.complex.ListVector;\n import org.apache.arrow.vector.complex.impl.UnionListWriter;\n-import org.apache.arrow.vector.complex.impl.UnionListReader;\n import org.apache.arrow.vector.complex.reader.FieldReader;\n-import org.apache.arrow.vector.complex.writer.FieldWriter;\n-import org.apache.arrow.vector.holders.NullableBigIntHolder;\n import org.apache.arrow.vector.types.Types;\n-import org.apache.arrow.vector.types.Types.*;\n+import org.apache.arrow.vector.types.Types.MinorType;\n import org.apache.arrow.vector.types.pojo.FieldType;\n import org.apache.arrow.vector.util.TransferPair;\n import org.junit.After;\n@@ -635,7 +632,7 @@ public void testConsistentChildName() throws Exception {\n       String emptyListStr = listVector.getField().toString();\n       assertTrue(emptyListStr.contains(ListVector.DATA_VECTOR_NAME));\n \n-      listVector.addOrGetVector(FieldType.nullable(MinorType.INT.getType()));\n+      listVector.addOrGetVector(FieldType.nullable(Types.MinorType.INT.getType()));\n       String emptyVectorStr = listVector.getField().toString();\n       assertTrue(emptyVectorStr.contains(ListVector.DATA_VECTOR_NAME));\n     }\ndiff --git a/java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java b/java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\nindex f98aeac8c..f6f1ad221 100644\n--- a/java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n+++ b/java/vector/src/test/java/org/apache/arrow/vector/pojo/TestConvert.java\n@@ -21,13 +21,19 @@\n import static org.apache.arrow.vector.types.FloatingPointPrecision.DOUBLE;\n import static org.apache.arrow.vector.types.FloatingPointPrecision.SINGLE;\n import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n \n+import java.nio.ByteBuffer;\n import java.util.HashMap;\n import java.util.Map;\n \n import com.google.common.collect.ImmutableList;\n import com.google.flatbuffers.FlatBufferBuilder;\n \n+import org.apache.arrow.memory.BufferAllocator;\n+import org.apache.arrow.memory.RootAllocator;\n+import org.apache.arrow.vector.complex.FixedSizeListVector;\n+import org.apache.arrow.vector.complex.ListVector;\n import org.apache.arrow.vector.types.TimeUnit;\n import org.apache.arrow.vector.types.Types.MinorType;\n import org.apache.arrow.vector.types.UnionMode;\n@@ -65,6 +71,40 @@ public void complex() {\n   }\n \n   @Test\n+  public void list() throws Exception {\n+    ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n+    try (BufferAllocator allocator = new RootAllocator(Long.MAX_VALUE);\n+         ListVector writeVector = ListVector.empty(\"list\", allocator);\n+         FixedSizeListVector writeFixedVector = FixedSizeListVector.empty(\"fixedlist\", 5, allocator)) {\n+      Field listVectorField = writeVector.getField();\n+      childrenBuilder.add(listVectorField);\n+      Field listFixedVectorField = writeFixedVector.getField();\n+      childrenBuilder.add(listFixedVectorField);\n+    }\n+\n+    Field initialField = new Field(\"a\", FieldType.nullable(Struct.INSTANCE), childrenBuilder.build());\n+    ImmutableList.Builder<Field> parentBuilder = ImmutableList.builder();\n+    parentBuilder.add(initialField);\n+    FlatBufferBuilder builder = new FlatBufferBuilder();\n+    builder.finish(initialField.getField(builder));\n+    org.apache.arrow.flatbuf.Field flatBufField = org.apache.arrow.flatbuf.Field.getRootAsField(builder.dataBuffer());\n+    Field finalField = Field.convertField(flatBufField);\n+    assertEquals(initialField, finalField);\n+    assertFalse(finalField.toString().contains(\"[DEFAULT]\"));\n+\n+    Schema initialSchema = new Schema(parentBuilder.build());\n+    String jsonSchema = initialSchema.toJson();\n+    String modifiedSchema = jsonSchema.replace(\"$data$\", \"[DEFAULT]\");\n+\n+    Schema tempSchema = Schema.fromJSON(modifiedSchema);\n+    FlatBufferBuilder schemaBuilder = new FlatBufferBuilder();\n+    org.apache.arrow.vector.types.pojo.Schema schema = new org.apache.arrow.vector.types.pojo.Schema(tempSchema.getFields());\n+    schemaBuilder.finish(schema.getSchema(schemaBuilder));\n+    Schema finalSchema = Schema.deserialize(ByteBuffer.wrap(schemaBuilder.sizedByteArray()));\n+    assertFalse(finalSchema.toString().contains(\"[DEFAULT]\"));\n+  }\n+\n+  @Test\n   public void schema() {\n     ImmutableList.Builder<Field> childrenBuilder = ImmutableList.builder();\n     childrenBuilder.add(new Field(\"child1\", FieldType.nullable(Utf8.INSTANCE), null));\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-05T23:57:21.434+0000",
                    "updated": "2017-11-05T23:57:21.434+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13108468/comment/16239777",
                    "id": "16239777",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 1193\n[https://github.com/apache/arrow/pull/1193]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2017-11-05T23:57:46.229+0000",
                    "updated": "2017-11-05T23:57:46.229+0000"
                }
            ],
            "maxResults": 33,
            "total": 33,
            "startAt": 0
        },
        "customfield_12311820": "0|i3l42f:",
        "customfield_12314139": null
    }
}