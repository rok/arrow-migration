{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13043661",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661",
    "key": "ARROW-564",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12342562",
                "id": "12342562",
                "description": "",
                "name": "0.10.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-08-06"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "beginner",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12570152",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12570152",
                "type": {
                    "id": "12310000",
                    "name": "Duplicate",
                    "inward": "is duplicated by",
                    "outward": "duplicates",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"
                },
                "inwardIssue": {
                    "id": "13143970",
                    "key": "ARROW-2295",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13143970",
                    "fields": {
                        "summary": "[Python] Add Array.to_numpy functions",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
                            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
                            "name": "Closed",
                            "id": "6",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
                            "name": "Minor",
                            "id": "4"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            },
            {
                "id": "12538641",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12538641",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13172245",
                    "key": "ARROW-2853",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13172245",
                    "fields": {
                        "summary": "[Python] Implementing support for zero copy NumPy arrays in libarrow_python",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
                            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
                            "name": "Closed",
                            "id": "6",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=frg",
            "name": "frg",
            "key": "frg",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Florian Rathgeber",
            "active": true,
            "timeZone": "Europe/London"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 12000,
            "total": 12000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 12000,
            "total": 12000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-564/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 20,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/103098",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #1931: ARROW-564 [Python]: Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r189090261\n \n \n\n ##########\n File path: python/pyarrow/array.pxi\n ##########\n @@ -524,6 +528,20 @@ cdef class Array:\n                                               self, &out))\n         return wrap_array_output(out)\n \n+    def to_numpy(self):\n+        \"\"\"\n+        Convert to a NumPy array\n+        \"\"\"\n+        if self.null_count:\n+            raise NotImplementedError('NumPy array conversion is only '\n+                                      'supported for arrays without nulls.')\n+        if not is_primitive(self.type.id):\n+            raise NotImplementedError('NumPy array conversion is only '\n+                                      'supported for primitive types.')\n+        buflist = self.buffers()\n+        return np.frombuffer(buflist[-1], dtype=self.type.to_pandas_dtype())[\n+            self.offset:self.offset + len(self)]\n \n Review comment:\n   This feels like a temporary workaround. If we accept this patch, can you open a JIRA about implementing this in libarrow_python (i.e. in C++) where we can utilize common code paths with `to_pandas` and toggle between NumPy-for-pandas and NumPy-for-NumPy behavior (and use the zero_copy_only flag where needed)?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-17T20:26:43.168+0000",
                    "updated": "2018-05-17T20:26:43.168+0000",
                    "started": "2018-05-17T20:26:43.167+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "103098",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/123383",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kynan commented on a change in pull request #1931: ARROW-564: [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r202537497\n \n \n\n ##########\n File path: python/pyarrow/tests/test_array.py\n ##########\n @@ -83,6 +83,33 @@ def test_long_array_format():\n     assert result == expected\n \n \n+def test_to_numpy_zero_copy():\n+    import gc\n+\n+    arr = pa.array(range(10))\n+\n+    for i in range(10):\n+        np_arr = arr.to_numpy()\n+        assert sys.getrefcount(np_arr) == 2\n+        np_arr = None  # noqa\n+\n+    assert sys.getrefcount(arr) == 2\n \n Review comment:\n   Done\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-15T10:09:27.452+0000",
                    "updated": "2018-07-15T10:09:27.452+0000",
                    "started": "2018-07-15T10:09:27.451+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "123383",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/123384",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kynan commented on a change in pull request #1931: ARROW-564: [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r202537505\n \n \n\n ##########\n File path: python/pyarrow/tests/test_array.py\n ##########\n @@ -83,6 +83,33 @@ def test_long_array_format():\n     assert result == expected\n \n \n+def test_to_numpy_zero_copy():\n+    import gc\n+\n+    arr = pa.array(range(10))\n+\n+    for i in range(10):\n+        np_arr = arr.to_numpy()\n+        assert sys.getrefcount(np_arr) == 2\n+        np_arr = None  # noqa\n+\n+    assert sys.getrefcount(arr) == 2\n+\n+    for i in range(10):\n+        arr = pa.array(range(10))\n+        np_arr = arr.to_numpy()\n+        arr = None\n+        gc.collect()\n+\n+        # Ensure base is still valid\n \n Review comment:\n   Done\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-15T10:09:42.101+0000",
                    "updated": "2018-07-15T10:09:42.101+0000",
                    "started": "2018-07-15T10:09:42.100+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "123384",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/123385",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kynan commented on a change in pull request #1931: ARROW-564: [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r202537510\n \n \n\n ##########\n File path: python/pyarrow/tests/test_array.py\n ##########\n @@ -577,6 +604,31 @@ def test_simple_type_construction():\n         str(result)\n \n \n+@pytest.mark.parametrize(\n+    'narr',\n+    [\n+        np.arange(10, dtype=np.int64),\n+        np.arange(10, dtype=np.int32),\n+        np.arange(10, dtype=np.int16),\n+        np.arange(10, dtype=np.int8),\n+        np.arange(10, dtype=np.uint64),\n+        np.arange(10, dtype=np.uint32),\n+        np.arange(10, dtype=np.uint16),\n+        np.arange(10, dtype=np.uint8),\n+        np.arange(10, dtype=np.float64),\n+        np.arange(10, dtype=np.float32),\n+        np.arange(10, dtype=np.float16),\n+    ]\n+)\n+def test_to_numpy_roundtrip(narr):\n+    arr = pa.array(narr)\n+    assert narr.dtype == arr.to_numpy().dtype\n+    assert np.array_equal(narr, arr.to_numpy())\n \n Review comment:\n   Done\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-15T10:09:48.988+0000",
                    "updated": "2018-07-15T10:09:48.988+0000",
                    "started": "2018-07-15T10:09:48.988+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "123385",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/123386",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kynan commented on a change in pull request #1931: ARROW-564: [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r202537530\n \n \n\n ##########\n File path: python/pyarrow/tests/test_array.py\n ##########\n @@ -83,6 +83,33 @@ def test_long_array_format():\n     assert result == expected\n \n \n+def test_to_numpy_zero_copy():\n \n Review comment:\n   This was based on `test_to_pandas_zero_copy` below. I've changed it according to your suggestions (which do make a lot more sense).\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-15T10:10:43.410+0000",
                    "updated": "2018-07-15T10:10:43.410+0000",
                    "started": "2018-07-15T10:10:43.410+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "123386",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/123388",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kynan commented on a change in pull request #1931: ARROW-564: [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r202537860\n \n \n\n ##########\n File path: python/pyarrow/array.pxi\n ##########\n @@ -524,6 +528,20 @@ cdef class Array:\n                                               self, &out))\n         return wrap_array_output(out)\n \n+    def to_numpy(self):\n+        \"\"\"\n+        Convert to a NumPy array\n+        \"\"\"\n+        if self.null_count:\n+            raise NotImplementedError('NumPy array conversion is only '\n+                                      'supported for arrays without nulls.')\n+        if not is_primitive(self.type.id):\n+            raise NotImplementedError('NumPy array conversion is only '\n+                                      'supported for primitive types.')\n+        buflist = self.buffers()\n+        return np.frombuffer(buflist[-1], dtype=self.type.to_pandas_dtype())[\n+            self.offset:self.offset + len(self)]\n \n Review comment:\n   Done: [ARROW-2853](https://issues.apache.org/jira/browse/ARROW-2853)\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-15T10:22:52.478+0000",
                    "updated": "2018-07-15T10:22:52.478+0000",
                    "started": "2018-07-15T10:22:52.477+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "123388",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/123551",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #1931: ARROW-564: [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r202621122\n \n \n\n ##########\n File path: python/pyarrow/array.pxi\n ##########\n @@ -599,6 +599,20 @@ cdef class Array:\n                                               self, &out))\n         return wrap_array_output(out)\n \n+    def to_numpy(self):\n+        \"\"\"\n+        Convert to a NumPy array\n+        \"\"\"\n+        if self.null_count:\n+            raise NotImplementedError('NumPy array conversion is only '\n+                                      'supported for arrays without nulls.')\n+        if not is_primitive(self.type.id):\n+            raise NotImplementedError('NumPy array conversion is only '\n+                                      'supported for primitive types.')\n+        buflist = self.buffers()\n+        return np.frombuffer(buflist[-1], dtype=self.type.to_pandas_dtype())[\n \n Review comment:\n   Should we assert something about `len(buflist)` here?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-16T09:30:26.965+0000",
                    "updated": "2018-07-16T09:30:26.965+0000",
                    "started": "2018-07-16T09:30:26.964+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "123551",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/123552",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #1931: ARROW-564: [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r202621625\n \n \n\n ##########\n File path: python/pyarrow/tests/test_array.py\n ##########\n @@ -87,6 +87,24 @@ def test_long_array_format():\n     assert result == expected\n \n \n+def test_to_numpy_zero_copy():\n+    arr = pa.array(range(10))\n+    old_refcount = sys.getrefcount(arr)\n+\n+    np_arr = arr.to_numpy()\n+    np_arr[0] = 1\n+    assert arr[0] == 1\n+\n+    assert sys.getrefcount(arr) == old_refcount\n+\n+    arr = None\n+    import gc\n+    gc.collect()\n+\n+    # Ensure base is still valid\n \n Review comment:\n   Can you check the whole array contents here?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-16T09:30:27.074+0000",
                    "updated": "2018-07-16T09:30:27.074+0000",
                    "started": "2018-07-16T09:30:27.073+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "123552",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/123553",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #1931: ARROW-564: [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r202620986\n \n \n\n ##########\n File path: python/pyarrow/array.pxi\n ##########\n @@ -599,6 +599,20 @@ cdef class Array:\n                                               self, &out))\n         return wrap_array_output(out)\n \n+    def to_numpy(self):\n+        \"\"\"\n+        Convert to a NumPy array\n \n Review comment:\n   The docstring should mention the zero-copy nature. For example \"Construct a Numpy view of this array\".\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-16T09:30:27.083+0000",
                    "updated": "2018-07-16T09:30:27.083+0000",
                    "started": "2018-07-16T09:30:27.082+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "123553",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/123797",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kynan commented on a change in pull request #1931: ARROW-564: [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r202839731\n \n \n\n ##########\n File path: python/pyarrow/array.pxi\n ##########\n @@ -599,6 +599,20 @@ cdef class Array:\n                                               self, &out))\n         return wrap_array_output(out)\n \n+    def to_numpy(self):\n+        \"\"\"\n+        Convert to a NumPy array\n \n Review comment:\n   Done\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-16T22:05:33.520+0000",
                    "updated": "2018-07-16T22:05:33.520+0000",
                    "started": "2018-07-16T22:05:33.520+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "123797",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/123798",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kynan commented on a change in pull request #1931: ARROW-564: [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r202840142\n \n \n\n ##########\n File path: python/pyarrow/array.pxi\n ##########\n @@ -599,6 +599,20 @@ cdef class Array:\n                                               self, &out))\n         return wrap_array_output(out)\n \n+    def to_numpy(self):\n+        \"\"\"\n+        Convert to a NumPy array\n+        \"\"\"\n+        if self.null_count:\n+            raise NotImplementedError('NumPy array conversion is only '\n+                                      'supported for arrays without nulls.')\n+        if not is_primitive(self.type.id):\n+            raise NotImplementedError('NumPy array conversion is only '\n+                                      'supported for primitive types.')\n+        buflist = self.buffers()\n+        return np.frombuffer(buflist[-1], dtype=self.type.to_pandas_dtype())[\n \n Review comment:\n   Done\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-16T22:07:35.248+0000",
                    "updated": "2018-07-16T22:07:35.248+0000",
                    "started": "2018-07-16T22:07:35.247+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "123798",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/123850",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kynan commented on a change in pull request #1931: ARROW-564: [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r202852908\n \n \n\n ##########\n File path: python/pyarrow/tests/test_array.py\n ##########\n @@ -87,6 +87,24 @@ def test_long_array_format():\n     assert result == expected\n \n \n+def test_to_numpy_zero_copy():\n+    arr = pa.array(range(10))\n+    old_refcount = sys.getrefcount(arr)\n+\n+    np_arr = arr.to_numpy()\n+    np_arr[0] = 1\n+    assert arr[0] == 1\n+\n+    assert sys.getrefcount(arr) == old_refcount\n+\n+    arr = None\n+    import gc\n+    gc.collect()\n+\n+    # Ensure base is still valid\n \n Review comment:\n   Done\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-16T23:11:44.725+0000",
                    "updated": "2018-07-16T23:11:44.725+0000",
                    "started": "2018-07-16T23:11:44.724+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "123850",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/124004",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #1931: ARROW-564: [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r202925928\n \n \n\n ##########\n File path: python/pyarrow/array.pxi\n ##########\n @@ -599,6 +599,20 @@ cdef class Array:\n                                               self, &out))\n         return wrap_array_output(out)\n \n+    def to_numpy(self):\n+        \"\"\"\n+        Convert to a NumPy array\n+        \"\"\"\n+        if self.null_count:\n+            raise NotImplementedError('NumPy array conversion is only '\n+                                      'supported for arrays without nulls.')\n+        if not is_primitive(self.type.id):\n+            raise NotImplementedError('NumPy array conversion is only '\n+                                      'supported for primitive types.')\n+        buflist = self.buffers()\n+        return np.frombuffer(buflist[-1], dtype=self.type.to_pandas_dtype())[\n \n Review comment:\n   I was thinking `len(buflist) == 2` actually.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-17T07:58:27.989+0000",
                    "updated": "2018-07-17T07:58:27.989+0000",
                    "started": "2018-07-17T07:58:27.988+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "124004",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/124110",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou closed pull request #1931: ARROW-564: [Python] Add Array.to_numpy()\nURL: https://github.com/apache/arrow/pull/1931\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/python/pyarrow/array.pxi b/python/pyarrow/array.pxi\nindex 9d14e1edda..34437c0096 100644\n--- a/python/pyarrow/array.pxi\n+++ b/python/pyarrow/array.pxi\n@@ -599,6 +599,21 @@ cdef class Array:\n                                               self, &out))\n         return wrap_array_output(out)\n \n+    def to_numpy(self):\n+        \"\"\"\n+        Construct a NumPy view of this array\n+        \"\"\"\n+        if self.null_count:\n+            raise NotImplementedError('NumPy array view is only supported '\n+                                      'for arrays without nulls.')\n+        if not is_primitive(self.type.id):\n+            raise NotImplementedError('NumPy array view is only supported '\n+                                      'for primitive types.')\n+        buflist = self.buffers()\n+        assert len(buflist) == 2\n+        return np.frombuffer(buflist[-1], dtype=self.type.to_pandas_dtype())[\n+            self.offset:self.offset + len(self)]\n+\n     def to_pylist(self):\n         \"\"\"\n         Convert to an list of native Python objects.\ndiff --git a/python/pyarrow/tests/test_array.py b/python/pyarrow/tests/test_array.py\nindex a0b1a51a6b..55874d2cf9 100644\n--- a/python/pyarrow/tests/test_array.py\n+++ b/python/pyarrow/tests/test_array.py\n@@ -87,6 +87,27 @@ def test_long_array_format():\n     assert result == expected\n \n \n+def test_to_numpy_zero_copy():\n+    arr = pa.array(range(10))\n+    old_refcount = sys.getrefcount(arr)\n+\n+    np_arr = arr.to_numpy()\n+    np_arr[0] = 1\n+    assert arr[0] == 1\n+\n+    assert sys.getrefcount(arr) == old_refcount\n+\n+    arr = None\n+    import gc\n+    gc.collect()\n+\n+    # Ensure base is still valid\n+    assert np_arr.base is not None\n+    expected = np.arange(10)\n+    expected[0] = 1\n+    np.testing.assert_array_equal(np_arr, expected)\n+\n+\n def test_to_pandas_zero_copy():\n     import gc\n \n@@ -609,6 +630,31 @@ def test_array_pickle(data, typ):\n     assert array.equals(result)\n \n \n+@pytest.mark.parametrize(\n+    'narr',\n+    [\n+        np.arange(10, dtype=np.int64),\n+        np.arange(10, dtype=np.int32),\n+        np.arange(10, dtype=np.int16),\n+        np.arange(10, dtype=np.int8),\n+        np.arange(10, dtype=np.uint64),\n+        np.arange(10, dtype=np.uint32),\n+        np.arange(10, dtype=np.uint16),\n+        np.arange(10, dtype=np.uint8),\n+        np.arange(10, dtype=np.float64),\n+        np.arange(10, dtype=np.float32),\n+        np.arange(10, dtype=np.float16),\n+    ]\n+)\n+def test_to_numpy_roundtrip(narr):\n+    arr = pa.array(narr)\n+    assert narr.dtype == arr.to_numpy().dtype\n+    np.testing.assert_array_equal(narr, arr.to_numpy())\n+    np.testing.assert_array_equal(narr[:6], arr[:6].to_numpy())\n+    np.testing.assert_array_equal(narr[2:], arr[2:].to_numpy())\n+    np.testing.assert_array_equal(narr[2:6], arr[2:6].to_numpy())\n+\n+\n @pytest.mark.parametrize(\n     ('type', 'expected'),\n     [\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-17T15:39:39.394+0000",
                    "updated": "2018-07-17T15:39:39.394+0000",
                    "started": "2018-07-17T15:39:39.393+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "124110",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/124111",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #1931: ARROW-564: [Python] Add Array.to_numpy()\nURL: https://github.com/apache/arrow/pull/1931#issuecomment-405628194\n \n \n   @kynan, thanks for your contribution! Can you open a JIRA account at https://issues.apache.org so that we can assign the issue to you?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-17T15:40:53.124+0000",
                    "updated": "2018-07-17T15:40:53.124+0000",
                    "started": "2018-07-17T15:40:53.124+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "124111",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/124188",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #1931: ARROW-564: [Python] Add Array.to_numpy()\nURL: https://github.com/apache/arrow/pull/1931#discussion_r203150249\n \n \n\n ##########\n File path: python/pyarrow/array.pxi\n ##########\n @@ -599,6 +599,21 @@ cdef class Array:\n                                               self, &out))\n         return wrap_array_output(out)\n \n+    def to_numpy(self):\n+        \"\"\"\n+        Construct a NumPy view of this array\n+        \"\"\"\n+        if self.null_count:\n+            raise NotImplementedError('NumPy array view is only supported '\n+                                      'for arrays without nulls.')\n+        if not is_primitive(self.type.id):\n+            raise NotImplementedError('NumPy array view is only supported '\n+                                      'for primitive types.')\n+        buflist = self.buffers()\n+        assert len(buflist) == 2\n+        return np.frombuffer(buflist[-1], dtype=self.type.to_pandas_dtype())[\n+            self.offset:self.offset + len(self)]\n \n Review comment:\n   This won't work on booleans, which are considered primitive by `is_primitive`. I'll write a quick patch to test/fix\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-17T19:29:24.384+0000",
                    "updated": "2018-07-17T19:29:24.384+0000",
                    "started": "2018-07-17T19:29:24.383+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "124188",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/124189",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #1931: ARROW-564: [Python] Add Array.to_numpy()\nURL: https://github.com/apache/arrow/pull/1931#issuecomment-405700778\n \n \n   I opened https://issues.apache.org/jira/browse/ARROW-2869 about adding some Sphinx documentation for this\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-17T19:31:08.589+0000",
                    "updated": "2018-07-17T19:31:08.589+0000",
                    "started": "2018-07-17T19:31:08.588+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "124189",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/124190",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #1931: ARROW-564: [Python] Add Array.to_numpy()\nURL: https://github.com/apache/arrow/pull/1931#issuecomment-405702254\n \n \n   Unfortunately, this patch does not satisfy the scope of ARROW-564. I will open a new JIRA to assert the desired API re: nulls\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-17T19:36:38.089+0000",
                    "updated": "2018-07-17T19:36:38.089+0000",
                    "started": "2018-07-17T19:36:38.089+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "124190",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/124191",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #1931: ARROW-564: [Python] Add Array.to_numpy()\nURL: https://github.com/apache/arrow/pull/1931#issuecomment-405702651\n \n \n   See https://issues.apache.org/jira/browse/ARROW-2870\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-17T19:38:12.243+0000",
                    "updated": "2018-07-17T19:38:12.243+0000",
                    "started": "2018-07-17T19:38:12.243+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "124191",
                    "issueId": "13043661"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/worklog/124222",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kynan commented on issue #1931: ARROW-564: [Python] Add Array.to_numpy()\nURL: https://github.com/apache/arrow/pull/1931#issuecomment-405739419\n \n \n   @pitrou I have an account on Apache JIRA (different user name though, seems you found it).\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-17T21:48:51.095+0000",
                    "updated": "2018-07-17T21:48:51.095+0000",
                    "started": "2018-07-17T21:48:51.095+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "124222",
                    "issueId": "13043661"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 12000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@3fe4e25c[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@25009875[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@179b8428[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@3679659e[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@16b732d8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@32eae837[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@791b9086[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@4335fae[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2bbd8c02[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@4e736212[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6b4944fa[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@7519a812[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 12000,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Jul 17 15:39:42 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-07-17T15:39:42.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-564/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2017-02-16T14:39:58.000+0000",
        "updated": "2019-09-18T14:56:12.000+0000",
        "timeoriginalestimate": null,
        "description": "At the moment, for {{pyarrow.Array}} instances, we have a method called {{to_pandas}}. While this method returns NumPy Arrays, it returns them in the form that Pandas would use them in its {{Series}}. The difference here is visible for example in the case of integers with null values. For Pandas, we convert it into a float array and set all entries to NaN where we have null entries in the Arrow array. For vanilla NumPy arrays, we would return a tuple of a valid bytemap (not bitmap!) and a values array. The values array in this case should simply be a view on the underlying Arrow buffer.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "3h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 12000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python] Add methods to return vanilla NumPy arrays (plus boolean mask array if there are nulls)",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/comment/16447212",
                    "id": "16447212",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "kynan opened a new pull request #1931: ARROW-564 [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931\n \n \n   Depends on the in-flight pull request for ARROW-2491\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-22T11:30:52.398+0000",
                    "updated": "2018-04-22T11:30:52.398+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/comment/16447725",
                    "id": "16447725",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pitrou commented on a change in pull request #1931: ARROW-564 [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r183307671\n \n \n\n ##########\n File path: python/pyarrow/tests/test_array.py\n ##########\n @@ -83,6 +83,33 @@ def test_long_array_format():\n     assert result == expected\n \n \n+def test_to_numpy_zero_copy():\n+    import gc\n+\n+    arr = pa.array(range(10))\n+\n+    for i in range(10):\n \n Review comment:\n   Why do you loop 10 times?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-23T08:21:08.579+0000",
                    "updated": "2018-04-23T08:21:08.579+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/comment/16447726",
                    "id": "16447726",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pitrou commented on a change in pull request #1931: ARROW-564 [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r183307516\n \n \n\n ##########\n File path: python/pyarrow/tests/test_array.py\n ##########\n @@ -83,6 +83,33 @@ def test_long_array_format():\n     assert result == expected\n \n \n+def test_to_numpy_zero_copy():\n+    import gc\n+\n+    arr = pa.array(range(10))\n+\n+    for i in range(10):\n+        np_arr = arr.to_numpy()\n+        assert sys.getrefcount(np_arr) == 2\n+        np_arr = None  # noqa\n+\n+    assert sys.getrefcount(arr) == 2\n \n Review comment:\n   Instead of harcoding this, you should check the original value hasn't changed:\r\n   ```\r\n   old_refcount = sys.getrefcount(arr)\r\n   # ... do something\r\n   assert sys.getrefcount(arr) == old_refcount\r\n   ```\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-23T08:21:08.580+0000",
                    "updated": "2018-04-23T08:21:08.580+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/comment/16447727",
                    "id": "16447727",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pitrou commented on a change in pull request #1931: ARROW-564 [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r183308880\n \n \n\n ##########\n File path: python/pyarrow/tests/test_array.py\n ##########\n @@ -577,6 +604,31 @@ def test_simple_type_construction():\n         str(result)\n \n \n+@pytest.mark.parametrize(\n+    'narr',\n+    [\n+        np.arange(10, dtype=np.int64),\n+        np.arange(10, dtype=np.int32),\n+        np.arange(10, dtype=np.int16),\n+        np.arange(10, dtype=np.int8),\n+        np.arange(10, dtype=np.uint64),\n+        np.arange(10, dtype=np.uint32),\n+        np.arange(10, dtype=np.uint16),\n+        np.arange(10, dtype=np.uint8),\n+        np.arange(10, dtype=np.float64),\n+        np.arange(10, dtype=np.float32),\n+        np.arange(10, dtype=np.float16),\n+    ]\n+)\n+def test_to_numpy_roundtrip(narr):\n+    arr = pa.array(narr)\n+    assert narr.dtype == arr.to_numpy().dtype\n+    assert np.array_equal(narr, arr.to_numpy())\n \n Review comment:\n   Use `np.testing.assert_array_equal`.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-23T08:21:08.591+0000",
                    "updated": "2018-04-23T08:21:08.591+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/comment/16447728",
                    "id": "16447728",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pitrou commented on a change in pull request #1931: ARROW-564 [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r183308083\n \n \n\n ##########\n File path: python/pyarrow/tests/test_array.py\n ##########\n @@ -83,6 +83,33 @@ def test_long_array_format():\n     assert result == expected\n \n \n+def test_to_numpy_zero_copy():\n+    import gc\n+\n+    arr = pa.array(range(10))\n+\n+    for i in range(10):\n+        np_arr = arr.to_numpy()\n+        assert sys.getrefcount(np_arr) == 2\n+        np_arr = None  # noqa\n+\n+    assert sys.getrefcount(arr) == 2\n+\n+    for i in range(10):\n+        arr = pa.array(range(10))\n+        np_arr = arr.to_numpy()\n+        arr = None\n+        gc.collect()\n+\n+        # Ensure base is still valid\n \n Review comment:\n   I'm not sure that's the right way of looking at it. Just check that `np_arr.base` is not None...\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-23T08:21:08.595+0000",
                    "updated": "2018-04-23T08:21:08.595+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/comment/16447729",
                    "id": "16447729",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pitrou commented on a change in pull request #1931: ARROW-564 [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r183307323\n \n \n\n ##########\n File path: python/pyarrow/tests/test_array.py\n ##########\n @@ -83,6 +83,33 @@ def test_long_array_format():\n     assert result == expected\n \n \n+def test_to_numpy_zero_copy():\n+    import gc\n+\n+    arr = pa.array(range(10))\n+\n+    for i in range(10):\n+        np_arr = arr.to_numpy()\n+        assert sys.getrefcount(np_arr) == 2\n \n Review comment:\n   I'm not sure what this line is meant to test?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-23T08:21:08.608+0000",
                    "updated": "2018-04-23T08:21:08.608+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/comment/16447730",
                    "id": "16447730",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pitrou commented on a change in pull request #1931: ARROW-564 [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r183308153\n \n \n\n ##########\n File path: python/pyarrow/tests/test_array.py\n ##########\n @@ -83,6 +83,33 @@ def test_long_array_format():\n     assert result == expected\n \n \n+def test_to_numpy_zero_copy():\n+    import gc\n+\n+    arr = pa.array(range(10))\n+\n+    for i in range(10):\n+        np_arr = arr.to_numpy()\n+        assert sys.getrefcount(np_arr) == 2\n+        np_arr = None  # noqa\n+\n+    assert sys.getrefcount(arr) == 2\n+\n+    for i in range(10):\n+        arr = pa.array(range(10))\n+        np_arr = arr.to_numpy()\n+        arr = None\n+        gc.collect()\n+\n+        # Ensure base is still valid\n+\n+        # Because of py.test's assert inspection magic, if you put getrefcount\n+        # on the line being examined, it will be 1 higher than you expect\n+        base_refcount = sys.getrefcount(np_arr.base)\n+        assert base_refcount == 2\n+        np_arr.sum()\n \n Review comment:\n   You should check the result value.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-23T08:21:08.608+0000",
                    "updated": "2018-04-23T08:21:08.608+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/comment/16447731",
                    "id": "16447731",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pitrou commented on a change in pull request #1931: ARROW-564 [Python] Add support for return zero copy NumPy arrays\nURL: https://github.com/apache/arrow/pull/1931#discussion_r183309840\n \n \n\n ##########\n File path: python/pyarrow/tests/test_array.py\n ##########\n @@ -83,6 +83,33 @@ def test_long_array_format():\n     assert result == expected\n \n \n+def test_to_numpy_zero_copy():\n \n Review comment:\n   This function isn't actually testing the zero-copy part. You should mutate the result Numpy array and check the original Arrow array is mutated (of course, the fact we're able to get a mutable Numpy array from an Arrow array could be seen as a bug).\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-23T08:21:08.610+0000",
                    "updated": "2018-04-23T08:21:08.610+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13043661/comment/16546803",
                    "id": "16546803",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 1931\n[https://github.com/apache/arrow/pull/1931]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2018-07-17T15:39:42.613+0000",
                    "updated": "2018-07-17T15:39:42.613+0000"
                }
            ],
            "maxResults": 9,
            "total": 9,
            "startAt": 0
        },
        "customfield_12311820": "0|i3a6kv:",
        "customfield_12314139": null
    }
}