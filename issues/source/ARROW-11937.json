{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13363938",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363938",
    "key": "ARROW-11937",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349493",
                "id": "12349493",
                "description": "",
                "name": "4.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-04-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12348823",
                "id": "12348823",
                "description": "",
                "name": "3.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-01-25"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 6600,
            "total": 6600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 6600,
            "total": 6600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11937/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 11,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363938/worklog/564957",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm opened a new pull request #9680:\nURL: https://github.com/apache/arrow/pull/9680\n\n\n   A mistaken check in GZipCompressor::Flush could lead CompressedOutputStream into an infinite flush->resize buffer retry loop if no data was written in between two flushes. Fix the check and add a regression test.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-11T21:31:51.552+0000",
                    "updated": "2021-03-11T21:31:51.552+0000",
                    "started": "2021-03-11T21:31:51.552+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "564957",
                    "issueId": "13363938"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363938/worklog/564968",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9680:\nURL: https://github.com/apache/arrow/pull/9680#issuecomment-797075135\n\n\n   https://issues.apache.org/jira/browse/ARROW-11937\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-11T21:54:14.959+0000",
                    "updated": "2021-03-11T21:54:14.959+0000",
                    "started": "2021-03-11T21:54:14.958+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "564968",
                    "issueId": "13363938"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363938/worklog/566162",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #9680:\nURL: https://github.com/apache/arrow/pull/9680#discussion_r594299141\n\n\n\n##########\nFile path: cpp/src/arrow/util/compression_test.cc\n##########\n@@ -519,6 +519,44 @@ TEST_P(CodecTest, StreamingDecompressorReuse) {\n   CheckStreamingRoundtrip(compressor, decompressor, data);\n }\n \n+TEST_P(CodecTest, StreamingMultiFlush) {\n+  // Regression test for ARROW-11937\n+  if (GetCompression() == Compression::SNAPPY) {\n+    GTEST_SKIP() << \"snappy doesn't support streaming decompression\";\n+  }\n+  if (GetCompression() == Compression::LZ4 ||\n+      GetCompression() == Compression::LZ4_HADOOP) {\n+    GTEST_SKIP() << \"LZ4 raw format doesn't support streaming decompression.\";\n+  }\n+  auto type = GetCompression();\n+  ASSERT_OK_AND_ASSIGN(auto codec, Codec::Create(type));\n+\n+  std::shared_ptr<Compressor> compressor;\n+  ASSERT_OK_AND_ASSIGN(compressor, codec->MakeCompressor());\n+\n+  // Grow the buffer and flush again while requested (up to a bounded number of times)\n+  std::vector<uint8_t> compressed(1024);\n+  Compressor::FlushResult result;\n+  int attempts = 0;\n+  int64_t actual_size = 0;\n+  int64_t output_len = 0;\n+  uint8_t* output = compressed.data();\n+  do {\n+    compressed.resize(compressed.capacity() * 2);\n+    output_len = compressed.size() - actual_size;\n+    output = compressed.data() + actual_size;\n+    ASSERT_OK_AND_ASSIGN(result, compressor->Flush(output_len, output));\n+    actual_size += result.bytes_written;\n+    attempts++;\n+  } while (attempts < 16 && result.should_retry);\n\nReview comment:\n       I'm not sure why it's useful to attempt 16 times. The compressor basically didn't compress anything, did it?\n\n##########\nFile path: cpp/src/arrow/util/compression_zlib.cc\n##########\n@@ -246,7 +246,7 @@ class GZipCompressor : public Compressor {\n     //  again with the same value of the flush parameter and more output space\n     //  (updated avail_out), until the flush is complete (deflate returns\n     //  with non-zero avail_out).\"\n-    return FlushResult{bytes_written, (bytes_written == 0)};\n+    return FlushResult{bytes_written, (stream_.avail_out == 0)};\n\nReview comment:\n       Should we also check for `Z_BUF_ERROR` here?\n\n##########\nFile path: cpp/src/arrow/util/compression_test.cc\n##########\n@@ -519,6 +519,44 @@ TEST_P(CodecTest, StreamingDecompressorReuse) {\n   CheckStreamingRoundtrip(compressor, decompressor, data);\n }\n \n+TEST_P(CodecTest, StreamingMultiFlush) {\n+  // Regression test for ARROW-11937\n+  if (GetCompression() == Compression::SNAPPY) {\n+    GTEST_SKIP() << \"snappy doesn't support streaming decompression\";\n+  }\n+  if (GetCompression() == Compression::LZ4 ||\n+      GetCompression() == Compression::LZ4_HADOOP) {\n+    GTEST_SKIP() << \"LZ4 raw format doesn't support streaming decompression.\";\n+  }\n+  auto type = GetCompression();\n+  ASSERT_OK_AND_ASSIGN(auto codec, Codec::Create(type));\n+\n+  std::shared_ptr<Compressor> compressor;\n+  ASSERT_OK_AND_ASSIGN(compressor, codec->MakeCompressor());\n+\n+  // Grow the buffer and flush again while requested (up to a bounded number of times)\n+  std::vector<uint8_t> compressed(1024);\n+  Compressor::FlushResult result;\n+  int attempts = 0;\n+  int64_t actual_size = 0;\n+  int64_t output_len = 0;\n+  uint8_t* output = compressed.data();\n+  do {\n+    compressed.resize(compressed.capacity() * 2);\n+    output_len = compressed.size() - actual_size;\n+    output = compressed.data() + actual_size;\n+    ASSERT_OK_AND_ASSIGN(result, compressor->Flush(output_len, output));\n+    actual_size += result.bytes_written;\n+    attempts++;\n+  } while (attempts < 16 && result.should_retry);\n\nReview comment:\n       I mean `attempts < 2` would sound sufficient.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T12:47:32.338+0000",
                    "updated": "2021-03-15T12:47:32.338+0000",
                    "started": "2021-03-15T12:47:32.338+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566162",
                    "issueId": "13363938"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363938/worklog/566168",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #9680:\nURL: https://github.com/apache/arrow/pull/9680#discussion_r594312470\n\n\n\n##########\nFile path: cpp/src/arrow/util/compression_zlib.cc\n##########\n@@ -246,7 +246,7 @@ class GZipCompressor : public Compressor {\n     //  again with the same value of the flush parameter and more output space\n     //  (updated avail_out), until the flush is complete (deflate returns\n     //  with non-zero avail_out).\"\n-    return FlushResult{bytes_written, (bytes_written == 0)};\n+    return FlushResult{bytes_written, (stream_.avail_out == 0)};\n\nReview comment:\n       Done.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T12:59:10.929+0000",
                    "updated": "2021-03-15T12:59:10.929+0000",
                    "started": "2021-03-15T12:59:10.929+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566168",
                    "issueId": "13363938"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363938/worklog/566169",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #9680:\nURL: https://github.com/apache/arrow/pull/9680#discussion_r594312750\n\n\n\n##########\nFile path: cpp/src/arrow/util/compression_test.cc\n##########\n@@ -519,6 +519,44 @@ TEST_P(CodecTest, StreamingDecompressorReuse) {\n   CheckStreamingRoundtrip(compressor, decompressor, data);\n }\n \n+TEST_P(CodecTest, StreamingMultiFlush) {\n+  // Regression test for ARROW-11937\n+  if (GetCompression() == Compression::SNAPPY) {\n+    GTEST_SKIP() << \"snappy doesn't support streaming decompression\";\n+  }\n+  if (GetCompression() == Compression::LZ4 ||\n+      GetCompression() == Compression::LZ4_HADOOP) {\n+    GTEST_SKIP() << \"LZ4 raw format doesn't support streaming decompression.\";\n+  }\n+  auto type = GetCompression();\n+  ASSERT_OK_AND_ASSIGN(auto codec, Codec::Create(type));\n+\n+  std::shared_ptr<Compressor> compressor;\n+  ASSERT_OK_AND_ASSIGN(compressor, codec->MakeCompressor());\n+\n+  // Grow the buffer and flush again while requested (up to a bounded number of times)\n+  std::vector<uint8_t> compressed(1024);\n+  Compressor::FlushResult result;\n+  int attempts = 0;\n+  int64_t actual_size = 0;\n+  int64_t output_len = 0;\n+  uint8_t* output = compressed.data();\n+  do {\n+    compressed.resize(compressed.capacity() * 2);\n+    output_len = compressed.size() - actual_size;\n+    output = compressed.data() + actual_size;\n+    ASSERT_OK_AND_ASSIGN(result, compressor->Flush(output_len, output));\n+    actual_size += result.bytes_written;\n+    attempts++;\n+  } while (attempts < 16 && result.should_retry);\n\nReview comment:\n       Oddly enough LZ4 requires at least 7 iterations through the loop before it settles, but I've brought it down and noted this fact.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T12:59:33.851+0000",
                    "updated": "2021-03-15T12:59:33.851+0000",
                    "started": "2021-03-15T12:59:33.851+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566169",
                    "issueId": "13363938"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363938/worklog/566200",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #9680:\nURL: https://github.com/apache/arrow/pull/9680#discussion_r594351631\n\n\n\n##########\nFile path: cpp/src/arrow/util/compression_zlib.cc\n##########\n@@ -246,7 +246,7 @@ class GZipCompressor : public Compressor {\n     //  again with the same value of the flush parameter and more output space\n     //  (updated avail_out), until the flush is complete (deflate returns\n     //  with non-zero avail_out).\"\n-    return FlushResult{bytes_written, (bytes_written == 0)};\n+    return FlushResult{bytes_written, (ret == Z_BUF_ERROR && stream_.avail_out == 0)};\n\nReview comment:\n       Should be `||`?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T13:50:55.780+0000",
                    "updated": "2021-03-15T13:50:55.780+0000",
                    "started": "2021-03-15T13:50:55.780+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566200",
                    "issueId": "13363938"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363938/worklog/566218",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #9680:\nURL: https://github.com/apache/arrow/pull/9680#discussion_r594361470\n\n\n\n##########\nFile path: cpp/src/arrow/util/compression_zlib.cc\n##########\n@@ -246,7 +246,7 @@ class GZipCompressor : public Compressor {\n     //  again with the same value of the flush parameter and more output space\n     //  (updated avail_out), until the flush is complete (deflate returns\n     //  with non-zero avail_out).\"\n-    return FlushResult{bytes_written, (bytes_written == 0)};\n+    return FlushResult{bytes_written, (ret == Z_BUF_ERROR && stream_.avail_out == 0)};\n\nReview comment:\n       Hmm, looks like it should just be `avail_out == 0` after all, as I also see this comment in zlib.h:\r\n   \r\n   ```\r\n     If deflate returns Z_OK and with\r\n     zero avail_out, it must be called again after making room in the output\r\n     buffer because there might be more output pending\r\n   ```\r\n   Whereas in the comment already cited, there's no mention of the expected return code.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T14:02:38.429+0000",
                    "updated": "2021-03-15T14:02:38.429+0000",
                    "started": "2021-03-15T14:02:38.429+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566218",
                    "issueId": "13363938"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363938/worklog/566223",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #9680:\nURL: https://github.com/apache/arrow/pull/9680#discussion_r594364647\n\n\n\n##########\nFile path: cpp/src/arrow/util/compression_zlib.cc\n##########\n@@ -246,7 +246,7 @@ class GZipCompressor : public Compressor {\n     //  again with the same value of the flush parameter and more output space\n     //  (updated avail_out), until the flush is complete (deflate returns\n     //  with non-zero avail_out).\"\n-    return FlushResult{bytes_written, (bytes_written == 0)};\n+    return FlushResult{bytes_written, (ret == Z_BUF_ERROR && stream_.avail_out == 0)};\n\nReview comment:\n       Z_BUF_ERROR shouldn't pass silently, though. So either it should return `should_retry = true` or it should return an error.\r\n   According to the `deflate()` documentation:\r\n   > Note that Z_BUF_ERROR is not fatal, and deflate() can be called again with more input and more output space to continue compressing. \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T14:06:22.127+0000",
                    "updated": "2021-03-15T14:06:22.127+0000",
                    "started": "2021-03-15T14:06:22.127+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566223",
                    "issueId": "13363938"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363938/worklog/566228",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #9680:\nURL: https://github.com/apache/arrow/pull/9680#discussion_r594370101\n\n\n\n##########\nFile path: cpp/src/arrow/util/compression_zlib.cc\n##########\n@@ -246,7 +246,7 @@ class GZipCompressor : public Compressor {\n     //  again with the same value of the flush parameter and more output space\n     //  (updated avail_out), until the flush is complete (deflate returns\n     //  with non-zero avail_out).\"\n-    return FlushResult{bytes_written, (bytes_written == 0)};\n+    return FlushResult{bytes_written, (ret == Z_BUF_ERROR && stream_.avail_out == 0)};\n\nReview comment:\n       Hmm, that makes the new test fail again. Reading that more carefully, it sounds like Z_BUF_ERROR without `avail_out == 0` is just zlib's way to indicate that there was no input to compress, since it states \r\n   > can be called again with **more input** and more output space\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T14:13:00.637+0000",
                    "updated": "2021-03-15T14:13:00.637+0000",
                    "started": "2021-03-15T14:13:00.637+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566228",
                    "issueId": "13363938"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363938/worklog/566234",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #9680:\nURL: https://github.com/apache/arrow/pull/9680#discussion_r594371399\n\n\n\n##########\nFile path: cpp/src/arrow/util/compression_zlib.cc\n##########\n@@ -246,7 +246,7 @@ class GZipCompressor : public Compressor {\n     //  again with the same value of the flush parameter and more output space\n     //  (updated avail_out), until the flush is complete (deflate returns\n     //  with non-zero avail_out).\"\n-    return FlushResult{bytes_written, (bytes_written == 0)};\n+    return FlushResult{bytes_written, (ret == Z_BUF_ERROR && stream_.avail_out == 0)};\n\nReview comment:\n       Ah, if that's the case then I agree we shouldn't signal it.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T14:14:39.811+0000",
                    "updated": "2021-03-15T14:14:39.811+0000",
                    "started": "2021-03-15T14:14:39.811+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566234",
                    "issueId": "13363938"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363938/worklog/566329",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou closed pull request #9680:\nURL: https://github.com/apache/arrow/pull/9680\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T15:49:19.686+0000",
                    "updated": "2021-03-15T15:49:19.686+0000",
                    "started": "2021-03-15T15:49:19.685+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566329",
                    "issueId": "13363938"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 6600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@502fcd78[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2b958a19[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4157788a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@4615e7fb[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@69f81481[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@6fa3a84a[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@154a1e1c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@7c890971[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@557c567d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@27ef4560[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6210057f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@56664acd[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 6600,
        "customfield_12312520": null,
        "customfield_12312521": "Mon Mar 15 15:49:06 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-03-15T15:49:06.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11937/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2021-03-11T21:03:35.000+0000",
        "updated": "2021-03-15T15:49:20.000+0000",
        "timeoriginalestimate": null,
        "description": "{code:java}\r\n    // \"If deflate returns with avail_out == 0, this function must be called\r\n    //  again with the same value of the flush parameter and more output space\r\n    //  (updated avail_out), until the flush is complete (deflate returns\r\n    //  with non-zero avail_out).\"\r\n    return FlushResult{bytes_written, (bytes_written == 0)}; {code}\r\nBut contrary to the comment, we're checking bytes_written. So if we flush twice, the second time, we won't write any bytes, but we'll erroneously interpret that as zlib asking for a larger buffer, rather than zlib telling us there's no data to decompress. Then we'll enter a loop where we keep doubling the buffer size forever, hanging the program.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 6600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] GZip codec hangs if flushed twice",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363938/comment/17301723",
                    "id": "17301723",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 9680\n[https://github.com/apache/arrow/pull/9680]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-03-15T15:49:06.443+0000",
                    "updated": "2021-03-15T15:49:06.443+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0okjc:",
        "customfield_12314139": null
    }
}