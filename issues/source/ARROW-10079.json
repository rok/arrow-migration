{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13329169",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13329169",
    "key": "ARROW-10079",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12348823",
                "id": "12348823",
                "description": "",
                "name": "3.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-01-25"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12348647",
                "id": "12348647",
                "name": "1.0.1",
                "archived": false,
                "released": true,
                "releaseDate": "2020-08-21"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jhorstmann",
            "name": "jhorstmann",
            "key": "jhorstmann",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "J\u00f6rn Horstmann",
            "active": true,
            "timeZone": "Europe/Berlin"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333773",
                "id": "12333773",
                "name": "Rust"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jhorstmann",
            "name": "jhorstmann",
            "key": "jhorstmann",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "J\u00f6rn Horstmann",
            "active": true,
            "timeZone": "Europe/Berlin"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jhorstmann",
            "name": "jhorstmann",
            "key": "jhorstmann",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "J\u00f6rn Horstmann",
            "active": true,
            "timeZone": "Europe/Berlin"
        },
        "aggregateprogress": {
            "progress": 4200,
            "total": 4200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 4200,
            "total": 4200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-10079/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 7,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13329169/worklog/511767",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jhorstmann opened a new pull request #8663:\nURL: https://github.com/apache/arrow/pull/8663\n\n\n   This refactors the calculation of null counts by using the bitchunk iterator and `count_ones` intrinsic. The performance of array creation improves by between 3%-5%. The biggest impact is on getting a slice of an existing array, for a slice length of 2048 the performance in a microbenchmark doubles.\r\n   \r\n   Benchmark results on a Ryzen 3700U. LLVM seems to be able to vectorize the `count_ones` intrinsic, so performance on machines with better AVX units should be even higher.\r\n   \r\n   ```\r\n   Running /home/jhorstmann/Source/github/apache/arrow/rust/target/release/deps/array_slice-d438c5aeed9bef19\r\n   Gnuplot not found, using plotters backend\r\n   array_slice 128         time:   [150.68 ns 151.74 ns 153.14 ns]                            \r\n                           change: [-11.525% -10.357% -9.3284%] (p = 0.00 < 0.05)\r\n                           Performance has improved.\r\n   Found 8 outliers among 100 measurements (8.00%)\r\n     3 (3.00%) high mild\r\n     5 (5.00%) high severe\r\n   \r\n   array_slice 512         time:   [158.77 ns 161.03 ns 163.62 ns]                            \r\n                           change: [-25.922% -24.956% -23.945%] (p = 0.00 < 0.05)\r\n                           Performance has improved.\r\n   Found 13 outliers among 100 measurements (13.00%)\r\n     5 (5.00%) high mild\r\n     8 (8.00%) high severe\r\n   \r\n   array_slice 2048        time:   [170.17 ns 171.24 ns 172.60 ns]                             \r\n                           change: [-50.388% -49.865% -49.375%] (p = 0.00 < 0.05)\r\n                           Performance has improved.\r\n   Found 6 outliers among 100 measurements (6.00%)\r\n     2 (2.00%) high mild\r\n     4 (4.00%) high severe\r\n   ```\r\n   \r\n   \r\n   ```\r\n   Running /home/jhorstmann/Source/github/apache/arrow/rust/target/release/deps/array_from_vec-8a972c208e7a6334\r\n   Gnuplot not found, using plotters backend\r\n   array_from_vec 128      time:   [750.62 ns 751.69 ns 752.85 ns]                                \r\n                           change: [-8.2512% -7.3658% -6.5917%] (p = 0.00 < 0.05)\r\n                           Performance has improved.\r\n   Found 6 outliers among 100 measurements (6.00%)\r\n     3 (3.00%) high mild\r\n     3 (3.00%) high severe\r\n   \r\n   array_from_vec 256      time:   [1.2501 us 1.2580 us 1.2676 us]                                \r\n                           change: [-0.9517% +0.1364% +1.1850%] (p = 0.81 > 0.05)\r\n                           No change in performance detected.\r\n   Found 11 outliers among 100 measurements (11.00%)\r\n     7 (7.00%) high mild\r\n     4 (4.00%) high severe\r\n   \r\n   array_from_vec 512      time:   [2.1603 us 2.1643 us 2.1690 us]                                \r\n                           change: [-2.8122% -2.1984% -1.6379%] (p = 0.00 < 0.05)\r\n                           Performance has improved.\r\n   Found 13 outliers among 100 measurements (13.00%)\r\n     10 (10.00%) high mild\r\n     3 (3.00%) high severe\r\n   \r\n   array_string_from_vec 128                                                                             \r\n                           time:   [3.2196 us 3.2288 us 3.2395 us]\r\n                           change: [+1.4107% +1.9839% +2.5419%] (p = 0.00 < 0.05)\r\n                           Performance has regressed.\r\n   Found 12 outliers among 100 measurements (12.00%)\r\n     7 (7.00%) high mild\r\n     5 (5.00%) high severe\r\n   \r\n   array_string_from_vec 256                                                                             \r\n                           time:   [4.8112 us 4.8352 us 4.8685 us]\r\n                           change: [-5.2564% -3.8312% -2.7672%] (p = 0.00 < 0.05)\r\n                           Performance has improved.\r\n   Found 14 outliers among 100 measurements (14.00%)\r\n     4 (4.00%) high mild\r\n     10 (10.00%) high severe\r\n   \r\n   array_string_from_vec 512                                                                             \r\n                           time:   [8.2588 us 8.2802 us 8.3049 us]\r\n                           change: [-0.5974% -0.2991% +0.0027%] (p = 0.05 > 0.05)\r\n                           No change in performance detected.\r\n   Found 7 outliers among 100 measurements (7.00%)\r\n     3 (3.00%) high mild\r\n     4 (4.00%) high severe\r\n   \r\n   struct_array_from_vec 128                                                                             \r\n                           time:   [4.5771 us 4.5947 us 4.6206 us]\r\n                           change: [-6.6706% -5.3873% -4.2340%] (p = 0.00 < 0.05)\r\n                           Performance has improved.\r\n   Found 15 outliers among 100 measurements (15.00%)\r\n     5 (5.00%) high mild\r\n     10 (10.00%) high severe\r\n   \r\n   struct_array_from_vec 256                                                                             \r\n                           time:   [6.7617 us 6.7887 us 6.8182 us]\r\n                           change: [-4.9262% -4.2419% -3.6528%] (p = 0.00 < 0.05)\r\n                           Performance has improved.\r\n   Found 2 outliers among 100 measurements (2.00%)\r\n     2 (2.00%) high mild\r\n   \r\n   struct_array_from_vec 512                                                                             \r\n                           time:   [9.8926 us 9.9639 us 10.052 us]\r\n                           change: [-5.4057% -3.9331% -2.5242%] (p = 0.00 < 0.05)\r\n                           Performance has improved.\r\n   Found 7 outliers among 100 measurements (7.00%)\r\n     2 (2.00%) high mild\r\n     5 (5.00%) high severe\r\n   \r\n   struct_array_from_vec 1024                                                                             \r\n                           time:   [15.812 us 15.862 us 15.922 us]\r\n                           change: [-6.1966% -5.6634% -5.0338%] (p = 0.00 < 0.05)\r\n                           Performance has improved.\r\n   Found 11 outliers among 100 measurements (11.00%)\r\n     3 (3.00%) high mild\r\n     8 (8.00%) high severe\r\n   ```\r\n   \r\n   \r\n   \r\n   ```\r\n   Running /home/jhorstmann/Source/github/apache/arrow/rust/target/release/deps/builder-26beb41d8ad91167\r\n   Gnuplot not found, using plotters backend\r\n   bench_primitive         time:   [4.8277 ms 4.8879 ms 4.9558 ms]                             \r\n                           thrpt:  [807.14 MiB/s 818.35 MiB/s 828.55 MiB/s]\r\n                    change:\r\n                           time:   [-5.3415% -3.4401% -1.3973%] (p = 0.00 < 0.05)\r\n                           thrpt:  [+1.4171% +3.5626% +5.6429%]\r\n                           Performance has improved.\r\n   Found 7 outliers among 100 measurements (7.00%)\r\n     4 (4.00%) high mild\r\n     3 (3.00%) high severe\r\n   \r\n   bench_bool              time:   [2.5176 ms 2.5230 ms 2.5292 ms]                        \r\n                           thrpt:  [197.69 MiB/s 198.18 MiB/s 198.60 MiB/s]\r\n                    change:\r\n                           time:   [-19.412% -19.203% -18.988%] (p = 0.00 < 0.05)\r\n                           thrpt:  [+23.438% +23.767% +24.088%]\r\n                           Performance has improved.\r\n   Found 8 outliers among 100 measurements (8.00%)\r\n     3 (3.00%) high mild\r\n     5 (5.00%) high severe\r\n   ```\r\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-14T16:43:53.247+0000",
                    "updated": "2020-11-14T16:43:53.247+0000",
                    "started": "2020-11-14T16:43:53.247+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "511767",
                    "issueId": "13329169"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13329169/worklog/511768",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #8663:\nURL: https://github.com/apache/arrow/pull/8663#issuecomment-727233528\n\n\n   https://issues.apache.org/jira/browse/ARROW-10079\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-14T16:46:57.205+0000",
                    "updated": "2020-11-14T16:46:57.205+0000",
                    "started": "2020-11-14T16:46:57.204+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "511768",
                    "issueId": "13329169"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13329169/worklog/511769",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jhorstmann commented on a change in pull request #8663:\nURL: https://github.com/apache/arrow/pull/8663#discussion_r523439893\n\n\n\n##########\nFile path: rust/arrow/src/array/array_union.rs\n##########\n@@ -232,7 +231,7 @@ impl UnionArray {\n         assert!(index - self.offset() < self.len());\n         if self.is_dense() {\n             let valid_slots = match self.data.null_buffer() {\n-                Some(b) => bit_util::count_set_bits_offset(b.data(), 0, index),\n+                Some(b) => b.count_set_bits_offset(0, index),\n\nReview comment:\n       Unrelated to this refactoring, but this code in `UnionArray` did not match my understanding of the [array format documentation][1]. At least I don't see any mention that the offsets array is compressed by omitting null values. Or maybe the documentation needs a better example that includes a null bitmap.\r\n   \r\n    [1]: https://arrow.apache.org/docs/format/Columnar.html#dense-union\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-14T16:59:04.990+0000",
                    "updated": "2020-11-14T16:59:04.990+0000",
                    "started": "2020-11-14T16:59:04.990+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "511769",
                    "issueId": "13329169"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13329169/worklog/511770",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jhorstmann commented on a change in pull request #8663:\nURL: https://github.com/apache/arrow/pull/8663#discussion_r523440049\n\n\n\n##########\nFile path: rust/arrow/src/array/array_union.rs\n##########\n@@ -232,7 +231,7 @@ impl UnionArray {\n         assert!(index - self.offset() < self.len());\n         if self.is_dense() {\n             let valid_slots = match self.data.null_buffer() {\n-                Some(b) => bit_util::count_set_bits_offset(b.data(), 0, index),\n+                Some(b) => b.count_set_bits_offset(0, index),\n\nReview comment:\n       Oh, I got it, the union format actually changed and deprecated the use of a null bitmap: https://github.com/apache/arrow/commit/6df862096c796f438c1b6cf054f51e2e2228b368#\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-14T17:00:28.022+0000",
                    "updated": "2020-11-14T17:00:28.022+0000",
                    "started": "2020-11-14T17:00:28.021+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "511770",
                    "issueId": "13329169"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13329169/worklog/511789",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao commented on a change in pull request #8663:\nURL: https://github.com/apache/arrow/pull/8663#discussion_r523452191\n\n\n\n##########\nFile path: rust/arrow/src/buffer.rs\n##########\n@@ -270,6 +270,22 @@ impl Buffer {\n         BitChunks::new(&self, offset, len)\n     }\n \n+    /// Returns the number of 1-bits in `data`\n+    pub fn count_set_bits(&self) -> usize {\n+        let len_in_bits = self.len() * 8;\n+        self.count_set_bits_offset(0, len_in_bits)\n\nReview comment:\n       This seems to ignore `self.offset` (it is on purpose, right?) If yes, do you think that it makes sense to add a test verifying that the offset does not impact this, maybe we already test that for `self.bit_chunks`?\n\n##########\nFile path: rust/arrow/src/buffer.rs\n##########\n@@ -270,6 +270,22 @@ impl Buffer {\n         BitChunks::new(&self, offset, len)\n     }\n \n+    /// Returns the number of 1-bits in `data`\n\nReview comment:\n       End users do not know what `data` is. Maybe refer to \"this buffer\" instead?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-14T19:12:16.836+0000",
                    "updated": "2020-11-14T19:12:16.836+0000",
                    "started": "2020-11-14T19:12:16.836+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "511789",
                    "issueId": "13329169"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13329169/worklog/511792",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jhorstmann commented on a change in pull request #8663:\nURL: https://github.com/apache/arrow/pull/8663#discussion_r523455075\n\n\n\n##########\nFile path: rust/arrow/src/buffer.rs\n##########\n@@ -270,6 +270,22 @@ impl Buffer {\n         BitChunks::new(&self, offset, len)\n     }\n \n+    /// Returns the number of 1-bits in `data`\n+    pub fn count_set_bits(&self) -> usize {\n+        let len_in_bits = self.len() * 8;\n+        self.count_set_bits_offset(0, len_in_bits)\n\nReview comment:\n       Yes, `self.offset` is already considered by `bit_chunks`, or rather by the `data` and `raw_data` functions. I added a test and comment about that.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-14T19:39:39.957+0000",
                    "updated": "2020-11-14T19:39:39.957+0000",
                    "started": "2020-11-14T19:39:39.956+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "511792",
                    "issueId": "13329169"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13329169/worklog/511898",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nevi-me closed pull request #8663:\nURL: https://github.com/apache/arrow/pull/8663\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-15T10:57:34.692+0000",
                    "updated": "2020-11-15T10:57:34.692+0000",
                    "started": "2020-11-15T10:57:34.692+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "511898",
                    "issueId": "13329169"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 4200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@493fc637[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@697a7d67[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@25171c56[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@1f3cccd6[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6c5617f8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@deb7816[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@10832051[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@69a014eb[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@351537f0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@6368c28c[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6a60f718[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@38eb1f3[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 4200,
        "customfield_12312520": null,
        "customfield_12312521": "Sun Nov 15 10:57:25 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-11-15T10:57:25.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-10079/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2020-09-24T09:20:11.000+0000",
        "updated": "2020-11-15T10:57:41.000+0000",
        "timeoriginalestimate": null,
        "description": "`count_set_bits` and `count_set_bits_offset` currently use a lookup table for each byte. I'm thinking it should be more efficient to iterate the data in larger chunks and use the builtin `count_ones` function.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 10m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 4200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Rust]: Benchmark and improve count_set_bits function",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13329169/comment/17232229",
                    "id": "17232229",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=nevi_me",
                        "name": "nevi_me",
                        "key": "nevi_me",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=nevi_me&avatarId=24271",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nevi_me&avatarId=24271",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nevi_me&avatarId=24271",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nevi_me&avatarId=24271"
                        },
                        "displayName": "Neville Dipale",
                        "active": true,
                        "timeZone": "Africa/Johannesburg"
                    },
                    "body": "Issue resolved by pull request 8663\n[https://github.com/apache/arrow/pull/8663]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=nevi_me",
                        "name": "nevi_me",
                        "key": "nevi_me",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=nevi_me&avatarId=24271",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nevi_me&avatarId=24271",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nevi_me&avatarId=24271",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nevi_me&avatarId=24271"
                        },
                        "displayName": "Neville Dipale",
                        "active": true,
                        "timeZone": "Africa/Johannesburg"
                    },
                    "created": "2020-11-15T10:57:25.405+0000",
                    "updated": "2020-11-15T10:57:25.405+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0ivkw:",
        "customfield_12314139": null
    }
}