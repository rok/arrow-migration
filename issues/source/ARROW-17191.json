{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13473058",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13473058",
    "key": "ARROW-17191",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12351550",
                "id": "12351550",
                "name": "9.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2022-08-03"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 2400,
            "total": 2400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 2400,
            "total": 2400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-17191/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 4,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13473058/worklog/794644",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm opened a new pull request, #13696:\nURL: https://github.com/apache/arrow/pull/13696\n\n   See the JIRA for details, but essentially: data was getting corrupted since allocating a new `shared_ptr` control block was overwriting the data in a `GrpcBuffer`. This happened because the data was inlined into the structure, which we weren't properly accounting for. Instead, copy the data into a new buffer in these cases. \r\n   \r\n   I'm not sure why creating a new `shared_ptr` was overlapping an existing allocation, however.\n\n\n",
                    "created": "2022-07-24T18:39:16.718+0000",
                    "updated": "2022-07-24T18:39:16.718+0000",
                    "started": "2022-07-24T18:39:16.717+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "794644",
                    "issueId": "13473058"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13473058/worklog/794645",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on PR #13696:\nURL: https://github.com/apache/arrow/pull/13696#issuecomment-1193371990\n\n   https://issues.apache.org/jira/browse/ARROW-17191\n\n\n",
                    "created": "2022-07-24T18:39:37.930+0000",
                    "updated": "2022-07-24T18:39:37.930+0000",
                    "started": "2022-07-24T18:39:37.929+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "794645",
                    "issueId": "13473058"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13473058/worklog/794677",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou merged PR #13696:\nURL: https://github.com/apache/arrow/pull/13696\n\n\n",
                    "created": "2022-07-25T02:31:28.005+0000",
                    "updated": "2022-07-25T02:31:28.005+0000",
                    "started": "2022-07-25T02:31:28.004+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "794677",
                    "issueId": "13473058"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13473058/worklog/794699",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ursabot commented on PR #13696:\nURL: https://github.com/apache/arrow/pull/13696#issuecomment-1193575988\n\n   Benchmark runs are scheduled for baseline = 75ca3b21bc39ed91274aca7da57ee9328ae3c087 and contender = ef6049a2ee5673d0944a0b4f70ff9c70e0419a22. ef6049a2ee5673d0944a0b4f70ff9c70e0419a22 is a master commit associated with this PR. Results will be available as each benchmark for each run completes.\n   Conbench compare runs links:\n   [Failed :arrow_down:0.0% :arrow_up:0.0%] [ec2-t3-xlarge-us-east-2](https://conbench.ursa.dev/compare/runs/22f5f73515c0468bb6e3a648a03ab9d1...39112e352ebf4c668af40fee18f78dd4/)\n   [Failed :arrow_down:0.99% :arrow_up:0.0%] [test-mac-arm](https://conbench.ursa.dev/compare/runs/5ae9ca691e6f4bd48898cc5bf05e533a...72fa46f9a90e406a9c27e236a13ef96b/)\n   [Finished :arrow_down:0.27% :arrow_up:0.0%] [ursa-i9-9960x](https://conbench.ursa.dev/compare/runs/95fd13fc7a934660ab8c19722de01520...76630bfc9c074e2987cd3ca6f88e03c6/)\n   [Finished :arrow_down:0.46% :arrow_up:0.0%] [ursa-thinkcentre-m75q](https://conbench.ursa.dev/compare/runs/8756d978bba14cb0be9dba8036226aea...e6b46b018e534d398d4b6bcb48f3306d/)\n   Buildkite builds:\n   [Failed] [`ef6049a2` ec2-t3-xlarge-us-east-2](https://buildkite.com/apache-arrow/arrow-bci-benchmark-on-ec2-t3-xlarge-us-east-2/builds/1190)\n   [Finished] [`ef6049a2` test-mac-arm](https://buildkite.com/apache-arrow/arrow-bci-benchmark-on-test-mac-arm/builds/1202)\n   [Finished] [`ef6049a2` ursa-i9-9960x](https://buildkite.com/apache-arrow/arrow-bci-benchmark-on-ursa-i9-9960x/builds/1184)\n   [Finished] [`ef6049a2` ursa-thinkcentre-m75q](https://buildkite.com/apache-arrow/arrow-bci-benchmark-on-ursa-thinkcentre-m75q/builds/1204)\n   [Failed] [`75ca3b21` ec2-t3-xlarge-us-east-2](https://buildkite.com/apache-arrow/arrow-bci-benchmark-on-ec2-t3-xlarge-us-east-2/builds/1189)\n   [Failed] [`75ca3b21` test-mac-arm](https://buildkite.com/apache-arrow/arrow-bci-benchmark-on-test-mac-arm/builds/1201)\n   [Finished] [`75ca3b21` ursa-i9-9960x](https://buildkite.com/apache-arrow/arrow-bci-benchmark-on-ursa-i9-9960x/builds/1183)\n   [Finished] [`75ca3b21` ursa-thinkcentre-m75q](https://buildkite.com/apache-arrow/arrow-bci-benchmark-on-ursa-thinkcentre-m75q/builds/1203)\n   Supported benchmarks:\n   ec2-t3-xlarge-us-east-2: Supported benchmark langs: Python, R. Runs only benchmarks with cloud = True\n   test-mac-arm: Supported benchmark langs: C++, Python, R\n   ursa-i9-9960x: Supported benchmark langs: Python, R, JavaScript\n   ursa-thinkcentre-m75q: Supported benchmark langs: C++, Java\n   \n\n\n",
                    "created": "2022-07-25T04:51:19.537+0000",
                    "updated": "2022-07-25T04:51:19.537+0000",
                    "started": "2022-07-25T04:51:19.537+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "794699",
                    "issueId": "13473058"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 2400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@79a9da03[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@798330d3[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@710e6de3[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@116bceb9[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3edf5dd0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@7ea8e3ef[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7ccbf8ac[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@339aef8a[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@77ef05f4[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@4e61277d[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6d4cb885[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@94eec19[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 2400,
        "customfield_12312520": null,
        "customfield_12312521": "Mon Jul 25 02:31:29 UTC 2022",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2022-07-25T02:31:29.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-17191/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2022-07-23T12:03:17.000+0000",
        "updated": "2022-07-25T10:44:29.000+0000",
        "timeoriginalestimate": null,
        "description": "Noticed across several PRs\r\n{noformat}\r\n[ RUN \u00a0 \u00a0 \u00a0] GrpcDataTest.TestDoExchangeError\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_definitions.cc:490: Failure\r\nValue of: _st.IsNotImplemented()\r\n\u00a0 Actual: false\r\nExpected: true\r\nExpected 'writer->Close()' to fail with NotImplemented, but got IOError: Stream finished before first message sent. gRPC client debug context: UNKNOWN:Error received from peer ipv4:127.0.0.1:52323 {created_time:\"2022-07-23T01:21:23.785644223+00:00\", grpc_status:2, grpc_message:\"Stream finished before first message sent\"}. Client context: OK. Detail: Failed\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_definitions.cc:490: Failure\r\nValue of: _st.ToString()\r\nExpected: has substring \"Expected error\"\r\n\u00a0 Actual: \"IOError: Stream finished before first message sent. gRPC client debug context: UNKNOWN:Error received from peer ipv4:127.0.0.1:52323 {created_time:\\\"2022-07-23T01:21:23.785644223+00:00\\\", grpc_status:2, grpc_message:\\\"Stream finished before first message sent\\\"}. Client context: OK. Detail: Failed\"\r\n[ \u00a0FAILED \u00a0] GrpcDataTest.TestDoExchangeError (5 ms)\r\n[ RUN \u00a0 \u00a0 \u00a0] GrpcDataTest.TestDoExchangeConcurrency\r\n[ \u00a0 \u00a0 \u00a0 OK ] GrpcDataTest.TestDoExchangeConcurrency (5 ms)\r\n[ RUN \u00a0 \u00a0 \u00a0] GrpcDataTest.TestDoExchangeUndrained\r\n[ \u00a0 \u00a0 \u00a0 OK ] GrpcDataTest.TestDoExchangeUndrained (4 ms)\r\n[ RUN \u00a0 \u00a0 \u00a0] GrpcDataTest.TestIssue5095\r\n[ \u00a0 \u00a0 \u00a0 OK ] GrpcDataTest.TestIssue5095 (9 ms)\r\n[----------] 17 tests from GrpcDataTest (891 ms total)\r\n[----------] 7 tests from GrpcDoPutTest\r\n[ RUN \u00a0 \u00a0 \u00a0] GrpcDoPutTest.TestInts\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_definitions.cc:690: Failure\r\nFailed\r\n'writer->Close()' failed with Invalid: Expected app_metadata to be foo bar but got \\0L\ufffd\u0002\ufffd. gRPC client debug context: UNKNOWN:Error received from peer ipv4:127.0.0.1:52331 {grpc_message:\"Expected app_metadata to be foo bar but got \\x00L\\xf4\\x86\\x02\\xe0\\xa1\", grpc_status:3, created_time:\"2022-07-23T01:21:23.810734286+00:00\"}. Client context: OK\r\n[ \u00a0FAILED \u00a0] GrpcDoPutTest.TestInts (4 ms)\r\n[ RUN \u00a0 \u00a0 \u00a0] GrpcDoPutTest.TestFloats\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_definitions.cc:690: Failure\r\nFailed\r\n'writer->Close()' failed with Invalid: Expected app_metadata to be foo bar but got \\0<\ufffd\ufffd\u0002\ufffd. gRPC client debug context: UNKNOWN:Error received from peer ipv4:127.0.0.1:52333 {grpc_message:\"Expected app_metadata to be foo bar but got \\x00<\\xee\\xc6\\x02\\xe0\\xa1\", grpc_status:3, created_time:\"2022-07-23T01:21:23.815439591+00:00\"}. Client context: OK\r\n[ \u00a0FAILED \u00a0] GrpcDoPutTest.TestFloats (4 ms)\r\n[ RUN \u00a0 \u00a0 \u00a0] GrpcDoPutTest.TestEmptyBatch\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_definitions.cc:690: Failure\r\nFailed\r\n'writer->Close()' failed with Invalid: Expected app_metadata to be foo bar but got \\0\ufffd\ufffd\u0002\ufffd. gRPC client debug context: UNKNOWN:Error received from peer ipv4:127.0.0.1:52335 {grpc_message:\"Expected app_metadata to be foo bar but got \\x00\\x9c\\xef\\xa6\\x02\\xe0\\xa1\", grpc_status:3, created_time:\"2022-07-23T01:21:23.819872813+00:00\"}. Client context: OK\r\n[ \u00a0FAILED \u00a0] GrpcDoPutTest.TestEmptyBatch (4 ms)\r\n[ RUN \u00a0 \u00a0 \u00a0] GrpcDoPutTest.TestDicts\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_definitions.cc:690: Failure\r\nFailed\r\n'writer->Close()' failed with Invalid: Expected app_metadata to be foo bar but got \\0\\\ufffd\ufffd\u0002\ufffd. gRPC client debug context: UNKNOWN:Error received from peer ipv4:127.0.0.1:52337 {grpc_message:\"Expected app_metadata to be foo bar but got \\x00\\\\\\xf0\\xc6\\x02\\xe0\\xa1\", grpc_status:3, created_time:\"2022-07-23T01:21:23.824172893+00:00\"}. Client context: OK\r\n[ \u00a0FAILED \u00a0] GrpcDoPutTest.TestDicts (4 ms)\r\n[ RUN \u00a0 \u00a0 \u00a0] GrpcDoPutTest.TestLargeBatch\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_definitions.cc:690: Failure\r\nFailed\r\n'writer->Close()' failed with Invalid: Expected app_metadata to be foo bar but got \\0|\ufffd\u0002\ufffd. gRPC client debug context: UNKNOWN:Error received from peer ipv4:127.0.0.1:52339 {created_time:\"2022-07-23T01:21:24.001437714+00:00\", grpc_status:3, grpc_message:\"Expected app_metadata to be foo bar but got \\x00|\\xf2\\xa6\\x02\\xe0\\xa1\"}. Client context: OK\r\n[ \u00a0FAILED \u00a0] GrpcDoPutTest.TestLargeBatch (185 ms)\r\n[ RUN \u00a0 \u00a0 \u00a0] GrpcDoPutTest.TestSizeLimit\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_definitions.cc:802: Failure\r\nFailed\r\n'writer->Close()' failed with Invalid: Expected app_metadata to be foo bar but got \\0\\\ufffd,\u0007\ufffd. gRPC client debug context: UNKNOWN:Error received from peer ipv4:127.0.0.1:52341 {grpc_message:\"Expected app_metadata to be foo bar but got \\x00\\\\\\xef,\\x07\\xe0\\xa1\", grpc_status:3, created_time:\"2022-07-23T01:21:24.016917836+00:00\"}. Client context: OK\r\n[ \u00a0FAILED \u00a0] GrpcDoPutTest.TestSizeLimit (8 ms)\r\n[ RUN \u00a0 \u00a0 \u00a0] GrpcDoPutTest.TestUndrained\r\nD:/a/arrow/arrow/cpp/src/arrow/flight/test_definitions.cc:690: Failure\r\nFailed\r\n'writer->Close()' failed with Invalid: Expected app_metadata to be foo bar but got \\0\ufffd\ufffd\u0002\ufffd. gRPC client debug context: UNKNOWN:Error received from peer ipv4:127.0.0.1:52343 {created_time:\"2022-07-23T01:21:24.022330532+00:00\", grpc_status:3, grpc_message:\"Expected app_metadata to be foo bar but got \\x00\\xac\\xee\\xa6\\x02\\xe0\\xa1\"}. Client context: OK\r\n[ \u00a0FAILED \u00a0] GrpcDoPutTest.TestUndrained (4 ms) {noformat}",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "40m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 2400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] MinGW Flight tests failing ",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13473058/comment/17570521",
                    "id": "17570521",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "What I currently see: calling {{make_shared}} and passing the existing {{shared_ptr<Buffer>}} to slice a buffer also overwrites the data in the buffer, since the newly allocated buffer (or {{shared_ptr}} control structure?) overlaps the allocated gRPC buffer. The reason is unclear\u2026",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2022-07-24T18:02:04.801+0000",
                    "updated": "2022-07-24T18:36:07.519+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13473058/comment/17570526",
                    "id": "17570526",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "The reason is that: sometimes (most times!) gRPC hands us a noncontiguous set of slices, which we have to concatenate into a single memory region to use with Flight. We use a gRPC function to do this. Also, slices can inline the data into the structure directly for small slices. It turns out that after concatenation, we can still get an inlined slice, which we weren't properly accounting for. And then the inlined slice would have its data overwritten when we sliced the buffer. I'm unclear why this is the case, though.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2022-07-24T18:20:41.101+0000",
                    "updated": "2022-07-24T18:36:23.210+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13473058/comment/17570532",
                    "id": "17570532",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "{noformat}\r\nThread 8 hit Watchpoint 2: *(uint8_t*) 0x509bfe569Old value = 26 '\\032'\r\nNew value = 169 '\u2592'\r\n0x00007ffa24604f88 in ?? () from C:\\msys64\\mingw64\\bin\\libstdc++-6.dll\r\n(gdb) bt\r\n#0 \u00a00x00007ffa24604f88 in ?? () from C:\\msys64\\mingw64\\bin\\libstdc++-6.dll\r\n#1 \u00a00x00007ffa2470a95c in ?? () from C:\\msys64\\mingw64\\bin\\libstdc++-6.dll\r\n#2 \u00a00x00007ff9dfb09f7d in std::__new_allocator<std::_Sp_counted_ptr_inplace<arrow::Buffer, std::allocator<void>, (__gnu_cxx::_Lock_policy)2> >::allocate (\r\n\u00a0 \u00a0 this=0x509bfe67f, __n=1)\r\n\u00a0 \u00a0 at C:/msys64/mingw64/include/c++/12.1.0/bits/new_allocator.h:137\r\n#3 \u00a00x00007ff9dfb10eb6 in std::allocator_traits<std::allocator<std::_Sp_counted_ptr_inplace<arrow::Buffer, std::allocator<void>, (__gnu_cxx::_Lock_policy)2> > >::allocate (__a=..., __n=1)\r\n\u00a0 \u00a0 at C:/msys64/mingw64/include/c++/12.1.0/bits/alloc_traits.h:464\r\n#4 \u00a00x00007ff9dfb30691 in std::__allocate_guarded<std::allocator<std::_Sp_counted_ptr_inplace<arrow::Buffer, std::allocator<void>, (__gnu_cxx::_Lock_policy)2> > > (__a=...) at C:/msys64/mingw64/include/c++/12.1.0/bits/allocated_ptr.h:98\r\n#5 \u00a00x00007ff9dfb055a3 in std::__shared_count<(__gnu_cxx::_Lock_policy)2>::__shared_count<arrow::Buffer, std::allocator<void>, std::shared_ptr<arrow::Buffer> const&, long long const&, long long const&> (this=0x509bfe848,\r\n\u00a0 \u00a0 __p=@0x509bfe840: 0x0, __a=...)\r\n\u00a0 \u00a0 at C:/msys64/mingw64/include/c++/12.1.0/bits/shared_ptr_base.h:969\r\n#6 \u00a00x00007ff9dfafc2e0 in std::__shared_ptr<arrow::Buffer, (__gnu_cxx::_Lock_policy)2>::__shared_ptr<std::allocator<void>, std::shared_ptr<arrow::Buffer> const&, long long const&, long long const&> (this=0x509bfe840, __tag=...)\r\n\u00a0 \u00a0 at C:/msys64/mingw64/include/c++/12.1.0/bits/shared_ptr_base.h:1712\r\n#7 \u00a00x00007ff9dfaefb38 in std::shared_ptr<arrow::Buffer>::shared_ptr<std::allocator<void>, std::shared_ptr<arrow::Buffer> const&, long long const&, long long const&> (this=0x509bfe840, __tag=...)\r\n\u00a0 \u00a0 at C:/msys64/mingw64/include/c++/12.1.0/bits/shared_ptr.h:464\r\n#8 \u00a00x00007ff9dfb2bc5a in std::make_shared<arrow::Buffer, std::shared_ptr<arrow::Buffer> const&, long long const&, long long const&> ()\r\n\u00a0 \u00a0 at C:/msys64/mingw64/include/c++/12.1.0/bits/shared_ptr.h:1010\r\n#9 \u00a00x00007ff9dfa79401 in arrow::SliceBuffer (\r\n\u00a0 \u00a0 buffer=std::shared_ptr<arrow::Buffer> (use count 1, weak count 0) = {...}, offset=2, length=7) at C:/msys64/home/User/arrow/cpp/src/arrow/buffer.h:324\r\n#10 0x00007ff9dfa7946a in arrow::flight::transport::grpc::ReadBytesZeroCopy (\r\n\u00a0 \u00a0 source_data=std::shared_ptr<arrow::Buffer> (use count 1, weak count 0) = {...}, input=0x509bfe960, out=0x1ace67a3020)\r\n\u00a0 \u00a0 at C:/msys64/home/User/arrow/cpp/src/arrow/flight/transport/grpc/serialization_internal.cc:83\r\n#11 0x00007ff9dfa7ac8f in arrow::flight::transport::grpc::FlightDataDeserialize (buffer=0x509bfed58, out=0x1ace67a3008)\r\n\u00a0 \u00a0 at C:/msys64/home/User/arrow/cpp/src/arrow/flight/transport/grpc/serialization_internal.cc:366\r\n#12 0x00007ff9dfa943fb in grpc::SerializationTraits<arrow::flight::protocol::FlightData, void>::Deserialize (buffer=0x509bfed58, msg=0x1ace67a3008)\r\n\u00a0 \u00a0 at C:/msys64/home/User/arrow/cpp/src/arrow/flight/transport/grpc/customize_grpc.h:102\r\n#13 0x00007ff9dfa9a651 in grpc::internal::CallOpRecvMessage<arrow::flight::protocol::FlightData>::FinishOp (this=0x509bfed48, status=0x509bfecef)\r\n\u00a0 \u00a0 at C:/msys64/mingw64/include/grpcpp/impl/codegen/call_op_set.h:456\r\n {noformat}",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2022-07-24T18:37:30.042+0000",
                    "updated": "2022-07-24T18:37:30.042+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13473058/comment/17570581",
                    "id": "17570581",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kou",
                        "name": "kou",
                        "key": "kou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kou&avatarId=30762",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kou&avatarId=30762",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kou&avatarId=30762",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kou&avatarId=30762"
                        },
                        "displayName": "Kouhei Sutou",
                        "active": true,
                        "timeZone": "Asia/Tokyo"
                    },
                    "body": "Issue resolved by pull request 13696\n[https://github.com/apache/arrow/pull/13696]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kou",
                        "name": "kou",
                        "key": "kou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kou&avatarId=30762",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kou&avatarId=30762",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kou&avatarId=30762",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kou&avatarId=30762"
                        },
                        "displayName": "Kouhei Sutou",
                        "active": true,
                        "timeZone": "Asia/Tokyo"
                    },
                    "created": "2022-07-25T02:31:29.236+0000",
                    "updated": "2022-07-25T02:31:29.236+0000"
                }
            ],
            "maxResults": 4,
            "total": 4,
            "startAt": 0
        },
        "customfield_12311820": "0|z17468:",
        "customfield_12314139": null
    }
}