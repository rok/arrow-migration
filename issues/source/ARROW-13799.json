{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13398278",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278",
    "key": "ARROW-13799",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12350323",
                "id": "12350323",
                "description": "",
                "name": "6.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-10-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/2",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.svg",
            "name": "Critical",
            "id": "2"
        },
        "labels": [
            "good-second-issue",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=dragosmg",
            "name": "dragosmg",
            "key": "dragosmg",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34061",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34061",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34061",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34061"
            },
            "displayName": "Drago\u0219 Moldovan-Gr\u00fcnfeld",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 10200,
            "total": 10200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 10200,
            "total": 10200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-13799/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 17,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665590",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg opened a new pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417\n\n\n   The approach I propose is simple - add an `abort()` if there is a `try-error` in the evaluated RHS of the `case_when()`. This error is then handled my `mutate()` which captures the call, forces a `collect()` and re-evaluates the `case_when()` call as a regular {dplyr} call. \r\n   \r\n   There are a couple of potential implications for this \u261d\ud83c\udffb approach:\r\n   * we are working with the assumption that `case_when()` is only used inside `mutate()` and relying on `mutate()` to handle the error (via `abandon_ship()`).\r\n   * the error is not captured at `case_when()` level (which would be a bit more informative), but rather at `mutate()` level (when it becomes a bit less specific, i.e. one-step removed). The error message at `case_when()` level is not surfaced. \r\n   \r\n   ``` r\r\n     record_batch(tbl) %>% \r\n       mutate(\r\n         cw = case_when(!(!(!(lgl))) ~ factor(chr), \r\n                        TRUE ~ fct)\r\n       ) %>%\r\n       collect()\r\n   \r\n   Warning: Expression case_when(!(!(!(lgl))) ~ factor(chr), TRUE ~ fct) not \r\n   supported in Arrow; pulling data into R\r\n   # A tibble: 10 \u00d7 8\r\n        int   dbl  dbl2 lgl   false chr   fct   cw   \r\n      <int> <dbl> <dbl> <lgl> <lgl> <chr> <fct> <fct>\r\n    1     1   1.1     5 TRUE  FALSE a     a     a    \r\n    2     2   2.1     5 NA    FALSE b     b     b    \r\n    3     3   3.1     5 TRUE  FALSE c     c     c    \r\n    4    NA   4.1     5 FALSE FALSE d     d     d    \r\n    5     5   5.1     5 TRUE  FALSE e     NA    NA   \r\n    6     6   6.1     5 NA    FALSE NA    NA    NA   \r\n    7     7   7.1     5 NA    FALSE g     g     g    \r\n    8     8   8.1     5 FALSE FALSE h     h     h    \r\n    9     9  NA       5 FALSE FALSE i     i     i    \r\n   10    10  10.1     5 NA    FALSE j     j     j\r\n   \r\n   ```\r\n   \r\n   <sup>Created on 2021-10-14 by the [reprex package](https://reprex.tidyverse.org) (v2.0.1)</sup>\r\n    \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T09:46:36.658+0000",
                    "updated": "2021-10-14T09:46:36.658+0000",
                    "started": "2021-10-14T09:46:36.658+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665590",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665591",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#discussion_r728817662\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-funcs-conditional.R\n##########\n@@ -268,14 +268,15 @@ test_that(\"case_when()\", {\n       collect(),\n     tbl\n   )\n-  skip(\"ARROW-13799: factor() should error but instead we get a string error message in its place\")\n+  # skip(\"ARROW-13799: factor() should error but instead we get a string error message in its place\")\n\nReview comment:\n       Happy to delete this line if the PR looks OK. \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T09:47:10.949+0000",
                    "updated": "2021-10-14T09:47:10.949+0000",
                    "started": "2021-10-14T09:47:10.949+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665591",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665592",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#discussion_r728817662\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-funcs-conditional.R\n##########\n@@ -268,14 +268,15 @@ test_that(\"case_when()\", {\n       collect(),\n     tbl\n   )\n-  skip(\"ARROW-13799: factor() should error but instead we get a string error message in its place\")\n+  # skip(\"ARROW-13799: factor() should error but instead we get a string error message in its place\")\n\nReview comment:\n       Happy to delete this comment if the PR looks OK. \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T09:47:26.319+0000",
                    "updated": "2021-10-14T09:47:26.319+0000",
                    "started": "2021-10-14T09:47:26.319+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665592",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665593",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#issuecomment-943195095\n\n\n   https://issues.apache.org/jira/browse/ARROW-13799\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T09:47:49.657+0000",
                    "updated": "2021-10-14T09:47:49.657+0000",
                    "started": "2021-10-14T09:47:49.657+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665593",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665599",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic commented on a change in pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#discussion_r728835299\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-funcs-conditional.R\n##########\n@@ -268,14 +268,15 @@ test_that(\"case_when()\", {\n       collect(),\n     tbl\n   )\n-  skip(\"ARROW-13799: factor() should error but instead we get a string error message in its place\")\n+  # skip(\"ARROW-13799: factor() should error but instead we get a string error message in its place\")\n   expect_dplyr_equal(\n     input %>%\n       mutate(\n         cw = case_when(!(!(!(lgl))) ~ factor(chr), TRUE ~ fct)\n       ) %>%\n       collect(),\n-    tbl\n+    tbl,\n+    warning = \"case_when\"\n\nReview comment:\n       What warning message is produced here? Could you use warning = `TRUE` or is that not applicable in this case? (Genuinely asking, haven't run the code!)\n\n##########\nFile path: r/tests/testthat/test-dplyr-funcs-conditional.R\n##########\n@@ -268,14 +268,15 @@ test_that(\"case_when()\", {\n       collect(),\n     tbl\n   )\n-  skip(\"ARROW-13799: factor() should error but instead we get a string error message in its place\")\n+  # skip(\"ARROW-13799: factor() should error but instead we get a string error message in its place\")\n\nReview comment:\n       Instead of commenting out the skip message, please could you remove it entirely, create a JIRA for implementing the functionality (if one doesn't exist already - may need to search), and then add a TODO above in a comment referencing the JIRA.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T10:11:13.233+0000",
                    "updated": "2021-10-14T10:11:13.233+0000",
                    "started": "2021-10-14T10:11:13.232+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665599",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665601",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic commented on a change in pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#discussion_r728835299\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-funcs-conditional.R\n##########\n@@ -268,14 +268,15 @@ test_that(\"case_when()\", {\n       collect(),\n     tbl\n   )\n-  skip(\"ARROW-13799: factor() should error but instead we get a string error message in its place\")\n+  # skip(\"ARROW-13799: factor() should error but instead we get a string error message in its place\")\n   expect_dplyr_equal(\n     input %>%\n       mutate(\n         cw = case_when(!(!(!(lgl))) ~ factor(chr), TRUE ~ fct)\n       ) %>%\n       collect(),\n-    tbl\n+    tbl,\n+    warning = \"case_when\"\n\nReview comment:\n       What warning message is produced here? Could you use warning = `TRUE` or is that not applicable in this case?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T10:11:59.703+0000",
                    "updated": "2021-10-14T10:11:59.703+0000",
                    "started": "2021-10-14T10:11:59.703+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665601",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665608",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#discussion_r728845173\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-funcs-conditional.R\n##########\n@@ -268,14 +268,15 @@ test_that(\"case_when()\", {\n       collect(),\n     tbl\n   )\n-  skip(\"ARROW-13799: factor() should error but instead we get a string error message in its place\")\n+  # skip(\"ARROW-13799: factor() should error but instead we get a string error message in its place\")\n\nReview comment:\n       Technically this PR solves the ARROW-13799 issue. It's not an issue with `factor()` (which we haven't implemented yet). A separate issue for `as.factor()` exists (ARROW-12632). I think the comment can simply be deleted.  I've also replaced `warning = \"case_when\"` with `warning = TRUE`.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T10:24:00.671+0000",
                    "updated": "2021-10-14T10:24:00.671+0000",
                    "started": "2021-10-14T10:24:00.671+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665608",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665695",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#discussion_r729053722\n\n\n\n##########\nFile path: r/R/dplyr-functions.R\n##########\n@@ -915,6 +915,9 @@ nse_funcs$case_when <- function(...) {\n     if (!nse_funcs$is.logical(query[[i]])) {\n       abort(\"Left side of each formula in case_when() must be a logical expression\")\n     }\n+    if (inherits(value[[i]], \"try-error\")) {\n+      abort(\"There is an error in the right side of the case_when() formula\")\n\nReview comment:\n       This is minor, but I wonder if it should be phrased to match the error above:\r\n   \r\n   \"Right side of formula raised an error: \" and then also include that `value[[i]]` so that someone could see what the problem was\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T14:42:34.285+0000",
                    "updated": "2021-10-14T14:42:34.285+0000",
                    "started": "2021-10-14T14:42:34.285+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665695",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665697",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#discussion_r729059333\n\n\n\n##########\nFile path: r/R/dplyr-functions.R\n##########\n@@ -915,6 +915,9 @@ nse_funcs$case_when <- function(...) {\n     if (!nse_funcs$is.logical(query[[i]])) {\n       abort(\"Left side of each formula in case_when() must be a logical expression\")\n     }\n+    if (inherits(value[[i]], \"try-error\")) {\n+      abort(\"There is an error in the right side of the case_when() formula\")\n\nReview comment:\n       We could, but this would be mostly developer-facing since the error message doesn't get propagated as it is intercepted by `mutate()` which throws its own message and then falls back to `abandon_ship()`.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T14:45:51.581+0000",
                    "updated": "2021-10-14T14:45:51.581+0000",
                    "started": "2021-10-14T14:45:51.581+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665697",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665702",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#discussion_r729064629\n\n\n\n##########\nFile path: r/R/dplyr-functions.R\n##########\n@@ -915,6 +915,9 @@ nse_funcs$case_when <- function(...) {\n     if (!nse_funcs$is.logical(query[[i]])) {\n       abort(\"Left side of each formula in case_when() must be a logical expression\")\n     }\n+    if (inherits(value[[i]], \"try-error\")) {\n+      abort(\"There is an error in the right side of the case_when() formula\")\n\nReview comment:\n       Hmm, then we might need to do a bit more here. what does the warning look like when that happens? \r\n   \r\n   For the pure-mutate version, we get a clear indicator of _what_ is not supported so that the developer could address it:\r\n   \r\n   ```\r\n   > library(dplyr, warn.conflicts = FALSE)\r\n   > ds <- InMemoryDataset$create(mtcars)\r\n   > ds %>% \r\n   +   mutate(fct = factor(gear)) %>% \r\n   +   collect()\r\n   Warning: Expression factor(gear) not supported in Arrow; pulling data into R\r\n   ...\r\n   ```\r\n   \r\n   I would hope that we would get something similar here too, if possible.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T14:50:56.175+0000",
                    "updated": "2021-10-14T14:50:56.175+0000",
                    "started": "2021-10-14T14:50:56.175+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665702",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665704",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#discussion_r729072998\n\n\n\n##########\nFile path: r/R/dplyr-functions.R\n##########\n@@ -915,6 +915,9 @@ nse_funcs$case_when <- function(...) {\n     if (!nse_funcs$is.logical(query[[i]])) {\n       abort(\"Left side of each formula in case_when() must be a logical expression\")\n     }\n+    if (inherits(value[[i]], \"try-error\")) {\n+      abort(\"There is an error in the right side of the case_when() formula\")\n\nReview comment:\n       Any error generated inside `case_when()` is ignored when we call `case_when()` inside `mutate()`, which clocks the error and issues its own interpretation of what is going on. Not quite sure how to surface the `case_when()` error information. \r\n   \r\n   This is the error we would be getting from this implementation (I made a comment about it in the PR description):\r\n   \r\n   ```\r\n   Warning: Expression case_when(!(!(!(lgl))) ~ factor(chr), TRUE ~ fct) not supported in Arrow; \r\n   pulling data into R\r\n   ```\r\n   \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T14:59:29.322+0000",
                    "updated": "2021-10-14T14:59:29.322+0000",
                    "started": "2021-10-14T14:59:29.321+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665704",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665717",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#discussion_r729089782\n\n\n\n##########\nFile path: r/R/dplyr-functions.R\n##########\n@@ -915,6 +915,9 @@ nse_funcs$case_when <- function(...) {\n     if (!nse_funcs$is.logical(query[[i]])) {\n       abort(\"Left side of each formula in case_when() must be a logical expression\")\n     }\n+    if (inherits(value[[i]], \"try-error\")) {\n+      abort(\"There is an error in the right side of the case_when() formula\")\n\nReview comment:\n       Ah ok, that's better than what I was fearing (that we were getting something like \"Warning: There is an error in the right side of the case_when() formula not supported in Arrow; pulling data into R\"). \r\n   \r\n   I think this is ok as it is \u2014 it would be _nice_ to highlight which part fo that expression is problematic, but that's a lot more complicated (and not even supported in the standard flow anyway, see below)\r\n   \r\n   ```\r\n   > ds %>% \r\n   +   mutate(fct = is.logical(1 + factor(gear)))\r\n   Warning: Expression is.logical(1 + factor(gear)) not supported in Arrow; pulling data into R\r\n   ```\r\n   \r\n   \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T15:17:41.994+0000",
                    "updated": "2021-10-14T15:17:41.994+0000",
                    "started": "2021-10-14T15:17:41.993+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665717",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665725",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#discussion_r729095034\n\n\n\n##########\nFile path: r/R/dplyr-functions.R\n##########\n@@ -915,6 +915,9 @@ nse_funcs$case_when <- function(...) {\n     if (!nse_funcs$is.logical(query[[i]])) {\n       abort(\"Left side of each formula in case_when() must be a logical expression\")\n     }\n+    if (inherits(value[[i]], \"try-error\")) {\n+      abort(\"There is an error in the right side of the case_when() formula\")\n\nReview comment:\n       Yes, 100% agree. Initially I tried to pinpoint the problem, but it's a bit more difficult. The other thing (related to this): do we want `case_when()` to work outside `mutate()`? Currently it doesn't. Error handling could be improved if we make `case_when()` stand alone, similar to the {dplyr} behaviour\r\n   \r\n   ```\r\n   library(dplyr)\r\n   \r\n   num_vec <- c(1:3, 5:8)\r\n   \r\n   case_when(num_vec < 4 ~ \"less than 4\", TRUE ~ \"greater than 4\")\r\n   ```          \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T15:23:12.672+0000",
                    "updated": "2021-10-14T15:23:12.672+0000",
                    "started": "2021-10-14T15:23:12.671+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665725",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665730",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#issuecomment-943479834\n\n\n   @jonkeane Initially the test (`expect_dplyr_equal()`) had `warning = \"case_when\"` to indicate we are expecting a `case_when`-related error. Do you think it's worth having that or should we stick with `warning = TRUE`? \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T15:41:09.973+0000",
                    "updated": "2021-10-14T15:41:09.973+0000",
                    "started": "2021-10-14T15:41:09.973+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665730",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665731",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg edited a comment on pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#issuecomment-943479834\n\n\n   @jonkeane Initially the test (`expect_dplyr_equal(...)`) had `warning = \"case_when\"` to indicate we are expecting a `case_when`-related error. Do you think it's worth having that or should we stick with `warning = TRUE`? \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T15:41:23.282+0000",
                    "updated": "2021-10-14T15:41:23.282+0000",
                    "started": "2021-10-14T15:41:23.282+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665731",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665742",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#issuecomment-943499856\n\n\n   I think that keeping it with `warning = TRUE` is fine \u2014 we do want to make sure it has our standard not-implemented error\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-14T16:05:25.388+0000",
                    "updated": "2021-10-14T16:05:25.388+0000",
                    "started": "2021-10-14T16:05:25.387+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665742",
                    "issueId": "13398278"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/worklog/665823",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ursabot edited a comment on pull request #11417:\nURL: https://github.com/apache/arrow/pull/11417#issuecomment-943667221\n\n\n   Benchmark runs are scheduled for baseline = 6fa1a72ee63ca90070698b0c73eea8e12b164353 and contender = 268f9b9d852b8c7fa747fa4c43964c5ee18de1f0. 268f9b9d852b8c7fa747fa4c43964c5ee18de1f0 is a master commit associated with this PR. Results will be available as each benchmark for each run completes.\n   Conbench compare runs links:\n   [Finished :arrow_down:0.0% :arrow_up:0.0%] [ec2-t3-xlarge-us-east-2](https://conbench.ursa.dev/compare/runs/0461edf0f7e8403187f5857547cf123e...20081d56c74347f0ad9d0ff2798173de/)\n   [Finished :arrow_down:0.51% :arrow_up:0.0%] [ursa-i9-9960x](https://conbench.ursa.dev/compare/runs/0202e43c74e24e84845fb8cff30480bf...dc0741bd4e3647259acccd63c9ec3120/)\n   [Finished :arrow_down:0.09% :arrow_up:0.13%] [ursa-thinkcentre-m75q](https://conbench.ursa.dev/compare/runs/a7aed4d86039485abdbe473a924e8033...13ed3a2334314a00ba8aed72d885ed01/)\n   Supported benchmarks:\n   ursa-i9-9960x: langs = Python, R, JavaScript\n   ursa-thinkcentre-m75q: langs = C++, Java\n   ec2-t3-xlarge-us-east-2: cloud = True\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-17T00:36:27.418+0000",
                    "updated": "2021-10-17T00:36:27.418+0000",
                    "started": "2021-10-17T00:36:27.418+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "665823",
                    "issueId": "13398278"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 10200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@289654ec[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@205a76db[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7d6a9ab4[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@e75d76c[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@70f083[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@6bc68eba[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4250164c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@62be77dd[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@654d77e1[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3a2186ac[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@788115d2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@69908580[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 10200,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Oct 14 19:37:25 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-10-14T19:37:24.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-13799/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2021-08-30T17:26:04.000+0000",
        "updated": "2021-10-17T00:36:28.000+0000",
        "timeoriginalestimate": null,
        "description": "This test, now unskipped since case_when supports string data, fails:\r\n\r\n{code}\r\n  expect_dplyr_equal(\r\n    input %>%\r\n      mutate(\r\n        cw = case_when(!(!(!(lgl))) ~ factor(chr), TRUE ~ fct)\r\n      ) %>%\r\n      collect(),\r\n    tbl\r\n  )\r\n{code}\r\n\r\nOn inspection, it seems that `factor(chr)` is hitting `base::factor()`, which tries to call `unique()` on the Expression and that fails with \"unique() applies only to vectors\". This is getting propagated through to the resulting dataset column because `arrow_eval()` returns a `try-error` on error and `nse_funcs$case_when()` isn't checking for errors.\r\n\r\ncc [~icook]",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 10200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] case_when error handling is capturing strings",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/comment/17408969",
                    "id": "17408969",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=icook",
                        "name": "icook",
                        "key": "icook",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=icook&avatarId=29388",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=icook&avatarId=29388",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=icook&avatarId=29388",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=icook&avatarId=29388"
                        },
                        "displayName": "Ian Cook",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Related to this: we have a binding for {{as.factor()}} that calls the {{dictionary_encode}} kernel. I would expect that using {{as.factor()}} instead of {{factor()}} would solve this, but instead it throws this error:\r\n{code:java}\r\n Error: Invalid: ExecuteScalarExpression cannot Execute non-scalar expression case_when({1=invert(invert(invert(lgl))), 2=true}, cast(dictionary_encode(chr, {null_encoding_behavior=MASK}), {to_type=string, allow_int_overflow=false, allow_time_truncate=false, allow_time_overflow=false, allow_decimal_truncate=false, allow_float_truncate=false, allow_invalid_utf8=false}), cast(fct, {to_type=string, allow_int_overflow=false, allow_time_truncate=false, allow_time_overflow=false, allow_decimal_truncate=false, allow_float_truncate=false, allow_invalid_utf8=false}))  {code}\r\nReducing this down to a simpler example:\r\n{code:java}\r\n> Table$create(tbl) %>% mutate(as.factor(chr)) %>% collect()\r\n\r\nError: Invalid: ExecuteScalarExpression cannot Execute non-scalar expression dictionary_encode(chr, {null_encoding_behavior=MASK})  {code}\r\nSo it looks like something is going wrong with passing the {{null_encoding_behavior}} option to the {{dictionary_encode}} kernel.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=icook",
                        "name": "icook",
                        "key": "icook",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=icook&avatarId=29388",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=icook&avatarId=29388",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=icook&avatarId=29388",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=icook&avatarId=29388"
                        },
                        "displayName": "Ian Cook",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-09-02T16:37:32.101+0000",
                    "updated": "2021-09-02T16:37:32.101+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/comment/17408971",
                    "id": "17408971",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Yep that's ARROW-12632",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2021-09-02T16:38:54.993+0000",
                    "updated": "2021-09-02T16:38:54.993+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13398278/comment/17428992",
                    "id": "17428992",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
                        "name": "jonkeane",
                        "key": "jonkeane",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
                        },
                        "displayName": "Jonathan Keane",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Issue resolved by pull request 11417\n[https://github.com/apache/arrow/pull/11417]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
                        "name": "jonkeane",
                        "key": "jonkeane",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
                        },
                        "displayName": "Jonathan Keane",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2021-10-14T19:37:25.059+0000",
                    "updated": "2021-10-14T19:37:25.059+0000"
                }
            ],
            "maxResults": 3,
            "total": 3,
            "startAt": 0
        },
        "customfield_12311820": "0|z0ufdc:",
        "customfield_12314139": null
    }
}