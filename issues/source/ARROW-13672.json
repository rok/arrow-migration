{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13396028",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396028",
    "key": "ARROW-13672",
    "fields": {
        "fixVersions": [],
        "resolution": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "beginner",
            "good-first-issue",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349983",
                "id": "12349983",
                "description": "",
                "name": "5.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-07-28"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12621411",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12621411",
                "type": {
                    "id": "12310000",
                    "name": "Duplicate",
                    "inward": "is duplicated by",
                    "outward": "duplicates",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"
                },
                "inwardIssue": {
                    "id": "13396029",
                    "key": "ARROW-13673",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396029",
                    "fields": {
                        "summary": "[C++] BinaryBuilder doesn't preserve passed in DataType",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
                            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
                            "name": "Closed",
                            "id": "6",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
                            "name": "Minor",
                            "id": "4"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
                            "id": "1",
                            "description": "A problem which impairs or prevents the functions of the product.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
                            "name": "Bug",
                            "subtask": false,
                            "avatarId": 21133
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/3",
            "description": "This issue is being actively worked on at the moment by the assignee.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png",
            "name": "In Progress",
            "id": "3",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4",
                "id": 4,
                "key": "indeterminate",
                "colorName": "yellow",
                "name": "In Progress"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=emkornfield",
            "name": "emkornfield",
            "key": "emkornfield",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Micah Kornfield",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=emkornfield",
            "name": "emkornfield",
            "key": "emkornfield",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Micah Kornfield",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 3000,
            "total": 3000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 3000,
            "total": 3000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-13672/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 5,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396028/worklog/693281",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #11910:\nURL: https://github.com/apache/arrow/pull/11910#issuecomment-989902032\n\n\n   https://issues.apache.org/jira/browse/ARROW-13672\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-09T14:27:39.754+0000",
                    "updated": "2021-12-09T14:27:39.754+0000",
                    "started": "2021-12-09T14:27:39.753+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "693281",
                    "issueId": "13396028"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396028/worklog/693282",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] removed a comment on pull request #11910:\nURL: https://github.com/apache/arrow/pull/11910#issuecomment-989503637\n\n\n   https://issues.apache.org/jira/browse/ARROW-13762\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-09T14:27:52.560+0000",
                    "updated": "2021-12-09T14:27:52.560+0000",
                    "started": "2021-12-09T14:27:52.559+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "693282",
                    "issueId": "13396028"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396028/worklog/693293",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on a change in pull request #11910:\nURL: https://github.com/apache/arrow/pull/11910#discussion_r765845229\n\n\n\n##########\nFile path: cpp/src/arrow/array/builder_binary.h\n##########\n@@ -51,10 +51,12 @@ class BaseBinaryBuilder : public ArrayBuilder {\n   using offset_type = typename TypeClass::offset_type;\n \n   explicit BaseBinaryBuilder(MemoryPool* pool = default_memory_pool())\n-      : ArrayBuilder(pool), offsets_builder_(pool), value_data_builder_(pool) {}\n+      : ArrayBuilder(pool), offsets_builder_(pool),\n+        value_data_builder_(pool), type_(binary()) {}\n \n   BaseBinaryBuilder(const std::shared_ptr<DataType>& type, MemoryPool* pool)\n-      : BaseBinaryBuilder(pool) {}\n+      : ArrayBuilder(pool), offsets_builder_(pool),\n+        value_data_builder_(pool), type_(type) {}\n\nReview comment:\n       Please make this constructor `protected`; this will make it clearer that BaseBinaryBuilder is intended for use by subclasses only\n\n##########\nFile path: cpp/src/arrow/array/builder_binary.h\n##########\n@@ -396,52 +401,62 @@ class BaseBinaryBuilder : public ArrayBuilder {\n /// \\brief Builder class for variable-length binary data\n class ARROW_EXPORT BinaryBuilder : public BaseBinaryBuilder<BinaryType> {\n  public:\n-  using BaseBinaryBuilder::BaseBinaryBuilder;\n+  explicit BinaryBuilder(MemoryPool* pool = default_memory_pool())\n+      : BaseBinaryBuilder(binary(), pool) {}\n+\n+  BinaryBuilder(const std::shared_ptr<DataType> &type, MemoryPool *pool)\n+      : BaseBinaryBuilder(type, pool) {}\n\nReview comment:\n       For this constructor and the other constructors below which accept an explicit type, please do one of:\r\n   - delete them\r\n   - make them protected as well\r\n   - rewrite them to `BinaryBuilder(const std::shared_ptr<ExtensionType> &type, MemoryPool *pool = default_memory_pool())`, since the only valid case I can see for allowing public construction of a `BinaryBuilder` with an output type other than `binary()` is building an extension array (which AFAICT is not used anywhere nor is it tested so my preference would be deletion for now)\n\n##########\nFile path: cpp/src/arrow/array/builder_binary.h\n##########\n@@ -51,10 +51,12 @@ class BaseBinaryBuilder : public ArrayBuilder {\n   using offset_type = typename TypeClass::offset_type;\n \n   explicit BaseBinaryBuilder(MemoryPool* pool = default_memory_pool())\n-      : ArrayBuilder(pool), offsets_builder_(pool), value_data_builder_(pool) {}\n+      : ArrayBuilder(pool), offsets_builder_(pool),\n+        value_data_builder_(pool), type_(binary()) {}\n\nReview comment:\n       Please delete this constructor; I think it's more understandable if all subclasses of BaseBinaryBuilder are required to pass the resulting type\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_cast_string.cc\n##########\n@@ -58,7 +58,7 @@ struct NumericToStringCastFunctor {\n \n   static Status Convert(KernelContext* ctx, const ArrayData& input, ArrayData* output) {\n     FormatterType formatter(input.type);\n-    BuilderType builder(input.type, ctx->memory_pool());\n+    BuilderType builder(utf8(), ctx->memory_pool());\n\nReview comment:\n       IIUC, this will cause the output to be typed `utf8` even if we're casting to `large_utf8`. I think it's better to rely on the default constructor (which sets the correct output type without the need to be explicit):\r\n   \r\n   ```suggestion\r\n       BuilderType builder(ctx->memory_pool());\r\n   ```\r\n   \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-09T14:41:41.156+0000",
                    "updated": "2021-12-09T14:41:41.156+0000",
                    "started": "2021-12-09T14:41:41.155+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "693293",
                    "issueId": "13396028"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396028/worklog/693316",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "supunkamburugamuve commented on a change in pull request #11910:\nURL: https://github.com/apache/arrow/pull/11910#discussion_r765886962\n\n\n\n##########\nFile path: cpp/src/arrow/array/builder_binary.h\n##########\n@@ -396,52 +401,62 @@ class BaseBinaryBuilder : public ArrayBuilder {\n /// \\brief Builder class for variable-length binary data\n class ARROW_EXPORT BinaryBuilder : public BaseBinaryBuilder<BinaryType> {\n  public:\n-  using BaseBinaryBuilder::BaseBinaryBuilder;\n+  explicit BinaryBuilder(MemoryPool* pool = default_memory_pool())\n+      : BaseBinaryBuilder(binary(), pool) {}\n+\n+  BinaryBuilder(const std::shared_ptr<DataType> &type, MemoryPool *pool)\n+      : BaseBinaryBuilder(type, pool) {}\n\nReview comment:\n       This constructor is used in other places of the code with templates. It seems all the builders are expected to have this constructor. \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-09T15:16:27.754+0000",
                    "updated": "2021-12-09T15:16:27.754+0000",
                    "started": "2021-12-09T15:16:27.754+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "693316",
                    "issueId": "13396028"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396028/worklog/694752",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "supunkamburugamuve commented on a change in pull request #11910:\nURL: https://github.com/apache/arrow/pull/11910#discussion_r767308827\n\n\n\n##########\nFile path: cpp/src/arrow/array/builder_binary.h\n##########\n@@ -51,10 +51,12 @@ class BaseBinaryBuilder : public ArrayBuilder {\n   using offset_type = typename TypeClass::offset_type;\n \n   explicit BaseBinaryBuilder(MemoryPool* pool = default_memory_pool())\n-      : ArrayBuilder(pool), offsets_builder_(pool), value_data_builder_(pool) {}\n+      : ArrayBuilder(pool), offsets_builder_(pool),\n+        value_data_builder_(pool), type_(binary()) {}\n\nReview comment:\n       Done\n\n##########\nFile path: cpp/src/arrow/array/builder_binary.h\n##########\n@@ -51,10 +51,12 @@ class BaseBinaryBuilder : public ArrayBuilder {\n   using offset_type = typename TypeClass::offset_type;\n \n   explicit BaseBinaryBuilder(MemoryPool* pool = default_memory_pool())\n-      : ArrayBuilder(pool), offsets_builder_(pool), value_data_builder_(pool) {}\n+      : ArrayBuilder(pool), offsets_builder_(pool),\n+        value_data_builder_(pool), type_(binary()) {}\n \n   BaseBinaryBuilder(const std::shared_ptr<DataType>& type, MemoryPool* pool)\n-      : BaseBinaryBuilder(pool) {}\n+      : ArrayBuilder(pool), offsets_builder_(pool),\n+        value_data_builder_(pool), type_(type) {}\n\nReview comment:\n       Done\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_cast_string.cc\n##########\n@@ -58,7 +58,7 @@ struct NumericToStringCastFunctor {\n \n   static Status Convert(KernelContext* ctx, const ArrayData& input, ArrayData* output) {\n     FormatterType formatter(input.type);\n-    BuilderType builder(input.type, ctx->memory_pool());\n+    BuilderType builder(utf8(), ctx->memory_pool());\n\nReview comment:\n       Done\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-12T18:10:55.329+0000",
                    "updated": "2021-12-12T18:10:55.329+0000",
                    "started": "2021-12-12T18:10:55.328+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "694752",
                    "issueId": "13396028"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 3000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@38d81e21[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2bc1abaf[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5f4484e1[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@79fec075[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@44a7045d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@4e416f62[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@355989c7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@3a2b1a71[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@46d26485[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3ad3942[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7a438f41[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@1859eaea[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 3000,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Jul 12 14:04:30 UTC 2022",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": null,
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-13672/watchers",
            "watchCount": 5,
            "isWatching": true
        },
        "created": "2021-08-19T05:28:43.000+0000",
        "updated": "2022-07-12T14:04:30.000+0000",
        "timeoriginalestimate": null,
        "description": "There is a [constructor|https://github.com/apache/arrow/blob/1430c93f68960e10a50d27f465eb174e76ac06b2/cpp/src/arrow/array/builder_binary.h#L56] that takes a datatype for binary builder but it is discarded.\u00a0 When constructing an Array the type is always the value returned from type() [binary|https://github.com/apache/arrow/blob/1430c93f68960e10a50d27f465eb174e76ac06b2/cpp/src/arrow/array/builder_binary.h#L390]\r\n\r\nIf a consumer of the API wants to have an extension array this prevents them from passing the extension type though.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 3000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] BinaryBuilder doesn't preserve passed in DataType",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396028/comment/17453217",
                    "id": "17453217",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=supun",
                        "name": "supun",
                        "key": "supun",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"
                        },
                        "displayName": "Supun Kamburugamuva",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Should the solution be that we remove passing the type to the constructor?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=supun",
                        "name": "supun",
                        "key": "supun",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"
                        },
                        "displayName": "Supun Kamburugamuva",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-12-03T22:14:41.434+0000",
                    "updated": "2021-12-03T22:14:41.434+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396028/comment/17453257",
                    "id": "17453257",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "[~supun] probably the builder should store the given type and use it in [FinishInternal|https://github.com/apache/arrow/blob/1430c93f68960e10a50d27f465eb174e76ac06b2/cpp/src/arrow/array/builder_binary.h#L317] (and presumably in [type()|https://github.com/apache/arrow/blob/1430c93f68960e10a50d27f465eb174e76ac06b2/cpp/src/arrow/array/builder_binary.h#L390]).",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-12-04T00:36:10.018+0000",
                    "updated": "2021-12-04T00:36:10.018+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396028/comment/17454129",
                    "id": "17454129",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=supun",
                        "name": "supun",
                        "key": "supun",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"
                        },
                        "displayName": "Supun Kamburugamuva",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "The BaseBinaryBuilder has a constructor that accepts the type parameter but is not used. I think what the issue says is we should store this type and return it in the type() method.\u00a0\r\n\r\nSomeone using the BaseBinaryBuilder can override these two methods and achieve the same. So I'm thinking is there a value in implementing this? The FinishInternal is implemented correctly as it uses the type() method to get the type in a derived class.\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=supun",
                        "name": "supun",
                        "key": "supun",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"
                        },
                        "displayName": "Supun Kamburugamuva",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-12-06T16:51:19.072+0000",
                    "updated": "2021-12-06T16:51:19.072+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396028/comment/17454150",
                    "id": "17454150",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Users probably wouldn't use BaseBinaryBuilder directly, it's referenced because it's the base implementation for BinaryBuilder/StringBuilder/etc. I don't _think_ we should require users to override methods just to do something that the API suggests is already implemented. Also note [NumericBuilder|https://github.com/apache/arrow/blob/85b276dd13512d6676a0bc2dc703a0f9b6934236/cpp/src/arrow/array/builder_primitive.h#L84-L85] does store and use the given type.\r\n\r\nAs noted in the JIRA description, there is a use case for this: creating extension arrays (which have a custom logical type on top of an underlying physical type). Sure, the user could manually change the type after constructing the array or manually assemble the array, but that is more work.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-12-06T17:52:14.216+0000",
                    "updated": "2021-12-06T17:52:14.216+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396028/comment/17565660",
                    "id": "17565660",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=toddfarmer",
                        "name": "toddfarmer",
                        "key": "JIRAUSER288796",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39935",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39935",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39935",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39935"
                        },
                        "displayName": "Todd Farmer",
                        "active": true,
                        "timeZone": "America/Boise"
                    },
                    "body": "This issue was last updated over 90 days ago, which may be an indication it is no longer being actively worked. To better reflect the current state, the issue is being unassigned. Please feel free to re-take assignment of the issue if it is being actively worked, or if you plan to start that work soon.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=toddfarmer",
                        "name": "toddfarmer",
                        "key": "JIRAUSER288796",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39935",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39935",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39935",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39935"
                        },
                        "displayName": "Todd Farmer",
                        "active": true,
                        "timeZone": "America/Boise"
                    },
                    "created": "2022-07-12T14:04:30.037+0000",
                    "updated": "2022-07-12T14:04:30.037+0000"
                }
            ],
            "maxResults": 5,
            "total": 5,
            "startAt": 0
        },
        "customfield_12311820": "0|z0u1hs:",
        "customfield_12314139": null
    }
}