{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13128120",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120",
    "key": "ARROW-1962",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12341707",
                "id": "12341707",
                "description": "",
                "name": "0.9.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-03-19"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bryanc",
            "name": "bryanc",
            "key": "bryanc",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bryanc&avatarId=23479",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bryanc&avatarId=23479",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bryanc&avatarId=23479",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bryanc&avatarId=23479"
            },
            "displayName": "Bryan Cutler",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bryanc",
            "name": "bryanc",
            "key": "bryanc",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bryanc&avatarId=23479",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bryanc&avatarId=23479",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bryanc&avatarId=23479",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bryanc&avatarId=23479"
            },
            "displayName": "Bryan Cutler",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bryanc",
            "name": "bryanc",
            "key": "bryanc",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bryanc&avatarId=23479",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bryanc&avatarId=23479",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bryanc&avatarId=23479",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bryanc&avatarId=23479"
            },
            "displayName": "Bryan Cutler",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1962/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@5755ebb6[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@419931f4[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@11f70117[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@1969944c[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6b80aca2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@382ac787[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@11fc962c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@4462bbab[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2a69fa39[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@4491160c[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@31a9b544[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@60c7ff39[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Jan 05 21:09:55 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-01-05T21:09:55.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1962/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2018-01-03T00:54:53.000+0000",
        "updated": "2018-01-05T21:09:55.000+0000",
        "timeoriginalestimate": null,
        "description": "The {{reset()}} method exists in some ValueVectors but not all.  Its meaning is that it will bring the vector to an empty state, but not release any buffers (as opposed to clear() which resets and releases buffers).\r\n\r\nIt should be added to the {{ValueVector}} interface and implemented in the vector hierarchy where it currently is not. ",
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Java] Add reset() to ValueVector interface",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16308945",
                    "id": "16308945",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler opened a new pull request #1455: [WIP] ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455\n \n \n   Adding `reset()` to the ValueVector interface and implementing where it is not done already.  Removing unused abstract class BaseDataValueVector that is not used anymore by the UnionVector.\r\n   \r\n   WIP, should add some tests for reset if not there already.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-03T01:02:35.403+0000",
                    "updated": "2018-01-03T01:02:35.403+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16308949",
                    "id": "16308949",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia commented on a change in pull request #1455: [WIP] ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#discussion_r159348479\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/complex/BaseRepeatedValueVector.java\n ##########\n @@ -186,6 +186,12 @@ public void clear() {\n     super.clear();\n   }\n \n+  @Override\n+  public void reset() {\n+    vector.reset();\n \n Review comment:\n   I believe we should reset the offset vector too.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-03T01:07:44.984+0000",
                    "updated": "2018-01-03T01:07:44.984+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16308950",
                    "id": "16308950",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on issue #1455: [WIP] ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#issuecomment-354917163\n \n \n   ping @icexelloss @siddharthteotia , I found that `reset()` is implemented in some vector classes, but not part of the ValueVector interface.  It was being used in Spark prior to the refactoring, so it would be helpful to add to the common interface.  What do you guys think?\r\n   \r\n   Also, I noticed `BaseDataValueVector` seemed to be leftover from the refactoring and not used anywhere.  Is this being used by anyone downstream or safe to clean?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-03T01:07:51.656+0000",
                    "updated": "2018-01-03T01:07:51.656+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16308951",
                    "id": "16308951",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1455: [WIP] ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#discussion_r159348613\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/complex/BaseRepeatedValueVector.java\n ##########\n @@ -186,6 +186,12 @@ public void clear() {\n     super.clear();\n   }\n \n+  @Override\n+  public void reset() {\n+    vector.reset();\n \n Review comment:\n   zero out the buffer like this right?\r\n   `offsetBuffer.setZero(0, offsetBuffer.capacity());`\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-03T01:09:39.671+0000",
                    "updated": "2018-01-03T01:09:39.671+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16308954",
                    "id": "16308954",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia commented on a change in pull request #1455: [WIP] ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#discussion_r159348728\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/complex/BaseRepeatedValueVector.java\n ##########\n @@ -186,6 +186,12 @@ public void clear() {\n     super.clear();\n   }\n \n+  @Override\n+  public void reset() {\n+    vector.reset();\n \n Review comment:\n   yes\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-03T01:10:50.972+0000",
                    "updated": "2018-01-03T01:10:50.972+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16308968",
                    "id": "16308968",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1455: [WIP] ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#discussion_r159349264\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/complex/BaseRepeatedValueVector.java\n ##########\n @@ -186,6 +186,12 @@ public void clear() {\n     super.clear();\n   }\n \n+  @Override\n+  public void reset() {\n+    vector.reset();\n \n Review comment:\n   also should also zero out validity buffers and any others right?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-03T01:17:48.362+0000",
                    "updated": "2018-01-03T01:17:48.362+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16308971",
                    "id": "16308971",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia commented on a change in pull request #1455: [WIP] ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#discussion_r159349472\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/complex/BaseRepeatedValueVector.java\n ##########\n @@ -186,6 +186,12 @@ public void clear() {\n     super.clear();\n   }\n \n+  @Override\n+  public void reset() {\n+    vector.reset();\n \n Review comment:\n   yes that's correct.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-03T01:19:53.929+0000",
                    "updated": "2018-01-03T01:19:53.929+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16308972",
                    "id": "16308972",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia commented on a change in pull request #1455: [WIP] ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#discussion_r159349534\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/complex/BaseRepeatedValueVector.java\n ##########\n @@ -186,6 +186,12 @@ public void clear() {\n     super.clear();\n   }\n \n+  @Override\n+  public void reset() {\n+    vector.reset();\n \n Review comment:\n   the reset on the inner data vector will be taken care of by it's invocation. here we just need to reset the offset and validity buffer of the list vector.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-03T01:20:44.147+0000",
                    "updated": "2018-01-03T01:20:44.147+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16308974",
                    "id": "16308974",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1455: [WIP] ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#discussion_r159349761\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/complex/MapVector.java\n ##########\n @@ -302,6 +302,14 @@ public void clear() {\n     valueCount = 0;\n   }\n \n+  @Override\n+  public void reset() {\n+    for (final ValueVector v : getChildren()) {\n+      v.reset();\n+    }\n+    valueCount = 0;\n \n Review comment:\n   should this be changed to `setValueCount(0)` to also set count on children?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-03T01:23:35.593+0000",
                    "updated": "2018-01-03T01:23:35.593+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16308990",
                    "id": "16308990",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia commented on a change in pull request #1455: [WIP] ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#discussion_r159350696\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/complex/MapVector.java\n ##########\n @@ -302,6 +302,14 @@ public void clear() {\n     valueCount = 0;\n   }\n \n+  @Override\n+  public void reset() {\n+    for (final ValueVector v : getChildren()) {\n+      v.reset();\n+    }\n+    valueCount = 0;\n \n Review comment:\n   That's not needed since the keeper of valueCount is not the child vector(s) but the top level container map vector. getValueCount() doesn't consult the child vectors for the valueCount and returns the valueCount tracked locally.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-03T01:36:12.929+0000",
                    "updated": "2018-01-03T01:36:12.929+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16309829",
                    "id": "16309829",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "icexelloss commented on issue #1455: [WIP] ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#issuecomment-355048127\n \n \n   LGTM. Do we need to add test for reset?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-03T15:58:19.558+0000",
                    "updated": "2018-01-03T15:58:19.558+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16310340",
                    "id": "16310340",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on issue #1455: [WIP] ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#issuecomment-355139406\n \n \n   Thanks for reviewing @siddharthteotia and @icexelloss , I'll add some tests\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-03T21:58:52.737+0000",
                    "updated": "2018-01-03T21:58:52.737+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16311819",
                    "id": "16311819",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on issue #1455: ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#issuecomment-355361107\n \n \n   @siddharthteotia @icexelloss after adding tests, I fixed a couple other issues with reset() in some vectors, please take another look when you can, thanks!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-04T18:31:02.126+0000",
                    "updated": "2018-01-04T18:31:02.126+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16311912",
                    "id": "16311912",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "icexelloss commented on a change in pull request #1455: ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#discussion_r159736568\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/ValueVector.java\n ##########\n @@ -104,6 +104,11 @@\n    */\n   void clear();\n \n+  /**\n+   * Reset the ValueVector to empty.\n \n Review comment:\n   I think it would be helpful to add more details in the doc, maybe in the subclass too, e.g:\r\n   * what happens to buffer capacity and allocate (I think the capacity is unchanged?)\r\n   * What happens to validity buffer, offset buffer, type id buffer and data buffer? (everything is set to 0?)\r\n   * What happens to children vectors? (I think they are reset as well?)\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-04T19:33:34.984+0000",
                    "updated": "2018-01-04T19:33:34.984+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16311913",
                    "id": "16311913",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "icexelloss commented on issue #1455: ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#issuecomment-355377203\n \n \n   LGTM. Some more docs explaining `reset` would be nice though.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-04T19:34:51.624+0000",
                    "updated": "2018-01-04T19:34:51.624+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16312088",
                    "id": "16312088",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1455: ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#discussion_r159764799\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/ValueVector.java\n ##########\n @@ -104,6 +104,11 @@\n    */\n   void clear();\n \n+  /**\n+   * Reset the ValueVector to empty.\n \n Review comment:\n   Yeah, good idea.  i'll add that info\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-04T21:54:13.184+0000",
                    "updated": "2018-01-04T21:54:13.184+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16313336",
                    "id": "16313336",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "icexelloss commented on issue #1455: ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#issuecomment-355586894\n \n \n   LGTM. +1\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-05T15:46:48.482+0000",
                    "updated": "2018-01-05T15:46:48.482+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16313484",
                    "id": "16313484",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on issue #1455: ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#issuecomment-355612796\n \n \n   Thanks @icexelloss and @siddharthteotia , I'll merge later today if no more comments\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-05T17:22:07.128+0000",
                    "updated": "2018-01-05T17:22:07.128+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16313582",
                    "id": "16313582",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "icexelloss commented on issue #1455: ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455#issuecomment-355624281\n \n \n   Sounds good. Thanks @BryanCutler!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-05T18:08:48.041+0000",
                    "updated": "2018-01-05T18:08:48.041+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16313889",
                    "id": "16313889",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler closed pull request #1455: ARROW-1962: [Java] Adding reset to ValueVector interface\nURL: https://github.com/apache/arrow/pull/1455\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/java/vector/src/main/codegen/templates/UnionVector.java b/java/vector/src/main/codegen/templates/UnionVector.java\nindex 9377bd0da..aa8178a92 100644\n--- a/java/vector/src/main/codegen/templates/UnionVector.java\n+++ b/java/vector/src/main/codegen/templates/UnionVector.java\n@@ -29,7 +29,6 @@\n import java.util.ArrayList;\n import java.util.Collections;\n import java.util.Iterator;\n-import org.apache.arrow.vector.BaseDataValueVector;\n import org.apache.arrow.vector.complex.impl.ComplexCopier;\n import org.apache.arrow.vector.util.CallBack;\n import org.apache.arrow.vector.ipc.message.ArrowFieldNode;\n@@ -318,6 +317,13 @@ public void clear() {\n     internalMap.clear();\n   }\n \n+  @Override\n+  public void reset() {\n+    valueCount = 0;\n+    typeBuffer.setZero(0, typeBuffer.capacity());\n+    internalMap.reset();\n+  }\n+\n   @Override\n   public Field getField() {\n     List<org.apache.arrow.vector.types.pojo.Field> childFields = new ArrayList<>();\ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/BaseDataValueVector.java b/java/vector/src/main/java/org/apache/arrow/vector/BaseDataValueVector.java\ndeleted file mode 100644\nindex 80675135e..000000000\n--- a/java/vector/src/main/java/org/apache/arrow/vector/BaseDataValueVector.java\n+++ /dev/null\n@@ -1,129 +0,0 @@\n-/**\n- * Licensed to the Apache Software Foundation (ASF) under one\n- * or more contributor license agreements.  See the NOTICE file\n- * distributed with this work for additional information\n- * regarding copyright ownership.  The ASF licenses this file\n- * to you under the Apache License, Version 2.0 (the\n- * \"License\"); you may not use this file except in compliance\n- * with the License.  You may obtain a copy of the License at\n- * <p>\n- * http://www.apache.org/licenses/LICENSE-2.0\n- * <p>\n- * Unless required by applicable law or agreed to in writing, software\n- * distributed under the License is distributed on an \"AS IS\" BASIS,\n- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- * See the License for the specific language governing permissions and\n- * limitations under the License.\n- */\n-\n-package org.apache.arrow.vector;\n-\n-import java.util.ArrayList;\n-import java.util.List;\n-\n-import org.apache.arrow.memory.BufferAllocator;\n-import org.apache.arrow.vector.ipc.message.ArrowFieldNode;\n-\n-import io.netty.buffer.ArrowBuf;\n-import org.apache.arrow.vector.util.CallBack;\n-import org.apache.arrow.vector.util.TransferPair;\n-\n-\n-public abstract class BaseDataValueVector extends BaseValueVector implements BufferBacked {\n-\n-  public static void load(ArrowFieldNode fieldNode, List<BufferBacked> vectors, List<ArrowBuf> buffers) {\n-    int expectedSize = vectors.size();\n-    if (buffers.size() != expectedSize) {\n-      throw new IllegalArgumentException(\"Illegal buffer count, expected \" + expectedSize + \", got: \" + buffers.size());\n-    }\n-    for (int i = 0; i < expectedSize; i++) {\n-      vectors.get(i).load(fieldNode, buffers.get(i));\n-    }\n-  }\n-\n-  public static void truncateBufferBasedOnSize(List<ArrowBuf> buffers, int bufferIndex, int byteSize) {\n-    if (bufferIndex >= buffers.size()) {\n-      throw new IllegalArgumentException(\"no buffer at index \" + bufferIndex + \": \" + buffers);\n-    }\n-    ArrowBuf buffer = buffers.get(bufferIndex);\n-    if (buffer.writerIndex() < byteSize) {\n-      throw new IllegalArgumentException(\"can not truncate buffer to a larger size \" + byteSize + \": \" + buffer.writerIndex());\n-    }\n-    buffer.writerIndex(byteSize);\n-  }\n-\n-  public static List<ArrowBuf> unload(List<BufferBacked> vectors) {\n-    List<ArrowBuf> result = new ArrayList<>(vectors.size());\n-    for (BufferBacked vector : vectors) {\n-      result.add(vector.unLoad());\n-    }\n-    return result;\n-  }\n-\n-  protected ArrowBuf data;\n-\n-  public BaseDataValueVector(String name, BufferAllocator allocator) {\n-    super(name, allocator);\n-    data = allocator.getEmpty();\n-  }\n-\n-  @Override\n-  public void clear() {\n-    data.release();\n-    data = allocator.getEmpty();\n-    super.clear();\n-  }\n-\n-  @Override\n-  public TransferPair getTransferPair(String ref, BufferAllocator allocator, CallBack callBack) {\n-    return getTransferPair(ref, allocator);\n-  }\n-\n-  @Override\n-  public ArrowBuf[] getBuffers(boolean clear) {\n-    ArrowBuf[] out;\n-    if (getBufferSize() == 0) {\n-      out = new ArrowBuf[0];\n-    } else {\n-      out = new ArrowBuf[]{data};\n-      data.readerIndex(0);\n-      if (clear) {\n-        data.retain(1);\n-      }\n-    }\n-    if (clear) {\n-      clear();\n-    }\n-    return out;\n-  }\n-\n-  @Override\n-  public int getBufferSize() {\n-    if (getValueCount() == 0) {\n-      return 0;\n-    }\n-    return data.writerIndex();\n-  }\n-\n-  public ArrowBuf getBuffer() {\n-    return data;\n-  }\n-\n-  @Override\n-  public void load(ArrowFieldNode fieldNode, ArrowBuf data) {\n-    this.data.release();\n-    this.data = data.retain(allocator);\n-  }\n-\n-  @Override\n-  public ArrowBuf unLoad() {\n-    return this.data.readerIndex(0);\n-  }\n-\n-  /**\n-   * This method has a similar effect of allocateNew() without actually clearing and reallocating\n-   * the value vector. The purpose is to move the value vector to a \"mutate\" state\n-   */\n-  public void reset() {\n-  }\n-}\ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/BaseFixedWidthVector.java b/java/vector/src/main/java/org/apache/arrow/vector/BaseFixedWidthVector.java\nindex 77026d4e5..702db9f52 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/BaseFixedWidthVector.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/BaseFixedWidthVector.java\n@@ -208,7 +208,9 @@ private void initValueBuffer() {\n    * Reset the vector to initial state. Same as {@link #zeroVector()}.\n    * Note that this method doesn't release any memory.\n    */\n+  @Override\n   public void reset() {\n+    valueCount = 0;\n     zeroVector();\n   }\n \ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/BaseVariableWidthVector.java b/java/vector/src/main/java/org/apache/arrow/vector/BaseVariableWidthVector.java\nindex fbadb35d7..fff329a9b 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/BaseVariableWidthVector.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/BaseVariableWidthVector.java\n@@ -193,6 +193,7 @@ private int getOffsetBufferValueCapacity() {\n   public void zeroVector() {\n     initValidityBuffer();\n     initOffsetBuffer();\n+    valueBuffer.setZero(0, valueBuffer.capacity());\n   }\n \n   /* zero out the validity buffer */\n@@ -212,6 +213,7 @@ private void initOffsetBuffer() {\n   public void reset() {\n     zeroVector();\n     lastSet = -1;\n+    valueCount = 0;\n   }\n \n   /**\ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/ValueVector.java b/java/vector/src/main/java/org/apache/arrow/vector/ValueVector.java\nindex e77c1b127..24cf59a0d 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/ValueVector.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/ValueVector.java\n@@ -100,10 +100,19 @@\n   void close();\n \n   /**\n-   * Release the underlying ArrowBuf and reset the ValueVector to empty.\n+   * Release any owned ArrowBuf and reset the ValueVector to the initial state. If the\n+   * vector has any child vectors, they will also be cleared.\n    */\n   void clear();\n \n+  /**\n+   * Reset the ValueVector to the initial state without releasing any owned ArrowBuf.\n+   * Buffer capacities will remain unchanged and any previous data will be zeroed out.\n+   * This includes buffers for data, validity, offset, etc. If the vector has any\n+   * child vectors, they will also be reset.\n+   */\n+  void reset();\n+\n   /**\n    * Get information about how this field is materialized.\n    *\ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/ZeroVector.java b/java/vector/src/main/java/org/apache/arrow/vector/ZeroVector.java\nindex 962a1c947..2d3c543d0 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/ZeroVector.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/ZeroVector.java\n@@ -72,6 +72,10 @@ public void close() {\n   public void clear() {\n   }\n \n+  @Override\n+  public void reset() {\n+  }\n+\n   @Override\n   public Field getField() {\n     return new Field(DATA_VECTOR_NAME, FieldType.nullable(new Null()), null);\ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/complex/BaseRepeatedValueVector.java b/java/vector/src/main/java/org/apache/arrow/vector/complex/BaseRepeatedValueVector.java\nindex 9a23fd8c3..d0a664ac0 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/complex/BaseRepeatedValueVector.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/complex/BaseRepeatedValueVector.java\n@@ -186,6 +186,13 @@ public void clear() {\n     super.clear();\n   }\n \n+  @Override\n+  public void reset() {\n+    offsetBuffer.setZero(0, offsetBuffer.capacity());\n+    vector.reset();\n+    valueCount = 0;\n+  }\n+\n   @Override\n   public ArrowBuf[] getBuffers(boolean clear) {\n     final ArrowBuf[] buffers;\ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/complex/FixedSizeListVector.java b/java/vector/src/main/java/org/apache/arrow/vector/complex/FixedSizeListVector.java\nindex 93a8127cf..9314a2566 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/complex/FixedSizeListVector.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/complex/FixedSizeListVector.java\n@@ -271,6 +271,13 @@ public void clear() {\n     super.clear();\n   }\n \n+  @Override\n+  public void reset() {\n+    validityBuffer.setZero(0, validityBuffer.capacity());\n+    vector.reset();\n+    valueCount = 0;\n+  }\n+\n   @Override\n   public ArrowBuf[] getBuffers(boolean clear) {\n     setReaderAndWriterIndex();\ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/complex/ListVector.java b/java/vector/src/main/java/org/apache/arrow/vector/complex/ListVector.java\nindex 0c1daf490..8aeeb7e5a 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/complex/ListVector.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/complex/ListVector.java\n@@ -513,6 +513,13 @@ public void clear() {\n     lastSet = 0;\n   }\n \n+  @Override\n+  public void reset() {\n+    super.reset();\n+    validityBuffer.setZero(0, validityBuffer.capacity());\n+    lastSet = 0;\n+  }\n+\n   /**\n    * Return the underlying buffers associated with this vector. Note that this doesn't\n    * impact the reference counts for this buffer so it only should be used for in-context\ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/complex/MapVector.java b/java/vector/src/main/java/org/apache/arrow/vector/complex/MapVector.java\nindex e13084588..6eab6ef3d 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/complex/MapVector.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/complex/MapVector.java\n@@ -302,6 +302,14 @@ public void clear() {\n     valueCount = 0;\n   }\n \n+  @Override\n+  public void reset() {\n+    for (final ValueVector v : getChildren()) {\n+      v.reset();\n+    }\n+    valueCount = 0;\n+  }\n+\n   @Override\n   public Field getField() {\n     List<Field> children = new ArrayList<>();\ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/complex/NullableMapVector.java b/java/vector/src/main/java/org/apache/arrow/vector/complex/NullableMapVector.java\nindex d887b7306..fb84d23b5 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/complex/NullableMapVector.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/complex/NullableMapVector.java\n@@ -305,6 +305,15 @@ public void clear() {\n     super.clear();\n   }\n \n+  /**\n+   * Reset this vector to empty, does not release buffers\n+   */\n+  @Override\n+  public void reset() {\n+    super.reset();\n+    validityBuffer.setZero(0, validityBuffer.capacity());\n+  }\n+\n   /**\n    * Release the validity buffer\n    */\n@@ -493,8 +502,4 @@ public void setValueCount(int valueCount) {\n     super.setValueCount(valueCount);\n     this.valueCount = valueCount;\n   }\n-\n-  public void reset() {\n-    valueCount = 0;\n-  }\n }\ndiff --git a/java/vector/src/test/java/org/apache/arrow/vector/TestVectorReset.java b/java/vector/src/test/java/org/apache/arrow/vector/TestVectorReset.java\nindex 28903b117..84ea9657f 100644\n--- a/java/vector/src/test/java/org/apache/arrow/vector/TestVectorReset.java\n+++ b/java/vector/src/test/java/org/apache/arrow/vector/TestVectorReset.java\n@@ -19,13 +19,23 @@\n package org.apache.arrow.vector;\n \n import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertTrue;\n \n+import io.netty.buffer.ArrowBuf;\n import org.apache.arrow.memory.BufferAllocator;\n import org.apache.arrow.memory.RootAllocator;\n+import org.apache.arrow.vector.complex.*;\n+import org.apache.arrow.vector.types.Types.MinorType;\n+import org.apache.arrow.vector.types.pojo.ArrowType.FixedSizeList;\n+import org.apache.arrow.vector.types.pojo.ArrowType.Int;\n+import org.apache.arrow.vector.types.pojo.FieldType;\n+\n import org.junit.After;\n import org.junit.Before;\n import org.junit.Test;\n \n+import java.nio.charset.StandardCharsets;\n+\n public class TestVectorReset {\n \n   private BufferAllocator allocator;\n@@ -40,15 +50,100 @@ public void terminate() throws Exception {\n     allocator.close();\n   }\n \n+  private void resetVectorAndVerify(ValueVector vector, ArrowBuf[] bufs) {\n+    int[] sizeBefore = new int[bufs.length];\n+    for (int i = 0; i < bufs.length; i++) {\n+      sizeBefore[i] = bufs[i].capacity();\n+    }\n+    vector.reset();\n+    for (int i = 0; i < bufs.length; i++) {\n+      assertEquals(sizeBefore[i], bufs[i].capacity());\n+      verifyBufferZeroed(bufs[i]);\n+    }\n+    assertEquals(0, vector.getValueCount());\n+  }\n+\n+  private void verifyBufferZeroed(ArrowBuf buf) {\n+    for (int i = 0; i < buf.capacity(); i++) {\n+      assertTrue((byte) 0 == buf.getByte(i));\n+    }\n+  }\n+\n   @Test\n   public void testFixedTypeReset() {\n-    try (final UInt4Vector vector = new UInt4Vector(\"\", allocator)) {\n-      vector.allocateNew();\n-      final int sizeBefore = vector.getBufferSize();\n-      vector.reAlloc();\n-      vector.reset();\n-      final int sizeAfter = vector.getBufferSize();\n-      assertEquals(sizeBefore, sizeAfter);\n+    try (final UInt4Vector vector = new UInt4Vector(\"UInt4\", allocator)) {\n+      vector.allocateNewSafe();\n+      vector.setNull(0);\n+      vector.setValueCount(1);\n+      resetVectorAndVerify(vector, vector.getBuffers(false));\n+    }\n+  }\n+\n+  @Test\n+  public void testVariableTypeReset() {\n+    try (final VarCharVector vector = new VarCharVector(\"VarChar\", allocator)) {\n+      vector.allocateNewSafe();\n+      vector.set(0, \"a\".getBytes(StandardCharsets.UTF_8));\n+      vector.setLastSet(0);\n+      vector.setValueCount(1);\n+      resetVectorAndVerify(vector, vector.getBuffers(false));\n+      assertEquals(-1, vector.getLastSet());\n+    }\n+  }\n+\n+  @Test\n+  public void testListTypeReset() {\n+    try (final ListVector variableList = new ListVector(\"VarList\", allocator, FieldType.nullable(MinorType.INT.getType()), null);\n+         final FixedSizeListVector fixedList = new FixedSizeListVector(\"FixedList\", allocator, FieldType.nullable(new FixedSizeList(2)), null)\n+    ) {\n+      // ListVector\n+      variableList.allocateNewSafe();\n+      variableList.startNewValue(0);\n+      variableList.endValue(0, 0);\n+      variableList.setValueCount(1);\n+      resetVectorAndVerify(variableList, variableList.getBuffers(false));\n+      assertEquals(0, variableList.getLastSet());\n+\n+      // FixedSizeListVector\n+      fixedList.allocateNewSafe();\n+      fixedList.setNull(0);\n+      fixedList.setValueCount(1);\n+      resetVectorAndVerify(fixedList, fixedList.getBuffers(false));\n+    }\n+  }\n+\n+  @Test\n+  public void testMapTypeReset() {\n+    try (final MapVector mapVector = new MapVector(\"Map\", allocator, FieldType.nullable(MinorType.INT.getType()), null);\n+         final NullableMapVector nullableMapVector = new NullableMapVector(\"NullableMap\", allocator, FieldType.nullable(MinorType.INT.getType()), null)\n+    ) {\n+      // MapVector\n+      mapVector.allocateNewSafe();\n+      IntVector mapChild = mapVector.addOrGet(\"child\", FieldType.nullable(new Int(32, true)), IntVector.class);\n+      mapChild.setNull(0);\n+      mapVector.setValueCount(1);\n+      resetVectorAndVerify(mapVector, mapVector.getBuffers(false));\n+\n+      // NullableMapVector\n+      nullableMapVector.allocateNewSafe();\n+      nullableMapVector.setNull(0);\n+      nullableMapVector.setValueCount(1);\n+      resetVectorAndVerify(nullableMapVector, nullableMapVector.getBuffers(false));\n+    }\n+  }\n+\n+  @Test\n+  public void testUnionTypeReset() {\n+    try (final UnionVector vector = new UnionVector(\"Union\", allocator, null);\n+         final IntVector dataVector = new IntVector(\"Int\", allocator)\n+    ) {\n+      vector.getBufferSize();\n+      vector.allocateNewSafe();\n+      dataVector.allocateNewSafe();\n+      vector.addVector(dataVector);\n+      dataVector.setNull(0);\n+      vector.setValueCount(1);\n+      resetVectorAndVerify(vector, vector.getBuffers(false));\n     }\n   }\n }\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-01-05T21:09:23.546+0000",
                    "updated": "2018-01-05T21:09:23.546+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128120/comment/16313891",
                    "id": "16313891",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bryanc",
                        "name": "bryanc",
                        "key": "bryanc",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bryanc&avatarId=23479",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bryanc&avatarId=23479",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bryanc&avatarId=23479",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bryanc&avatarId=23479"
                        },
                        "displayName": "Bryan Cutler",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Issue resolved by pull request 1455\n[https://github.com/apache/arrow/pull/1455]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bryanc",
                        "name": "bryanc",
                        "key": "bryanc",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bryanc&avatarId=23479",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bryanc&avatarId=23479",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bryanc&avatarId=23479",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bryanc&avatarId=23479"
                        },
                        "displayName": "Bryan Cutler",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2018-01-05T21:09:55.676+0000",
                    "updated": "2018-01-05T21:09:55.676+0000"
                }
            ],
            "maxResults": 21,
            "total": 21,
            "startAt": 0
        },
        "customfield_12311820": "0|i3og1b:",
        "customfield_12314139": null
    }
}