{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13282396",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13282396",
    "key": "ARROW-7727",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12340948",
                "id": "12340948",
                "description": "",
                "name": "0.16.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-02-07"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/2",
            "id": "2",
            "description": "The problem described is an issue which will never be fixed.",
            "name": "Won't Fix"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12346358",
                "id": "12346358",
                "description": "",
                "name": "0.15.1",
                "archived": false,
                "released": true,
                "releaseDate": "2019-11-01"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
            "name": "Closed",
            "id": "6",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=otaviocv",
            "name": "otaviocv",
            "key": "otaviocv",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Ot\u00e1vio Vasques",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=otaviocv",
            "name": "otaviocv",
            "key": "otaviocv",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Ot\u00e1vio Vasques",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-7727/votes",
            "votes": 0,
            "hasVoted": false
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@75a345ef[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@25515a33[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@d613f4c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@22ce6c11[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7a6d6639[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@c8f9f58[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@8904ada[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@59ef013d[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@48a2e897[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3827db84[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@326b80c0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@132c9959[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Jan 31 18:18:31 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-01-31T00:16:57.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-7727/watchers",
            "watchCount": 4,
            "isWatching": false
        },
        "created": "2020-01-30T14:48:14.000+0000",
        "updated": "2020-01-31T18:18:31.000+0000",
        "timeoriginalestimate": null,
        "description": "I was trying to read a subset of my parquet files using the ParquetDataset object with a predefined schema, when it tries to validate the schema a `to_arrow_schema` is called and the schema does not support this. I don't what is happening, this is a sample.\u00a0\r\n{code:python}\r\nimport pyarrow as pa\r\nimport pyarrow.parquet as pq\r\nimport pandas as pd\r\nimport numpy as np\r\n\r\nschema = pa.schema([\r\n    pa.field(\"field1\", pa.string()),\r\n    pa.field(\"field2\", pa.string()),\r\n    pa.field(\"field3\", pa.string()),\r\n])\r\n\r\n ...\r\n\r\npq_dataset = pq.ParquetDataset(file_groups[0], schema=schema)\r\n\r\nAttributeError: 'pyarrow.lib.Schema' object has no attribute 'to_arrow_schema'\r\n{code}\r\nIf we check the type of the schema as defined above we get:\r\n{code:java}\r\ntype(schema)\r\npyarrow.lib.Schema{code}\r\nBut the required type according with the docs is `pyarrow.parquet.Schema`, I don't know how to produce a object with this since we are forbbiden to use the Schema constructor directly.\r\n\r\nIf we check the implementation on github we get directly this line [here|https://github.com/apache/arrow/blob/apache-arrow-0.15.1/python/pyarrow/parquet.py#L1097]:\r\n{code:java}\r\ndataset_schema = self.schema.to_arrow_schema(){code}\r\nIs this a problem in the schema builder or the parquet dataset object?",
        "customfield_10010": null,
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python] Unable to read a ParquetDataset when schema validation is on.",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": "_libgcc_mutex             0.1                        main  \r\narrow-cpp                 0.15.1           py37h982ac2c_6    conda-forge\r\nattrs                     19.3.0                     py_0    conda-forge\r\nbackcall                  0.1.0                      py_0    conda-forge\r\nbleach                    3.1.0                      py_0    conda-forge\r\nboost-cpp                 1.70.0               h8e57a91_2    conda-forge\r\nbrotli                    1.0.7             he1b5a44_1000    conda-forge\r\nbzip2                     1.0.8                h516909a_2    conda-forge\r\nc-ares                    1.15.0            h516909a_1001    conda-forge\r\nca-certificates           2019.11.28           hecc5488_0    conda-forge\r\ncertifi                   2019.11.28               py37_0    conda-forge\r\ndecorator                 4.4.1                      py_0    conda-forge\r\ndefusedxml                0.6.0                      py_0    conda-forge\r\ndouble-conversion         3.1.5                he1b5a44_2    conda-forge\r\nentrypoints               0.3                   py37_1000    conda-forge\r\ngflags                    2.2.2             he1b5a44_1002    conda-forge\r\nglog                      0.4.0                he1b5a44_1    conda-forge\r\ngrpc-cpp                  1.25.0               h213be95_2    conda-forge\r\nicu                       64.2                 he1b5a44_1    conda-forge\r\nimportlib_metadata        1.4.0                    py37_0    conda-forge\r\ninflect                   4.0.0                    py37_1    conda-forge\r\nipykernel                 5.1.4            py37h5ca1d4c_0    conda-forge\r\nipython                   7.11.1           py37h5ca1d4c_0    conda-forge\r\nipython_genutils          0.2.0                      py_1    conda-forge\r\njaraco.itertools          5.0.0                      py_0    conda-forge\r\njedi                      0.16.0                   py37_0    conda-forge\r\njinja2                    2.10.3                     py_0    conda-forge\r\njsonschema                3.2.0                    py37_0    conda-forge\r\njupyter_client            5.3.4                    py37_1    conda-forge\r\njupyter_core              4.6.1                    py37_0    conda-forge\r\nld_impl_linux-64          2.33.1               h53a641e_7  \r\nlibblas                   3.8.0               14_openblas    conda-forge\r\nlibcblas                  3.8.0               14_openblas    conda-forge\r\nlibedit                   3.1.20181209         hc058e9b_0  \r\nlibevent                  2.1.10               h72c5cf5_0    conda-forge\r\nlibffi                    3.2.1                hd88cf55_4  \r\nlibgcc-ng                 9.1.0                hdf63c60_0  \r\nlibgfortran-ng            7.3.0                hdf63c60_4    conda-forge\r\nliblapack                 3.8.0               14_openblas    conda-forge\r\nlibopenblas               0.3.7                h5ec1e0e_6    conda-forge\r\nlibprotobuf               3.11.0               h8b12597_0    conda-forge\r\nlibsodium                 1.0.17               h516909a_0    conda-forge\r\nlibstdcxx-ng              9.1.0                hdf63c60_0  \r\nlz4-c                     1.8.3             he1b5a44_1001    conda-forge\r\nmarkupsafe                1.1.1            py37h516909a_0    conda-forge\r\nmistune                   0.8.4           py37h516909a_1000    conda-forge\r\nmore-itertools            8.1.0                      py_0    conda-forge\r\nnbconvert                 5.6.1                    py37_0    conda-forge\r\nnbformat                  5.0.4                      py_0    conda-forge\r\nncurses                   6.1                  he6710b0_1  \r\nnotebook                  6.0.3                    py37_0    conda-forge\r\nnumpy                     1.17.5           py37h95a1406_0    conda-forge\r\nopenssl                   1.1.1d               h516909a_0    conda-forge\r\npandas                    0.25.3           py37hb3f55d8_0    conda-forge\r\npandoc                    2.9.1.1                       0    conda-forge\r\npandocfilters             1.4.2                      py_1    conda-forge\r\nparquet-cpp               1.5.1                         2    conda-forge\r\nparso                     0.6.0                      py_0    conda-forge\r\npexpect                   4.8.0                    py37_0    conda-forge\r\npickleshare               0.7.5                 py37_1000    conda-forge\r\npip                       20.0.2                   py37_0  \r\nprometheus_client         0.7.1                      py_0    conda-forge\r\nprompt_toolkit            3.0.2                      py_0    conda-forge\r\nptyprocess                0.6.0                   py_1001    conda-forge\r\npyarrow                   0.15.1           py37h8b68381_1    conda-forge\r\npygments                  2.5.2                      py_0    conda-forge\r\npyrsistent                0.15.7           py37h516909a_0    conda-forge\r\npython                    3.7.6                h0371630_2  \r\npython-dateutil           2.8.1                      py_0    conda-forge\r\npytz                      2019.3                     py_0    conda-forge\r\npyzmq                     18.1.1           py37h1768529_0    conda-forge\r\nre2                       2020.01.01           he1b5a44_0    conda-forge\r\nreadline                  7.0                  h7b6447c_5  \r\nsend2trash                1.5.0                      py_0    conda-forge\r\nsetuptools                45.1.0                   py37_0  \r\nsix                       1.14.0                   py37_0    conda-forge\r\nsnappy                    1.1.7             he1b5a44_1003    conda-forge\r\nsqlite                    3.30.1               h7b6447c_0  \r\nterminado                 0.8.3                    py37_0    conda-forge\r\ntestpath                  0.4.4                      py_0    conda-forge\r\nthrift-cpp                0.12.0            hf3afdfd_1004    conda-forge\r\ntk                        8.6.8                hbc83047_0  \r\ntornado                   6.0.3            py37h516909a_0    conda-forge\r\ntraitlets                 4.3.3                    py37_0    conda-forge\r\nuriparser                 0.9.3                he1b5a44_1    conda-forge\r\nwcwidth                   0.1.8                      py_0    conda-forge\r\nwebencodings              0.5.1                      py_1    conda-forge\r\nwheel                     0.33.6                   py37_0  \r\nxz                        5.2.4                h14c3975_4  \r\nzeromq                    4.3.2                he1b5a44_2    conda-forge\r\nzipp                      2.1.0                      py_0    conda-forge\r\nzlib                      1.2.11               h7b6447c_3  \r\nzstd                      1.4.4                h3b9ef0a_1    conda-forge",
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "customfield_12311820": "0|z0b080:",
        "customfield_12314139": null
    }
}