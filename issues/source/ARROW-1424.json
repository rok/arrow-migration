{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13098063",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063",
    "key": "ARROW-1424",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343066",
                "id": "12343066",
                "description": "",
                "name": "0.11.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-10-08"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pearu",
            "name": "pearu",
            "key": "pearu",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pearu&avatarId=35984",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pearu&avatarId=35984",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pearu&avatarId=35984",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pearu&avatarId=35984"
            },
            "displayName": "Pearu Peterson",
            "active": true,
            "timeZone": "Europe/Tallinn"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333104",
                "id": "12333104",
                "name": "GPU"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 113400,
            "total": 113400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 113400,
            "total": 113400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1424/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 220,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142743",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pearu opened a new pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536\n \n \n   This PR implements GPU support to pyarrow. In order to use it, the Arrow C++ library must be built with the following cmake options:\r\n   ```\r\n   -DARROW_PYTHON=on -DARROW_GPU=ON -DARROW_IPC=ON\r\n   ```\r\n   To enable GPU support in pyarrow, it must be built with `--with-arrow-gpu` option, e.g.\r\n   ```\r\n   python setup.py build_ext --with-arrow-gpu <other options>\r\n   ```\r\n   or the environment must define\r\n   ```\r\n   PYARROW_WITH_ARROW_GPU=1\r\n   ```\r\n   \r\n   This GPU support implementation is rather complete: all Arrow C++ GPU related functions and classes are exposed to Python, the new methods and functions are documented, the test coverage is close to 100%.\r\n   \r\n   However, there are some issues that need to be tackled and questions to be answered (hence the WIP attribute):\r\n   1. Is the naming convention of the new methods appropriate? Are there any changes needed in the new API?\r\n   2. The IPC test (see `test_IPC` in `python/pyarrow/tests/test_gpu.py`) fails when calling `open_ipc_buffer`: `cuIpcOpenMemHandle fails with code 201` . Currently, I don't know why. Any hint or help on this is much appreciated.\r\n   3. Anything else?\r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T14:19:27.933+0000",
                    "updated": "2018-09-10T14:19:27.933+0000",
                    "started": "2018-09-10T14:19:27.932+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142743",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142744",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#issuecomment-419930195\n \n \n   Looks like you need to rebase, let me know if you need help\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T14:21:00.827+0000",
                    "updated": "2018-09-10T14:21:00.827+0000",
                    "started": "2018-09-10T14:21:00.827+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142744",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142746",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#issuecomment-419935432\n \n \n   I went ahead and fixed the branch (ugly merge the crossed the parquet-cpp repo merge). Will review when I can\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T14:34:46.571+0000",
                    "updated": "2018-09-10T14:34:46.571+0000",
                    "started": "2018-09-10T14:34:46.570+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142746",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142747",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pearu commented on issue #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#issuecomment-419936128\n \n \n   Thanks, Wes!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T14:36:40.260+0000",
                    "updated": "2018-09-10T14:36:40.260+0000",
                    "started": "2018-09-10T14:36:40.259+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142747",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142761",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#issuecomment-419955517\n \n \n   I get a core dump when running the test suite:\r\n   ```\r\n   $ python -m pytest -v --tb=native pyarrow/tests/test_gpu.py \r\n   =============================================================== test session starts ===============================================================\r\n   platform linux -- Python 3.7.0, pytest-3.7.2, py-1.5.4, pluggy-0.7.1 -- /home/antoine/miniconda3/envs/pyarrow/bin/python\r\n   cachedir: .pytest_cache\r\n   rootdir: /home/antoine/arrow/python, inifile: setup.cfg\r\n   plugins: timeout-1.3.1, faulthandler-1.5.0\r\n   collected 15 items                                                                                                                                \r\n   \r\n   pyarrow/tests/test_gpu.py::test_manager_num_devices PASSED                                                                                  [  6%]\r\n   pyarrow/tests/test_gpu.py::test_manage_allocate_free_host Fatal Python error: Aborted\r\n   \r\n   Current thread 0x00007f87077fd740 (most recent call first):\r\n     File \"/home/antoine/arrow/python/pyarrow/tests/test_gpu.py\", line 81 in test_manage_allocate_free_host\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/_pytest/python.py\", line 196 in pytest_pyfunc_call\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/callers.py\", line 180 in _multicall\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/manager.py\", line 61 in <lambda>\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/manager.py\", line 67 in _hookexec\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/hooks.py\", line 258 in __call__\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/_pytest/python.py\", line 1430 in runtest\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/_pytest/runner.py\", line 111 in pytest_runtest_call\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/callers.py\", line 180 in _multicall\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/manager.py\", line 61 in <lambda>\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/manager.py\", line 67 in _hookexec\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/hooks.py\", line 258 in __call__\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/_pytest/runner.py\", line 183 in <lambda>\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/_pytest/runner.py\", line 201 in __init__\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/_pytest/runner.py\", line 185 in call_runtest_hook\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/_pytest/runner.py\", line 161 in call_and_report\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/_pytest/runner.py\", line 81 in runtestprotocol\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/_pytest/runner.py\", line 66 in pytest_runtest_protocol\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/callers.py\", line 180 in _multicall\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/manager.py\", line 61 in <lambda>\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/manager.py\", line 67 in _hookexec\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/hooks.py\", line 258 in __call__\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/_pytest/main.py\", line 236 in pytest_runtestloop\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/callers.py\", line 180 in _multicall\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/manager.py\", line 61 in <lambda>\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/manager.py\", line 67 in _hookexec\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/hooks.py\", line 258 in __call__\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/_pytest/main.py\", line 215 in _main\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/_pytest/main.py\", line 178 in wrap_session\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/_pytest/main.py\", line 208 in pytest_cmdline_main\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/callers.py\", line 180 in _multicall\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/manager.py\", line 61 in <lambda>\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/manager.py\", line 67 in _hookexec\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pluggy/hooks.py\", line 258 in __call__\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/_pytest/config/__init__.py\", line 65 in main\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/pytest.py\", line 68 in <module>\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/runpy.py\", line 85 in _run_code\r\n     File \"/home/antoine/miniconda3/envs/pyarrow/lib/python3.7/runpy.py\", line 193 in _run_module_as_main\r\n   Abandon (core dumped)\r\n   ```\r\n   \r\n   Here is the truncated gdb backtrace:\r\n   ```\r\n   #0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:51\r\n   #1  0x00007ffff7805801 in __GI_abort () at abort.c:79\r\n   #2  0x00007fffde548428 in arrow::internal::CerrLog::~CerrLog (this=0x7fffffff78a0, __in_chrg=<optimized out>) at ../src/arrow/util/logging.h:130\r\n   #3  0x00007fffdb122243 in arrow::gpu::CudaHostBuffer::~CudaHostBuffer (this=0x555556a48490, __in_chrg=<optimized out>)\r\n       at ../src/arrow/gpu/cuda_memory.cc:153\r\n   #4  0x00007fffdb120dff in __gnu_cxx::new_allocator<arrow::gpu::CudaHostBuffer>::destroy<arrow::gpu::CudaHostBuffer> (this=0x555556a48490, \r\n       __p=0x555556a48490) at /usr/include/c++/7/ext/new_allocator.h:140\r\n   #5  0x00007fffdb120d97 in std::allocator_traits<std::allocator<arrow::gpu::CudaHostBuffer> >::destroy<arrow::gpu::CudaHostBuffer> (__a=..., \r\n       __p=0x555556a48490) at /usr/include/c++/7/bits/alloc_traits.h:487\r\n   #6  0x00007fffdb120b71 in std::_Sp_counted_ptr_inplace<arrow::gpu::CudaHostBuffer, std::allocator<arrow::gpu::CudaHostBuffer>, (__gnu_cxx::_Lock_policy)2>::_M_dispose (this=0x555556a48480) at /usr/include/c++/7/bits/shared_ptr_base.h:535\r\n   #7  0x00007fffdef09ba8 in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release (this=0x555556a48480)\r\n       at /usr/include/c++/7/bits/shared_ptr_base.h:154\r\n   #8  0x00007fffdef053bf in std::__shared_count<(__gnu_cxx::_Lock_policy)2>::~__shared_count (this=0x7fffd9898be0, __in_chrg=<optimized out>)\r\n       at /usr/include/c++/7/bits/shared_ptr_base.h:684\r\n   #9  0x00007fffdef021da in std::__shared_ptr<arrow::Buffer, (__gnu_cxx::_Lock_policy)2>::~__shared_ptr (this=0x7fffd9898bd8, \r\n       __in_chrg=<optimized out>) at /usr/include/c++/7/bits/shared_ptr_base.h:1123\r\n   #10 0x00007fffdef021f6 in std::shared_ptr<arrow::Buffer>::~shared_ptr (this=0x7fffd9898bd8, __in_chrg=<optimized out>)\r\n       at /usr/include/c++/7/bits/shared_ptr.h:93\r\n   #11 0x00007fffdef09564 in __Pyx_call_destructor<std::shared_ptr<arrow::Buffer> > (x=...)\r\n       at /home/antoine/arrow/python/build/temp.linux-x86_64-3.7/lib.cpp:281\r\n   #12 0x00007fffdee9ed92 in __pyx_tp_dealloc_7pyarrow_3lib_Buffer (o=0x7fffd9898bc0)\r\n       at /home/antoine/arrow/python/build/temp.linux-x86_64-3.7/lib.cpp:120931\r\n   #13 0x00007fffdb171578 in __pyx_tp_dealloc_7pyarrow_7lib_gpu_CudaHostBuffer (o=0x7fffd9898bc0)\r\n       at /home/antoine/arrow/python/build/temp.linux-x86_64-3.7/lib_gpu.cpp:12759\r\n   #14 0x00007ffff2089509 in array_dealloc ()\r\n      from /home/antoine/miniconda3/envs/pyarrow/lib/python3.7/site-packages/numpy/core/multiarray.cpython-37m-x86_64-linux-gnu.so\r\n   ```\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T15:30:24.536+0000",
                    "updated": "2018-09-10T15:30:24.536+0000",
                    "started": "2018-09-10T15:30:24.536+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142761",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142763",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#discussion_r216371686\n \n \n\n ##########\n File path: python/setup.py\n ##########\n @@ -132,6 +135,12 @@ def initialize_options(self):\n             if not hasattr(sys, 'gettotalrefcount'):\n                 self.build_type = 'release'\n \n+        self.with_arrow_gpu = strtobool(\n+            os.environ.get('PYARROW_WITH_ARROW_GPU', '0'))\n \n Review comment:\n   `PYARROW_WITH_GPU` sounds simpler (compare with `PYARROW_WITH_PLASMA` or `PYARROW_WITH_ORC`).\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T15:43:35.077+0000",
                    "updated": "2018-09-10T15:43:35.077+0000",
                    "started": "2018-09-10T15:43:35.076+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142763",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142764",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#discussion_r216367734\n \n \n\n ##########\n File path: cpp/cmake_modules/FindArrow.cmake\n ##########\n @@ -95,6 +101,13 @@ if (MSVC)\n     PATH_SUFFIXES \"bin\" )\n   get_filename_component(ARROW_SHARED_LIBS ${ARROW_SHARED_LIBRARIES} PATH )\n   get_filename_component(ARROW_PYTHON_SHARED_LIBS ${ARROW_PYTHON_SHARED_LIBRARIES} PATH )\n+\n+  if (PYARROW_BUILD_ARROW_GPU)\n \n Review comment:\n   I'm not sure PYARROW variables should be depended on in the main CMake files.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T15:43:35.226+0000",
                    "updated": "2018-09-10T15:43:35.226+0000",
                    "started": "2018-09-10T15:43:35.226+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142764",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142765",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#discussion_r216369421\n \n \n\n ##########\n File path: python/pyarrow/lib_gpu.pxd\n ##########\n @@ -0,0 +1,67 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n \n Review comment:\n   Perhaps just a style issue, but it doesn't seem to make much sense to define a `pxd` file if we're using it from a single `pyx` file.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T15:43:35.312+0000",
                    "updated": "2018-09-10T15:43:35.312+0000",
                    "started": "2018-09-10T15:43:35.311+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142765",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142766",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#discussion_r216368838\n \n \n\n ##########\n File path: python/pyarrow/__init__.py\n ##########\n @@ -151,6 +151,29 @@ def parse_git(root, **kwargs):\n \n import pyarrow.types as types\n \n+# GPU support\n+#\n+try:\n+    import pyarrow.lib_gpu as _lib_gpu\n+except ImportError as _msg:\n+    _msg = str(_msg)\n+    if _msg.startswith('No module named') and 'lib_gpu' in _msg:\n+        has_gpu_support = False\n+    else: # do not silence ImportError in case of any bugs\n+        raise\n+else:\n+    has_gpu_support = True\n+\n+if has_gpu_support:\n+    from pyarrow.lib_gpu \\\n \n Review comment:\n   I wonder if it is a good idea to keep injecting everything in the top-level namespace. Though that's what we've been doing until now... @wesm \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T15:43:35.356+0000",
                    "updated": "2018-09-10T15:43:35.356+0000",
                    "started": "2018-09-10T15:43:35.356+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142766",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142767",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#discussion_r216370053\n \n \n\n ##########\n File path: python/setup.py\n ##########\n @@ -98,6 +98,9 @@ def run(self):\n                       'build type (debug or release), default release'),\n                      ('boost-namespace=', None,\n                       'namespace of boost (default: boost)'),\n+                     ('with-arrow-gpu', None, 'build the Arrow GPU extension'),\n+                     ('without-arrow-gpu', None,\n \n Review comment:\n   Uh... No need for two contradictory options. Just keep `with-arrow-gpu`.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T15:43:35.377+0000",
                    "updated": "2018-09-10T15:43:35.377+0000",
                    "started": "2018-09-10T15:43:35.376+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142767",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142776",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pearu commented on a change in pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#discussion_r216379530\n \n \n\n ##########\n File path: cpp/cmake_modules/FindArrow.cmake\n ##########\n @@ -95,6 +101,13 @@ if (MSVC)\n     PATH_SUFFIXES \"bin\" )\n   get_filename_component(ARROW_SHARED_LIBS ${ARROW_SHARED_LIBRARIES} PATH )\n   get_filename_component(ARROW_PYTHON_SHARED_LIBS ${ARROW_PYTHON_SHARED_LIBRARIES} PATH )\n+\n+  if (PYARROW_BUILD_ARROW_GPU)\n \n Review comment:\n   I agree (I now noticed that `python/cmake_modules` is actually a link to `cpp/cmake_modules`).\r\n   I'll fix it.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T16:03:39.787+0000",
                    "updated": "2018-09-10T16:03:39.787+0000",
                    "started": "2018-09-10T16:03:39.787+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142776",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142778",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pearu commented on a change in pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#discussion_r216382115\n \n \n\n ##########\n File path: python/setup.py\n ##########\n @@ -98,6 +98,9 @@ def run(self):\n                       'build type (debug or release), default release'),\n                      ('boost-namespace=', None,\n                       'namespace of boost (default: boost)'),\n+                     ('with-arrow-gpu', None, 'build the Arrow GPU extension'),\n+                     ('without-arrow-gpu', None,\n \n Review comment:\n   When one builds pyarrow without `--with-arrow-gpu` option and does not define `PYARROW_WITH_ARROW_GPU` environment variable, what should be the default behavior when libarrow_gpu library is available?\r\n   Enable `--with-arrow-gpu` automatically (current behavior, hence the `--without-arrow-gpu` option to override the default behaviour) or always require explicit usage of `--with-arrow-gpu` (or the environment variable)?\r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T16:11:28.573+0000",
                    "updated": "2018-09-10T16:11:28.573+0000",
                    "started": "2018-09-10T16:11:28.573+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142778",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142779",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pearu commented on a change in pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#discussion_r216382273\n \n \n\n ##########\n File path: python/setup.py\n ##########\n @@ -132,6 +135,12 @@ def initialize_options(self):\n             if not hasattr(sys, 'gettotalrefcount'):\n                 self.build_type = 'release'\n \n+        self.with_arrow_gpu = strtobool(\n+            os.environ.get('PYARROW_WITH_ARROW_GPU', '0'))\n \n Review comment:\n   Sounds good.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T16:12:01.698+0000",
                    "updated": "2018-09-10T16:12:01.698+0000",
                    "started": "2018-09-10T16:12:01.697+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142779",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142781",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#discussion_r216382742\n \n \n\n ##########\n File path: python/setup.py\n ##########\n @@ -98,6 +98,9 @@ def run(self):\n                       'build type (debug or release), default release'),\n                      ('boost-namespace=', None,\n                       'namespace of boost (default: boost)'),\n+                     ('with-arrow-gpu', None, 'build the Arrow GPU extension'),\n+                     ('without-arrow-gpu', None,\n \n Review comment:\n   AFAIK, other options (Plasma, Parquet, Orc) are enabled automatically.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T16:13:26.943+0000",
                    "updated": "2018-09-10T16:13:26.943+0000",
                    "started": "2018-09-10T16:13:26.943+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142781",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142782",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pearu commented on issue #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#issuecomment-419970671\n \n \n   This PR is still WIP primarily due to the test_IPC issue, see the description above.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T16:13:55.169+0000",
                    "updated": "2018-09-10T16:13:55.169+0000",
                    "started": "2018-09-10T16:13:55.168+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142782",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142795",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#discussion_r216378731\n \n \n\n ##########\n File path: cpp/cmake_modules/FindArrow.cmake\n ##########\n @@ -95,6 +101,13 @@ if (MSVC)\n     PATH_SUFFIXES \"bin\" )\n   get_filename_component(ARROW_SHARED_LIBS ${ARROW_SHARED_LIBRARIES} PATH )\n   get_filename_component(ARROW_PYTHON_SHARED_LIBS ${ARROW_PYTHON_SHARED_LIBRARIES} PATH )\n+\n+  if (PYARROW_BUILD_ARROW_GPU)\n \n Review comment:\n   Agreed. Probably want to add a `FindArrowCuda.cmake` file\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T16:32:56.331+0000",
                    "updated": "2018-09-10T16:32:56.331+0000",
                    "started": "2018-09-10T16:32:56.330+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142795",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142796",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#discussion_r216379061\n \n \n\n ##########\n File path: python/CMakeLists.txt\n ##########\n @@ -58,6 +58,9 @@ endif()\n \n # Top level cmake dir\n if(\"${CMAKE_SOURCE_DIR}\" STREQUAL \"${CMAKE_CURRENT_SOURCE_DIR}\")\n+  option(PYARROW_BUILD_ARROW_GPU\n+    \"Build the PyArrow GPU support\"\n+    OFF)\n \n Review comment:\n   Maybe rename this to `PYARROW_BUILD_ARROW_CUDA`. At some point we need to resolve the issue that `libarrow_gpu` is CUDA-specific, don't want to propagate the issue here if possible\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T16:32:56.725+0000",
                    "updated": "2018-09-10T16:32:56.725+0000",
                    "started": "2018-09-10T16:32:56.725+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142796",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142797",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#discussion_r216379285\n \n \n\n ##########\n File path: python/CMakeLists.txt\n ##########\n @@ -275,6 +278,12 @@ if (PYARROW_BUNDLE_ARROW_CPP)\n     ABI_VERSION ${ARROW_ABI_VERSION}\n     SO_VERSION ${ARROW_SO_VERSION})\n \n+  if (ARROW_GPU_FOUND)\n+    bundle_arrow_lib(ARROW_GPU_SHARED_LIB\n+      ABI_VERSION ${ARROW_ABI_VERSION}\n+      SO_VERSION ${ARROW_SO_VERSION})\n+  endif()\n \n Review comment:\n   This should fail if the library is not found rather than passing silently\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T16:32:56.734+0000",
                    "updated": "2018-09-10T16:32:56.734+0000",
                    "started": "2018-09-10T16:32:56.733+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142797",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142798",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#discussion_r216379783\n \n \n\n ##########\n File path: python/pyarrow/__init__.py\n ##########\n @@ -151,6 +151,29 @@ def parse_git(root, **kwargs):\n \n import pyarrow.types as types\n \n+# GPU support\n+#\n+try:\n+    import pyarrow.lib_gpu as _lib_gpu\n+except ImportError as _msg:\n+    _msg = str(_msg)\n+    if _msg.startswith('No module named') and 'lib_gpu' in _msg:\n+        has_gpu_support = False\n+    else: # do not silence ImportError in case of any bugs\n+        raise\n+else:\n+    has_gpu_support = True\n+\n+if has_gpu_support:\n+    from pyarrow.lib_gpu \\\n+        import (CudaDeviceManager, CudaContext, CudaIpcMemHandle,\n+                CudaBuffer, CudaHostBuffer, CudaBufferReader, CudaBufferWriter,\n+                allocate_cuda_host_buffer, cuda_serialize_record_batch,\n+                cuda_read_message, cuda_read_record_batch,\n+                )\n \n Review comment:\n   We aren't injecting optional components into the `pyarrow.*` namespace. How about we create a `pyarrow.cuda` namespace and put these symbols there? \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T16:32:56.918+0000",
                    "updated": "2018-09-10T16:32:56.918+0000",
                    "started": "2018-09-10T16:32:56.918+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142798",
                    "issueId": "13098063"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/worklog/142799",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2536: ARROW-1424: Add GPU support to pyarrow (WIP)\nURL: https://github.com/apache/arrow/pull/2536#discussion_r216381224\n \n \n\n ##########\n File path: python/pyarrow/lib_gpu.pyx\n ##########\n @@ -0,0 +1,809 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import six\n+from pyarrow.compat import tobytes\n+from pyarrow.lib cimport *\n+from pyarrow.includes.libarrow_gpu cimport *\n+from pyarrow.lib import py_buffer, allocate_buffer\n+cimport cpython as cp\n+\n+cdef class CudaDeviceManager:\n+    \"\"\" CUDA device manager.\n+    \"\"\"\n+\n+    def __cinit__(self):\n+        check_status(CCudaDeviceManager.GetInstance(& self.manager))\n+\n+    @property\n+    def num_devices(self):\n+        \"\"\" Return the number of GPU devices.\n+        \"\"\"\n+        return self.manager.num_devices()\n+\n+    def get_context(self, gpu_number=0):\n+        \"\"\"Get the shared CUDA driver context for a particular device.\n+\n+        Parameters\n+        ----------\n+        gpu_number : int\n+          Specify the gpu device for which the CUDA driver context is\n+          requested.\n+\n+        Returns\n+        -------\n+        ctx : CudaContext\n+          CUDA driver context.\n+\n+        \"\"\"\n+        cdef shared_ptr[CCudaContext] ctx\n+        check_status(self.manager.GetContext(gpu_number, & ctx))\n \n Review comment:\n   space\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T16:32:57.172+0000",
                    "updated": "2018-09-10T16:32:57.172+0000",
                    "started": "2018-09-10T16:32:57.172+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142799",
                    "issueId": "13098063"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 113400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@6008e4b1[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7b1c7449[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1eb89a69[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@69e0bcb[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6d20542f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@42d943d5[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@18e8e235[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6ede62b0[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1b0c268[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@97ffe60[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@56595c30[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@4b0f7fa9[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 113400,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Sep 13 23:07:59 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-09-13T23:07:59.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1424/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2017-08-28T19:19:57.000+0000",
        "updated": "2018-09-13T23:10:20.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "31.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 113400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python] Initial bindings for libarrow_gpu",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13098063/comment/16614151",
                    "id": "16614151",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 2536\n[https://github.com/apache/arrow/pull/2536]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-09-13T23:07:59.568+0000",
                    "updated": "2018-09-13T23:07:59.568+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|i3jd8f:",
        "customfield_12314139": null
    }
}