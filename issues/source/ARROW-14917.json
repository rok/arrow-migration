{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13414411",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411",
    "key": "ARROW-14917",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12350591",
                "id": "12350591",
                "description": "",
                "name": "7.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2022-02-03"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12627518",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12627518",
                "type": {
                    "id": "12310460",
                    "name": "Child-Issue",
                    "inward": "is a child of",
                    "outward": "is a parent of",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310460"
                },
                "inwardIssue": {
                    "id": "13087660",
                    "key": "ARROW-1231",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13087660",
                    "fields": {
                        "summary": "[C++] Add filesystem / IO implementation for Google Cloud Storage",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
                            "id": "2",
                            "description": "A new feature of the product, which has yet to be developed.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
                            "name": "New Feature",
                            "subtask": false,
                            "avatarId": 21141
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=coryan",
            "name": "coryan",
            "key": "coryan",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Carlos O'Ryan",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=coryan",
            "name": "coryan",
            "key": "coryan",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Carlos O'Ryan",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=coryan",
            "name": "coryan",
            "key": "coryan",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Carlos O'Ryan",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 12600,
            "total": 12600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 12600,
            "total": 12600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-14917/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 21,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/689601",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "coryan opened a new pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842\n\n\n   This PR implements `GcsFileSystem::CreateDir`. I also reviewed the\r\n   documentation for the class, since now the implementation of the class,\r\n   particularly how directories are emulated, is more than just notes and\r\n   ideas.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-02T20:58:20.147+0000",
                    "updated": "2021-12-02T20:58:20.147+0000",
                    "started": "2021-12-02T20:58:20.146+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "689601",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/689602",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#issuecomment-984995937\n\n\n   https://issues.apache.org/jira/browse/ARROW-14917\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-02T20:58:44.783+0000",
                    "updated": "2021-12-02T20:58:44.783+0000",
                    "started": "2021-12-02T20:58:44.782+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "689602",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/690537",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "coryan commented on pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#issuecomment-986045337\n\n\n   The failure on `R / AMD64 Windows R RTools 40` seems unrelated, please take a look.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-04T15:28:13.114+0000",
                    "updated": "2021-12-04T15:28:13.114+0000",
                    "started": "2021-12-04T15:28:13.114+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "690537",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/691828",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#discussion_r764103316\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.h\n##########\n@@ -40,24 +40,43 @@ struct ARROW_EXPORT GcsOptions {\n   bool Equals(const GcsOptions& other) const;\n };\n \n+/// - TODO(ARROW-1231) - review this documentation before closing the bug.\n /// \\brief GCS-backed FileSystem implementation.\n ///\n-/// Some implementation notes:\n-/// - TODO(ARROW-1231) - review all the notes once completed.\n-/// - buckets are treated as top-level directories on a \"root\".\n-/// - GCS buckets are in a global namespace, only one bucket\n-///   named `foo` exists in Google Cloud.\n-/// - Creating new top-level directories is implemented by creating\n-///   a bucket, this may be a slower operation than usual.\n-/// - A principal (service account, user, etc) can only list the\n-///   buckets for a single project, but can access the buckets\n-///   for many projects. It is possible that listing \"all\"\n-///   the buckets returns fewer buckets than you have access to.\n-/// - GCS does not have directories, they are emulated in this\n-///   library by listing objects with a common prefix.\n-/// - In general, GCS has much higher latency than local filesystems.\n-///   The throughput of GCS is comparable to the throughput of\n-///   a local file system.\n+/// GCS (Google Cloud Storage - https://cloud.google.com/storage) is an scalable object\n+/// storage system for any amount of data. The main abstractions in GCS are buckets and\n+/// objects. A bucket is a namespace for objects, buckets can store any number of objects,\n+/// tens of millions and even billions is not uncommon.  Each object contains a single\n+/// blob of data, up to 5TiB in size.  Buckets are typically configured to keep a single\n+/// version of each object, but versioning can be enabled. Versioning is important because\n+/// objects are immutable, once created one cannot append data to the object or modify the\n+/// object data in any way.\n+///\n+/// GCS buckets are in a global namespace, if a Google Cloud customer creates a bucket\n+/// named `foo` no other customer can create a bucket with the same name. Note that a\n+/// principal (a user or service account) may only list the buckets they have entitled to,\n+/// and then only within a project. It is not possible to list \"all\" the buckets.\n+///\n+/// Within each bucket objects are in flat namespace. GCS does not have folders or\n+/// directories. However, following some conventions it is possible to emulate\n+/// directories. To this end this class:\n+///\n+/// - All buckets are treated as directories at the \"root\"\n+/// - Creating a root directory results in a new bucket being created, this may be slower\n+///   than most GCS operations.\n+/// - Any object with a name ending with a slash (`/`) character is treated as a\n+///   directory.\n+/// - The class creates marker objects for a directory, using a trailing slash in the\n+///   marker names. For debugging purposes, the metadata and contents of these marker\n+///   objects indicate that they are markers created by this class. The class does\n\nReview comment:\n       Isn't there any de facto standard for directory metadata markers?\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.cc\n##########\n@@ -275,12 +273,67 @@ class GcsFileSystem::Impl {\n   const GcsOptions& options() const { return options_; }\n \n   Result<FileInfo> GetFileInfo(const GcsPath& path) {\n-    if (!path.object.empty()) {\n-      auto meta = client_.GetObjectMetadata(path.bucket, path.object);\n-      return GetFileInfoImpl(path, std::move(meta).status(), FileType::File);\n+    if (path.object.empty()) {\n+      auto meta = client_.GetBucketMetadata(path.bucket);\n+      return GetFileInfoImpl(path, std::move(meta).status(), FileType::Directory);\n     }\n-    auto meta = client_.GetBucketMetadata(path.bucket);\n-    return GetFileInfoImpl(path, std::move(meta).status(), FileType::Directory);\n+    auto meta = client_.GetObjectMetadata(path.bucket, path.object);\n+    return GetFileInfoImpl(\n+        path, std::move(meta).status(),\n+        path.object.back() == '/' ? FileType::Directory : FileType::File);\n+  }\n+\n+  // GCS does not have directories or folders. But folders can be emulated (with some\n+  // limitations) using marker objects.  That and listing with prefixes creates the\n+  // illusion of folders.\n+  google::cloud::Status CreateDirMarker(const std::string& bucket,\n+                                        util::string_view name) {\n+    // Make the name canonical.\n+    const auto canonical = internal::EnsureTrailingSlash(name);\n+    return client_\n+        .InsertObject(bucket, canonical, \"arrow gcsfs directory \" + canonical,\n+                      gcs::WithObjectMetadata(gcs::ObjectMetadata().upsert_metadata(\n+                          \"arrow/gcsfs\", \"directory\")))\n+        .status();\n+  }\n+\n+  google::cloud::Status CreateDirMarkerRecursive(const std::string& bucket,\n+                                                 const std::string& object) {\n+    auto get_parent = [](std::string const& path) {\n+      return std::move(internal::GetAbstractPathParent(path).first);\n+    };\n+    // Maybe counterintuitively we create the markers from the most nested and up. Because\n+    // GCS does not have directories creating `a/b/c` will succeed, even if `a/` or `a/b/`\n+    // does not exist.  In the common case, where `a/b/` may already exist, it is more\n+    // efficient to just create `a/b/c/` and then find out that `a/b/` was already there.\n+    // In the case where none exists, it does not matter which order we follow.\n+    for (auto parent = object; !parent.empty(); parent = get_parent(parent)) {\n+      auto status = CreateDirMarker(bucket, parent);\n+      if (status.code() == google::cloud::StatusCode::kAlreadyExists) {\n+        break;\n+      }\n+      if (!status.ok()) {\n+        return status;\n+      }\n+    }\n+    return {};\n+  }\n+\n+  Status CreateDir(const GcsPath& p) {\n+    if (p.object.empty()) {\n+      return internal::ToArrowStatus(\n+          client_.CreateBucket(p.bucket, gcs::BucketMetadata()).status());\n+    }\n+    return internal::ToArrowStatus(CreateDirMarker(p.bucket, p.object));\n+  }\n+\n+  Status CreateDirRecursive(const GcsPath& p) {\n+    auto status = client_.CreateBucket(p.bucket, gcs::BucketMetadata()).status();\n\nReview comment:\n       Isn't it a bit wasteful to do this everytime, even if the common case is probably that the bucket already exists?\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.cc\n##########\n@@ -332,12 +385,15 @@ class GcsFileSystem::Impl {\n   static Result<FileInfo> GetFileInfoImpl(const GcsPath& path,\n                                           const google::cloud::Status& status,\n                                           FileType type) {\n+    const auto& canonical = type == FileType::Directory\n+                                ? internal::EnsureTrailingSlash(path.full_path)\n+                                : path.full_path;\n\nReview comment:\n       Sorry, I never remember for sure: is it actually ok to keep a const-ref to a temporary?\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.h\n##########\n@@ -40,24 +40,43 @@ struct ARROW_EXPORT GcsOptions {\n   bool Equals(const GcsOptions& other) const;\n };\n \n+/// - TODO(ARROW-1231) - review this documentation before closing the bug.\n /// \\brief GCS-backed FileSystem implementation.\n ///\n-/// Some implementation notes:\n-/// - TODO(ARROW-1231) - review all the notes once completed.\n-/// - buckets are treated as top-level directories on a \"root\".\n-/// - GCS buckets are in a global namespace, only one bucket\n-///   named `foo` exists in Google Cloud.\n-/// - Creating new top-level directories is implemented by creating\n-///   a bucket, this may be a slower operation than usual.\n-/// - A principal (service account, user, etc) can only list the\n-///   buckets for a single project, but can access the buckets\n-///   for many projects. It is possible that listing \"all\"\n-///   the buckets returns fewer buckets than you have access to.\n-/// - GCS does not have directories, they are emulated in this\n-///   library by listing objects with a common prefix.\n-/// - In general, GCS has much higher latency than local filesystems.\n-///   The throughput of GCS is comparable to the throughput of\n-///   a local file system.\n+/// GCS (Google Cloud Storage - https://cloud.google.com/storage) is an scalable object\n+/// storage system for any amount of data. The main abstractions in GCS are buckets and\n+/// objects. A bucket is a namespace for objects, buckets can store any number of objects,\n+/// tens of millions and even billions is not uncommon.  Each object contains a single\n+/// blob of data, up to 5TiB in size.  Buckets are typically configured to keep a single\n+/// version of each object, but versioning can be enabled. Versioning is important because\n+/// objects are immutable, once created one cannot append data to the object or modify the\n+/// object data in any way.\n+///\n+/// GCS buckets are in a global namespace, if a Google Cloud customer creates a bucket\n+/// named `foo` no other customer can create a bucket with the same name. Note that a\n+/// principal (a user or service account) may only list the buckets they have entitled to,\n+/// and then only within a project. It is not possible to list \"all\" the buckets.\n+///\n+/// Within each bucket objects are in flat namespace. GCS does not have folders or\n+/// directories. However, following some conventions it is possible to emulate\n+/// directories. To this end this class:\n+///\n+/// - All buckets are treated as directories at the \"root\"\n+/// - Creating a root directory results in a new bucket being created, this may be slower\n+///   than most GCS operations.\n+/// - Any object with a name ending with a slash (`/`) character is treated as a\n+///   directory.\n+/// - The class creates marker objects for a directory, using a trailing slash in the\n+///   marker names. For debugging purposes, the metadata and contents of these marker\n+///   objects indicate that they are markers created by this class. The class does\n+///   not rely on this annotations.\n\nReview comment:\n       ```suggestion\r\n   ///   not rely on these annotations.\r\n   ```\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.h\n##########\n@@ -40,24 +40,43 @@ struct ARROW_EXPORT GcsOptions {\n   bool Equals(const GcsOptions& other) const;\n };\n \n+/// - TODO(ARROW-1231) - review this documentation before closing the bug.\n\nReview comment:\n       ```suggestion\r\n   // - TODO(ARROW-1231) - review this documentation before closing the bug.\r\n   ```\r\n   \r\n   (avoid emitting this in the rendered docstring)\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.h\n##########\n@@ -40,24 +40,43 @@ struct ARROW_EXPORT GcsOptions {\n   bool Equals(const GcsOptions& other) const;\n };\n \n+/// - TODO(ARROW-1231) - review this documentation before closing the bug.\n /// \\brief GCS-backed FileSystem implementation.\n ///\n-/// Some implementation notes:\n-/// - TODO(ARROW-1231) - review all the notes once completed.\n-/// - buckets are treated as top-level directories on a \"root\".\n-/// - GCS buckets are in a global namespace, only one bucket\n-///   named `foo` exists in Google Cloud.\n-/// - Creating new top-level directories is implemented by creating\n-///   a bucket, this may be a slower operation than usual.\n-/// - A principal (service account, user, etc) can only list the\n-///   buckets for a single project, but can access the buckets\n-///   for many projects. It is possible that listing \"all\"\n-///   the buckets returns fewer buckets than you have access to.\n-/// - GCS does not have directories, they are emulated in this\n-///   library by listing objects with a common prefix.\n-/// - In general, GCS has much higher latency than local filesystems.\n-///   The throughput of GCS is comparable to the throughput of\n-///   a local file system.\n+/// GCS (Google Cloud Storage - https://cloud.google.com/storage) is an scalable object\n+/// storage system for any amount of data. The main abstractions in GCS are buckets and\n+/// objects. A bucket is a namespace for objects, buckets can store any number of objects,\n+/// tens of millions and even billions is not uncommon.  Each object contains a single\n+/// blob of data, up to 5TiB in size.  Buckets are typically configured to keep a single\n+/// version of each object, but versioning can be enabled. Versioning is important because\n+/// objects are immutable, once created one cannot append data to the object or modify the\n+/// object data in any way.\n+///\n+/// GCS buckets are in a global namespace, if a Google Cloud customer creates a bucket\n+/// named `foo` no other customer can create a bucket with the same name. Note that a\n+/// principal (a user or service account) may only list the buckets they have entitled to,\n\nReview comment:\n       ```suggestion\r\n   /// principal (a user or service account) may only list the buckets they are entitled to,\r\n   ```\r\n   \n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.h\n##########\n@@ -40,24 +40,43 @@ struct ARROW_EXPORT GcsOptions {\n   bool Equals(const GcsOptions& other) const;\n };\n \n+/// - TODO(ARROW-1231) - review this documentation before closing the bug.\n /// \\brief GCS-backed FileSystem implementation.\n ///\n-/// Some implementation notes:\n-/// - TODO(ARROW-1231) - review all the notes once completed.\n-/// - buckets are treated as top-level directories on a \"root\".\n-/// - GCS buckets are in a global namespace, only one bucket\n-///   named `foo` exists in Google Cloud.\n-/// - Creating new top-level directories is implemented by creating\n-///   a bucket, this may be a slower operation than usual.\n-/// - A principal (service account, user, etc) can only list the\n-///   buckets for a single project, but can access the buckets\n-///   for many projects. It is possible that listing \"all\"\n-///   the buckets returns fewer buckets than you have access to.\n-/// - GCS does not have directories, they are emulated in this\n-///   library by listing objects with a common prefix.\n-/// - In general, GCS has much higher latency than local filesystems.\n-///   The throughput of GCS is comparable to the throughput of\n-///   a local file system.\n+/// GCS (Google Cloud Storage - https://cloud.google.com/storage) is an scalable object\n\nReview comment:\n       ```suggestion\r\n   /// GCS (Google Cloud Storage - https://cloud.google.com/storage) is a scalable object\r\n   ```\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.cc\n##########\n@@ -275,12 +273,67 @@ class GcsFileSystem::Impl {\n   const GcsOptions& options() const { return options_; }\n \n   Result<FileInfo> GetFileInfo(const GcsPath& path) {\n-    if (!path.object.empty()) {\n-      auto meta = client_.GetObjectMetadata(path.bucket, path.object);\n-      return GetFileInfoImpl(path, std::move(meta).status(), FileType::File);\n+    if (path.object.empty()) {\n+      auto meta = client_.GetBucketMetadata(path.bucket);\n+      return GetFileInfoImpl(path, std::move(meta).status(), FileType::Directory);\n     }\n-    auto meta = client_.GetBucketMetadata(path.bucket);\n-    return GetFileInfoImpl(path, std::move(meta).status(), FileType::Directory);\n+    auto meta = client_.GetObjectMetadata(path.bucket, path.object);\n+    return GetFileInfoImpl(\n+        path, std::move(meta).status(),\n+        path.object.back() == '/' ? FileType::Directory : FileType::File);\n+  }\n+\n+  // GCS does not have directories or folders. But folders can be emulated (with some\n+  // limitations) using marker objects.  That and listing with prefixes creates the\n+  // illusion of folders.\n+  google::cloud::Status CreateDirMarker(const std::string& bucket,\n+                                        util::string_view name) {\n+    // Make the name canonical.\n+    const auto canonical = internal::EnsureTrailingSlash(name);\n+    return client_\n+        .InsertObject(bucket, canonical, \"arrow gcsfs directory \" + canonical,\n\nReview comment:\n       Is it a common practice to use non-empty contents for these directory markers? In S3, the convention is usually to create 0-byte objects.\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.h\n##########\n@@ -40,24 +40,43 @@ struct ARROW_EXPORT GcsOptions {\n   bool Equals(const GcsOptions& other) const;\n };\n \n+/// - TODO(ARROW-1231) - review this documentation before closing the bug.\n /// \\brief GCS-backed FileSystem implementation.\n ///\n-/// Some implementation notes:\n-/// - TODO(ARROW-1231) - review all the notes once completed.\n-/// - buckets are treated as top-level directories on a \"root\".\n-/// - GCS buckets are in a global namespace, only one bucket\n-///   named `foo` exists in Google Cloud.\n-/// - Creating new top-level directories is implemented by creating\n-///   a bucket, this may be a slower operation than usual.\n-/// - A principal (service account, user, etc) can only list the\n-///   buckets for a single project, but can access the buckets\n-///   for many projects. It is possible that listing \"all\"\n-///   the buckets returns fewer buckets than you have access to.\n-/// - GCS does not have directories, they are emulated in this\n-///   library by listing objects with a common prefix.\n-/// - In general, GCS has much higher latency than local filesystems.\n-///   The throughput of GCS is comparable to the throughput of\n-///   a local file system.\n+/// GCS (Google Cloud Storage - https://cloud.google.com/storage) is an scalable object\n+/// storage system for any amount of data. The main abstractions in GCS are buckets and\n+/// objects. A bucket is a namespace for objects, buckets can store any number of objects,\n+/// tens of millions and even billions is not uncommon.  Each object contains a single\n+/// blob of data, up to 5TiB in size.  Buckets are typically configured to keep a single\n+/// version of each object, but versioning can be enabled. Versioning is important because\n+/// objects are immutable, once created one cannot append data to the object or modify the\n+/// object data in any way.\n+///\n+/// GCS buckets are in a global namespace, if a Google Cloud customer creates a bucket\n+/// named `foo` no other customer can create a bucket with the same name. Note that a\n+/// principal (a user or service account) may only list the buckets they have entitled to,\n+/// and then only within a project. It is not possible to list \"all\" the buckets.\n+///\n+/// Within each bucket objects are in flat namespace. GCS does not have folders or\n+/// directories. However, following some conventions it is possible to emulate\n+/// directories. To this end this class:\n\nReview comment:\n       ```suggestion\r\n   /// directories. To this end, in this class:\r\n   ```\r\n   \r\n   (or \"using this class\" perhaps?)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-07T15:33:14.144+0000",
                    "updated": "2021-12-07T15:33:14.144+0000",
                    "started": "2021-12-07T15:33:14.144+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "691828",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/691873",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "coryan commented on a change in pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#discussion_r764196790\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.cc\n##########\n@@ -332,12 +385,15 @@ class GcsFileSystem::Impl {\n   static Result<FileInfo> GetFileInfoImpl(const GcsPath& path,\n                                           const google::cloud::Status& status,\n                                           FileType type) {\n+    const auto& canonical = type == FileType::Directory\n+                                ? internal::EnsureTrailingSlash(path.full_path)\n+                                : path.full_path;\n\nReview comment:\n       Yes, it is ok:\r\n   \r\n   > The lifetime of a temporary object may be extended by binding to a const lvalue reference or to an rvalue reference (since C++11), see reference initialization for details.\r\n   \r\n   https://en.cppreference.com/w/cpp/language/lifetime#:~:text=The%20lifetime%20of%20a%20temporary%20object%20may%20be%20extended%20by%20binding%20to%20a%20const%20lvalue%20reference\r\n   \r\n   https://en.cppreference.com/w/cpp/language/reference_initialization#Lifetime_of_a_temporary\r\n   \r\n   \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-07T17:04:46.669+0000",
                    "updated": "2021-12-07T17:04:46.669+0000",
                    "started": "2021-12-07T17:04:46.669+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "691873",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/691874",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "coryan commented on a change in pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#discussion_r764196833\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.cc\n##########\n@@ -275,12 +273,67 @@ class GcsFileSystem::Impl {\n   const GcsOptions& options() const { return options_; }\n \n   Result<FileInfo> GetFileInfo(const GcsPath& path) {\n-    if (!path.object.empty()) {\n-      auto meta = client_.GetObjectMetadata(path.bucket, path.object);\n-      return GetFileInfoImpl(path, std::move(meta).status(), FileType::File);\n+    if (path.object.empty()) {\n+      auto meta = client_.GetBucketMetadata(path.bucket);\n+      return GetFileInfoImpl(path, std::move(meta).status(), FileType::Directory);\n     }\n-    auto meta = client_.GetBucketMetadata(path.bucket);\n-    return GetFileInfoImpl(path, std::move(meta).status(), FileType::Directory);\n+    auto meta = client_.GetObjectMetadata(path.bucket, path.object);\n+    return GetFileInfoImpl(\n+        path, std::move(meta).status(),\n+        path.object.back() == '/' ? FileType::Directory : FileType::File);\n+  }\n+\n+  // GCS does not have directories or folders. But folders can be emulated (with some\n+  // limitations) using marker objects.  That and listing with prefixes creates the\n+  // illusion of folders.\n+  google::cloud::Status CreateDirMarker(const std::string& bucket,\n+                                        util::string_view name) {\n+    // Make the name canonical.\n+    const auto canonical = internal::EnsureTrailingSlash(name);\n+    return client_\n+        .InsertObject(bucket, canonical, \"arrow gcsfs directory \" + canonical,\n+                      gcs::WithObjectMetadata(gcs::ObjectMetadata().upsert_metadata(\n+                          \"arrow/gcsfs\", \"directory\")))\n+        .status();\n+  }\n+\n+  google::cloud::Status CreateDirMarkerRecursive(const std::string& bucket,\n+                                                 const std::string& object) {\n+    auto get_parent = [](std::string const& path) {\n+      return std::move(internal::GetAbstractPathParent(path).first);\n+    };\n+    // Maybe counterintuitively we create the markers from the most nested and up. Because\n+    // GCS does not have directories creating `a/b/c` will succeed, even if `a/` or `a/b/`\n+    // does not exist.  In the common case, where `a/b/` may already exist, it is more\n+    // efficient to just create `a/b/c/` and then find out that `a/b/` was already there.\n+    // In the case where none exists, it does not matter which order we follow.\n+    for (auto parent = object; !parent.empty(); parent = get_parent(parent)) {\n+      auto status = CreateDirMarker(bucket, parent);\n+      if (status.code() == google::cloud::StatusCode::kAlreadyExists) {\n+        break;\n+      }\n+      if (!status.ok()) {\n+        return status;\n+      }\n+    }\n+    return {};\n+  }\n+\n+  Status CreateDir(const GcsPath& p) {\n+    if (p.object.empty()) {\n+      return internal::ToArrowStatus(\n+          client_.CreateBucket(p.bucket, gcs::BucketMetadata()).status());\n+    }\n+    return internal::ToArrowStatus(CreateDirMarker(p.bucket, p.object));\n+  }\n+\n+  Status CreateDirRecursive(const GcsPath& p) {\n+    auto status = client_.CreateBucket(p.bucket, gcs::BucketMetadata()).status();\n\nReview comment:\n       Good point, fixed.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-07T17:04:59.399+0000",
                    "updated": "2021-12-07T17:04:59.399+0000",
                    "started": "2021-12-07T17:04:59.398+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "691874",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/691876",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "coryan commented on a change in pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#discussion_r764199176\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.cc\n##########\n@@ -275,12 +273,67 @@ class GcsFileSystem::Impl {\n   const GcsOptions& options() const { return options_; }\n \n   Result<FileInfo> GetFileInfo(const GcsPath& path) {\n-    if (!path.object.empty()) {\n-      auto meta = client_.GetObjectMetadata(path.bucket, path.object);\n-      return GetFileInfoImpl(path, std::move(meta).status(), FileType::File);\n+    if (path.object.empty()) {\n+      auto meta = client_.GetBucketMetadata(path.bucket);\n+      return GetFileInfoImpl(path, std::move(meta).status(), FileType::Directory);\n     }\n-    auto meta = client_.GetBucketMetadata(path.bucket);\n-    return GetFileInfoImpl(path, std::move(meta).status(), FileType::Directory);\n+    auto meta = client_.GetObjectMetadata(path.bucket, path.object);\n+    return GetFileInfoImpl(\n+        path, std::move(meta).status(),\n+        path.object.back() == '/' ? FileType::Directory : FileType::File);\n+  }\n+\n+  // GCS does not have directories or folders. But folders can be emulated (with some\n+  // limitations) using marker objects.  That and listing with prefixes creates the\n+  // illusion of folders.\n+  google::cloud::Status CreateDirMarker(const std::string& bucket,\n+                                        util::string_view name) {\n+    // Make the name canonical.\n+    const auto canonical = internal::EnsureTrailingSlash(name);\n+    return client_\n+        .InsertObject(bucket, canonical, \"arrow gcsfs directory \" + canonical,\n\nReview comment:\n       Changed the object to be 0-byte, it makes little difference either way.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-07T17:07:48.584+0000",
                    "updated": "2021-12-07T17:07:48.584+0000",
                    "started": "2021-12-07T17:07:48.584+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "691876",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/691880",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "coryan commented on a change in pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#discussion_r764199480\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.h\n##########\n@@ -40,24 +40,43 @@ struct ARROW_EXPORT GcsOptions {\n   bool Equals(const GcsOptions& other) const;\n };\n \n+/// - TODO(ARROW-1231) - review this documentation before closing the bug.\n /// \\brief GCS-backed FileSystem implementation.\n ///\n-/// Some implementation notes:\n-/// - TODO(ARROW-1231) - review all the notes once completed.\n-/// - buckets are treated as top-level directories on a \"root\".\n-/// - GCS buckets are in a global namespace, only one bucket\n-///   named `foo` exists in Google Cloud.\n-/// - Creating new top-level directories is implemented by creating\n-///   a bucket, this may be a slower operation than usual.\n-/// - A principal (service account, user, etc) can only list the\n-///   buckets for a single project, but can access the buckets\n-///   for many projects. It is possible that listing \"all\"\n-///   the buckets returns fewer buckets than you have access to.\n-/// - GCS does not have directories, they are emulated in this\n-///   library by listing objects with a common prefix.\n-/// - In general, GCS has much higher latency than local filesystems.\n-///   The throughput of GCS is comparable to the throughput of\n-///   a local file system.\n+/// GCS (Google Cloud Storage - https://cloud.google.com/storage) is an scalable object\n+/// storage system for any amount of data. The main abstractions in GCS are buckets and\n+/// objects. A bucket is a namespace for objects, buckets can store any number of objects,\n+/// tens of millions and even billions is not uncommon.  Each object contains a single\n+/// blob of data, up to 5TiB in size.  Buckets are typically configured to keep a single\n+/// version of each object, but versioning can be enabled. Versioning is important because\n+/// objects are immutable, once created one cannot append data to the object or modify the\n+/// object data in any way.\n+///\n+/// GCS buckets are in a global namespace, if a Google Cloud customer creates a bucket\n+/// named `foo` no other customer can create a bucket with the same name. Note that a\n+/// principal (a user or service account) may only list the buckets they have entitled to,\n+/// and then only within a project. It is not possible to list \"all\" the buckets.\n+///\n+/// Within each bucket objects are in flat namespace. GCS does not have folders or\n+/// directories. However, following some conventions it is possible to emulate\n+/// directories. To this end this class:\n+///\n+/// - All buckets are treated as directories at the \"root\"\n+/// - Creating a root directory results in a new bucket being created, this may be slower\n+///   than most GCS operations.\n+/// - Any object with a name ending with a slash (`/`) character is treated as a\n+///   directory.\n+/// - The class creates marker objects for a directory, using a trailing slash in the\n+///   marker names. For debugging purposes, the metadata and contents of these marker\n+///   objects indicate that they are markers created by this class. The class does\n+///   not rely on this annotations.\n\nReview comment:\n       Fixed number inconsistency.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-07T17:08:18.856+0000",
                    "updated": "2021-12-07T17:08:18.856+0000",
                    "started": "2021-12-07T17:08:18.856+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "691880",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/691886",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "coryan commented on a change in pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#discussion_r764202957\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.h\n##########\n@@ -40,24 +40,43 @@ struct ARROW_EXPORT GcsOptions {\n   bool Equals(const GcsOptions& other) const;\n };\n \n+/// - TODO(ARROW-1231) - review this documentation before closing the bug.\n /// \\brief GCS-backed FileSystem implementation.\n ///\n-/// Some implementation notes:\n-/// - TODO(ARROW-1231) - review all the notes once completed.\n-/// - buckets are treated as top-level directories on a \"root\".\n-/// - GCS buckets are in a global namespace, only one bucket\n-///   named `foo` exists in Google Cloud.\n-/// - Creating new top-level directories is implemented by creating\n-///   a bucket, this may be a slower operation than usual.\n-/// - A principal (service account, user, etc) can only list the\n-///   buckets for a single project, but can access the buckets\n-///   for many projects. It is possible that listing \"all\"\n-///   the buckets returns fewer buckets than you have access to.\n-/// - GCS does not have directories, they are emulated in this\n-///   library by listing objects with a common prefix.\n-/// - In general, GCS has much higher latency than local filesystems.\n-///   The throughput of GCS is comparable to the throughput of\n-///   a local file system.\n+/// GCS (Google Cloud Storage - https://cloud.google.com/storage) is an scalable object\n+/// storage system for any amount of data. The main abstractions in GCS are buckets and\n+/// objects. A bucket is a namespace for objects, buckets can store any number of objects,\n+/// tens of millions and even billions is not uncommon.  Each object contains a single\n+/// blob of data, up to 5TiB in size.  Buckets are typically configured to keep a single\n+/// version of each object, but versioning can be enabled. Versioning is important because\n+/// objects are immutable, once created one cannot append data to the object or modify the\n+/// object data in any way.\n+///\n+/// GCS buckets are in a global namespace, if a Google Cloud customer creates a bucket\n+/// named `foo` no other customer can create a bucket with the same name. Note that a\n+/// principal (a user or service account) may only list the buckets they have entitled to,\n+/// and then only within a project. It is not possible to list \"all\" the buckets.\n+///\n+/// Within each bucket objects are in flat namespace. GCS does not have folders or\n+/// directories. However, following some conventions it is possible to emulate\n+/// directories. To this end this class:\n\nReview comment:\n       Done.\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.h\n##########\n@@ -40,24 +40,43 @@ struct ARROW_EXPORT GcsOptions {\n   bool Equals(const GcsOptions& other) const;\n };\n \n+/// - TODO(ARROW-1231) - review this documentation before closing the bug.\n /// \\brief GCS-backed FileSystem implementation.\n ///\n-/// Some implementation notes:\n-/// - TODO(ARROW-1231) - review all the notes once completed.\n-/// - buckets are treated as top-level directories on a \"root\".\n-/// - GCS buckets are in a global namespace, only one bucket\n-///   named `foo` exists in Google Cloud.\n-/// - Creating new top-level directories is implemented by creating\n-///   a bucket, this may be a slower operation than usual.\n-/// - A principal (service account, user, etc) can only list the\n-///   buckets for a single project, but can access the buckets\n-///   for many projects. It is possible that listing \"all\"\n-///   the buckets returns fewer buckets than you have access to.\n-/// - GCS does not have directories, they are emulated in this\n-///   library by listing objects with a common prefix.\n-/// - In general, GCS has much higher latency than local filesystems.\n-///   The throughput of GCS is comparable to the throughput of\n-///   a local file system.\n+/// GCS (Google Cloud Storage - https://cloud.google.com/storage) is an scalable object\n+/// storage system for any amount of data. The main abstractions in GCS are buckets and\n+/// objects. A bucket is a namespace for objects, buckets can store any number of objects,\n+/// tens of millions and even billions is not uncommon.  Each object contains a single\n+/// blob of data, up to 5TiB in size.  Buckets are typically configured to keep a single\n+/// version of each object, but versioning can be enabled. Versioning is important because\n+/// objects are immutable, once created one cannot append data to the object or modify the\n+/// object data in any way.\n+///\n+/// GCS buckets are in a global namespace, if a Google Cloud customer creates a bucket\n+/// named `foo` no other customer can create a bucket with the same name. Note that a\n+/// principal (a user or service account) may only list the buckets they have entitled to,\n\nReview comment:\n       Done.\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.h\n##########\n@@ -40,24 +40,43 @@ struct ARROW_EXPORT GcsOptions {\n   bool Equals(const GcsOptions& other) const;\n };\n \n+/// - TODO(ARROW-1231) - review this documentation before closing the bug.\n /// \\brief GCS-backed FileSystem implementation.\n ///\n-/// Some implementation notes:\n-/// - TODO(ARROW-1231) - review all the notes once completed.\n-/// - buckets are treated as top-level directories on a \"root\".\n-/// - GCS buckets are in a global namespace, only one bucket\n-///   named `foo` exists in Google Cloud.\n-/// - Creating new top-level directories is implemented by creating\n-///   a bucket, this may be a slower operation than usual.\n-/// - A principal (service account, user, etc) can only list the\n-///   buckets for a single project, but can access the buckets\n-///   for many projects. It is possible that listing \"all\"\n-///   the buckets returns fewer buckets than you have access to.\n-/// - GCS does not have directories, they are emulated in this\n-///   library by listing objects with a common prefix.\n-/// - In general, GCS has much higher latency than local filesystems.\n-///   The throughput of GCS is comparable to the throughput of\n-///   a local file system.\n+/// GCS (Google Cloud Storage - https://cloud.google.com/storage) is an scalable object\n\nReview comment:\n       Done.\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.h\n##########\n@@ -40,24 +40,43 @@ struct ARROW_EXPORT GcsOptions {\n   bool Equals(const GcsOptions& other) const;\n };\n \n+/// - TODO(ARROW-1231) - review this documentation before closing the bug.\n\nReview comment:\n       Done. Thanks.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-07T17:12:50.522+0000",
                    "updated": "2021-12-07T17:12:50.522+0000",
                    "started": "2021-12-07T17:12:50.521+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "691886",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/691891",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "coryan commented on a change in pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#discussion_r764204767\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.h\n##########\n@@ -40,24 +40,43 @@ struct ARROW_EXPORT GcsOptions {\n   bool Equals(const GcsOptions& other) const;\n };\n \n+/// - TODO(ARROW-1231) - review this documentation before closing the bug.\n /// \\brief GCS-backed FileSystem implementation.\n ///\n-/// Some implementation notes:\n-/// - TODO(ARROW-1231) - review all the notes once completed.\n-/// - buckets are treated as top-level directories on a \"root\".\n-/// - GCS buckets are in a global namespace, only one bucket\n-///   named `foo` exists in Google Cloud.\n-/// - Creating new top-level directories is implemented by creating\n-///   a bucket, this may be a slower operation than usual.\n-/// - A principal (service account, user, etc) can only list the\n-///   buckets for a single project, but can access the buckets\n-///   for many projects. It is possible that listing \"all\"\n-///   the buckets returns fewer buckets than you have access to.\n-/// - GCS does not have directories, they are emulated in this\n-///   library by listing objects with a common prefix.\n-/// - In general, GCS has much higher latency than local filesystems.\n-///   The throughput of GCS is comparable to the throughput of\n-///   a local file system.\n+/// GCS (Google Cloud Storage - https://cloud.google.com/storage) is an scalable object\n+/// storage system for any amount of data. The main abstractions in GCS are buckets and\n+/// objects. A bucket is a namespace for objects, buckets can store any number of objects,\n+/// tens of millions and even billions is not uncommon.  Each object contains a single\n+/// blob of data, up to 5TiB in size.  Buckets are typically configured to keep a single\n+/// version of each object, but versioning can be enabled. Versioning is important because\n+/// objects are immutable, once created one cannot append data to the object or modify the\n+/// object data in any way.\n+///\n+/// GCS buckets are in a global namespace, if a Google Cloud customer creates a bucket\n+/// named `foo` no other customer can create a bucket with the same name. Note that a\n+/// principal (a user or service account) may only list the buckets they have entitled to,\n+/// and then only within a project. It is not possible to list \"all\" the buckets.\n+///\n+/// Within each bucket objects are in flat namespace. GCS does not have folders or\n+/// directories. However, following some conventions it is possible to emulate\n+/// directories. To this end this class:\n+///\n+/// - All buckets are treated as directories at the \"root\"\n+/// - Creating a root directory results in a new bucket being created, this may be slower\n+///   than most GCS operations.\n+/// - Any object with a name ending with a slash (`/`) character is treated as a\n+///   directory.\n+/// - The class creates marker objects for a directory, using a trailing slash in the\n+///   marker names. For debugging purposes, the metadata and contents of these marker\n+///   objects indicate that they are markers created by this class. The class does\n\nReview comment:\n       Kind of?  The UI in for Google Cloud creates empty objects ending with `/`.  The command-line utility does no such thing (e.g. `gsutil cp -r deep-directory/ gs://my-bucket/foo` would not create these markers).  The client libraries do not create them either.  Whether that amounts to a de facto standard, I cannot say.\r\n   \r\n   Frankly the use of \"folder emulation\" causes more harm than good.  It creates the impression that some things should work (e.g. directory renames, directory permissions, efficient non-recursive listing) when they don't.  And the markers are sort of useless.  If you want to list objects non-recursively, the API has native support for including any matching prefixes in the results, without the need for these markers :shrug: \r\n   \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-07T17:14:48.129+0000",
                    "updated": "2021-12-07T17:14:48.129+0000",
                    "started": "2021-12-07T17:14:48.129+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "691891",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/691892",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "coryan commented on pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#issuecomment-988119281\n\n\n   Please take another look.  \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-07T17:15:22.925+0000",
                    "updated": "2021-12-07T17:15:22.925+0000",
                    "started": "2021-12-07T17:15:22.925+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "691892",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/691915",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#discussion_r764234104\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.h\n##########\n@@ -40,24 +40,43 @@ struct ARROW_EXPORT GcsOptions {\n   bool Equals(const GcsOptions& other) const;\n };\n \n+/// - TODO(ARROW-1231) - review this documentation before closing the bug.\n /// \\brief GCS-backed FileSystem implementation.\n ///\n-/// Some implementation notes:\n-/// - TODO(ARROW-1231) - review all the notes once completed.\n-/// - buckets are treated as top-level directories on a \"root\".\n-/// - GCS buckets are in a global namespace, only one bucket\n-///   named `foo` exists in Google Cloud.\n-/// - Creating new top-level directories is implemented by creating\n-///   a bucket, this may be a slower operation than usual.\n-/// - A principal (service account, user, etc) can only list the\n-///   buckets for a single project, but can access the buckets\n-///   for many projects. It is possible that listing \"all\"\n-///   the buckets returns fewer buckets than you have access to.\n-/// - GCS does not have directories, they are emulated in this\n-///   library by listing objects with a common prefix.\n-/// - In general, GCS has much higher latency than local filesystems.\n-///   The throughput of GCS is comparable to the throughput of\n-///   a local file system.\n+/// GCS (Google Cloud Storage - https://cloud.google.com/storage) is an scalable object\n+/// storage system for any amount of data. The main abstractions in GCS are buckets and\n+/// objects. A bucket is a namespace for objects, buckets can store any number of objects,\n+/// tens of millions and even billions is not uncommon.  Each object contains a single\n+/// blob of data, up to 5TiB in size.  Buckets are typically configured to keep a single\n+/// version of each object, but versioning can be enabled. Versioning is important because\n+/// objects are immutable, once created one cannot append data to the object or modify the\n+/// object data in any way.\n+///\n+/// GCS buckets are in a global namespace, if a Google Cloud customer creates a bucket\n+/// named `foo` no other customer can create a bucket with the same name. Note that a\n+/// principal (a user or service account) may only list the buckets they have entitled to,\n+/// and then only within a project. It is not possible to list \"all\" the buckets.\n+///\n+/// Within each bucket objects are in flat namespace. GCS does not have folders or\n+/// directories. However, following some conventions it is possible to emulate\n+/// directories. To this end this class:\n+///\n+/// - All buckets are treated as directories at the \"root\"\n+/// - Creating a root directory results in a new bucket being created, this may be slower\n+///   than most GCS operations.\n+/// - Any object with a name ending with a slash (`/`) character is treated as a\n+///   directory.\n+/// - The class creates marker objects for a directory, using a trailing slash in the\n+///   marker names. For debugging purposes, the metadata and contents of these marker\n+///   objects indicate that they are markers created by this class. The class does\n\nReview comment:\n       Hmm, sorry, my question was about the custom metadata you added to these markers.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-07T17:51:42.314+0000",
                    "updated": "2021-12-07T17:51:42.314+0000",
                    "started": "2021-12-07T17:51:42.313+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "691915",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/691918",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#discussion_r764236030\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.cc\n##########\n@@ -332,12 +385,15 @@ class GcsFileSystem::Impl {\n   static Result<FileInfo> GetFileInfoImpl(const GcsPath& path,\n                                           const google::cloud::Status& status,\n                                           FileType type) {\n+    const auto& canonical = type == FileType::Directory\n+                                ? internal::EnsureTrailingSlash(path.full_path)\n+                                : path.full_path;\n\nReview comment:\n       Ha, thanks. I always get confused by this.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-07T17:54:05.777+0000",
                    "updated": "2021-12-07T17:54:05.777+0000",
                    "started": "2021-12-07T17:54:05.777+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "691918",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/691953",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "coryan commented on a change in pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#discussion_r764261730\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/gcsfs.h\n##########\n@@ -40,24 +40,43 @@ struct ARROW_EXPORT GcsOptions {\n   bool Equals(const GcsOptions& other) const;\n };\n \n+/// - TODO(ARROW-1231) - review this documentation before closing the bug.\n /// \\brief GCS-backed FileSystem implementation.\n ///\n-/// Some implementation notes:\n-/// - TODO(ARROW-1231) - review all the notes once completed.\n-/// - buckets are treated as top-level directories on a \"root\".\n-/// - GCS buckets are in a global namespace, only one bucket\n-///   named `foo` exists in Google Cloud.\n-/// - Creating new top-level directories is implemented by creating\n-///   a bucket, this may be a slower operation than usual.\n-/// - A principal (service account, user, etc) can only list the\n-///   buckets for a single project, but can access the buckets\n-///   for many projects. It is possible that listing \"all\"\n-///   the buckets returns fewer buckets than you have access to.\n-/// - GCS does not have directories, they are emulated in this\n-///   library by listing objects with a common prefix.\n-/// - In general, GCS has much higher latency than local filesystems.\n-///   The throughput of GCS is comparable to the throughput of\n-///   a local file system.\n+/// GCS (Google Cloud Storage - https://cloud.google.com/storage) is an scalable object\n+/// storage system for any amount of data. The main abstractions in GCS are buckets and\n+/// objects. A bucket is a namespace for objects, buckets can store any number of objects,\n+/// tens of millions and even billions is not uncommon.  Each object contains a single\n+/// blob of data, up to 5TiB in size.  Buckets are typically configured to keep a single\n+/// version of each object, but versioning can be enabled. Versioning is important because\n+/// objects are immutable, once created one cannot append data to the object or modify the\n+/// object data in any way.\n+///\n+/// GCS buckets are in a global namespace, if a Google Cloud customer creates a bucket\n+/// named `foo` no other customer can create a bucket with the same name. Note that a\n+/// principal (a user or service account) may only list the buckets they have entitled to,\n+/// and then only within a project. It is not possible to list \"all\" the buckets.\n+///\n+/// Within each bucket objects are in flat namespace. GCS does not have folders or\n+/// directories. However, following some conventions it is possible to emulate\n+/// directories. To this end this class:\n+///\n+/// - All buckets are treated as directories at the \"root\"\n+/// - Creating a root directory results in a new bucket being created, this may be slower\n+///   than most GCS operations.\n+/// - Any object with a name ending with a slash (`/`) character is treated as a\n+///   directory.\n+/// - The class creates marker objects for a directory, using a trailing slash in the\n+///   marker names. For debugging purposes, the metadata and contents of these marker\n+///   objects indicate that they are markers created by this class. The class does\n\nReview comment:\n       Ahhhhh.  No, the UI does not create any metadata, but ignores it too.  I think the metadata is harmless and useful for debugging.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-07T18:30:53.426+0000",
                    "updated": "2021-12-07T18:30:53.426+0000",
                    "started": "2021-12-07T18:30:53.426+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "691953",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/692005",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou closed pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-07T19:48:47.922+0000",
                    "updated": "2021-12-07T19:48:47.922+0000",
                    "started": "2021-12-07T19:48:47.922+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "692005",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/692010",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ursabot commented on pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#issuecomment-988219787\n\n\n   Benchmark runs are scheduled for baseline = 77722d990c28e22a56847b0dc49a79b83a6c1a45 and contender = 01186fc1f77a9e849c5fa4535d5577f8d25b22c3. 01186fc1f77a9e849c5fa4535d5577f8d25b22c3 is a master commit associated with this PR. Results will be available as each benchmark for each run completes.\n   Conbench compare runs links:\n   [Scheduled] [ec2-t3-xlarge-us-east-2](https://conbench.ursa.dev/compare/runs/9f33767f1d224b4f9e4fa66f997217e2...56c9cc16f38348a5993b9d3dbd3fb842/)\n   [Scheduled] [ursa-i9-9960x](https://conbench.ursa.dev/compare/runs/9bc1f30b5c56435e8bcae394642af765...47c378f7ebbf49c3a16b2e6a0eb62d55/)\n   [Scheduled] [ursa-thinkcentre-m75q](https://conbench.ursa.dev/compare/runs/c57b1b3dc71d4109903ce7a87c31ae3f...1205d4909425415eb900ee9cfc494185/)\n   Supported benchmarks:\n   ec2-t3-xlarge-us-east-2: Supported benchmark langs: Python. Runs only benchmarks with cloud = True\n   ursa-i9-9960x: Supported benchmark langs: Python, R, JavaScript\n   ursa-thinkcentre-m75q: Supported benchmark langs: C++, Java\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-07T19:51:22.134+0000",
                    "updated": "2021-12-07T19:51:22.134+0000",
                    "started": "2021-12-07T19:51:22.134+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "692010",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/692067",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ursabot edited a comment on pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#issuecomment-988219787\n\n\n   Benchmark runs are scheduled for baseline = 77722d990c28e22a56847b0dc49a79b83a6c1a45 and contender = 01186fc1f77a9e849c5fa4535d5577f8d25b22c3. 01186fc1f77a9e849c5fa4535d5577f8d25b22c3 is a master commit associated with this PR. Results will be available as each benchmark for each run completes.\n   Conbench compare runs links:\n   [Finished :arrow_down:0.0% :arrow_up:0.0%] [ec2-t3-xlarge-us-east-2](https://conbench.ursa.dev/compare/runs/9f33767f1d224b4f9e4fa66f997217e2...56c9cc16f38348a5993b9d3dbd3fb842/)\n   [Scheduled] [ursa-i9-9960x](https://conbench.ursa.dev/compare/runs/9bc1f30b5c56435e8bcae394642af765...47c378f7ebbf49c3a16b2e6a0eb62d55/)\n   [Scheduled] [ursa-thinkcentre-m75q](https://conbench.ursa.dev/compare/runs/c57b1b3dc71d4109903ce7a87c31ae3f...1205d4909425415eb900ee9cfc494185/)\n   Supported benchmarks:\n   ec2-t3-xlarge-us-east-2: Supported benchmark langs: Python. Runs only benchmarks with cloud = True\n   ursa-i9-9960x: Supported benchmark langs: Python, R, JavaScript\n   ursa-thinkcentre-m75q: Supported benchmark langs: C++, Java\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-07T21:21:16.061+0000",
                    "updated": "2021-12-07T21:21:16.061+0000",
                    "started": "2021-12-07T21:21:16.061+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "692067",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/692218",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ursabot commented on pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#issuecomment-988479595\n\n\n   Benchmark runs are scheduled for baseline = 77722d990c28e22a56847b0dc49a79b83a6c1a45 and contender = 01186fc1f77a9e849c5fa4535d5577f8d25b22c3. 01186fc1f77a9e849c5fa4535d5577f8d25b22c3 is a master commit associated with this PR. Results will be available as each benchmark for each run completes.\n   Conbench compare runs links:\n   [Scheduled] [ec2-t3-xlarge-us-east-2](https://conbench.ursa.dev/compare/runs/91874ad70cba40c88dd7f4b28d3655da...1201f3407e5c444391f8c258324c311c/)\n   [Scheduled] [ursa-i9-9960x](https://conbench.ursa.dev/compare/runs/f1c8031c505b4f9ab42760f956e7c437...2458c37000804f9b86eea8d71c67f82e/)\n   [Scheduled] [ursa-thinkcentre-m75q](https://conbench.ursa.dev/compare/runs/1a5fd3d0d015446796c3b9cd6fa1d86b...e4e0a23babcd41009ff0a0f4d72c300f/)\n   Supported benchmarks:\n   ec2-t3-xlarge-us-east-2: Supported benchmark langs: Python. Runs only benchmarks with cloud = True\n   ursa-i9-9960x: Supported benchmark langs: Python, R, JavaScript\n   ursa-thinkcentre-m75q: Supported benchmark langs: C++, Java\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-08T04:05:56.269+0000",
                    "updated": "2021-12-08T04:05:56.269+0000",
                    "started": "2021-12-08T04:05:56.269+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "692218",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/692239",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ursabot edited a comment on pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#issuecomment-988479595\n\n\n   Benchmark runs are scheduled for baseline = 77722d990c28e22a56847b0dc49a79b83a6c1a45 and contender = 01186fc1f77a9e849c5fa4535d5577f8d25b22c3. 01186fc1f77a9e849c5fa4535d5577f8d25b22c3 is a master commit associated with this PR. Results will be available as each benchmark for each run completes.\n   Conbench compare runs links:\n   [Finished :arrow_down:0.0% :arrow_up:0.0%] [ec2-t3-xlarge-us-east-2](https://conbench.ursa.dev/compare/runs/91874ad70cba40c88dd7f4b28d3655da...1201f3407e5c444391f8c258324c311c/)\n   [Scheduled] [ursa-i9-9960x](https://conbench.ursa.dev/compare/runs/f1c8031c505b4f9ab42760f956e7c437...2458c37000804f9b86eea8d71c67f82e/)\n   [Scheduled] [ursa-thinkcentre-m75q](https://conbench.ursa.dev/compare/runs/1a5fd3d0d015446796c3b9cd6fa1d86b...e4e0a23babcd41009ff0a0f4d72c300f/)\n   Supported benchmarks:\n   ec2-t3-xlarge-us-east-2: Supported benchmark langs: Python. Runs only benchmarks with cloud = True\n   ursa-i9-9960x: Supported benchmark langs: Python, R, JavaScript\n   ursa-thinkcentre-m75q: Supported benchmark langs: C++, Java\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-08T05:34:17.989+0000",
                    "updated": "2021-12-08T05:34:17.989+0000",
                    "started": "2021-12-08T05:34:17.988+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "692239",
                    "issueId": "13414411"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/worklog/692691",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ursabot edited a comment on pull request #11842:\nURL: https://github.com/apache/arrow/pull/11842#issuecomment-988479595\n\n\n   Benchmark runs are scheduled for baseline = 77722d990c28e22a56847b0dc49a79b83a6c1a45 and contender = 01186fc1f77a9e849c5fa4535d5577f8d25b22c3. 01186fc1f77a9e849c5fa4535d5577f8d25b22c3 is a master commit associated with this PR. Results will be available as each benchmark for each run completes.\n   Conbench compare runs links:\n   [Finished :arrow_down:0.0% :arrow_up:0.0%] [ec2-t3-xlarge-us-east-2](https://conbench.ursa.dev/compare/runs/91874ad70cba40c88dd7f4b28d3655da...1201f3407e5c444391f8c258324c311c/)\n   [Failed :arrow_down:1.48% :arrow_up:0.0%] [ursa-i9-9960x](https://conbench.ursa.dev/compare/runs/f1c8031c505b4f9ab42760f956e7c437...2458c37000804f9b86eea8d71c67f82e/)\n   [Scheduled] [ursa-thinkcentre-m75q](https://conbench.ursa.dev/compare/runs/1a5fd3d0d015446796c3b9cd6fa1d86b...e4e0a23babcd41009ff0a0f4d72c300f/)\n   Supported benchmarks:\n   ec2-t3-xlarge-us-east-2: Supported benchmark langs: Python. Runs only benchmarks with cloud = True\n   ursa-i9-9960x: Supported benchmark langs: Python, R, JavaScript\n   ursa-thinkcentre-m75q: Supported benchmark langs: C++, Java\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-08T15:51:02.550+0000",
                    "updated": "2021-12-08T15:51:02.550+0000",
                    "started": "2021-12-08T15:51:02.550+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "692691",
                    "issueId": "13414411"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 12600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@32ca8ae4[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1e993471[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7e04733a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@2969ea37[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2423c75f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@4685183f[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1bc53e76[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@7d1b576b[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@47386ea8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@2992d290[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1b966f5a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@3c11c34c[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 12600,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Dec 07 19:48:41 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-12-07T19:48:41.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-14917/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2021-11-30T00:35:52.000+0000",
        "updated": "2021-12-08T17:01:30.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "3.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 12600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Implement GcsFileSystem::CreateDir",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13414411/comment/17454818",
                    "id": "17454818",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 11842\n[https://github.com/apache/arrow/pull/11842]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-12-07T19:48:41.387+0000",
                    "updated": "2021-12-07T19:48:41.387+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0x6q8:",
        "customfield_12314139": null
    }
}