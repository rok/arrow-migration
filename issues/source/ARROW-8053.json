{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13290715",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13290715",
    "key": "ARROW-8053",
    "fields": {
        "fixVersions": [],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/10101",
            "id": "10101",
            "description": "Issues which have gone without any activity for an extended period of time",
            "name": "Abandoned"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
            "name": "Closed",
            "id": "6",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12332552",
                "id": "12332552",
                "name": "JavaScript"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=willium",
            "name": "willium",
            "key": "willium",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=willium&avatarId=42454",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=willium&avatarId=42454",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=willium&avatarId=42454",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=willium&avatarId=42454"
            },
            "displayName": "Will Strimling",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=willium",
            "name": "willium",
            "key": "willium",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=willium&avatarId=42454",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=willium&avatarId=42454",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=willium&avatarId=42454",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=willium&avatarId=42454"
            },
            "displayName": "Will Strimling",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-8053/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@218b17b8[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5659c41f[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7a0ffa42[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@62eea020[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@569aa045[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@550393f0[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@505bbef8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@47a3fb73[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@44b8e34a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@ded743e[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@cca705[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@58ecac0c[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Apr 06 14:14:19 UTC 2022",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2022-04-06T14:14:19.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-8053/watchers",
            "watchCount": 7,
            "isWatching": false
        },
        "created": "2020-03-10T06:01:40.000+0000",
        "updated": "2022-04-06T14:14:19.000+0000",
        "timeoriginalestimate": null,
        "description": "A series of observable notebooks have shown quite convincingly that arrow doesn't compete with other libraries or JavaScript when it comes to filtering performance. Has there been any discussion or roadmaps established for improving it?\r\n\r\nMost convincing Observables:\r\n * [https://observablehq.com/@duaneatat/apache-arrow-filtering-vs-array-filter]\r\n * [https://observablehq.com/@robertleeplummerjr/array-filtering-apache-arrow-vs-gpu-js-textures-vs-array-fil]",
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[JS] Improve performance of filtering",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13290715/comment/17056514",
                    "id": "17056514",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Good question for [~ptaylor] or [~lmeyerov]. I would guess that there is a lot of room for improvement, I don't know how much the filtering has been optimized to get V8 to produce good JIT'd code",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2020-03-10T23:25:06.461+0000",
                    "updated": "2020-03-10T23:25:06.461+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13290715/comment/17056516",
                    "id": "17056516",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Looking at https://github.com/apache/arrow/blob/master/js/src/compute/predicate.ts it seems like there's a lot of FP constructs in use that may not be compiling that well. We have a heavily closure-packed\r\n\r\n{code}\r\nconst count = policiesTable.filter(\r\n    arrow.predicate.and(\r\n      arrow.predicate.col('proto').eq(6),\r\n      arrow.predicate.or(\r\n        arrow.predicate.and(\r\n          arrow.predicate.col('startPort').gt(0),\r\n          arrow.predicate.col('endPort').lt(200)\r\n        ),\r\n        arrow.predicate.col('startPort').eq(49152)\r\n      ),\r\n      arrow.predicate.col('isActive').eq(true)\r\n    )\r\n  ).count();\r\n{code}\r\n\r\nbeing compared with a single-closure filter:\r\n\r\n{code}\r\n  const predicate = policy => {\r\n    return policy.proto === 6\r\n      && ((policy.startPort > 0 && policy.endPort < 200) || policy.startPort === 49152)\r\n      && policy.isActive === true;\r\n  };\r\n  \r\n  const count = _(policies).filter(predicate).value().length;\r\n{code}\r\n\r\nIt hardly seems like an apples-to-apples comparison. Is it possible to translate the filter described above into some JavaScript code as a string and compile that? ",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2020-03-10T23:39:33.376+0000",
                    "updated": "2020-03-10T23:39:33.376+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13290715/comment/17056551",
                    "id": "17056551",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=willium",
                        "name": "willium",
                        "key": "willium",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=willium&avatarId=42454",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=willium&avatarId=42454",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=willium&avatarId=42454",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=willium&avatarId=42454"
                        },
                        "displayName": "Will Strimling",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Agreed that it's a bit apples-to-oranges in their comparison. Happy to help get a PR through once we arrive on a good solution here. I'm wondering if we may be able to approach it like Bostock does in [https://observablehq.com/@mbostock/manipulating-flat-arrays]\u00a0(which seems to be of [https://observablehq.com/@duaneatat/apache-arrow-filtering-vs-array-filter#flatFilterStats]\u00a0and is columnar)",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=willium",
                        "name": "willium",
                        "key": "willium",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=willium&avatarId=42454",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=willium&avatarId=42454",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=willium&avatarId=42454",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=willium&avatarId=42454"
                        },
                        "displayName": "Will Strimling",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2020-03-11T00:37:19.517+0000",
                    "updated": "2020-03-11T00:38:15.679+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13290715/comment/17056567",
                    "id": "17056567",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lmeyerov",
                        "name": "lmeyerov",
                        "key": "lmeyerov",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Leo Meyerovich",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Sorry, we never got support for continuing our arrow js plans, namely, moving on to the GPU bindings & compute stack. That would have included this case:\r\n * deforested typed native code via wasm\r\n * multicore & simd via workers & wasm\r\n * GPU interp via RAPIDS\r\n\r\nIMO we need the follow-up tutorial on real-world IO and follow-up on real compute (not the weird predicate stuff). My limited cycles need to be on that or figuring out GPU IO bindings.\r\n\r\n\u00a0\r\n\r\nTo be clear, you can manually do the ^^^ on this use case. It'd take real experimentation, e.g., not even clear here if row-based, columnar, or a tiled hybrid is the right choice. And probably not the filter predicates - we definitely avoid them in prod ;)",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lmeyerov",
                        "name": "lmeyerov",
                        "key": "lmeyerov",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Leo Meyerovich",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2020-03-11T01:22:19.801+0000",
                    "updated": "2020-03-11T01:26:07.094+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13290715/comment/17077728",
                    "id": "17077728",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=paul.e.taylor",
                        "name": "paul.e.taylor",
                        "key": "paul.e.taylor",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Paul Taylor",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "[~hulettbh] did the predicates stuff. It could certainly be more optimized if it JIT'd into a flat JS function.\r\n\r\nAn apples-to-apples comparison would be to filter the rows individually:\r\n\r\n{code:javascript}\r\nfunction filterStruct(struct, predicate) {\r\n  let keys = [], i = -1, j = -1;\r\n  for (let row of table) if (predicate(row, ++i)) keys[++j] = i;\r\n  return DictionaryVector.from(struct, new Int32(), keys)\r\n}\r\n\r\nfunction predicate(policy) {\r\n  return policy.proto === 6\r\n      && ((policy.startPort > 0 && policy.endPort < 200) || policy.startPort === 49152)\r\n      && policy.isActive === true;\r\n}\r\n\r\nconst count = filterStruct(policiesTable, pred).length\r\n{code}\r\n\r\nI generally agree with [~lmeyerov] though, don't do inline scans and reductions if you care about performance. Use WASM/web workers to distrubute across CPU cores, or (better yet) WebGL TransformFeedback on the GPU (both work in node and browsers, neither require non-JS dependencies). \r\n Arrow excels at both of these strategies.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=paul.e.taylor",
                        "name": "paul.e.taylor",
                        "key": "paul.e.taylor",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Paul Taylor",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2020-04-08T01:18:51.105+0000",
                    "updated": "2020-04-08T01:18:51.105+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13290715/comment/17269763",
                    "id": "17269763",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bhulette",
                        "name": "bhulette",
                        "key": "bhulette",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Brian Hulette",
                        "active": true,
                        "timeZone": "America/Vancouver"
                    },
                    "body": "The intention with the \"weird predicate stuff\" was to be able to optimize equality expressions on dictionary-encoded columns which was important for the application I was working on at CCRi. Clearly I overfit for that use-case at the expense of everything else. I'd be open to any proposals to improve filter performance, but it would be ideal if whatever we do could maintain the dictionary-encoded optimization.\r\n\r\nAnother approach to take in this benchmark would be to use the mbostock flat array approach but with arrow vectors rather than JS arrays. I don't think that would do any better than Paul's suggestion in the previous comment though and it is harder to grok. It would be interesting to benchmark both.\r\n\r\nbq. I generally agree with Leo Meyerovich though, don't do inline scans and reductions if you care about performance. Use WASM/web workers to distrubute across CPU cores, or (better yet) WebGL TransformFeedback on the GPU (both work in node and browsers, neither require non-JS dependencies).\r\n\r\n[~paul.e.taylor] are there any examples demonstrating these approaches?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bhulette",
                        "name": "bhulette",
                        "key": "bhulette",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Brian Hulette",
                        "active": true,
                        "timeZone": "America/Vancouver"
                    },
                    "created": "2021-01-22T02:20:06.032+0000",
                    "updated": "2021-01-22T02:20:06.032+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13290715/comment/17518159",
                    "id": "17518159",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=domoritz",
                        "name": "domoritz",
                        "key": "domoritz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=domoritz&avatarId=46688",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=domoritz&avatarId=46688",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=domoritz&avatarId=46688",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=domoritz&avatarId=46688"
                        },
                        "displayName": "Dominik Moritz",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "We don't filter anymore. ",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=domoritz",
                        "name": "domoritz",
                        "key": "domoritz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=domoritz&avatarId=46688",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=domoritz&avatarId=46688",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=domoritz&avatarId=46688",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=domoritz&avatarId=46688"
                        },
                        "displayName": "Dominik Moritz",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2022-04-06T14:14:19.367+0000",
                    "updated": "2022-04-06T14:14:19.367+0000"
                }
            ],
            "maxResults": 7,
            "total": 7,
            "startAt": 0
        },
        "customfield_12311820": "0|z0ccy0:",
        "customfield_12314139": null
    }
}