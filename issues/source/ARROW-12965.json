{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13382084",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084",
    "key": "ARROW-12965",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12350323",
                "id": "12350323",
                "description": "",
                "name": "6.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-10-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12625789",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12625789",
                "type": {
                    "id": "12310560",
                    "name": "Problem/Incident",
                    "inward": "is caused by",
                    "outward": "causes",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310560"
                },
                "outwardIssue": {
                    "id": "13408471",
                    "key": "ARROW-14474",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13408471",
                    "fields": {
                        "summary": "[Java] Add support for sliced arrays in C Data Interface",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/1",
                            "description": "The issue is open and ready for the assignee to start work on it.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
                            "name": "Open",
                            "id": "1",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
                                "id": 2,
                                "key": "new",
                                "colorName": "blue-gray",
                                "name": "To Do"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
                            "id": "1",
                            "description": "A problem which impairs or prevents the functions of the product.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
                            "name": "Bug",
                            "subtask": false,
                            "avatarId": 21133
                        }
                    }
                }
            },
            {
                "id": "12624553",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12624553",
                "type": {
                    "id": "12310560",
                    "name": "Problem/Incident",
                    "inward": "is caused by",
                    "outward": "causes",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310560"
                },
                "outwardIssue": {
                    "id": "13406514",
                    "key": "ARROW-14317",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13406514",
                    "fields": {
                        "summary": "[Doc] Update implementation status",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/3",
                            "id": "3",
                            "description": "A task that needs to be done.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype",
                            "name": "Task",
                            "subtask": false,
                            "avatarId": 21148
                        }
                    }
                }
            },
            {
                "id": "12620478",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12620478",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "outwardIssue": {
                    "id": "13142288",
                    "key": "ARROW-2249",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13142288",
                    "fields": {
                        "summary": "[Java/Python]\u00a0in-process vector sharing from Java to Python",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/1",
                            "description": "The issue is open and ready for the assignee to start work on it.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
                            "name": "Open",
                            "id": "1",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
                                "id": 2,
                                "key": "new",
                                "colorName": "blue-gray",
                                "name": "To Do"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
                            "id": "2",
                            "description": "A new feature of the product, which has yet to be developed.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
                            "name": "New Feature",
                            "subtask": false,
                            "avatarId": 21141
                        }
                    }
                }
            },
            {
                "id": "12625788",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12625788",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "outwardIssue": {
                    "id": "13407264",
                    "key": "ARROW-14374",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13407264",
                    "fields": {
                        "summary": "[Java] Integration tests for the C data Interface implementation for Java",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/6",
                            "id": "6",
                            "description": "A new unit, integration or system test.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/issuetypes/requirement.png",
                            "name": "Test",
                            "subtask": false
                        }
                    }
                }
            },
            {
                "id": "12624566",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12624566",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "outwardIssue": {
                    "id": "13406557",
                    "key": "ARROW-14319",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13406557",
                    "fields": {
                        "summary": "[Python] Rewrite pyarrow.jvm using the C data interface",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/1",
                            "description": "The issue is open and ready for the assignee to start work on it.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
                            "name": "Open",
                            "id": "1",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
                                "id": 2,
                                "key": "new",
                                "colorName": "blue-gray",
                                "name": "To Do"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/3",
                            "id": "3",
                            "description": "A task that needs to be done.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype",
                            "name": "Task",
                            "subtask": false,
                            "avatarId": 21148
                        }
                    }
                }
            },
            {
                "id": "12642665",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12642665",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13468634",
                    "key": "ARROW-16913",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13468634",
                    "fields": {
                        "summary": "[Java] Implement ArrowArrayStream/C Stream Interface",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
                            "id": "2",
                            "description": "A new feature of the product, which has yet to be developed.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
                            "name": "New Feature",
                            "subtask": false,
                            "avatarId": 21141
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=roee88",
            "name": "roee88",
            "key": "roee88",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Roee Shlomo",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=zhztheplayer",
            "name": "zhztheplayer",
            "key": "zhztheplayer",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Hongze Zhang",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=zhztheplayer",
            "name": "zhztheplayer",
            "key": "zhztheplayer",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Hongze Zhang",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 69000,
            "total": 69000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 69000,
            "total": 69000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12965/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 115,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/645833",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "roee88 opened a new pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067\n\n\n   Adds experimental support for C Data Interface in Arrow Java.\r\n   \r\n   Roundtrip example with dictionaries:\r\n   \r\n   ```java\r\n     void roundtrip(FieldVector vector, DictionaryProvider provider) {\r\n       // Consumer allocates empty structures\r\n       try (ArrowSchema consumerArrowSchema = ArrowSchema.allocateNew(allocator);\r\n           ArrowArray consumerArrowArray = ArrowArray.allocateNew(allocator)) {\r\n   \r\n         // Producer creates structures from existing memory pointers\r\n         try (ArrowSchema arrowSchema = ArrowSchema.wrap(consumerArrowSchema.memoryAddress());\r\n             ArrowArray arrowArray = ArrowArray.wrap(consumerArrowArray.memoryAddress())) {\r\n           // Producer exports vector into the FFI structures\r\n           FFI.exportVector(allocator, vector, provider, arrowArray, arrowSchema);\r\n         }\r\n   \r\n         // Consumer imports vector (and dictionaries)\r\n         try (FFIDictionaryProvider dictionaries = new FFIDictionaryProvider();\r\n             FieldVector imported = FFI.importVector(allocator, consumerArrowArray, consumerArrowSchema, dictionaries)) {\r\n             // Do something\r\n         }\r\n       }\r\n     }\r\n   ```\r\n   \r\n   Some notes and questions:\r\n   \r\n   1. Only enabled when arrow-ffi profile is enabled (currently disabled by default). Should it be enabled by default? How best to allow enabling it (+integrate in CI)?\r\n   1. Requires building some JNI code (used just for private data and release callback). This is currently placed in the java/ffi module itself because this code does not require Arrow C++. Is that the right place for it?\r\n   1. The API is marked EXPERIMENTAL and is as close to the C++ API as possible\r\n   1. Conversion between StructVector and RecordBatch is not available in the Java implementation. We added it here by mimicking the VectorLoader/VectorUnloader approach. Is that the right approach? Where should this code reside?\r\n   1. As a design choice all allocations are done with a BufferAllocator. This is required for use cases that need a custom memory allocator (we are working on a Java-Rust demonstration using WebAssembly).\r\n   1. A ZeroVector is exported/imported as a NullVector (there is no C Data interface format for it).\r\n   1. Integration tests will be added in a future PR.\r\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-02T13:14:58.783+0000",
                    "updated": "2021-09-02T13:14:58.783+0000",
                    "started": "2021-09-02T13:14:58.782+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "645833",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/645834",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#issuecomment-911670056\n\n\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-02T13:15:22.959+0000",
                    "updated": "2021-09-02T13:15:22.959+0000",
                    "started": "2021-09-02T13:15:22.958+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "645834",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/645991",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao commented on pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#issuecomment-911974343\n\n\n   I skimmed through it and it looks good, thanks a lot for this!\r\n   \r\n   What we did in Rust was to use the c data interface that C++ exposes in Python to make calls from within the process, see [here](https://github.com/apache/arrow-rs/tree/master/arrow-pyarrow-integration-testing).\r\n   \r\n   I think it would be beneficial to add integration tests against pyarrow. In Rust we found a couple of memory leaks and double frees during development by testing against pyarrow / c++.\r\n   \r\n   I would also setup an environment to run those tests against e.g. valgrind, since in FFI is very easy to trigger UB.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-02T19:06:16.096+0000",
                    "updated": "2021-09-02T19:06:16.096+0000",
                    "started": "2021-09-02T19:06:16.096+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "645991",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/646000",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "roee88 commented on pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#issuecomment-911998111\n\n\n   > I skimmed through it and it looks good, thanks a lot for this!\r\n   > \r\n   > What we did in Rust was to use the c data interface that C++ exposes in Python to make calls from within the process, see [here](https://github.com/apache/arrow-rs/tree/master/arrow-pyarrow-integration-testing).\r\n   > \r\n   > I think it would be beneficial to add integration tests against pyarrow. In Rust we found a couple of memory leaks and double frees during development by testing against pyarrow / c++.\r\n   \r\n   Thanks Jorge. We have @tomersolomon1 working on integration tests against pyarrow as a follow-up to this PR. The [approach](https://github.com/roee88/arrow/issues/6) that we are trying with integration tests is to use jpype (as suggested by @pitrou) and run the tests against the same datasets used in the IPC integration tests. It's too early to say if that makes sense. I think that eventually the same set of tests should be used for all languages. \r\n   \r\n   > I would also setup an environment to run those tests against e.g. valgrind, since in FFI is very easy to trigger UB.\r\n   \r\n   I'm not familiar with using valgrind in Java but I will definitely check. FWIW the tests do fail in case of a memory leak for memory allocated with a buffer allocator (`allocator#close()` raises an exception if there are allocated bytes left). \r\n   \r\n   Somewhat unrelated but I know that you ran tests with valgrind for arrow2, did you also ran it for arrow-rs? I thought that there is a memory leak in arrow-rs because no one ported your export API fixes yet. Just out of curiosity about my memory leak assumption. \r\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-02T19:40:29.699+0000",
                    "updated": "2021-09-02T19:40:29.699+0000",
                    "started": "2021-09-02T19:40:29.699+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "646000",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/646823",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r702769195\n\n\n\n##########\nFile path: java/ffi/README.md\n##########\n@@ -0,0 +1,48 @@\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one\n+  or more contributor license agreements.  See the NOTICE file\n+  distributed with this work for additional information\n+  regarding copyright ownership.  The ASF licenses this file\n+  to you under the Apache License, Version 2.0 (the\n+  \"License\"); you may not use this file except in compliance\n+  with the License.  You may obtain a copy of the License at\n+\n+    http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing,\n+  software distributed under the License is distributed on an\n+  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+  KIND, either express or implied.  See the License for the\n+  specific language governing permissions and limitations\n+  under the License.\n+-->\n+\n+# Java FFI (C Data Interface)\n+\n+## Setup Build Environment\n+\n+install:\n+ - Java 8 or later\n+ - Maven 3.3 or later\n+ - A C++ compiler\n\nReview comment:\n       Do we have a requirement for the C++ compiler?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-06T09:53:30.347+0000",
                    "updated": "2021-09-06T09:53:30.347+0000",
                    "started": "2021-09-06T09:53:30.347+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "646823",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/646826",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r702771850\n\n\n\n##########\nFile path: java/ffi/pom.xml\n##########\n@@ -0,0 +1,75 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor\n+  license agreements. See the NOTICE file distributed with this work for additional\n+  information regarding copyright ownership. The ASF licenses this file to\n+  You under the Apache License, Version 2.0 (the \"License\"); you may not use\n+  this file except in compliance with the License. You may obtain a copy of\n+  the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required\n+  by applicable law or agreed to in writing, software distributed under the\n+  License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS\n+  OF ANY KIND, either express or implied. See the License for the specific\n+  language governing permissions and limitations under the License. -->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>arrow-java-root</artifactId>\n+        <groupId>org.apache.arrow</groupId>\n+        <version>6.0.0-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>arrow-ffi</artifactId>\n\nReview comment:\n       sorry I am a little curious what does `ffi` stand for?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-06T09:57:10.892+0000",
                    "updated": "2021-09-06T09:57:10.892+0000",
                    "started": "2021-09-06T09:57:10.892+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "646826",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/646827",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r702773172\n\n\n\n##########\nFile path: java/ffi/pom.xml\n##########\n@@ -0,0 +1,75 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor\n+  license agreements. See the NOTICE file distributed with this work for additional\n+  information regarding copyright ownership. The ASF licenses this file to\n+  You under the Apache License, Version 2.0 (the \"License\"); you may not use\n+  this file except in compliance with the License. You may obtain a copy of\n+  the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required\n+  by applicable law or agreed to in writing, software distributed under the\n+  License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS\n+  OF ANY KIND, either express or implied. See the License for the specific\n+  language governing permissions and limitations under the License. -->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>arrow-java-root</artifactId>\n+        <groupId>org.apache.arrow</groupId>\n+        <version>6.0.0-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>arrow-ffi</artifactId>\n+    <name>Arrow Java C Data Interface</name>\n+    <description>Java implementation of C Data Interface</description>\n+    <packaging>jar</packaging>\n+    <properties>\n+        <arrow.ffi.cpp.build.dir>./target/build</arrow.ffi.cpp.build.dir>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.apache.arrow</groupId>\n+            <artifactId>arrow-vector</artifactId>\n+            <version>${project.version}</version>\n+            <scope>compile</scope>\n+            <classifier>${arrow.vector.classifier}</classifier>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.arrow</groupId>\n+            <artifactId>arrow-vector</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.arrow</groupId>\n+            <artifactId>arrow-memory-core</artifactId>\n+            <version>${project.version}</version>\n+            <scope>compile</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.arrow</groupId>\n+            <artifactId>arrow-memory-netty</artifactId>\n\nReview comment:\n       can we use `arrow-memory-unsafe` instead? as we are in the process of reducing the dependency on netty.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-06T09:59:14.994+0000",
                    "updated": "2021-09-06T09:59:14.994+0000",
                    "started": "2021-09-06T09:59:14.994+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "646827",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/646829",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r702777129\n\n\n\n##########\nFile path: java/ffi/pom.xml\n##########\n@@ -0,0 +1,75 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor\n+  license agreements. See the NOTICE file distributed with this work for additional\n+  information regarding copyright ownership. The ASF licenses this file to\n+  You under the Apache License, Version 2.0 (the \"License\"); you may not use\n+  this file except in compliance with the License. You may obtain a copy of\n+  the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required\n+  by applicable law or agreed to in writing, software distributed under the\n+  License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS\n+  OF ANY KIND, either express or implied. See the License for the specific\n+  language governing permissions and limitations under the License. -->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>arrow-java-root</artifactId>\n+        <groupId>org.apache.arrow</groupId>\n+        <version>6.0.0-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>arrow-ffi</artifactId>\n\nReview comment:\n       [Foreign function interface](https://en.wikipedia.org/wiki/Foreign_function_interface)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-06T10:05:02.131+0000",
                    "updated": "2021-09-06T10:05:02.131+0000",
                    "started": "2021-09-06T10:05:02.131+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "646829",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/646834",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r702782420\n\n\n\n##########\nFile path: java/ffi/src/main/cpp/jni_wrapper.cc\n##########\n@@ -0,0 +1,241 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+#include <jni.h>\n+#include <memory>\n+#include <cassert>\n+#include \"abi.h\"\n+#include <stdint.h>\n+#include <string>\n+#include <inttypes.h>\n+\n+#include \"org_apache_arrow_ffi_jni_JniWrapper.h\"\n+\n+namespace\n+{\n+\n+  jclass CreateGlobalClassReference(JNIEnv *env, const char *class_name)\n+  {\n+    jclass local_class = env->FindClass(class_name);\n+    jclass global_class = (jclass)env->NewGlobalRef(local_class);\n+    env->DeleteLocalRef(local_class);\n+    return global_class;\n+  }\n+\n+  jclass illegal_access_exception_class;\n+  jclass illegal_argument_exception_class;\n+  jclass runtime_exception_class;\n+  jclass private_data_class;\n+\n+  jmethodID private_data_close_method;\n+\n+  jint JNI_VERSION = JNI_VERSION_1_6;\n+\n+  class JniPendingException : public std::runtime_error\n+  {\n+  public:\n+    explicit JniPendingException(const std::string &arg) : runtime_error(arg) {}\n+  };\n+\n+  void ThrowPendingException(const std::string &message)\n+  {\n+    throw JniPendingException(message);\n+  }\n+\n+  void JniThrow(std::string message) { ThrowPendingException(message); }\n+\n+  jmethodID GetMethodID(JNIEnv* env, jclass this_class, const char* name,\n+                                      const char* sig) {\n+    jmethodID ret = env->GetMethodID(this_class, name, sig);\n+    if (ret == nullptr) {\n+      std::string error_message = \"Unable to find method \" + std::string(name) +\n+                                  \" within signature\" + std::string(sig);\n\nReview comment:\n       ```suggestion\r\n                                     \" within signature \" + std::string(sig);\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-06T10:13:14.002+0000",
                    "updated": "2021-09-06T10:13:14.002+0000",
                    "started": "2021-09-06T10:13:14.001+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "646834",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/646837",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "zhztheplayer commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r702785685\n\n\n\n##########\nFile path: java/ffi/pom.xml\n##########\n@@ -0,0 +1,75 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor\n+  license agreements. See the NOTICE file distributed with this work for additional\n+  information regarding copyright ownership. The ASF licenses this file to\n+  You under the Apache License, Version 2.0 (the \"License\"); you may not use\n+  this file except in compliance with the License. You may obtain a copy of\n+  the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required\n+  by applicable law or agreed to in writing, software distributed under the\n+  License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS\n+  OF ANY KIND, either express or implied. See the License for the specific\n+  language governing permissions and limitations under the License. -->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>arrow-java-root</artifactId>\n+        <groupId>org.apache.arrow</groupId>\n+        <version>6.0.0-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>arrow-ffi</artifactId>\n\nReview comment:\n       I have been considering if `abi` could be able to describe what happens there better than `ffi`. I am not sure but in Java it seems that when it comes to `foreign` it might implie something related to [project panama](https://openjdk.java.net/projects/panama/)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-06T10:18:10.146+0000",
                    "updated": "2021-09-06T10:18:10.146+0000",
                    "started": "2021-09-06T10:18:10.145+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "646837",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/646885",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "roee88 commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r702823662\n\n\n\n##########\nFile path: java/ffi/pom.xml\n##########\n@@ -0,0 +1,75 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor\n+  license agreements. See the NOTICE file distributed with this work for additional\n+  information regarding copyright ownership. The ASF licenses this file to\n+  You under the Apache License, Version 2.0 (the \"License\"); you may not use\n+  this file except in compliance with the License. You may obtain a copy of\n+  the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required\n+  by applicable law or agreed to in writing, software distributed under the\n+  License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS\n+  OF ANY KIND, either express or implied. See the License for the specific\n+  language governing permissions and limitations under the License. -->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>arrow-java-root</artifactId>\n+        <groupId>org.apache.arrow</groupId>\n+        <version>6.0.0-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>arrow-ffi</artifactId>\n\nReview comment:\n       Another naming candidate is bridge (from the cpp implementation). I will change to whatever is chosen. \r\n   \r\n   Personally I don't associate FFI with project panama, it's a well known term way before project panama started. But I understand your point.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-06T11:21:41.842+0000",
                    "updated": "2021-09-06T11:21:41.842+0000",
                    "started": "2021-09-06T11:21:41.841+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "646885",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/646902",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "zhztheplayer commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r702851182\n\n\n\n##########\nFile path: java/ffi/pom.xml\n##########\n@@ -0,0 +1,75 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor\n+  license agreements. See the NOTICE file distributed with this work for additional\n+  information regarding copyright ownership. The ASF licenses this file to\n+  You under the Apache License, Version 2.0 (the \"License\"); you may not use\n+  this file except in compliance with the License. You may obtain a copy of\n+  the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required\n+  by applicable law or agreed to in writing, software distributed under the\n+  License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS\n+  OF ANY KIND, either express or implied. See the License for the specific\n+  language governing permissions and limitations under the License. -->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>arrow-java-root</artifactId>\n+        <groupId>org.apache.arrow</groupId>\n+        <version>6.0.0-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>arrow-ffi</artifactId>\n\nReview comment:\n       Yep the naming doesn't seem to be blocking anyway. Though I was thinking that we might be interested in integrating functionalities from Panama into Arrow once we decide to upgrade to higher Java version (currently we are on 1.8). At that time it might be clearer to have distinction between the module `ffi` or other parts using Panama FFI. Another point is that we already have other modules using JNI which is also literally just a form of FFI. I think if we are introducing C data interface we may want users aim to **data** rather than **function**. Anyway, didn't want to block anything, just my 2 cents.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-06T12:08:53.618+0000",
                    "updated": "2021-09-06T12:08:53.618+0000",
                    "started": "2021-09-06T12:08:53.617+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "646902",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/646912",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "roee88 commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r702856876\n\n\n\n##########\nFile path: java/ffi/src/main/cpp/jni_wrapper.cc\n##########\n@@ -0,0 +1,241 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+#include <jni.h>\n+#include <memory>\n+#include <cassert>\n+#include \"abi.h\"\n+#include <stdint.h>\n+#include <string>\n+#include <inttypes.h>\n+\n+#include \"org_apache_arrow_ffi_jni_JniWrapper.h\"\n+\n+namespace\n+{\n+\n+  jclass CreateGlobalClassReference(JNIEnv *env, const char *class_name)\n+  {\n+    jclass local_class = env->FindClass(class_name);\n+    jclass global_class = (jclass)env->NewGlobalRef(local_class);\n+    env->DeleteLocalRef(local_class);\n+    return global_class;\n+  }\n+\n+  jclass illegal_access_exception_class;\n+  jclass illegal_argument_exception_class;\n+  jclass runtime_exception_class;\n+  jclass private_data_class;\n+\n+  jmethodID private_data_close_method;\n+\n+  jint JNI_VERSION = JNI_VERSION_1_6;\n+\n+  class JniPendingException : public std::runtime_error\n+  {\n+  public:\n+    explicit JniPendingException(const std::string &arg) : runtime_error(arg) {}\n+  };\n+\n+  void ThrowPendingException(const std::string &message)\n+  {\n+    throw JniPendingException(message);\n+  }\n+\n+  void JniThrow(std::string message) { ThrowPendingException(message); }\n+\n+  jmethodID GetMethodID(JNIEnv* env, jclass this_class, const char* name,\n+                                      const char* sig) {\n+    jmethodID ret = env->GetMethodID(this_class, name, sig);\n+    if (ret == nullptr) {\n+      std::string error_message = \"Unable to find method \" + std::string(name) +\n+                                  \" within signature\" + std::string(sig);\n\nReview comment:\n       Done\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-06T12:18:30.208+0000",
                    "updated": "2021-09-06T12:18:30.208+0000",
                    "started": "2021-09-06T12:18:30.208+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "646912",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/646913",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "roee88 commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r702856957\n\n\n\n##########\nFile path: java/ffi/pom.xml\n##########\n@@ -0,0 +1,75 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor\n+  license agreements. See the NOTICE file distributed with this work for additional\n+  information regarding copyright ownership. The ASF licenses this file to\n+  You under the Apache License, Version 2.0 (the \"License\"); you may not use\n+  this file except in compliance with the License. You may obtain a copy of\n+  the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required\n+  by applicable law or agreed to in writing, software distributed under the\n+  License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS\n+  OF ANY KIND, either express or implied. See the License for the specific\n+  language governing permissions and limitations under the License. -->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>arrow-java-root</artifactId>\n+        <groupId>org.apache.arrow</groupId>\n+        <version>6.0.0-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>arrow-ffi</artifactId>\n+    <name>Arrow Java C Data Interface</name>\n+    <description>Java implementation of C Data Interface</description>\n+    <packaging>jar</packaging>\n+    <properties>\n+        <arrow.ffi.cpp.build.dir>./target/build</arrow.ffi.cpp.build.dir>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.apache.arrow</groupId>\n+            <artifactId>arrow-vector</artifactId>\n+            <version>${project.version}</version>\n+            <scope>compile</scope>\n+            <classifier>${arrow.vector.classifier}</classifier>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.arrow</groupId>\n+            <artifactId>arrow-vector</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.arrow</groupId>\n+            <artifactId>arrow-memory-core</artifactId>\n+            <version>${project.version}</version>\n+            <scope>compile</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.arrow</groupId>\n+            <artifactId>arrow-memory-netty</artifactId>\n\nReview comment:\n       Done\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-06T12:18:44.679+0000",
                    "updated": "2021-09-06T12:18:44.679+0000",
                    "started": "2021-09-06T12:18:44.679+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "646913",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/646914",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#issuecomment-913605431\n\n\n   > The approach that we are trying with integration tests is to use jpype (as suggested by @pitrou) and run the tests against the same datasets used in the IPC integration tests. It's too early to say if that makes sense. \r\n   \r\n   That sounds reasonable to me. You can start from hand-written data generation in PyArrow (or Java) if that's easier, though.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-06T12:20:39.994+0000",
                    "updated": "2021-09-06T12:20:39.994+0000",
                    "started": "2021-09-06T12:20:39.994+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "646914",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/646920",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "roee88 commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r702861331\n\n\n\n##########\nFile path: java/ffi/README.md\n##########\n@@ -0,0 +1,48 @@\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one\n+  or more contributor license agreements.  See the NOTICE file\n+  distributed with this work for additional information\n+  regarding copyright ownership.  The ASF licenses this file\n+  to you under the Apache License, Version 2.0 (the\n+  \"License\"); you may not use this file except in compliance\n+  with the License.  You may obtain a copy of the License at\n+\n+    http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing,\n+  software distributed under the License is distributed on an\n+  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+  KIND, either express or implied.  See the License for the\n+  specific language governing permissions and limitations\n+  under the License.\n+-->\n+\n+# Java FFI (C Data Interface)\n+\n+## Setup Build Environment\n+\n+install:\n+ - Java 8 or later\n+ - Maven 3.3 or later\n+ - A C++ compiler\n\nReview comment:\n       I updated to `A C++11 enabled compiler`. I don't know of any specific requirements and unsure how to check. My setup has gcc 9.3.0. \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-06T12:25:59.814+0000",
                    "updated": "2021-09-06T12:25:59.814+0000",
                    "started": "2021-09-06T12:25:59.814+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "646920",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/647150",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r703101604\n\n\n\n##########\nFile path: java/ffi/pom.xml\n##########\n@@ -0,0 +1,75 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor\n+  license agreements. See the NOTICE file distributed with this work for additional\n+  information regarding copyright ownership. The ASF licenses this file to\n+  You under the Apache License, Version 2.0 (the \"License\"); you may not use\n+  this file except in compliance with the License. You may obtain a copy of\n+  the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required\n+  by applicable law or agreed to in writing, software distributed under the\n+  License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS\n+  OF ANY KIND, either express or implied. See the License for the specific\n+  language governing permissions and limitations under the License. -->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>arrow-java-root</artifactId>\n+        <groupId>org.apache.arrow</groupId>\n+        <version>6.0.0-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>arrow-ffi</artifactId>\n+    <name>Arrow Java C Data Interface</name>\n+    <description>Java implementation of C Data Interface</description>\n+    <packaging>jar</packaging>\n+    <properties>\n+        <arrow.ffi.cpp.build.dir>./target/build</arrow.ffi.cpp.build.dir>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.apache.arrow</groupId>\n+            <artifactId>arrow-vector</artifactId>\n+            <version>${project.version}</version>\n+            <scope>compile</scope>\n+            <classifier>${arrow.vector.classifier}</classifier>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.arrow</groupId>\n+            <artifactId>arrow-vector</artifactId>\n+            <version>${project.version}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.arrow</groupId>\n+            <artifactId>arrow-memory-core</artifactId>\n+            <version>${project.version}</version>\n+            <scope>compile</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.arrow</groupId>\n+            <artifactId>arrow-memory-netty</artifactId>\n\nReview comment:\n       is it necessary to have a compile time dependency on a specific implementation at all?  I think netty is still the more mature allocator, but trying to keep as much code independent would be best.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-07T00:15:03.343+0000",
                    "updated": "2021-09-07T00:15:03.343+0000",
                    "started": "2021-09-07T00:15:03.343+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "647150",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/647168",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r703137602\n\n\n\n##########\nFile path: java/ffi/src/main/java/org/apache/arrow/ffi/ArrayImporter.java\n##########\n@@ -0,0 +1,154 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.arrow.ffi;\n+\n+import static org.apache.arrow.ffi.NativeUtil.NULL;\n+import static org.apache.arrow.memory.util.LargeMemoryUtil.checkedCastToInt;\n+import static org.apache.arrow.util.Preconditions.checkNotNull;\n+import static org.apache.arrow.util.Preconditions.checkState;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import org.apache.arrow.memory.ArrowBuf;\n+import org.apache.arrow.memory.BufferAllocator;\n+import org.apache.arrow.memory.ReferenceManager;\n+import org.apache.arrow.vector.FieldVector;\n+import org.apache.arrow.vector.TypeLayout;\n+import org.apache.arrow.vector.dictionary.Dictionary;\n+import org.apache.arrow.vector.dictionary.DictionaryProvider;\n+import org.apache.arrow.vector.ipc.message.ArrowFieldNode;\n+import org.apache.arrow.vector.types.pojo.DictionaryEncoding;\n+\n+/**\n+ * Importer for {@link ArrowArray}.\n+ */\n+final class ArrayImporter {\n+  private static final int MAX_IMPORT_RECURSION_LEVEL = 64;\n+\n+  private final BufferAllocator allocator;\n+  private final FieldVector vector;\n+  private final DictionaryProvider dictionaryProvider;\n+\n+  private ReferenceManager referenceManager;\n+  private int recursionLevel;\n+\n+  ArrayImporter(BufferAllocator allocator, FieldVector vector, DictionaryProvider dictionaryProvider) {\n+    this.allocator = allocator;\n+    this.vector = vector;\n+    this.dictionaryProvider = dictionaryProvider;\n+  }\n+\n+  void importArray(ArrowArray src) {\n+    ArrowArray.Snapshot snapshot = src.snapshot();\n+    checkState(snapshot.release != NULL, \"Cannot import released ArrowArray\");\n+\n+    // Move imported array\n+    ArrowArray ownedArray = ArrowArray.allocateNew(allocator);\n+    ownedArray.save(snapshot);\n+    src.markReleased();\n+    src.close();\n+\n+    recursionLevel = 0;\n+\n+    // This keeps the array alive as long as there are any buffers that need it\n+    referenceManager = new FFIReferenceManager(ownedArray);\n+    try {\n+      referenceManager.retain();\n+      doImport(snapshot);\n+    } finally {\n+      referenceManager.release();\n+    }\n+\n+  }\n+\n+  private void importChild(ArrayImporter parent, ArrowArray src) {\n+    ArrowArray.Snapshot snapshot = src.snapshot();\n+    checkState(snapshot.release != NULL, \"Cannot import released ArrowArray\");\n+    recursionLevel = parent.recursionLevel + 1;\n+    checkState(recursionLevel < MAX_IMPORT_RECURSION_LEVEL, \"Recursion level in ArrowArray struct exceeded\");\n\nReview comment:\n       It should be `<=`?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-07T02:41:21.916+0000",
                    "updated": "2021-09-07T02:41:21.916+0000",
                    "started": "2021-09-07T02:41:21.915+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "647168",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/647173",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r703142723\n\n\n\n##########\nFile path: java/ffi/src/main/java/org/apache/arrow/ffi/ArrowArray.java\n##########\n@@ -0,0 +1,184 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.arrow.ffi;\n+\n+import static org.apache.arrow.ffi.NativeUtil.NULL;\n+import static org.apache.arrow.util.Preconditions.checkNotNull;\n+\n+import java.nio.ByteBuffer;\n+import java.nio.ByteOrder;\n+\n+import org.apache.arrow.ffi.jni.JniWrapper;\n+import org.apache.arrow.memory.ArrowBuf;\n+import org.apache.arrow.memory.BufferAllocator;\n+import org.apache.arrow.memory.ReferenceManager;\n+import org.apache.arrow.memory.util.MemoryUtil;\n+\n+/**\n+ * C Data Interface ArrowArray.\n+ * <p>\n+ * Represents a wrapper for the following C structure:\n+ * \n+ * <pre>\n+ * struct ArrowArray {\n+ *     // Array data description\n+ *     int64_t length;\n+ *     int64_t null_count;\n+ *     int64_t offset;\n+ *     int64_t n_buffers;\n+ *     int64_t n_children;\n+ *     const void** buffers;\n+ *     struct ArrowArray** children;\n+ *     struct ArrowArray* dictionary;\n+ * \n+ *     // Release callback\n+ *     void (*release)(struct ArrowArray*);\n+ *     // Opaque producer-specific data\n+ *     void* private_data;\n+ * };\n+ * </pre>\n+ */\n+public class ArrowArray implements BaseStruct {\n+  private static final int SIZE_OF = 80;\n\nReview comment:\n       The size is 80 only in 64-bit system?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-07T02:59:07.770+0000",
                    "updated": "2021-09-07T02:59:07.770+0000",
                    "started": "2021-09-07T02:59:07.770+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "647173",
                    "issueId": "13382084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/worklog/647175",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on a change in pull request #11067:\nURL: https://github.com/apache/arrow/pull/11067#discussion_r703152497\n\n\n\n##########\nFile path: java/ffi/src/main/java/org/apache/arrow/ffi/ArrowSchema.java\n##########\n@@ -0,0 +1,170 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.arrow.ffi;\n+\n+import static org.apache.arrow.ffi.NativeUtil.NULL;\n+import static org.apache.arrow.util.Preconditions.checkNotNull;\n+\n+import java.nio.ByteBuffer;\n+import java.nio.ByteOrder;\n+\n+import org.apache.arrow.ffi.jni.JniWrapper;\n+import org.apache.arrow.memory.ArrowBuf;\n+import org.apache.arrow.memory.BufferAllocator;\n+import org.apache.arrow.memory.ReferenceManager;\n+import org.apache.arrow.memory.util.MemoryUtil;\n+\n+/**\n+ * C Data Interface ArrowSchema.\n+ * <p>\n+ * Represents a wrapper for the following C structure:\n+ * \n+ * <pre>\n+ * struct ArrowSchema {\n+ *     // Array type description\n+ *     const char* format;\n+ *     const char* name;\n+ *     const char* metadata;\n+ *     int64_t flags;\n+ *     int64_t n_children;\n+ *     struct ArrowSchema** children;\n+ *     struct ArrowSchema* dictionary;\n+ *      \n+ *     // Release callback\n+ *     void (*release)(struct ArrowSchema*);\n+ *     // Opaque producer-specific data\n+ *     void* private_data; \n+ * };\n+ * </pre>\n+ */\n+public class ArrowSchema implements BaseStruct {\n+  private static final int SIZE_OF = 72;\n+\n+  private ArrowBuf data;\n+\n+  /**\n+   * Snapshot of the ArrowSchema raw data.\n+   */\n+  public static class Snapshot {\n+    public long format;\n+    public long name;\n+    public long metadata;\n+    public long flags;\n+    public long n_children;\n+    public long children;\n+    public long dictionary;\n+    public long release;\n+    public long private_data;\n+\n+    /**\n+    * Initialize empty ArrowSchema snapshot.\n+    */\n+    public Snapshot() {\n+      format = NULL;\n+      name = NULL;\n+      metadata = NULL;\n+      flags = NULL;\n+      n_children = NULL;\n+      children = NULL;\n+      dictionary = NULL;\n+      release = NULL;\n+      private_data = NULL;\n+    }\n+  }\n+\n+  /**\n+   * Create ArrowSchema from an existing memory address.\n+   * <p>\n+   * The resulting ArrowSchema does not own the memory.\n+   * \n+   * @param memoryAddress Memory address to wrap\n+   * @return A new ArrowSchema instance\n+   */\n+  public static ArrowSchema wrap(long memoryAddress) {\n+    return new ArrowSchema(new ArrowBuf(ReferenceManager.NO_OP, null, ArrowSchema.SIZE_OF, memoryAddress));\n+  }\n+\n+  /**\n+   * Create ArrowSchema by allocating memory.\n+   * <p>\n+   * The resulting ArrowSchema owns the memory.\n+   * \n+   * @param allocator Allocator for memory allocations\n+   * @return A new ArrowSchema instance\n+   */\n+  public static ArrowSchema allocateNew(BufferAllocator allocator) {\n+    return new ArrowSchema(allocator.buffer(ArrowSchema.SIZE_OF));\n\nReview comment:\n       do we need to fill zeros to the newly allocated buffer?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-07T03:33:52.932+0000",
                    "updated": "2021-09-07T03:33:52.932+0000",
                    "started": "2021-09-07T03:33:52.931+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "647175",
                    "issueId": "13382084"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 69000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@59940c90[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7288660d[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7b1a0346[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@4a93aa26[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@26fadc7f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@3f889c07[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@14a3a883[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@4336f2ab[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@335fc796[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@484c0d5e[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@41a25364[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@35f55251[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 69000,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Oct 13 20:01:36 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-10-13T20:01:36.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12965/watchers",
            "watchCount": 6,
            "isWatching": false
        },
        "created": "2021-06-04T08:20:53.000+0000",
        "updated": "2022-06-27T15:13:17.000+0000",
        "timeoriginalestimate": null,
        "description": "As mentioned in ARROW-7272 or in PR https://github.com/apache/arrow/pull/10201, it would be valuable to have the Arrow C data interface implemented in Java to provide better inter-process data sharing facility without depending on 3rd party serialization protocols.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "19h 10m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 69000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Java] Java implementation of Arrow C data interface",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/comment/17391781",
                    "id": "17391781",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=roee88",
                        "name": "roee88",
                        "key": "roee88",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Roee Shlomo",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "FYI we have a use case for interop between arrow Java and Rust. I started to implement the C data interface in https://github.com/roee88/arrow/tree/java-ffi/java (ffi module). ",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=roee88",
                        "name": "roee88",
                        "key": "roee88",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Roee Shlomo",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2021-08-02T19:49:06.759+0000",
                    "updated": "2021-08-02T19:49:06.759+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/comment/17392925",
                    "id": "17392925",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "[~roee88] Are you still interested to work on this? It would be nice to have the C data interface supported by the Arrow Java implementation at some point.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-08-04T09:34:15.398+0000",
                    "updated": "2021-08-04T09:34:15.398+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/comment/17393055",
                    "id": "17393055",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=roee88",
                        "name": "roee88",
                        "key": "roee88",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Roee Shlomo",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": ">\u00a0Are you still interested to work on this?\r\n\r\nYes I plan to contribute it. Nothing changed in the last two days :)\r\n\r\nHowever, from a testing perspective it seems like the best I can do are some roundtrip tests (like in arrow-rs).\u00a0 A separate effort for C Data Interface integration tests is needed (not just for java) to fully test such implementations. Are there any plans or a design/discussion on it?\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=roee88",
                        "name": "roee88",
                        "key": "roee88",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Roee Shlomo",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2021-08-04T11:39:44.289+0000",
                    "updated": "2021-08-04T11:39:44.289+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/comment/17393060",
                    "id": "17393060",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Woops, sorry, for some reason I thought your comment was much older than that :-)\r\n\r\nYes, roundtrip tests are a good start. I agree that integration tests would be desirable; there hasn't been any discussion about them for now.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-08-04T11:41:59.246+0000",
                    "updated": "2021-08-04T11:41:59.246+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/comment/17393083",
                    "id": "17393083",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Note we have Python-based tests for an ad-hoc Python-Java bridge, which may give ideas for how to test the C data interface:\r\nhttps://github.com/apache/arrow/blob/master/python/pyarrow/tests/test_jvm.py",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-08-04T12:15:25.535+0000",
                    "updated": "2021-08-04T12:15:35.629+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/comment/17422362",
                    "id": "17422362",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=roee88",
                        "name": "roee88",
                        "key": "roee88",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Roee Shlomo",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "We noticed that for UnionArray the cpp implementation includes a validity buffer although it shouldn't be there according to the specification. In the arrow2 rust implementation a workaround is used (in the FFI code for Union an empty validity buffer is explicitly added). To me it sounds like a bug that should be resolved in arrow-cpp instead. [~apitrou] Should we try to workaround it in Java too or open a bug ticket?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=roee88",
                        "name": "roee88",
                        "key": "roee88",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Roee Shlomo",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2021-09-29T19:50:03.917+0000",
                    "updated": "2021-09-29T19:50:03.917+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/comment/17422366",
                    "id": "17422366",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Hmm... I think the validity buffer is null, even though the pointer is there. Isn't that the case?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-09-29T19:58:56.312+0000",
                    "updated": "2021-09-29T19:58:56.312+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/comment/17422370",
                    "id": "17422370",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=roee88",
                        "name": "roee88",
                        "key": "roee88",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Roee Shlomo",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "According to the specification it shouldn't be there at all. https://arrow.apache.org/docs/format/Columnar.html#buffer-listing-for-each-layout",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=roee88",
                        "name": "roee88",
                        "key": "roee88",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Roee Shlomo",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2021-09-29T20:10:43.332+0000",
                    "updated": "2021-09-29T20:10:43.332+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/comment/17422373",
                    "id": "17422373",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Oh, you're right. Can you open a Jira then?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-09-29T20:16:22.385+0000",
                    "updated": "2021-09-29T20:16:22.385+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/comment/17422384",
                    "id": "17422384",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=roee88",
                        "name": "roee88",
                        "key": "roee88",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Roee Shlomo",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "ARROW-14179\u00a0opened",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=roee88",
                        "name": "roee88",
                        "key": "roee88",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Roee Shlomo",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2021-09-29T20:39:53.231+0000",
                    "updated": "2021-09-29T20:39:53.231+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382084/comment/17428471",
                    "id": "17428471",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kou",
                        "name": "kou",
                        "key": "kou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kou&avatarId=30762",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kou&avatarId=30762",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kou&avatarId=30762",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kou&avatarId=30762"
                        },
                        "displayName": "Kouhei Sutou",
                        "active": true,
                        "timeZone": "Asia/Tokyo"
                    },
                    "body": "Issue resolved by pull request 11067\n[https://github.com/apache/arrow/pull/11067]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kou",
                        "name": "kou",
                        "key": "kou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kou&avatarId=30762",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kou&avatarId=30762",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kou&avatarId=30762",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kou&avatarId=30762"
                        },
                        "displayName": "Kouhei Sutou",
                        "active": true,
                        "timeZone": "Asia/Tokyo"
                    },
                    "created": "2021-10-13T20:01:36.758+0000",
                    "updated": "2021-10-13T20:01:36.758+0000"
                }
            ],
            "maxResults": 11,
            "total": 11,
            "startAt": 0
        },
        "customfield_12311820": "0|z0rnjs:",
        "customfield_12314139": null
    }
}