{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13193753",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13193753",
    "key": "ARROW-3604",
    "fields": {
        "fixVersions": [],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/2",
            "id": "2",
            "description": "The problem described is an issue which will never be fixed.",
            "name": "Won't Fix"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": "Users of the R bindings should be able to opt-in to collect int64s as integers since int64s and ints are not interchangeable, currently, in R.\r\n\r\nBackground: In sparklyr, we decided to collect int64s as ints originally since Spark defaults many types to int64s. Therefore, to maintain compatibility in sparklyr, we need to default to collect int64s as ints and then allow users to opt-in to collect as proper int64 types.\r\n",
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12546522",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12546522",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13192551",
                    "key": "ARROW-3553",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13192551",
                    "fields": {
                        "summary": "[R] Error when losing data on int64, uint64 conversions to double",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
                            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
                            "name": "Closed",
                            "id": "6",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
                            "id": "2",
                            "description": "A new feature of the product, which has yet to be developed.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
                            "name": "New Feature",
                            "subtask": false,
                            "avatarId": 21141
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
            "name": "Closed",
            "id": "6",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=javierluraschi",
            "name": "javierluraschi",
            "key": "javierluraschi",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Javier Luraschi",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=javierluraschi",
            "name": "javierluraschi",
            "key": "javierluraschi",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Javier Luraschi",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 4800,
            "total": 4800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 4800,
            "total": 4800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3604/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 8,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13193753/worklog/158399",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "javierluraschi opened a new pull request #2834: ARROW-3604: [R] Support to collect int64 as ints\nURL: https://github.com/apache/arrow/pull/2834\n \n \n   Fix for, https://issues.apache.org/jira/browse/ARROW-3591\r\n   \r\n   Enabled collecting `int64`s as R `integers` by replacing overflows and underflows with `NA`s and triggering a waring.\r\n   \r\n   In `sparklyr`, this enables:\r\n   \r\n   ```r\r\n   > sdf_len(sc, 10) %>% dplyr::transmute(new = cast(\"123456789123451234\" %as% BIGINT))\r\n   # Source: spark<?> [?? x 1]\r\n        new\r\n    * <int>\r\n    1    NA\r\n    2    NA\r\n    3    NA\r\n    4    NA\r\n    5    NA\r\n    6    NA\r\n    7    NA\r\n    8    NA\r\n    9    NA\r\n   10    NA\r\n   # ... with more rows\r\n   Warning message:\r\n   In RecordBatch__to_dataframe(x) :\r\n     Integer overflow, 10 values replaced with NAs. Consider using 'options(arrow.int64 = \"bit64\")'.\r\n   ```\r\n   \r\n   CC: @romainfrancois\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-24T23:45:17.620+0000",
                    "updated": "2018-10-24T23:45:17.620+0000",
                    "started": "2018-10-24T23:45:17.618+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "158399",
                    "issueId": "13193753"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13193753/worklog/158499",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2834: ARROW-3604: [R] Support to collect int64s as R integers\nURL: https://github.com/apache/arrow/pull/2834#discussion_r228040097\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -25,6 +25,8 @@ namespace r {\n \n // the integer64 sentinel\n static const int64_t NA_INT64 = std::numeric_limits<int64_t>::min();\n+static const int64_t MAX_INT32 = std::numeric_limits<int32_t>::max();\n+static const int64_t MIN_INT32 = std::numeric_limits<int32_t>::min();\n \n Review comment:\n   change these to constexpr? \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-25T05:44:31.300+0000",
                    "updated": "2018-10-25T05:44:31.300+0000",
                    "started": "2018-10-25T05:44:31.299+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "158499",
                    "issueId": "13193753"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13193753/worklog/158541",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on a change in pull request #2834: ARROW-3604: [R] Support to collect int64s as R integers\nURL: https://github.com/apache/arrow/pull/2834#discussion_r228053715\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -25,6 +25,8 @@ namespace r {\n \n // the integer64 sentinel\n static const int64_t NA_INT64 = std::numeric_limits<int64_t>::min();\n+static const int64_t MAX_INT32 = std::numeric_limits<int32_t>::max();\n+static const int64_t MIN_INT32 = std::numeric_limits<int32_t>::min();\n \n Review comment:\n   Sure. Does that mean they have to be functions ? \r\n   \r\n   Otherwise, since `::minuend `::max` are themselves `constexpr` perhaps we don't even need the constants here. \r\n   \r\n   Also, not sure what `MIN_INT32` is used for, but we need to be careful because it's also the `NA` sentinel for `int` in R. \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-25T07:00:20.892+0000",
                    "updated": "2018-10-25T07:00:20.892+0000",
                    "started": "2018-10-25T07:00:20.892+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "158541",
                    "issueId": "13193753"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13193753/worklog/158545",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on issue #2834: ARROW-3604: [R] Support to collect int64s as R integers\nURL: https://github.com/apache/arrow/pull/2834#issuecomment-432938388\n \n \n   This, and #2819 should be discussed more broadly. I'm not a fan of relying on a global `options` here. \r\n   \r\n   I'd rather have those lossy conversions to be explicit. \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-25T07:05:46.331+0000",
                    "updated": "2018-10-25T07:05:46.331+0000",
                    "started": "2018-10-25T07:05:46.320+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "158545",
                    "issueId": "13193753"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13193753/worklog/158627",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2834: ARROW-3604: [R] Support to collect int64s as R integers\nURL: https://github.com/apache/arrow/pull/2834#discussion_r228121906\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -25,6 +25,8 @@ namespace r {\n \n // the integer64 sentinel\n static const int64_t NA_INT64 = std::numeric_limits<int64_t>::min();\n+static const int64_t MAX_INT32 = std::numeric_limits<int32_t>::max();\n+static const int64_t MIN_INT32 = std::numeric_limits<int32_t>::min();\n \n Review comment:\n   yes they are constexpr, e.g. https://github.com/apache/arrow/blob/b165c869e4758b82bd4b25dd307380e22d1a109b/cpp/src/arrow/util/hash.h#L32\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-25T10:40:05.273+0000",
                    "updated": "2018-10-25T10:40:05.273+0000",
                    "started": "2018-10-25T10:40:05.272+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "158627",
                    "issueId": "13193753"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13193753/worklog/158629",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #2834: ARROW-3604: [R] Support to collect int64s as R integers\nURL: https://github.com/apache/arrow/pull/2834#issuecomment-433002468\n \n \n   Yeah I would suggest passing an options list to the conversion entry point\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-25T10:40:38.209+0000",
                    "updated": "2018-10-25T10:40:38.209+0000",
                    "started": "2018-10-25T10:40:38.208+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "158629",
                    "issueId": "13193753"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13193753/worklog/158977",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "javierluraschi commented on issue #2834: ARROW-3604: [R] Support to collect int64s as R integers\nURL: https://github.com/apache/arrow/pull/2834#issuecomment-433286221\n \n \n   From the `decimals` PR, looks like we would preffer users to explicitly cast, as opposed to configuring with `options` the desired behavior. I'll close this one then.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-26T04:55:46.177+0000",
                    "updated": "2018-10-26T04:55:46.177+0000",
                    "started": "2018-10-26T04:55:46.177+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "158977",
                    "issueId": "13193753"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13193753/worklog/158978",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "javierluraschi closed pull request #2834: ARROW-3604: [R] Support to collect int64s as R integers\nURL: https://github.com/apache/arrow/pull/2834\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/r/src/array.cpp b/r/src/array.cpp\nindex e885b6646d..f378be6d1a 100644\n--- a/r/src/array.cpp\n+++ b/r/src/array.cpp\n@@ -25,6 +25,8 @@ namespace r {\n \n // the integer64 sentinel\n static const int64_t NA_INT64 = std::numeric_limits<int64_t>::min();\n+static const int64_t MAX_INT32 = std::numeric_limits<int32_t>::max();\n+static const int64_t MIN_INT32 = std::numeric_limits<int32_t>::min();\n \n template <int RTYPE, typename Type>\n std::shared_ptr<Array> SimpleArray(SEXP x) {\n@@ -698,6 +700,55 @@ SEXP Int64Array(const std::shared_ptr<Array>& array) {\n   return vec;\n }\n \n+SEXP IntFromInt64Array(const std::shared_ptr<Array>& array) {\n+  auto n = array->length();\n+  IntegerVector vec(no_init(n));\n+\n+  if (n == 0) return vec;\n+\n+  auto null_count = array->null_count();\n+  if (null_count == n) {\n+    std::fill(vec.begin(), vec.end(), NA_INTEGER);\n+    return vec;\n+  }\n+\n+  auto p_values = GetValuesSafely<int64_t>(array->data(), 1, array->offset());\n+  auto p_vec = reinterpret_cast<int32_t*>(vec.begin());\n+\n+  size_t overflowed = 0;\n+  if (array->null_count()) {\n+    internal::BitmapReader bitmap_reader(array->null_bitmap()->data(), array->offset(),\n+                                         n);\n+\n+    for (size_t i = 0; i < n; i++, bitmap_reader.Next()) {\n+      if (p_values[i] > MAX_INT32 || p_values[i] < MIN_INT32) {\n+        overflowed++;\n+        p_vec[i] = NA_INTEGER;\n+      } else {\n+        p_vec[i] = bitmap_reader.IsNotSet() ? NA_INTEGER : p_values[i];\n+      }\n+    }\n+  } else {\n+    for (size_t i = 0; i < n; i++) {\n+      if (p_values[i] > MAX_INT32 || p_values[i] < MIN_INT32) {\n+        overflowed++;\n+        p_vec[i] = NA_INTEGER;\n+      } else {\n+        p_vec[i] = p_values[i];\n+      }\n+    }\n+  }\n+\n+  if (overflowed > 0) {\n+    Rcpp::warning(\n+        tfm::format(\"Integer overflow, %i values replaced with NAs. Consider using \"\n+                    \"'options(arrow.int64 = \\\"bit64\\\")'.\",\n+                    overflowed));\n+  }\n+\n+  return vec;\n+}\n+\n }  // namespace r\n }  // namespace arrow\n \n@@ -746,8 +797,15 @@ SEXP Array__as_vector(const std::shared_ptr<arrow::Array>& array) {\n       return arrow::r::promotion_Array_to_Vector<REALSXP, arrow::UInt32Type>(array);\n \n     // lossy promotions to numeric vector\n-    case Type::INT64:\n-      return arrow::r::Int64Array(array);\n+    case Type::INT64: {\n+      Function get_option(\"getOption\");\n+      SEXP option = get_option(\"arrow.int64\");\n+      if (!Rf_isNull(option) && std::string(\"integer\") == CHAR(STRING_ELT(option, 0))) {\n+        return arrow::r::IntFromInt64Array(array);\n+      } else {\n+        return arrow::r::Int64Array(array);\n+      }\n+    }\n \n     default:\n       break;\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-26T04:55:46.592+0000",
                    "updated": "2018-10-26T04:55:46.592+0000",
                    "started": "2018-10-26T04:55:46.591+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "158978",
                    "issueId": "13193753"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 4800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@136b7341[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@61c9ea22[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@33a57be8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@1d930f44[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@61da3d67[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@7d2fae0b[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@65cdf07d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@60a13aaf[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@502012d9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@50ffb120[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5abbfd5a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@3326d0e0[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 4800,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Apr 14 22:06:22 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-04-14T22:06:22.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3604/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2018-10-24T04:24:30.000+0000",
        "updated": "2020-04-14T22:06:22.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 4800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] Support to collect int64 as ints",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13193753/comment/17083636",
                    "id": "17083636",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Judging from the old PR, looks like it was decided that we weren't going to do this and would require users to cast explicitly. Please reopen or open a new issue if there's support to be done around that.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2020-04-14T22:06:22.197+0000",
                    "updated": "2020-04-14T22:06:22.197+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|i3zkfj:",
        "customfield_12314139": null
    }
}