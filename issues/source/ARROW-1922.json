{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13124784",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784",
    "key": "ARROW-1922",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12341352",
                "id": "12341352",
                "name": "0.8.0",
                "archived": false,
                "released": true,
                "releaseDate": "2017-12-18"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=siddteotia",
            "name": "siddteotia",
            "key": "siddteotia",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=siddteotia&avatarId=32343",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=siddteotia&avatarId=32343",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=siddteotia&avatarId=32343",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=siddteotia&avatarId=32343"
            },
            "displayName": "Siddharth Teotia",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=siddteotia",
            "name": "siddteotia",
            "key": "siddteotia",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=siddteotia&avatarId=32343",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=siddteotia&avatarId=32343",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=siddteotia&avatarId=32343",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=siddteotia&avatarId=32343"
            },
            "displayName": "Siddharth Teotia",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=siddteotia",
            "name": "siddteotia",
            "key": "siddteotia",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=siddteotia&avatarId=32343",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=siddteotia&avatarId=32343",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=siddteotia&avatarId=32343",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=siddteotia&avatarId=32343"
            },
            "displayName": "Siddharth Teotia",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1922/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/3",
            "id": "3",
            "description": "A task that needs to be done.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype",
            "name": "Task",
            "subtask": false,
            "avatarId": 21148
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@2f88d901[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3c83fbfa[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4e9aa1e2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@6d65cfe0[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@53831ffe[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@6da804ce[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@76262d28[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@357ff6c3[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7ec8637d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@536b861e[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1463be36[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@5e608b97[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Dec 19 04:38:34 UTC 2017",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2017-12-19T04:38:34.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1922/watchers",
            "watchCount": 4,
            "isWatching": false
        },
        "created": "2017-12-13T21:00:33.000+0000",
        "updated": "2017-12-19T04:38:34.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "Blog post on recent improvements/changes in JAVA Vectors",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16289927",
                    "id": "16289927",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia opened a new pull request #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419\n \n \n   cc @wesm , @jacques-n , @BryanCutler , @icexelloss \r\n   \r\n   A small post on recent improvements in JAVA vectors. Suggestions are welcome :)\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-13T21:18:34.589+0000",
                    "updated": "2017-12-13T21:18:34.589+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16290108",
                    "id": "16290108",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pcmoritz commented on a change in pull request #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#discussion_r156820394\n \n \n\n ##########\n File path: site/_posts/2017-12-13-java-vector-improvements.md\n ##########\n @@ -0,0 +1,110 @@\n+---\n+layout: post\n+title: \"Improved JAVA Vector APIs\"\n+excerpt: \"This post describes the recent improvements in JAVA Vector code\"\n+date: 2017-12-13 12:50:00\n+author: Siddharth Teotia\n+categories: [application]\n+---\n+\n+<!--\n+{% comment %}\n+Licensed to the Apache Software Foundation (ASF) under one or more\n+contributor license agreements.  See the NOTICE file distributed with\n+this work for additional information regarding copyright ownership.\n+The ASF licenses this file to you under the Apache License, Version 2.0\n+(the \"License\"); you may not use this file except in compliance with\n+the License.  You may obtain a copy of the License at\n+\n+http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+{% endcomment %}\n+-->\n+\n+\n+This post gives insight into the major improvements in the JAVA implementation\n+of vectors.\n+\n+## Design Goals\n+\n+1. Improved Maintainability and Extensibility.\n+2. Improved heap usage.\n+3. No performance overhead on hot code paths.\n+\n+## Background\n+\n+**Improved Maintainability and Extensibility** \n+\n+We use templates in several places for compile time JAVA code generation for\n+different vector classes, readers, writers etc. Templates are helpful as the\n+developers don't have to write a lot of duplicate code. \n+\n+However, we realized that over a period of time some specific JAVA \n+templates became extremely complex with giant if-else blocks, poor code indentation\n+and documentation. All this impacted the ability to easily extend these templates \n+for adding new functionality or improving the existing infrastructure.\n+\n+So we evaluated the usage of templates for compile time code generation and\n+decided not to use comlplex templates in some places by writing small amount of \n \n Review comment:\n   comlplex -> complex\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-13T23:54:32.392+0000",
                    "updated": "2017-12-13T23:54:32.392+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16290192",
                    "id": "16290192",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia commented on issue #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#issuecomment-351579966\n \n \n   Addressed review comments.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-14T01:28:28.326+0000",
                    "updated": "2017-12-14T01:28:28.326+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16290261",
                    "id": "16290261",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pcmoritz commented on issue #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#issuecomment-351593292\n \n \n   Thanks for writing this! Do you have some more detailed benchmarks on speed and memory usage with Dremio before and after the refactor, with graphs? That'd be cool I think.\r\n   \r\n   Other than that it seems to me that the normal spelling of Java is Java and not JAVA, any reason for capitalizing it? Capitalized looks a little old school like FORTRAN or LISP (the latter seems to have been replaced with Lisp nowadays, maybe same for Fortran).\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-14T02:53:29.019+0000",
                    "updated": "2017-12-14T02:53:29.019+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16290492",
                    "id": "16290492",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=gortizja",
                        "name": "gortizja",
                        "key": "gortizja",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Gonzalo Ortiz",
                        "active": true,
                        "timeZone": "Europe/Madrid"
                    },
                    "body": "I have a benchmark that compares Arrow 0.6 with plain ByteBuffers. It shows very bad results. I could try to update it to use the last version.\r\n\r\nBTW, the benchmark is [here|https://github.com/gortiz/arrow-jmh]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=gortizja",
                        "name": "gortizja",
                        "key": "gortizja",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Gonzalo Ortiz",
                        "active": true,
                        "timeZone": "Europe/Madrid"
                    },
                    "created": "2017-12-14T08:02:31.435+0000",
                    "updated": "2017-12-14T08:03:48.436+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16291288",
                    "id": "16291288",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "BryanCutler commented on a change in pull request #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#discussion_r157019099\n \n \n\n ##########\n File path: site/_posts/2017-12-13-java-vector-improvements.md\n ##########\n @@ -0,0 +1,110 @@\n+---\n+layout: post\n+title: \"Improved JAVA Vector APIs\"\n+excerpt: \"This post describes the recent improvements in JAVA Vector code\"\n+date: 2017-12-13 12:50:00\n+author: Siddharth Teotia\n+categories: [application]\n+---\n+\n+<!--\n+{% comment %}\n+Licensed to the Apache Software Foundation (ASF) under one or more\n+contributor license agreements.  See the NOTICE file distributed with\n+this work for additional information regarding copyright ownership.\n+The ASF licenses this file to you under the Apache License, Version 2.0\n+(the \"License\"); you may not use this file except in compliance with\n+the License.  You may obtain a copy of the License at\n+\n+http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+{% endcomment %}\n+-->\n+\n+\n+This post gives insight into the major improvements in the JAVA implementation\n+of vectors.\n+\n+## Design Goals\n+\n+1. Improved Maintainability and Extensibility.\n+2. Improved heap usage.\n+3. No performance overhead on hot code paths.\n+\n+## Background\n+\n+**Improved Maintainability and Extensibility** \n+\n+We use templates in several places for compile time JAVA code generation for\n+different vector classes, readers, writers etc. Templates are helpful as the\n+developers don't have to write a lot of duplicate code. \n+\n+However, we realized that over a period of time some specific JAVA \n+templates became extremely complex with giant if-else blocks, poor code indentation\n+and documentation. All this impacted the ability to easily extend these templates \n+for adding new functionality or improving the existing infrastructure.\n+\n+So we evaluated the usage of templates for compile time code generation and\n+decided not to use complex templates in some places by writing small amount of \n+duplicate code which is elegant, well documented and extensible.\n+\n+**Improved Heap Usage**\n+\n+We did extensive memory analysis downstream in Dremio where Arrow is used\n+heavily for in-memory query execution on columnar data. The general conclusion\n+was that Arrow JAVA Vectors have non-negligible heap overhead and volume of \n+objects was too high. There were places in code where we were creating objects\n+unnecessarily and using structures that could be substituted with better\n+alternatives.\n+\n+**No performance overhead on hot code paths**\n+\n+JAVA Vectors used delegation and abstraction heavily throughout the object \n+hierarchy. The performance critical get/set methods of vectors went through\n+a chain of function calls back and forth between different objects before \n+doing meaningful work. We also evaluated the usage of branches in vector\n+APIs and reimplemented some of them by avoiding branches completely.\n+\n+We took inspiration from how the JAVA memory code in ArrowBuf works. For\n+all the performance critical methods, ArrowBuf bypasses all the netty object \n+hierarchy, grabs the target virtual address and directly interacts with \n+the memory.\n+\n+There were cases where branches could be avoided all together.\n+\n+In case of Nullable vectors, we were doing multiple checks to confirm if\n+the value at a given position in the vector is NULL or not. \n+\n+## Our Implementation Approach\n+\n+- For scalars, the inheritance tree was simplified by writing different\n+abstract base classes for fixed and variable width scalars. \n+- The base classes contained all the common functionality across different\n+types.\n+- The individual subclasses implemented type specific APIs for fixed and\n+variable width scalar vectors. \n+- For the performance critical methods, all the work is done either in\n+the vector class or corresponding ArrowBuf. There is no delegation to any\n+internal object.\n+- The mutator and accessor based access to vector APIs is removed. These \n+objects led to unnecessary heap overhead and complicated the use of APIs.\n+- Both scalar and complex vectors directly interact with underlying buffers\n+that manage the offsets, data and validity. Earlier we were creating different\n+inner vectors for each vector and delegating all the functionality to inner\n+vectors. This introduced a lot of bugs in memory management, excessive heap \n+overhead and performance penalty due to chain of delegations.\n+- We reduced the number of vector classes by removing non-nullable vectors.\n+In the new implementation, all vectors in JAVA are nullable in nature.\n+\n+## Performance Testing\n+\n+We did performance testing downstream in Dremio and saw a 5% average improvement\n+in Tpch queries. \n \n Review comment:\n   An improvement in speedup right?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-14T18:07:28.931+0000",
                    "updated": "2017-12-14T18:07:28.931+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16291341",
                    "id": "16291341",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia commented on a change in pull request #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#discussion_r157028237\n \n \n\n ##########\n File path: site/_posts/2017-12-13-java-vector-improvements.md\n ##########\n @@ -0,0 +1,110 @@\n+---\n+layout: post\n+title: \"Improved JAVA Vector APIs\"\n+excerpt: \"This post describes the recent improvements in JAVA Vector code\"\n+date: 2017-12-13 12:50:00\n+author: Siddharth Teotia\n+categories: [application]\n+---\n+\n+<!--\n+{% comment %}\n+Licensed to the Apache Software Foundation (ASF) under one or more\n+contributor license agreements.  See the NOTICE file distributed with\n+this work for additional information regarding copyright ownership.\n+The ASF licenses this file to you under the Apache License, Version 2.0\n+(the \"License\"); you may not use this file except in compliance with\n+the License.  You may obtain a copy of the License at\n+\n+http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+{% endcomment %}\n+-->\n+\n+\n+This post gives insight into the major improvements in the JAVA implementation\n+of vectors.\n+\n+## Design Goals\n+\n+1. Improved Maintainability and Extensibility.\n+2. Improved heap usage.\n+3. No performance overhead on hot code paths.\n+\n+## Background\n+\n+**Improved Maintainability and Extensibility** \n+\n+We use templates in several places for compile time JAVA code generation for\n+different vector classes, readers, writers etc. Templates are helpful as the\n+developers don't have to write a lot of duplicate code. \n+\n+However, we realized that over a period of time some specific JAVA \n+templates became extremely complex with giant if-else blocks, poor code indentation\n+and documentation. All this impacted the ability to easily extend these templates \n+for adding new functionality or improving the existing infrastructure.\n+\n+So we evaluated the usage of templates for compile time code generation and\n+decided not to use complex templates in some places by writing small amount of \n+duplicate code which is elegant, well documented and extensible.\n+\n+**Improved Heap Usage**\n+\n+We did extensive memory analysis downstream in Dremio where Arrow is used\n+heavily for in-memory query execution on columnar data. The general conclusion\n+was that Arrow JAVA Vectors have non-negligible heap overhead and volume of \n+objects was too high. There were places in code where we were creating objects\n+unnecessarily and using structures that could be substituted with better\n+alternatives.\n+\n+**No performance overhead on hot code paths**\n+\n+JAVA Vectors used delegation and abstraction heavily throughout the object \n+hierarchy. The performance critical get/set methods of vectors went through\n+a chain of function calls back and forth between different objects before \n+doing meaningful work. We also evaluated the usage of branches in vector\n+APIs and reimplemented some of them by avoiding branches completely.\n+\n+We took inspiration from how the JAVA memory code in ArrowBuf works. For\n+all the performance critical methods, ArrowBuf bypasses all the netty object \n+hierarchy, grabs the target virtual address and directly interacts with \n+the memory.\n+\n+There were cases where branches could be avoided all together.\n+\n+In case of Nullable vectors, we were doing multiple checks to confirm if\n+the value at a given position in the vector is NULL or not. \n+\n+## Our Implementation Approach\n+\n+- For scalars, the inheritance tree was simplified by writing different\n+abstract base classes for fixed and variable width scalars. \n+- The base classes contained all the common functionality across different\n+types.\n+- The individual subclasses implemented type specific APIs for fixed and\n+variable width scalar vectors. \n+- For the performance critical methods, all the work is done either in\n+the vector class or corresponding ArrowBuf. There is no delegation to any\n+internal object.\n+- The mutator and accessor based access to vector APIs is removed. These \n+objects led to unnecessary heap overhead and complicated the use of APIs.\n+- Both scalar and complex vectors directly interact with underlying buffers\n+that manage the offsets, data and validity. Earlier we were creating different\n+inner vectors for each vector and delegating all the functionality to inner\n+vectors. This introduced a lot of bugs in memory management, excessive heap \n+overhead and performance penalty due to chain of delegations.\n+- We reduced the number of vector classes by removing non-nullable vectors.\n+In the new implementation, all vectors in JAVA are nullable in nature.\n+\n+## Performance Testing\n+\n+We did performance testing downstream in Dremio and saw a 5% average improvement\n+in Tpch queries. \n \n Review comment:\n   @BryanCutler , Yes, that's correct. Let me see if I can provide some graphical comparison of performance numbers from Tpch queries before and after using new Java implementation.\r\n   \r\n   W.r.t memory analysis, I don't think I have enough information to elaborate on the results because the work done as part of refactoring project is a precursor to a project in the pipeline -- https://issues.apache.org/jira/browse/ARROW-1807\r\n   \r\n   This has the potential to reduce the heap usage substantially. Without the work done as part of refactoring (ARROW-1463), ARROW-1807 would not be possible.\r\n   \r\n   Having said that, the new implementation has reduced the heap usage to some extent simply because there are less number of objects floating around in vectors. \r\n   \r\n   Let me see what I can do here to elaborate on memory usage.\r\n   \r\n   @pcmoritz , there was no particular reason to use JAVA instead of Java. I will correct it.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-14T18:43:17.553+0000",
                    "updated": "2017-12-14T18:43:17.553+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16291362",
                    "id": "16291362",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "icexelloss commented on a change in pull request #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#discussion_r157031951\n \n \n\n ##########\n File path: site/_posts/2017-12-13-java-vector-improvements.md\n ##########\n @@ -0,0 +1,110 @@\n+---\n+layout: post\n+title: \"Improved JAVA Vector APIs\"\n+excerpt: \"This post describes the recent improvements in JAVA Vector code\"\n+date: 2017-12-13 12:50:00\n+author: Siddharth Teotia\n+categories: [application]\n+---\n+\n+<!--\n+{% comment %}\n+Licensed to the Apache Software Foundation (ASF) under one or more\n+contributor license agreements.  See the NOTICE file distributed with\n+this work for additional information regarding copyright ownership.\n+The ASF licenses this file to you under the Apache License, Version 2.0\n+(the \"License\"); you may not use this file except in compliance with\n+the License.  You may obtain a copy of the License at\n+\n+http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+{% endcomment %}\n+-->\n+\n+\n+This post gives insight into the major improvements in the JAVA implementation\n+of vectors.\n+\n+## Design Goals\n+\n+1. Improved Maintainability and Extensibility.\n \n Review comment:\n   lower case `Maintainability` and `Extensibility`?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-14T18:58:51.822+0000",
                    "updated": "2017-12-14T18:58:51.822+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16291363",
                    "id": "16291363",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "icexelloss commented on a change in pull request #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#discussion_r157032169\n \n \n\n ##########\n File path: site/_posts/2017-12-13-java-vector-improvements.md\n ##########\n @@ -0,0 +1,110 @@\n+---\n+layout: post\n+title: \"Improved JAVA Vector APIs\"\n+excerpt: \"This post describes the recent improvements in JAVA Vector code\"\n+date: 2017-12-13 12:50:00\n+author: Siddharth Teotia\n+categories: [application]\n+---\n+\n+<!--\n+{% comment %}\n+Licensed to the Apache Software Foundation (ASF) under one or more\n+contributor license agreements.  See the NOTICE file distributed with\n+this work for additional information regarding copyright ownership.\n+The ASF licenses this file to you under the Apache License, Version 2.0\n+(the \"License\"); you may not use this file except in compliance with\n+the License.  You may obtain a copy of the License at\n+\n+http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+{% endcomment %}\n+-->\n+\n+\n+This post gives insight into the major improvements in the JAVA implementation\n+of vectors.\n+\n+## Design Goals\n+\n+1. Improved Maintainability and Extensibility.\n+2. Improved heap usage.\n+3. No performance overhead on hot code paths.\n+\n+## Background\n+\n+**Improved Maintainability and Extensibility** \n+\n+We use templates in several places for compile time JAVA code generation for\n+different vector classes, readers, writers etc. Templates are helpful as the\n+developers don't have to write a lot of duplicate code. \n+\n+However, we realized that over a period of time some specific JAVA \n+templates became extremely complex with giant if-else blocks, poor code indentation\n \n Review comment:\n   poor code indentation -> poor code style?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-14T18:59:40.467+0000",
                    "updated": "2017-12-14T18:59:40.467+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16291369",
                    "id": "16291369",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "icexelloss commented on a change in pull request #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#discussion_r157032623\n \n \n\n ##########\n File path: site/_posts/2017-12-13-java-vector-improvements.md\n ##########\n @@ -0,0 +1,110 @@\n+---\n+layout: post\n+title: \"Improved JAVA Vector APIs\"\n+excerpt: \"This post describes the recent improvements in JAVA Vector code\"\n+date: 2017-12-13 12:50:00\n+author: Siddharth Teotia\n+categories: [application]\n+---\n+\n+<!--\n+{% comment %}\n+Licensed to the Apache Software Foundation (ASF) under one or more\n+contributor license agreements.  See the NOTICE file distributed with\n+this work for additional information regarding copyright ownership.\n+The ASF licenses this file to you under the Apache License, Version 2.0\n+(the \"License\"); you may not use this file except in compliance with\n+the License.  You may obtain a copy of the License at\n+\n+http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+{% endcomment %}\n+-->\n+\n+\n+This post gives insight into the major improvements in the JAVA implementation\n+of vectors.\n+\n+## Design Goals\n+\n+1. Improved Maintainability and Extensibility.\n+2. Improved heap usage.\n+3. No performance overhead on hot code paths.\n+\n+## Background\n+\n+**Improved Maintainability and Extensibility** \n+\n+We use templates in several places for compile time JAVA code generation for\n+different vector classes, readers, writers etc. Templates are helpful as the\n+developers don't have to write a lot of duplicate code. \n+\n+However, we realized that over a period of time some specific JAVA \n+templates became extremely complex with giant if-else blocks, poor code indentation\n+and documentation. All this impacted the ability to easily extend these templates \n+for adding new functionality or improving the existing infrastructure.\n+\n+So we evaluated the usage of templates for compile time code generation and\n+decided not to use complex templates in some places by writing small amount of \n+duplicate code which is elegant, well documented and extensible.\n+\n+**Improved Heap Usage**\n+\n+We did extensive memory analysis downstream in Dremio where Arrow is used\n+heavily for in-memory query execution on columnar data. The general conclusion\n+was that Arrow JAVA Vectors have non-negligible heap overhead and volume of \n+objects was too high. There were places in code where we were creating objects\n+unnecessarily and using structures that could be substituted with better\n+alternatives.\n+\n+**No performance overhead on hot code paths**\n \n Review comment:\n   The other two section  \"Improved Maintainability and Extensibility\" and \"Improved Heap Usage\" are both capitalized, maybe make them more consistent?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-14T19:01:18.754+0000",
                    "updated": "2017-12-14T19:01:18.754+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16291373",
                    "id": "16291373",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "icexelloss commented on a change in pull request #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#discussion_r157032717\n \n \n\n ##########\n File path: site/_posts/2017-12-13-java-vector-improvements.md\n ##########\n @@ -0,0 +1,110 @@\n+---\n+layout: post\n+title: \"Improved JAVA Vector APIs\"\n+excerpt: \"This post describes the recent improvements in JAVA Vector code\"\n+date: 2017-12-13 12:50:00\n+author: Siddharth Teotia\n+categories: [application]\n+---\n+\n+<!--\n+{% comment %}\n+Licensed to the Apache Software Foundation (ASF) under one or more\n+contributor license agreements.  See the NOTICE file distributed with\n+this work for additional information regarding copyright ownership.\n+The ASF licenses this file to you under the Apache License, Version 2.0\n+(the \"License\"); you may not use this file except in compliance with\n+the License.  You may obtain a copy of the License at\n+\n+http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+{% endcomment %}\n+-->\n+\n+\n+This post gives insight into the major improvements in the JAVA implementation\n+of vectors.\n+\n+## Design Goals\n+\n+1. Improved Maintainability and Extensibility.\n+2. Improved heap usage.\n+3. No performance overhead on hot code paths.\n+\n+## Background\n+\n+**Improved Maintainability and Extensibility** \n+\n+We use templates in several places for compile time JAVA code generation for\n+different vector classes, readers, writers etc. Templates are helpful as the\n+developers don't have to write a lot of duplicate code. \n+\n+However, we realized that over a period of time some specific JAVA \n+templates became extremely complex with giant if-else blocks, poor code indentation\n+and documentation. All this impacted the ability to easily extend these templates \n+for adding new functionality or improving the existing infrastructure.\n+\n+So we evaluated the usage of templates for compile time code generation and\n+decided not to use complex templates in some places by writing small amount of \n+duplicate code which is elegant, well documented and extensible.\n+\n+**Improved Heap Usage**\n+\n+We did extensive memory analysis downstream in Dremio where Arrow is used\n+heavily for in-memory query execution on columnar data. The general conclusion\n+was that Arrow JAVA Vectors have non-negligible heap overhead and volume of \n+objects was too high. There were places in code where we were creating objects\n+unnecessarily and using structures that could be substituted with better\n+alternatives.\n+\n+**No performance overhead on hot code paths**\n+\n+JAVA Vectors used delegation and abstraction heavily throughout the object \n+hierarchy. The performance critical get/set methods of vectors went through\n+a chain of function calls back and forth between different objects before \n+doing meaningful work. We also evaluated the usage of branches in vector\n+APIs and reimplemented some of them by avoiding branches completely.\n+\n+We took inspiration from how the JAVA memory code in ArrowBuf works. For\n+all the performance critical methods, ArrowBuf bypasses all the netty object \n+hierarchy, grabs the target virtual address and directly interacts with \n+the memory.\n+\n+There were cases where branches could be avoided all together.\n+\n+In case of Nullable vectors, we were doing multiple checks to confirm if\n+the value at a given position in the vector is NULL or not. \n \n Review comment:\n   NULL -> null?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-14T19:01:41.378+0000",
                    "updated": "2017-12-14T19:01:41.378+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16291377",
                    "id": "16291377",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "icexelloss commented on issue #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#issuecomment-351805146\n \n \n   @siddharthteotia Thanks for the write up. Looks good.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-14T19:03:32.199+0000",
                    "updated": "2017-12-14T19:03:32.199+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16291378",
                    "id": "16291378",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "icexelloss commented on issue #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#issuecomment-351805146\n \n \n   @siddharthteotia Thanks for the write up. Looks good!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-14T19:03:49.045+0000",
                    "updated": "2017-12-14T19:03:49.045+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16291551",
                    "id": "16291551",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia commented on issue #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#issuecomment-351825696\n \n \n   All, we will be doing a short blog post on performance improvements we have seen in Dremio with upcoming version of Arrow. We are gathering numbers systematically for specific SQL operators where substantial improvement is visible. \r\n   \r\n   As of now, I don't think I will be able to provide numbers immediately that are worth putting in the blog post. \r\n   \r\n   What do people think?\r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-14T20:23:55.690+0000",
                    "updated": "2017-12-14T20:23:55.690+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16291556",
                    "id": "16291556",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia commented on a change in pull request #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#discussion_r157052907\n \n \n\n ##########\n File path: site/_posts/2017-12-13-java-vector-improvements.md\n ##########\n @@ -0,0 +1,110 @@\n+---\n+layout: post\n+title: \"Improved JAVA Vector APIs\"\n+excerpt: \"This post describes the recent improvements in JAVA Vector code\"\n+date: 2017-12-13 12:50:00\n+author: Siddharth Teotia\n+categories: [application]\n+---\n+\n+<!--\n+{% comment %}\n+Licensed to the Apache Software Foundation (ASF) under one or more\n+contributor license agreements.  See the NOTICE file distributed with\n+this work for additional information regarding copyright ownership.\n+The ASF licenses this file to you under the Apache License, Version 2.0\n+(the \"License\"); you may not use this file except in compliance with\n+the License.  You may obtain a copy of the License at\n+\n+http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+{% endcomment %}\n+-->\n+\n+\n+This post gives insight into the major improvements in the JAVA implementation\n+of vectors.\n+\n+## Design Goals\n+\n+1. Improved Maintainability and Extensibility.\n+2. Improved heap usage.\n+3. No performance overhead on hot code paths.\n+\n+## Background\n+\n+**Improved Maintainability and Extensibility** \n+\n+We use templates in several places for compile time JAVA code generation for\n+different vector classes, readers, writers etc. Templates are helpful as the\n+developers don't have to write a lot of duplicate code. \n+\n+However, we realized that over a period of time some specific JAVA \n+templates became extremely complex with giant if-else blocks, poor code indentation\n+and documentation. All this impacted the ability to easily extend these templates \n+for adding new functionality or improving the existing infrastructure.\n+\n+So we evaluated the usage of templates for compile time code generation and\n+decided not to use complex templates in some places by writing small amount of \n+duplicate code which is elegant, well documented and extensible.\n+\n+**Improved Heap Usage**\n+\n+We did extensive memory analysis downstream in Dremio where Arrow is used\n+heavily for in-memory query execution on columnar data. The general conclusion\n+was that Arrow JAVA Vectors have non-negligible heap overhead and volume of \n+objects was too high. There were places in code where we were creating objects\n+unnecessarily and using structures that could be substituted with better\n+alternatives.\n+\n+**No performance overhead on hot code paths**\n+\n+JAVA Vectors used delegation and abstraction heavily throughout the object \n+hierarchy. The performance critical get/set methods of vectors went through\n+a chain of function calls back and forth between different objects before \n+doing meaningful work. We also evaluated the usage of branches in vector\n+APIs and reimplemented some of them by avoiding branches completely.\n+\n+We took inspiration from how the JAVA memory code in ArrowBuf works. For\n+all the performance critical methods, ArrowBuf bypasses all the netty object \n+hierarchy, grabs the target virtual address and directly interacts with \n+the memory.\n+\n+There were cases where branches could be avoided all together.\n+\n+In case of Nullable vectors, we were doing multiple checks to confirm if\n+the value at a given position in the vector is NULL or not. \n \n Review comment:\n   Done.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-14T20:26:40.458+0000",
                    "updated": "2017-12-14T20:26:40.458+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16291563",
                    "id": "16291563",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia commented on a change in pull request #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#discussion_r157053774\n \n \n\n ##########\n File path: site/_posts/2017-12-13-java-vector-improvements.md\n ##########\n @@ -0,0 +1,110 @@\n+---\n+layout: post\n+title: \"Improved JAVA Vector APIs\"\n+excerpt: \"This post describes the recent improvements in JAVA Vector code\"\n+date: 2017-12-13 12:50:00\n+author: Siddharth Teotia\n+categories: [application]\n+---\n+\n+<!--\n+{% comment %}\n+Licensed to the Apache Software Foundation (ASF) under one or more\n+contributor license agreements.  See the NOTICE file distributed with\n+this work for additional information regarding copyright ownership.\n+The ASF licenses this file to you under the Apache License, Version 2.0\n+(the \"License\"); you may not use this file except in compliance with\n+the License.  You may obtain a copy of the License at\n+\n+http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+{% endcomment %}\n+-->\n+\n+\n+This post gives insight into the major improvements in the JAVA implementation\n+of vectors.\n+\n+## Design Goals\n+\n+1. Improved Maintainability and Extensibility.\n+2. Improved heap usage.\n+3. No performance overhead on hot code paths.\n+\n+## Background\n+\n+**Improved Maintainability and Extensibility** \n+\n+We use templates in several places for compile time JAVA code generation for\n+different vector classes, readers, writers etc. Templates are helpful as the\n+developers don't have to write a lot of duplicate code. \n+\n+However, we realized that over a period of time some specific JAVA \n+templates became extremely complex with giant if-else blocks, poor code indentation\n+and documentation. All this impacted the ability to easily extend these templates \n+for adding new functionality or improving the existing infrastructure.\n+\n+So we evaluated the usage of templates for compile time code generation and\n+decided not to use complex templates in some places by writing small amount of \n+duplicate code which is elegant, well documented and extensible.\n+\n+**Improved Heap Usage**\n+\n+We did extensive memory analysis downstream in Dremio where Arrow is used\n+heavily for in-memory query execution on columnar data. The general conclusion\n+was that Arrow JAVA Vectors have non-negligible heap overhead and volume of \n+objects was too high. There were places in code where we were creating objects\n+unnecessarily and using structures that could be substituted with better\n+alternatives.\n+\n+**No performance overhead on hot code paths**\n \n Review comment:\n   Done.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-14T20:30:39.492+0000",
                    "updated": "2017-12-14T20:30:39.492+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16291564",
                    "id": "16291564",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia commented on a change in pull request #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#discussion_r157053799\n \n \n\n ##########\n File path: site/_posts/2017-12-13-java-vector-improvements.md\n ##########\n @@ -0,0 +1,110 @@\n+---\n+layout: post\n+title: \"Improved JAVA Vector APIs\"\n+excerpt: \"This post describes the recent improvements in JAVA Vector code\"\n+date: 2017-12-13 12:50:00\n+author: Siddharth Teotia\n+categories: [application]\n+---\n+\n+<!--\n+{% comment %}\n+Licensed to the Apache Software Foundation (ASF) under one or more\n+contributor license agreements.  See the NOTICE file distributed with\n+this work for additional information regarding copyright ownership.\n+The ASF licenses this file to you under the Apache License, Version 2.0\n+(the \"License\"); you may not use this file except in compliance with\n+the License.  You may obtain a copy of the License at\n+\n+http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+{% endcomment %}\n+-->\n+\n+\n+This post gives insight into the major improvements in the JAVA implementation\n+of vectors.\n+\n+## Design Goals\n+\n+1. Improved Maintainability and Extensibility.\n \n Review comment:\n   Done.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-14T20:30:45.774+0000",
                    "updated": "2017-12-14T20:30:45.774+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16294335",
                    "id": "16294335",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia commented on issue #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#issuecomment-352285590\n \n \n   I think we should decide on this PR soon. What do people think of my suggestion here? \r\n   https://github.com/apache/arrow/pull/1419#issuecomment-351825696\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-17T21:07:20.777+0000",
                    "updated": "2017-12-17T21:07:20.777+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16295321",
                    "id": "16295321",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "siddharthteotia commented on issue #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419#issuecomment-352501655\n \n \n   Thanks @wesm. You can take over this patch.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-18T17:45:22.275+0000",
                    "updated": "2017-12-18T17:45:22.275+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16296190",
                    "id": "16296190",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm closed pull request #1419: ARROW-1922: Blog post on JAVA vector changes\nURL: https://github.com/apache/arrow/pull/1419\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/site/_data/contributors.yml b/site/_data/contributors.yml\nindex 2a8d95b77..19ca53ad4 100644\n--- a/site/_data/contributors.yml\n+++ b/site/_data/contributors.yml\n@@ -32,4 +32,7 @@\n - name: Michael K\u00f6nig\n   apacheId: MathMagique\n   githubId: MathMagique\n+- name: Siddharth Teotia\n+  apacheId: siddharthteotia\n+  githubId: siddharthteotia\n # End contributors.yml\ndiff --git a/site/_posts/2017-12-19-java-vector-improvements.md b/site/_posts/2017-12-19-java-vector-improvements.md\nnew file mode 100644\nindex 000000000..2854861fe\n--- /dev/null\n+++ b/site/_posts/2017-12-19-java-vector-improvements.md\n@@ -0,0 +1,104 @@\n+---\n+layout: post\n+title: \"Improvements to Java Vector API in Apache Arrow 0.8.0\"\n+excerpt: \"This post describes the recent improvements in Java Vector code\"\n+date: 2017-12-19 00:00:00\n+author: Siddharth Teotia\n+categories: [application]\n+---\n+\n+<!--\n+{% comment %}\n+Licensed to the Apache Software Foundation (ASF) under one or more\n+contributor license agreements.  See the NOTICE file distributed with\n+this work for additional information regarding copyright ownership.\n+The ASF licenses this file to you under the Apache License, Version 2.0\n+(the \"License\"); you may not use this file except in compliance with\n+the License.  You may obtain a copy of the License at\n+\n+http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+{% endcomment %}\n+-->\n+\n+This post gives insight into the major improvements in the Java implementation\n+of vectors. We undertook this work over the last 10 weeks since the last Arrow\n+release.\n+\n+## Design Goals\n+\n+1. Improved maintainability and extensibility\n+2. Improved heap memory usage\n+3. No performance overhead on hot code paths\n+\n+## Background\n+\n+### Improved maintainability and extensibility\n+\n+We use templates in several places for compile time Java code generation for\n+different vector classes, readers, writers etc. Templates are helpful as the\n+developers don't have to write a lot of duplicate code.\n+\n+However, we realized that over a period of time some specific Java\n+templates became extremely complex with giant if-else blocks, poor code indentation\n+and documentation. All this impacted the ability to easily extend these templates\n+for adding new functionality or improving the existing infrastructure.\n+\n+So we evaluated the usage of templates for compile time code generation and\n+decided not to use complex templates in some places by writing small amount of\n+duplicate code which is elegant, well documented and extensible.\n+\n+### Improved heap usage\n+\n+We did extensive memory analysis downstream in [Dremio][1] where Arrow is used\n+heavily for in-memory query execution on columnar data. The general conclusion\n+was that Arrow's Java vector classes have non-negligible heap overhead and\n+volume of objects was too high. There were places in code where we were\n+creating objects unnecessarily and using structures that could be substituted\n+with better alternatives.\n+\n+### No performance overhead on hot code paths\n+\n+Java vectors used delegation and abstraction heavily throughout the object\n+hierarchy. The performance critical get/set methods of vectors went through a\n+chain of function calls back and forth between different objects before doing\n+meaningful work. We also evaluated the usage of branches in vector APIs and\n+reimplemented some of them by avoiding branches completely.\n+\n+We took inspiration from how the Java memory code in `ArrowBuf` works. For all\n+the performance critical methods, `ArrowBuf` bypasses all the netty object\n+hierarchy, grabs the target virtual address and directly interacts with the\n+memory.\n+\n+There were cases where branches could be avoided all together.\n+\n+In case of nullable vectors, we were doing multiple checks to confirm if\n+the value at a given position in the vector is null or not.\n+\n+## Our implementation approach\n+\n+- For scalars, the inheritance tree was simplified by writing different\n+abstract base classes for fixed and variable width scalars.\n+- The base classes contained all the common functionality across different\n+types.\n+- The individual subclasses implemented type specific APIs for fixed and\n+variable width scalar vectors.\n+- For the performance critical methods, all the work is done either in\n+the vector class or corresponding ArrowBuf. There is no delegation to any\n+internal object.\n+- The mutator and accessor based access to vector APIs is removed. These\n+objects led to unnecessary heap overhead and complicated the use of APIs.\n+- Both scalar and complex vectors directly interact with underlying buffers\n+that manage the offsets, data and validity. Earlier we were creating different\n+inner vectors for each vector and delegating all the functionality to inner\n+vectors. This introduced a lot of bugs in memory management, excessive heap\n+overhead and performance penalty due to chain of delegations.\n+- We reduced the number of vector classes by removing non-nullable vectors.\n+In the new implementation, all vectors in Java are nullable in nature.\n+\n+[1]: https://www.dremio.com/\n\\ No newline at end of file\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-12-19T04:36:28.221+0000",
                    "updated": "2017-12-19T04:36:28.221+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13124784/comment/16296192",
                    "id": "16296192",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 1419\n[https://github.com/apache/arrow/pull/1419]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2017-12-19T04:38:34.380+0000",
                    "updated": "2017-12-19T04:38:34.380+0000"
                }
            ],
            "maxResults": 21,
            "total": 21,
            "startAt": 0
        },
        "customfield_12311820": "0|i3nvjz:",
        "customfield_12314139": null
    }
}