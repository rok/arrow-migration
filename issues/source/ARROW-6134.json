{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13248849",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849",
    "key": "ARROW-6134",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12345978",
                "id": "12345978",
                "description": "",
                "name": "0.15.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-10-05"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pprudhvi",
            "name": "pprudhvi",
            "key": "pprudhvi",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Prudhvi Porandla",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12334626",
                "id": "12334626",
                "name": "C++ - Gandiva"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pprudhvi",
            "name": "pprudhvi",
            "key": "pprudhvi",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Prudhvi Porandla",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pprudhvi",
            "name": "pprudhvi",
            "key": "pprudhvi",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Prudhvi Porandla",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 8400,
            "total": 8400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 8400,
            "total": 8400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-6134/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 15,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/288832",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pprudhvi commented on pull request #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-05T09:54:42.402+0000",
                    "updated": "2019-08-05T09:54:42.402+0000",
                    "started": "2019-08-05T09:54:42.401+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "288832",
                    "issueId": "13248849"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/288888",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "praveenbingo commented on pull request #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008#discussion_r310563767\n \n \n\n ##########\n File path: cpp/src/gandiva/precompiled/string_ops.cc\n ##########\n @@ -231,10 +231,28 @@ char* substr_utf8_int64(int64 context, const char* input, int32 in_len, int64 of\n   return substr_utf8_int64_int64(context, input, in_len, offset64, in_len, out_len);\n }\n \n+FORCE_INLINE\n+char* concat_utf8_utf8(int64 context, const char* left, int32 left_len,\n+                       bool left_validity, const char* right, int32 right_len,\n+                       bool right_validity, bool* out_valid, int32* out_len) {\n+  if (!left_validity) {\n+    left_len = 0;\n+  }\n+  if (!right_validity) {\n+    right_len = 0;\n+  }\n+  *out_valid = true;\n \n Review comment:\n   is this a null never function? since the output is set as always valid? (but function says null internal)..\r\n   \r\n   can we please add a test case too.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-05T11:44:45.120+0000",
                    "updated": "2019-08-05T11:44:45.120+0000",
                    "started": "2019-08-05T11:44:45.120+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "288888",
                    "issueId": "13248849"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/288942",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pprudhvi commented on pull request #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008#discussion_r310608362\n \n \n\n ##########\n File path: cpp/src/gandiva/precompiled/string_ops.cc\n ##########\n @@ -231,10 +231,28 @@ char* substr_utf8_int64(int64 context, const char* input, int32 in_len, int64 of\n   return substr_utf8_int64_int64(context, input, in_len, offset64, in_len, out_len);\n }\n \n+FORCE_INLINE\n+char* concat_utf8_utf8(int64 context, const char* left, int32 left_len,\n+                       bool left_validity, const char* right, int32 right_len,\n+                       bool right_validity, bool* out_valid, int32* out_len) {\n+  if (!left_validity) {\n+    left_len = 0;\n+  }\n+  if (!right_validity) {\n+    right_len = 0;\n+  }\n+  *out_valid = true;\n \n Review comment:\n   done\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-05T13:37:57.103+0000",
                    "updated": "2019-08-05T13:37:57.103+0000",
                    "started": "2019-08-05T13:37:57.103+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "288942",
                    "issueId": "13248849"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/289653",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008#issuecomment-518670773\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/5008?src=pr&el=h1) Report\n   > Merging [#5008](https://codecov.io/gh/apache/arrow/pull/5008?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/2088c05fa79af84c6de3cd4ff5c36f31f40bbdcf?src=pr&el=desc) will **increase** coverage by `1.28%`.\n   > The diff coverage is `67.44%`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/5008/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/5008?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #5008      +/-   ##\n   ==========================================\n   + Coverage   87.89%   89.17%   +1.28%     \n   ==========================================\n     Files         948      727     -221     \n     Lines      139767   102940   -36827     \n     Branches     1418        0    -1418     \n   ==========================================\n   - Hits       122844    91800   -31044     \n   + Misses      16561    11140    -5421     \n   + Partials      362        0     -362\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/5008?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [cpp/src/gandiva/function\\_registry\\_string.cc](https://codecov.io/gh/apache/arrow/pull/5008/diff?src=pr&el=tree#diff-Y3BwL3NyYy9nYW5kaXZhL2Z1bmN0aW9uX3JlZ2lzdHJ5X3N0cmluZy5jYw==) | `100% <100%> (\u00f8)` | :arrow_up: |\n   | [cpp/src/gandiva/tests/projector\\_test.cc](https://codecov.io/gh/apache/arrow/pull/5008/diff?src=pr&el=tree#diff-Y3BwL3NyYy9nYW5kaXZhL3Rlc3RzL3Byb2plY3Rvcl90ZXN0LmNj) | `100% <100%> (\u00f8)` | :arrow_up: |\n   | [cpp/src/gandiva/precompiled/string\\_ops.cc](https://codecov.io/gh/apache/arrow/pull/5008/diff?src=pr&el=tree#diff-Y3BwL3NyYy9nYW5kaXZhL3ByZWNvbXBpbGVkL3N0cmluZ19vcHMuY2M=) | `57.25% <36.36%> (-2.75%)` | :arrow_down: |\n   | [cpp/src/parquet/arrow/reader.cc](https://codecov.io/gh/apache/arrow/pull/5008/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wYXJxdWV0L2Fycm93L3JlYWRlci5jYw==) | `84.98% <0%> (-1.61%)` | :arrow_down: |\n   | [python/pyarrow/tests/test\\_parquet.py](https://codecov.io/gh/apache/arrow/pull/5008/diff?src=pr&el=tree#diff-cHl0aG9uL3B5YXJyb3cvdGVzdHMvdGVzdF9wYXJxdWV0LnB5) | `96.33% <0%> (-0.05%)` | :arrow_down: |\n   | [cpp/src/arrow/util/key-value-metadata-test.cc](https://codecov.io/gh/apache/arrow/pull/5008/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy91dGlsL2tleS12YWx1ZS1tZXRhZGF0YS10ZXN0LmNj) | `100% <0%> (\u00f8)` | :arrow_up: |\n   | [cpp/src/arrow/compute/kernels/cast-test.cc](https://codecov.io/gh/apache/arrow/pull/5008/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jb21wdXRlL2tlcm5lbHMvY2FzdC10ZXN0LmNj) | `99.46% <0%> (\u00f8)` | :arrow_up: |\n   | [cpp/src/arrow/util/key\\_value\\_metadata.cc](https://codecov.io/gh/apache/arrow/pull/5008/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy91dGlsL2tleV92YWx1ZV9tZXRhZGF0YS5jYw==) | `100% <0%> (\u00f8)` | :arrow_up: |\n   | [cpp/src/arrow/util/parsing-util-test.cc](https://codecov.io/gh/apache/arrow/pull/5008/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy91dGlsL3BhcnNpbmctdXRpbC10ZXN0LmNj) | `98.65% <0%> (\u00f8)` | :arrow_up: |\n   | [go/arrow/ipc/writer.go](https://codecov.io/gh/apache/arrow/pull/5008/diff?src=pr&el=tree#diff-Z28vYXJyb3cvaXBjL3dyaXRlci5nbw==) | | |\n   | ... and [344 more](https://codecov.io/gh/apache/arrow/pull/5008/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/5008?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/5008?src=pr&el=footer). Last update [2088c05...c1fc62e](https://codecov.io/gh/apache/arrow/pull/5008?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-06T13:32:13.161+0000",
                    "updated": "2019-08-06T13:32:13.161+0000",
                    "started": "2019-08-06T13:32:13.161+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "289653",
                    "issueId": "13248849"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/290284",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008#discussion_r311396061\n \n \n\n ##########\n File path: cpp/src/gandiva/function_registry_string.cc\n ##########\n @@ -79,10 +79,13 @@ std::vector<NativeFunction> GetStringFunctionRegistry() {\n                      utf8(), kResultNullIfNull, \"substr_utf8_int64\",\n                      NativeFunction::kNeedsContext),\n \n-      NativeFunction(\"concatOperator\", {\"concat\"}, DataTypeVector{utf8(), utf8()}, utf8(),\n+      NativeFunction(\"concatOperator\", {}, DataTypeVector{utf8(), utf8()}, utf8(),\n \n Review comment:\n   can you please add a comment here on the difference between the two ?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-07T07:01:07.535+0000",
                    "updated": "2019-08-07T07:01:07.535+0000",
                    "started": "2019-08-07T07:01:07.535+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "290284",
                    "issueId": "13248849"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/290285",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008#discussion_r311395461\n \n \n\n ##########\n File path: cpp/src/gandiva/precompiled/string_ops.cc\n ##########\n @@ -207,7 +209,8 @@ char* substr_utf8_int64_int64(int64 context, const char* input, int32 in_len,\n \n   if (startIndex < 0 || startIndex >= in_len) {\n     *out_len = 0;\n-    return nullptr;\n+    const char* empty_str = \"\";\n \n Review comment:\n   too many of these casts look ugly in the code, can you use one static defn for the file ?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-07T07:01:08.785+0000",
                    "updated": "2019-08-07T07:01:08.785+0000",
                    "started": "2019-08-07T07:01:08.785+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "290285",
                    "issueId": "13248849"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/290351",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pprudhvi commented on pull request #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008#discussion_r311481560\n \n \n\n ##########\n File path: cpp/src/gandiva/precompiled/string_ops.cc\n ##########\n @@ -207,7 +209,8 @@ char* substr_utf8_int64_int64(int64 context, const char* input, int32 in_len,\n \n   if (startIndex < 0 || startIndex >= in_len) {\n     *out_len = 0;\n-    return nullptr;\n+    const char* empty_str = \"\";\n \n Review comment:\n   done\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-07T10:31:08.085+0000",
                    "updated": "2019-08-07T10:31:08.085+0000",
                    "started": "2019-08-07T10:31:08.085+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "290351",
                    "issueId": "13248849"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/290519",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008#discussion_r311612260\n \n \n\n ##########\n File path: cpp/src/gandiva/precompiled/string_ops.cc\n ##########\n @@ -165,8 +165,9 @@ FORCE_INLINE\n char* castVARCHAR_utf8_int64(int64 context, const char* data, int32 data_len,\n                              int64_t out_len, int32_t* out_length) {\n   // TODO: handle allocation failures\n-  int32_t len = data_len <= static_cast<int32_t>(out_len) ? data_len\n-                                                          : static_cast<int32_t>(out_len);\n+  int32_t len = data_len <= static_cast<int32_t>(out_len) || out_len == 0\n \n Review comment:\n   What is the significance of this change? It seems unrelated to the concat functions and you haven't added a new test for `out_len == 0`\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-07T15:17:06.964+0000",
                    "updated": "2019-08-07T15:17:06.964+0000",
                    "started": "2019-08-07T15:17:06.964+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "290519",
                    "issueId": "13248849"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/290520",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008#discussion_r311606923\n \n \n\n ##########\n File path: cpp/src/gandiva/precompiled/string_ops.cc\n ##########\n @@ -190,11 +191,12 @@ VAR_LEN_TYPES(IS_NOT_NULL, isnotnull)\n #undef IS_NOT_NULL\n \n FORCE_INLINE\n-char* substr_utf8_int64_int64(int64 context, const char* input, int32 in_len,\n-                              int64 offset64, int64 length, int32* out_len) {\n+const char* substr_utf8_int64_int64(int64 context, const char* input, int32 in_len,\n+                                    int64 offset64, int64 length, int32* out_len) {\n   if (length <= 0 || input == nullptr || in_len <= 0) {\n     *out_len = 0;\n-    return nullptr;\n+    const char* empty_str = \"\";\n+    return const_cast<char*>(empty_str);\n \n Review comment:\n   do you need this cast anymore now that the function returns `const char*`?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-07T15:17:06.974+0000",
                    "updated": "2019-08-07T15:17:06.974+0000",
                    "started": "2019-08-07T15:17:06.973+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "290520",
                    "issueId": "13248849"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/290521",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008#discussion_r311605690\n \n \n\n ##########\n File path: cpp/src/gandiva/function_registry_string.cc\n ##########\n @@ -79,10 +79,15 @@ std::vector<NativeFunction> GetStringFunctionRegistry() {\n                      utf8(), kResultNullIfNull, \"substr_utf8_int64\",\n                      NativeFunction::kNeedsContext),\n \n-      NativeFunction(\"concatOperator\", {\"concat\"}, DataTypeVector{utf8(), utf8()}, utf8(),\n+      NativeFunction(\"concatOperator\", {}, DataTypeVector{utf8(), utf8()}, utf8(),\n                      kResultNullIfNull, \"concatOperator_utf8_utf8\",\n                      NativeFunction::kNeedsContext),\n \n+      // concat treats null inputs as empty strings whereas concatOperator returns null if\n+      // one of the inputs is null\n+      NativeFunction(\"concat\", {}, DataTypeVector{utf8(), utf8()}, utf8(),\n \n Review comment:\n   I think it would be more clear to name these concat and concatNullAsEmpty or similar.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-07T15:17:06.975+0000",
                    "updated": "2019-08-07T15:17:06.975+0000",
                    "started": "2019-08-07T15:17:06.975+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "290521",
                    "issueId": "13248849"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/290609",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pprudhvi commented on pull request #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008#discussion_r311668275\n \n \n\n ##########\n File path: cpp/src/gandiva/precompiled/string_ops.cc\n ##########\n @@ -165,8 +165,9 @@ FORCE_INLINE\n char* castVARCHAR_utf8_int64(int64 context, const char* data, int32 data_len,\n                              int64_t out_len, int32_t* out_length) {\n   // TODO: handle allocation failures\n-  int32_t len = data_len <= static_cast<int32_t>(out_len) ? data_len\n-                                                          : static_cast<int32_t>(out_len);\n+  int32_t len = data_len <= static_cast<int32_t>(out_len) || out_len == 0\n \n Review comment:\n   this is not related to concat directly. I will create a new issue for this.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-07T17:16:26.061+0000",
                    "updated": "2019-08-07T17:16:26.061+0000",
                    "started": "2019-08-07T17:16:26.061+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "290609",
                    "issueId": "13248849"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/290610",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pprudhvi commented on pull request #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008#discussion_r311668353\n \n \n\n ##########\n File path: cpp/src/gandiva/precompiled/string_ops.cc\n ##########\n @@ -190,11 +191,12 @@ VAR_LEN_TYPES(IS_NOT_NULL, isnotnull)\n #undef IS_NOT_NULL\n \n FORCE_INLINE\n-char* substr_utf8_int64_int64(int64 context, const char* input, int32 in_len,\n-                              int64 offset64, int64 length, int32* out_len) {\n+const char* substr_utf8_int64_int64(int64 context, const char* input, int32 in_len,\n+                                    int64 offset64, int64 length, int32* out_len) {\n   if (length <= 0 || input == nullptr || in_len <= 0) {\n     *out_len = 0;\n-    return nullptr;\n+    const char* empty_str = \"\";\n+    return const_cast<char*>(empty_str);\n \n Review comment:\n   changed. thanks for pointing out\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-07T17:16:36.839+0000",
                    "updated": "2019-08-07T17:16:36.839+0000",
                    "started": "2019-08-07T17:16:36.839+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "290610",
                    "issueId": "13248849"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/290611",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pprudhvi commented on pull request #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008#discussion_r311669129\n \n \n\n ##########\n File path: cpp/src/gandiva/function_registry_string.cc\n ##########\n @@ -79,10 +79,15 @@ std::vector<NativeFunction> GetStringFunctionRegistry() {\n                      utf8(), kResultNullIfNull, \"substr_utf8_int64\",\n                      NativeFunction::kNeedsContext),\n \n-      NativeFunction(\"concatOperator\", {\"concat\"}, DataTypeVector{utf8(), utf8()}, utf8(),\n+      NativeFunction(\"concatOperator\", {}, DataTypeVector{utf8(), utf8()}, utf8(),\n                      kResultNullIfNull, \"concatOperator_utf8_utf8\",\n                      NativeFunction::kNeedsContext),\n \n+      // concat treats null inputs as empty strings whereas concatOperator returns null if\n+      // one of the inputs is null\n+      NativeFunction(\"concat\", {}, DataTypeVector{utf8(), utf8()}, utf8(),\n \n Review comment:\n   the name should match sql function name\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-07T17:18:25.087+0000",
                    "updated": "2019-08-07T17:18:25.087+0000",
                    "started": "2019-08-07T17:18:25.086+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "290611",
                    "issueId": "13248849"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/290615",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pprudhvi commented on pull request #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008#discussion_r311668275\n \n \n\n ##########\n File path: cpp/src/gandiva/precompiled/string_ops.cc\n ##########\n @@ -165,8 +165,9 @@ FORCE_INLINE\n char* castVARCHAR_utf8_int64(int64 context, const char* data, int32 data_len,\n                              int64_t out_len, int32_t* out_length) {\n   // TODO: handle allocation failures\n-  int32_t len = data_len <= static_cast<int32_t>(out_len) ? data_len\n-                                                          : static_cast<int32_t>(out_len);\n+  int32_t len = data_len <= static_cast<int32_t>(out_len) || out_len == 0\n \n Review comment:\n   this is not directly related to concat. I will create a new issue for this.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-07T17:24:19.304+0000",
                    "updated": "2019-08-07T17:24:19.304+0000",
                    "started": "2019-08-07T17:24:19.303+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "290615",
                    "issueId": "13248849"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/worklog/291136",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #5008: ARROW-6134: [C++][Gandiva] Add concat function in Gandiva\nURL: https://github.com/apache/arrow/pull/5008\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-08T10:18:50.090+0000",
                    "updated": "2019-08-08T10:18:50.090+0000",
                    "started": "2019-08-08T10:18:50.089+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "291136",
                    "issueId": "13248849"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/3",
            "id": "3",
            "description": "A task that needs to be done.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype",
            "name": "Task",
            "subtask": false,
            "avatarId": 21148
        },
        "timespent": 8400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@6002ff6[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@45175d2d[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@781c8f06[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@71d4b1d[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3bf961de[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@67c56e5a[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7b3da91b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@161540c2[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6692244f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@2ae92179[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3c0a304e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@a5745d[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 8400,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Aug 08 10:15:55 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-08-08T10:15:55.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-6134/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2019-08-05T09:53:32.000+0000",
        "updated": "2019-08-08T10:18:50.000+0000",
        "timeoriginalestimate": null,
        "description": "* remove concat alias for concatOperator\r\n * add concat(utf8, utf8) function. The difference between concat and concatOperator is in null input handling. concatOperator returns null if one of the inputs is null; concat treats null input as empty string",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 8400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++][Gandiva] Add concat function in Gandiva",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13248849/comment/16902860",
                    "id": "16902860",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pravindra",
                        "name": "pravindra",
                        "key": "pravindra",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
                        },
                        "displayName": "Pindikura Ravindra",
                        "active": true,
                        "timeZone": "Asia/Kolkata"
                    },
                    "body": "Issue resolved by pull request 5008\n[https://github.com/apache/arrow/pull/5008]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pravindra",
                        "name": "pravindra",
                        "key": "pravindra",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
                        },
                        "displayName": "Pindikura Ravindra",
                        "active": true,
                        "timeZone": "Asia/Kolkata"
                    },
                    "created": "2019-08-08T10:15:55.487+0000",
                    "updated": "2019-08-08T10:15:55.487+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z05bu8:",
        "customfield_12314139": null
    }
}