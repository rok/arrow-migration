{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13163276",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276",
    "key": "ARROW-2656",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12342562",
                "id": "12342562",
                "description": "",
                "name": "0.10.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-08-06"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "parquet",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=rgruener",
            "name": "rgruener",
            "key": "rgruener",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Robbie Gruener",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=rgruener",
            "name": "rgruener",
            "key": "rgruener",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Robbie Gruener",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=rgruener",
            "name": "rgruener",
            "key": "rgruener",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Robbie Gruener",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 19200,
            "total": 19200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 19200,
            "total": 19200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2656/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 33,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/116474",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "rgruener opened a new pull request #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185\n \n \n   https://issues.apache.org/jira/browse/ARROW-2656 I probably should still write a benchmark for this, but figured I can get some quick feedback on this while working on that.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-06-27T16:10:11.652+0000",
                    "updated": "2018-06-27T16:10:11.652+0000",
                    "started": "2018-06-27T16:10:11.651+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "116474",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/116499",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "rgruener commented on issue #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#issuecomment-400762430\n \n \n   Test failure was `ImportError: No module named concurrent` which is weird since there is a install_requires on futures in setup.py\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-06-27T17:17:24.321+0000",
                    "updated": "2018-06-27T17:17:24.321+0000",
                    "started": "2018-06-27T17:17:24.320+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "116499",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/118658",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on issue #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#issuecomment-402108622\n \n \n   @rgruener I guess `python setup.py build_ext` doesn't install [install_requires](https://github.com/apache/arrow/blob/master/python/setup.py#L473) dependencies.\r\n   \r\n   For [OSX build](https://travis-ci.org/apache/arrow/jobs/397460285) the optional dependencies are handled [here](https://github.com/apache/arrow/blob/master/ci/travis_script_python.sh#L97), in this particular build conda fails to dowload, which is unrelated and probably will pass next time.\r\n   \r\n   However for the [linux build](https://travis-ci.org/apache/arrow/jobs/397460286) the optional `futures` dependency for PY27 is indeed [missing](https://github.com/apache/arrow/blob/master/python/manylinux1/build_arrow.sh#L77). I suggest to install it in the same fashion as `travis_script_python.sh` [does](https://github.com/apache/arrow/blob/master/ci/travis_script_python.sh#L97). Hopefully that will resolve the build errors.\r\n   \r\n   \r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-03T10:56:29.769+0000",
                    "updated": "2018-07-03T10:56:29.769+0000",
                    "started": "2018-07-03T10:56:29.769+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "118658",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/118764",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on issue #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#issuecomment-402221546\n \n \n   @rgruener benchmark must fail because parquet is disabled [here](https://github.com/apache/arrow/blob/master/ci/travis_script_python.sh#L185)\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-03T16:46:11.458+0000",
                    "updated": "2018-07-03T16:46:11.458+0000",
                    "started": "2018-07-03T16:46:11.458+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "118764",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/118766",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs edited a comment on issue #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#issuecomment-402221546\n \n \n   @rgruener benchmark probably fails because parquet is disabled [here](https://github.com/apache/arrow/blob/master/ci/travis_script_python.sh#L185)\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-03T16:46:27.070+0000",
                    "updated": "2018-07-03T16:46:27.070+0000",
                    "started": "2018-07-03T16:46:27.070+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "118766",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/118778",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "rgruener commented on issue #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#issuecomment-402229466\n \n \n   Cool, updated that. Thanks for all the test help so far @kszucs \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-03T17:12:28.520+0000",
                    "updated": "2018-07-03T17:12:28.520+0000",
                    "started": "2018-07-03T17:12:28.520+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "118778",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/118779",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on issue #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#issuecomment-402230755\n \n \n   You're welcome, hopefully conda connection won't drop again.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-03T17:16:46.092+0000",
                    "updated": "2018-07-03T17:16:46.092+0000",
                    "started": "2018-07-03T17:16:46.092+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "118779",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/119488",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#issuecomment-402793921\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/2185?src=pr&el=h1) Report\n   > Merging [#2185](https://codecov.io/gh/apache/arrow/pull/2185?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/0175167053dca76785ca6214732ece18d4944618?src=pr&el=desc) will **increase** coverage by `<.01%`.\n   > The diff coverage is `100%`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/2185/graphs/tree.svg?width=650&height=150&src=pr&token=LpTCFbqVT1)](https://codecov.io/gh/apache/arrow/pull/2185?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff            @@\n   ##           master   #2185      +/-   ##\n   =========================================\n   + Coverage    84.1%   84.1%   +<.01%     \n   =========================================\n     Files         288     288              \n     Lines       43830   43838       +8     \n   =========================================\n   + Hits        36862   36871       +9     \n   + Misses       6937    6936       -1     \n     Partials       31      31\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/2185?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [python/pyarrow/parquet.py](https://codecov.io/gh/apache/arrow/pull/2185/diff?src=pr&el=tree#diff-cHl0aG9uL3B5YXJyb3cvcGFycXVldC5weQ==) | `90.61% <100%> (+0.14%)` | :arrow_up: |\n   | [cpp/src/arrow/util/thread-pool-test.cc](https://codecov.io/gh/apache/arrow/pull/2185/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy91dGlsL3RocmVhZC1wb29sLXRlc3QuY2M=) | `99.45% <0%> (+0.54%)` | :arrow_up: |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/2185?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/2185?src=pr&el=footer). Last update [0175167...7205958](https://codecov.io/gh/apache/arrow/pull/2185?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-05T17:20:09.226+0000",
                    "updated": "2018-07-05T17:20:09.226+0000",
                    "started": "2018-07-05T17:20:09.226+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "119488",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/120478",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy commented on a change in pull request #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#discussion_r200849061\n \n \n\n ##########\n File path: python/pyarrow/parquet.py\n ##########\n @@ -591,23 +592,32 @@ class ParquetManifest(object):\n \n     \"\"\"\n     def __init__(self, dirpath, filesystem=None, pathsep='/',\n-                 partition_scheme='hive'):\n+                 partition_scheme='hive', thread_pool=None):\n \n Review comment:\n   @pitrou Wouldn't this be a use case for the ThreadPool you have introduced recently?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-08T18:30:50.358+0000",
                    "updated": "2018-07-08T18:30:50.358+0000",
                    "started": "2018-07-08T18:30:50.358+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "120478",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/120479",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy commented on a change in pull request #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#discussion_r200849040\n \n \n\n ##########\n File path: python/manylinux1/build_arrow.sh\n ##########\n @@ -75,6 +75,9 @@ for PYTHON_TUPLE in ${PYTHON_VERSIONS}; do\n \n     echo \"=== (${PYTHON}) Test the existence of optional modules ===\"\n     $PIP install -r requirements.txt\n+    if [ \"$( cut -d ',' -f 1 <<< \"$PYTHON_TUPLE\" )\"  == \"2.7\" ]; then\n \n Review comment:\n   Please add this directly to the requirements file using environment markers (`futures; python_version < 3`)\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-08T18:30:50.360+0000",
                    "updated": "2018-07-08T18:30:50.360+0000",
                    "started": "2018-07-08T18:30:50.359+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "120479",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/120547",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "AlexHagerman commented on a change in pull request #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#discussion_r200867322\n \n \n\n ##########\n File path: python/pyarrow/parquet.py\n ##########\n @@ -591,23 +592,32 @@ class ParquetManifest(object):\n \n     \"\"\"\n     def __init__(self, dirpath, filesystem=None, pathsep='/',\n-                 partition_scheme='hive'):\n+                 partition_scheme='hive', thread_pool=None):\n         self.filesystem = filesystem or _get_fs_from_path(dirpath)\n         self.pathsep = pathsep\n         self.dirpath = dirpath\n         self.partition_scheme = partition_scheme\n         self.partitions = ParquetPartitions()\n         self.pieces = []\n+        self._thread_pool = thread_pool or futures.ThreadPoolExecutor()\n \n         self.common_metadata_path = None\n         self.metadata_path = None\n \n         self._visit_level(0, self.dirpath, [])\n \n+        # Due to concurrency, pieces will potentially by out of order if the\n+        # dataset is partitioned so we sort them to yield stable results\n+        self.pieces.sort(key=lambda piece: piece.path)\n+\n         if self.common_metadata_path is None:\n             # _common_metadata is a subset of _metadata\n             self.common_metadata_path = self.metadata_path\n \n+        if thread_pool is None:\n+            # If we created the thread pool make sure to shut it down after use\n+            self._thread_pool.shutdown()\n \n Review comment:\n   I may be missing something, but above `thread_pool` defaults to `None` and I see where `_thread_pool` is set on line 602. What is being `shutdown()` here if `thread_pool` is `None`?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-09T02:14:17.744+0000",
                    "updated": "2018-07-09T02:14:17.744+0000",
                    "started": "2018-07-09T02:14:17.743+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "120547",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/120646",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#discussion_r200908342\n \n \n\n ##########\n File path: python/pyarrow/parquet.py\n ##########\n @@ -591,23 +592,32 @@ class ParquetManifest(object):\n \n     \"\"\"\n     def __init__(self, dirpath, filesystem=None, pathsep='/',\n-                 partition_scheme='hive'):\n+                 partition_scheme='hive', thread_pool=None):\n \n Review comment:\n   If this were C++, then yes ;-)\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-09T07:47:56.634+0000",
                    "updated": "2018-07-09T07:47:56.634+0000",
                    "started": "2018-07-09T07:47:56.634+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "120646",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/120647",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#discussion_r200908473\n \n \n\n ##########\n File path: python/pyarrow/parquet.py\n ##########\n @@ -646,13 +656,19 @@ def _should_silently_exclude(self, file_name):\n                 file_name in EXCLUDED_PARQUET_PATHS)\n \n     def _visit_directories(self, level, directories, part_keys):\n+        futures_list = []\n         for path in directories:\n             head, tail = _path_split(path, self.pathsep)\n             name, key = _parse_hive_partition(tail)\n \n             index = self.partitions.get_index(level, name, key)\n             dir_part_keys = part_keys + [(name, index)]\n-            self._visit_level(level + 1, path, dir_part_keys)\n+            future = self._thread_pool.submit(self._visit_level,\n \n Review comment:\n   Is `_visit_level` even thread-safe?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-09T07:48:32.164+0000",
                    "updated": "2018-07-09T07:48:32.164+0000",
                    "started": "2018-07-09T07:48:32.164+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "120647",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/120730",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#discussion_r200971848\n \n \n\n ##########\n File path: python/manylinux1/build_arrow.sh\n ##########\n @@ -75,6 +75,9 @@ for PYTHON_TUPLE in ${PYTHON_VERSIONS}; do\n \n     echo \"=== (${PYTHON}) Test the existence of optional modules ===\"\n     $PIP install -r requirements.txt\n+    if [ \"$( cut -d ',' -f 1 <<< \"$PYTHON_TUPLE\" )\"  == \"2.7\" ]; then\n \n Review comment:\n   Then whit [one](https://github.com/apache/arrow/blob/master/ci/travis_script_python.sh#L97) should be removed too.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-09T11:42:57.743+0000",
                    "updated": "2018-07-09T11:42:57.743+0000",
                    "started": "2018-07-09T11:42:57.742+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "120730",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/120810",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "rgruener commented on a change in pull request #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#discussion_r201045528\n \n \n\n ##########\n File path: python/pyarrow/parquet.py\n ##########\n @@ -591,23 +592,32 @@ class ParquetManifest(object):\n \n     \"\"\"\n     def __init__(self, dirpath, filesystem=None, pathsep='/',\n-                 partition_scheme='hive'):\n+                 partition_scheme='hive', thread_pool=None):\n         self.filesystem = filesystem or _get_fs_from_path(dirpath)\n         self.pathsep = pathsep\n         self.dirpath = dirpath\n         self.partition_scheme = partition_scheme\n         self.partitions = ParquetPartitions()\n         self.pieces = []\n+        self._thread_pool = thread_pool or futures.ThreadPoolExecutor()\n \n         self.common_metadata_path = None\n         self.metadata_path = None\n \n         self._visit_level(0, self.dirpath, [])\n \n+        # Due to concurrency, pieces will potentially by out of order if the\n+        # dataset is partitioned so we sort them to yield stable results\n+        self.pieces.sort(key=lambda piece: piece.path)\n+\n         if self.common_metadata_path is None:\n             # _common_metadata is a subset of _metadata\n             self.common_metadata_path = self.metadata_path\n \n+        if thread_pool is None:\n+            # If we created the thread pool make sure to shut it down after use\n+            self._thread_pool.shutdown()\n \n Review comment:\n   If `thread_pool is None` that means we instantiated it on line 602 and therefore the calling user will not be using that same thread pool so we should properly shut it down to preserve resources. If it wasn't none that means the user passed in a thread pool executor likely to reuse an existing one that already existed.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-09T15:29:09.797+0000",
                    "updated": "2018-07-09T15:29:09.797+0000",
                    "started": "2018-07-09T15:29:09.794+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "120810",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/120811",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#discussion_r201046304\n \n \n\n ##########\n File path: python/benchmarks/parquet.py\n ##########\n @@ -0,0 +1,54 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+from concurrent.futures import ThreadPoolExecutor\n+import pandas as pd\n+import random\n+import shutil\n+import tempfile\n+\n+import pyarrow as pa\n+import pyarrow.parquet as pq\n+\n+\n+class ParquetManifestCreation(object):\n \n Review comment:\n   Is this benchmark stable from run to run? What kind of numbers does it give?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-09T15:31:14.982+0000",
                    "updated": "2018-07-09T15:31:14.982+0000",
                    "started": "2018-07-09T15:31:14.981+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "120811",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/120812",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#issuecomment-403520592\n \n \n   I'd like to understand what is being sped up by this patch. Is it doing I/O on a remote filesystem? If so, should the optimization really live at the parquet level (rather than the filesystem level)?\r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-09T15:32:22.872+0000",
                    "updated": "2018-07-09T15:32:22.872+0000",
                    "started": "2018-07-09T15:32:22.871+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "120812",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/120815",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "rgruener commented on a change in pull request #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#discussion_r201048077\n \n \n\n ##########\n File path: python/pyarrow/parquet.py\n ##########\n @@ -646,13 +656,19 @@ def _should_silently_exclude(self, file_name):\n                 file_name in EXCLUDED_PARQUET_PATHS)\n \n     def _visit_directories(self, level, directories, part_keys):\n+        futures_list = []\n         for path in directories:\n             head, tail = _path_split(path, self.pathsep)\n             name, key = _parse_hive_partition(tail)\n \n             index = self.partitions.get_index(level, name, key)\n             dir_part_keys = part_keys + [(name, index)]\n-            self._visit_level(level + 1, path, dir_part_keys)\n+            future = self._thread_pool.submit(self._visit_level,\n \n Review comment:\n   I believe it should be. It mutates `pieces` which is a python list by using `extend` which should be thread safe thanks to the GIL.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-09T15:36:04.929+0000",
                    "updated": "2018-07-09T15:36:04.929+0000",
                    "started": "2018-07-09T15:36:04.927+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "120815",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/120819",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "rgruener commented on issue #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#issuecomment-403524677\n \n \n   > I'd like to understand what is being sped up by this patch. Is it doing I/O on a remote filesystem? If so, should the optimization really live at the parquet level (rather than the filesystem level)?\r\n   \r\n   Yeah, it is basically for the use case of reading a parquet dataset on a remote filesystem. This is not possible to live at the parquet level given the current code structure and the way directories are sturctured for partitioned parquet datasets. In the case of a partitioned dataset the first call to `_visit_level` will return pretty much only directories from `fs.walk` and it will then make a blocking call for each of those directories serially to read their contents. When dealing with a remote filesystem you are adding up the round trip RPC call for each of these calls.\r\n   \r\n   My own estimates from reading from HDFS in a remote datacenter to my laptop have shown this can improve times by multiple orders of magnitude. The benchmark I included really isnt the best way to measure this since with the local filesystem the overhead of threading is worse than making the calls to the local filesystem however the minimal hit there is more than made up for when reading from remote filesystems. Im not sure how to write a benchmark to a remote filesystem though, but I can share some number of me running it against a remote filesystem.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-09T15:44:20.257+0000",
                    "updated": "2018-07-09T15:44:20.257+0000",
                    "started": "2018-07-09T15:44:20.256+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "120819",
                    "issueId": "13163276"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/worklog/120865",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #2185: ARROW-2656: [Python] Improve creation time of ParquetManifest for partitioned datasets using thread pool\nURL: https://github.com/apache/arrow/pull/2185#issuecomment-403542240\n \n \n   In principle I would be interested in pushing down the directory traversal code into C++ (and making it asynchronous / concurrent). This could be some follow up work\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-09T16:40:09.558+0000",
                    "updated": "2018-07-09T16:40:09.558+0000",
                    "started": "2018-07-09T16:40:09.557+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "120865",
                    "issueId": "13163276"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 19200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@687370c8[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1bd7bd3d[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3ec742b5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@18df2e05[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@658ed452[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@2479d820[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@20aff4f0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@41e149e6[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@52de29cc[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@380c436f[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@67db38ea[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@2c3ef38e[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 19200,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Jul 24 09:05:05 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-07-24T09:05:05.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2656/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2018-05-31T20:45:18.000+0000",
        "updated": "2018-07-24T09:05:05.000+0000",
        "timeoriginalestimate": null,
        "description": "When a parquet dataset is highly partitioned, the time to call the constructor for\u00a0[ParquetManifest|https://github.com/apache/arrow/blob/master/python/pyarrow/parquet.py#L588]\u00a0takes a significant amount of time since it serially visits directories to find all parquet files. In a dataset with thousands of partition values this can take several minutes from a personal laptop.\r\n\r\nA quick win to vastly improve this performance would be to use a ThreadPool to have calls to\u00a0{{_visit_level}}\u00a0happen concurrently to prevent wasting a ton of time waiting on I/O.\r\n\r\nAn even faster option could be to allow for optional indexing of dataset metadata in something like the\u00a0{{common_metadata}}. This could contain all files in the manifest and their row_group information. This would also allow for [split_row_groups|https://github.com/apache/arrow/blob/master/python/pyarrow/parquet.py#L746]\u00a0to be implemented efficiently without needing to open every parquet file in the dataset to retrieve the metadata which is quite time consuming for large datasets. The main problem with the indexing approach are it requires immutability of the dataset, which doesn't seem too unreasonable. This specific implementation seems related to https://issues.apache.org/jira/browse/ARROW-1983\u00a0however that only covers the write portion.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "5h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 19200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python] Improve ParquetManifest creation time ",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/comment/16497147",
                    "id": "16497147",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=rgruener",
                        "name": "rgruener",
                        "key": "rgruener",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Robbie Gruener",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "I will\u00a0attempt to get some code as a benchmark however (I believe) you cannot create partitioned parquet datasets through pyarrow right now which will make it necessary to do so through spark.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=rgruener",
                        "name": "rgruener",
                        "key": "rgruener",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Robbie Gruener",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-05-31T20:46:38.496+0000",
                    "updated": "2018-05-31T20:46:38.496+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/comment/16525236",
                    "id": "16525236",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=rgruener",
                        "name": "rgruener",
                        "key": "rgruener",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Robbie Gruener",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "I have opened [https://github.com/apache/arrow/pull/2185]\u00a0which is a quick win that gives a rather large performance boost for creating a parquet manifest on a partitioned dataset which lives in hdfs.\r\n\r\nI think using the summary file will be another improvement to make on top of this, but this is extremely useful in the meantime.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=rgruener",
                        "name": "rgruener",
                        "key": "rgruener",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Robbie Gruener",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-06-27T16:11:29.428+0000",
                    "updated": "2018-06-27T16:11:29.428+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13163276/comment/16553982",
                    "id": "16553982",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "body": "Issue resolved by pull request 2185\n[https://github.com/apache/arrow/pull/2185]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "created": "2018-07-24T09:05:05.084+0000",
                    "updated": "2018-07-24T09:05:05.084+0000"
                }
            ],
            "maxResults": 3,
            "total": 3,
            "startAt": 0
        },
        "customfield_12311820": "0|i3udmf:",
        "customfield_12314139": null
    }
}