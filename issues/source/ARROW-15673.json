{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13428212",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212",
    "key": "ARROW-15673",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12351051",
                "id": "12351051",
                "description": "",
                "name": "8.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2022-05-06"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=dragosmg",
            "name": "dragosmg",
            "key": "dragosmg",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34061",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34061",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34061",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34061"
            },
            "displayName": "Drago\u0219 Moldovan-Gr\u00fcnfeld",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
            "name": "jonkeane",
            "key": "jonkeane",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
            },
            "displayName": "Jonathan Keane",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
            "name": "jonkeane",
            "key": "jonkeane",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
            },
            "displayName": "Jonathan Keane",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 25200,
            "total": 25200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 25200,
            "total": 25200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-15673/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 42,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/730850",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#issuecomment-1047738589\n\n\n   https://issues.apache.org/jira/browse/ARROW-15673\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-22T12:18:24.638+0000",
                    "updated": "2022-02-22T12:18:24.638+0000",
                    "started": "2022-02-22T12:18:24.638+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "730850",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731129",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812299074\n\n\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,19 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n+  new_lib <- tempfile()\n+  dir.create(new_lib)\n+  withr::with_libpaths(new_lib, {\n+    ds <- InMemoryDataset$create(example_data)\n+    expect_error(\n+      to_duckdb(ds),\n+      \"Please install the `duckdb` package.\"\n+    )\n+  })\n+  unlink(new_lib, recursive = TRUE)\n\nReview comment:\n       Nice use of `with_libpaths()` and nice that this is up at the top before duckdb might have already been loaded (we should probably also have a comment explaining that since it might be confusing to others who run across this code).\r\n   \r\n   `.libPaths()` is a strange beast that has some pretty peculiar behavior. I suspect what's going on here is some combination of:\r\n   * that `new_lib` might not actually be created as a directory yet. (if you pass `.libPaths()` a string that's not a directory it silently ignores it)\r\n   * `.libPaths()` won't overwrite or add to libraries specified in `.Library.site` or `.Library` https://stat.ethz.ch/R-manual/R-devel/library/base/html/libPaths.html\r\n   \r\n   You might want to try and print `.libPaths()` to confirm what you expect it to be. You also might want to use our helper `make_temp_dir()` which should ensure that a temp directory is actually created  \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-22T19:44:45.429+0000",
                    "updated": "2022-02-22T19:44:45.429+0000",
                    "started": "2022-02-22T19:44:45.428+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731129",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731244",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812423235\n\n\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,19 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n+  new_lib <- tempfile()\n+  dir.create(new_lib)\n+  withr::with_libpaths(new_lib, {\n+    ds <- InMemoryDataset$create(example_data)\n+    expect_error(\n+      to_duckdb(ds),\n+      \"Please install the `duckdb` package.\"\n+    )\n+  })\n+  unlink(new_lib, recursive = TRUE)\n\nReview comment:\n       `new_lib` works correctly and gets inserted at the first position of `.libPaths()`.\r\n   ``` r\r\n   new_lib <- tempfile()\r\n   dir.create(new_lib)\r\n   withr::with_libpaths(new_lib, {\r\n     .libPaths()\r\n   })\r\n   #> [1] \"/private/var/folders/wx/zjw1jzk11s76vchhc2xym7xw0000gn/T/RtmpHwjdcB/file1ed63169505e\"\r\n   #> [2] \"/Library/Frameworks/R.framework/Versions/4.1/Resources/library\"\r\n   unlink(new_lib, recursive = TRUE)\r\n   ```\r\n   \r\n   <sup>Created on 2022-02-22 by the [reprex package](https://reprex.tidyverse.org) (v2.0.1)</sup>\r\n   \r\n   I think the issue is that the system library will always be at `.libPaths()[[2]]`, which means the code above should work provided you have _not_ installed packages in the system library.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-22T22:45:36.688+0000",
                    "updated": "2022-02-22T22:45:36.688+0000",
                    "started": "2022-02-22T22:45:36.688+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731244",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731246",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812424612\n\n\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,19 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n+  new_lib <- tempfile()\n+  dir.create(new_lib)\n+  withr::with_libpaths(new_lib, {\n+    ds <- InMemoryDataset$create(example_data)\n+    expect_error(\n+      to_duckdb(ds),\n+      \"Please install the `duckdb` package.\"\n+    )\n+  })\n+  unlink(new_lib, recursive = TRUE)\n\nReview comment:\n       I think the question might be how to make sure there's only one `dir` on `.libPaths()` for the purpose of running that test. I believe {rent} might be doing just that.\r\n   \r\n   https://github.com/rstudio/renv/blob/86edb40cf638c017f26c7f9be155bbbbaf01b1b0/R/libpaths.R#L12-L13 \r\n   \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-22T22:48:02.238+0000",
                    "updated": "2022-02-22T22:48:02.238+0000",
                    "started": "2022-02-22T22:48:02.238+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731246",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731247",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812424612\n\n\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,19 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n+  new_lib <- tempfile()\n+  dir.create(new_lib)\n+  withr::with_libpaths(new_lib, {\n+    ds <- InMemoryDataset$create(example_data)\n+    expect_error(\n+      to_duckdb(ds),\n+      \"Please install the `duckdb` package.\"\n+    )\n+  })\n+  unlink(new_lib, recursive = TRUE)\n\nReview comment:\n       I think the question might be how to make sure there's only one `dir` on `.libPaths()` for the purpose of running that test (and magically have all \"base\" packages there). I believe {rent} might be doing just that.\r\n   \r\n   https://github.com/rstudio/renv/blob/86edb40cf638c017f26c7f9be155bbbbaf01b1b0/R/libpaths.R#L12-L13 \r\n   \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-22T22:52:57.166+0000",
                    "updated": "2022-02-22T22:52:57.166+0000",
                    "started": "2022-02-22T22:52:57.166+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731247",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731249",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812428733\n\n\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,19 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n+  new_lib <- tempfile()\n+  dir.create(new_lib)\n+  withr::with_libpaths(new_lib, {\n+    ds <- InMemoryDataset$create(example_data)\n+    expect_error(\n+      to_duckdb(ds),\n+      \"Please install the `duckdb` package.\"\n+    )\n+  })\n+  unlink(new_lib, recursive = TRUE)\n\nReview comment:\n       > which means the code above should work provided you have not installed packages in the system library.\r\n   \r\n   Yeah, exactly. You might try (temporarily) changing the values of `.Library.site` and `.Library` inside of this test and see if that will trigger it.\r\n   \r\n   Alternatively, we have a number of tests that specifically don't install duckdb on them, maybe we could skip this test if duckdb *is* installed, and then run the test only if it's not installed (e.g. test-r-ubuntu-21.04).  https://github.com/apache/arrow/blob/50ed858635f421d370420b63f30b38cf42bb6103/ci/scripts/r_deps.sh#L33-L40\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-22T22:55:22.345+0000",
                    "updated": "2022-02-22T22:55:22.345+0000",
                    "started": "2022-02-22T22:55:22.345+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731249",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731258",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812438616\n\n\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,19 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n+  new_lib <- tempfile()\n+  dir.create(new_lib)\n+  withr::with_libpaths(new_lib, {\n+    ds <- InMemoryDataset$create(example_data)\n+    expect_error(\n+      to_duckdb(ds),\n+      \"Please install the `duckdb` package.\"\n+    )\n+  })\n+  unlink(new_lib, recursive = TRUE)\n\nReview comment:\n       An option could be to add \r\n   ```r\r\n   dir.create(Sys.getenv(\"R_LIBS_USER\"), recursive=TRUE)\r\n   ```\r\n   \r\n   to our CI jobs before installing any dependencies. That way we make sure anything we install will not be in the system library. `R_LIBS_USER` should by default be at `.libPaths()[1]` unless it doesn't exists (when it is silently ignored)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-22T23:14:04.481+0000",
                    "updated": "2022-02-22T23:14:04.481+0000",
                    "started": "2022-02-22T23:14:04.481+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731258",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731259",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812438616\n\n\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,19 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n+  new_lib <- tempfile()\n+  dir.create(new_lib)\n+  withr::with_libpaths(new_lib, {\n+    ds <- InMemoryDataset$create(example_data)\n+    expect_error(\n+      to_duckdb(ds),\n+      \"Please install the `duckdb` package.\"\n+    )\n+  })\n+  unlink(new_lib, recursive = TRUE)\n\nReview comment:\n       Another option could be to add \r\n   ```r\r\n   dir.create(Sys.getenv(\"R_LIBS_USER\"), recursive=TRUE)\r\n   ```\r\n   \r\n   to our CI jobs before installing any dependencies. That way we make sure anything we install will not be in the system library. `R_LIBS_USER` should by default be at `.libPaths()[1]` unless it doesn't exists (when it is silently ignored)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-22T23:14:18.863+0000",
                    "updated": "2022-02-22T23:14:18.863+0000",
                    "started": "2022-02-22T23:14:18.862+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731259",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731261",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812438616\n\n\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,19 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n+  new_lib <- tempfile()\n+  dir.create(new_lib)\n+  withr::with_libpaths(new_lib, {\n+    ds <- InMemoryDataset$create(example_data)\n+    expect_error(\n+      to_duckdb(ds),\n+      \"Please install the `duckdb` package.\"\n+    )\n+  })\n+  unlink(new_lib, recursive = TRUE)\n\nReview comment:\n       Another option could be to add \r\n   ```r\r\n   dir.create(Sys.getenv(\"R_LIBS_USER\"), recursive=TRUE)\r\n   ```\r\n   \r\n   to our CI jobs before installing any dependencies. That way we make sure anything we install will not be in the system library. `R_LIBS_USER` should then be at `.libPaths()[1]` unless it doesn't exists (when it is silently ignored)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-22T23:15:03.977+0000",
                    "updated": "2022-02-22T23:15:03.977+0000",
                    "started": "2022-02-22T23:15:03.977+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731261",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731262",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812438616\n\n\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,19 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n+  new_lib <- tempfile()\n+  dir.create(new_lib)\n+  withr::with_libpaths(new_lib, {\n+    ds <- InMemoryDataset$create(example_data)\n+    expect_error(\n+      to_duckdb(ds),\n+      \"Please install the `duckdb` package.\"\n+    )\n+  })\n+  unlink(new_lib, recursive = TRUE)\n\nReview comment:\n       Another option could be to add \r\n   ```r\r\n   dir.create(Sys.getenv(\"R_LIBS_USER\"), recursive=TRUE)\r\n   ```\r\n   \r\n   to our CI jobs before installing any dependencies. That way we make sure anything we install will not be in the system library. `R_LIBS_USER` should then be at `.libPaths()[1]`. If it doesn't exists it is silently ignored)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-22T23:15:16.426+0000",
                    "updated": "2022-02-22T23:15:16.426+0000",
                    "started": "2022-02-22T23:15:16.425+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731262",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731263",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812438616\n\n\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,19 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n+  new_lib <- tempfile()\n+  dir.create(new_lib)\n+  withr::with_libpaths(new_lib, {\n+    ds <- InMemoryDataset$create(example_data)\n+    expect_error(\n+      to_duckdb(ds),\n+      \"Please install the `duckdb` package.\"\n+    )\n+  })\n+  unlink(new_lib, recursive = TRUE)\n\nReview comment:\n       Another option could be to add \r\n   ```r\r\n   dir.create(Sys.getenv(\"R_LIBS_USER\"), recursive = TRUE)\r\n   ```\r\n   \r\n   to our CI jobs before installing any dependencies. That way we make sure anything we install will not be in the system library. `R_LIBS_USER` should then be at `.libPaths()[1]`. If it doesn't exists it is silently ignored)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-22T23:15:39.191+0000",
                    "updated": "2022-02-22T23:15:39.191+0000",
                    "started": "2022-02-22T23:15:39.191+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731263",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731512",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812810899\n\n\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,19 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n+  new_lib <- tempfile()\n+  dir.create(new_lib)\n+  withr::with_libpaths(new_lib, {\n+    ds <- InMemoryDataset$create(example_data)\n+    expect_error(\n+      to_duckdb(ds),\n+      \"Please install the `duckdb` package.\"\n+    )\n+  })\n+  unlink(new_lib, recursive = TRUE)\n\nReview comment:\n       I think the most straightforward solution would be to skip the test when `duckdb` is installed. \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-23T11:48:07.063+0000",
                    "updated": "2022-02-23T11:48:07.063+0000",
                    "started": "2022-02-23T11:48:07.063+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731512",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731554",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#issuecomment-1048801743\n\n\n   @github-actions crossbow submit test-r-ubuntu-21.04\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-23T13:50:22.720+0000",
                    "updated": "2022-02-23T13:50:22.720+0000",
                    "started": "2022-02-23T13:50:22.720+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731554",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731556",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#issuecomment-1048802809\n\n\n   Revision: 0fdbbe9ae937d5a705fd21e244b4297e0bc21608\n   \n   Submitted crossbow builds: [ursacomputing/crossbow @ actions-1672](https://github.com/ursacomputing/crossbow/branches/all?query=actions-1672)\n   \n   |Task|Status|\n   |----|------|\n   |test-r-ubuntu-21.04|[![Github Actions](https://github.com/ursacomputing/crossbow/workflows/Crossbow/badge.svg?branch=actions-1672-github-test-r-ubuntu-21.04)](https://github.com/ursacomputing/crossbow/actions?query=branch:actions-1672-github-test-r-ubuntu-21.04)|\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-23T13:51:47.761+0000",
                    "updated": "2022-02-23T13:51:47.761+0000",
                    "started": "2022-02-23T13:51:47.761+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731556",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731564",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812913146\n\n\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,15 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n\nReview comment:\n       Could we move the `skip_on_cran()` and skip_if_not_available(\"dataset\") to be above this test? We need datasets for the test to run, and it might be paranoid, but want to skip even this test on cran just in case\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,15 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n+  skip_if(requireNamespace(\"duckdb\", quietly = TRUE))\n+  ds <- InMemoryDataset$create(example_data)\n+  expect_error(\n+    to_duckdb(ds),\n+    \"Please install the `duckdb` package.\"\n+  )\n+})\n+\n\nReview comment:\n       Would you mind adding some comments in here that describe some of the oddities of this test so we know why it's doing the strange but necesary things it is when we look at it in the future:\r\n   \r\n   * The reason we skip when duckdb is installed\r\n   * The reason this test is above the rest of the tests \n\n##########\nFile path: r/R/duckdb.R\n##########\n@@ -57,6 +57,10 @@ to_duckdb <- function(.data,\n                       table_name = unique_arrow_tablename(),\n                       auto_disconnect = TRUE) {\n   .data <- as_adq(.data)\n+  if (!requireNamespace(\"duckdb\", quietly = TRUE)) {\n+    abort(\"Please install the `duckdb` package.\")\n\nReview comment:\n       Could we add a bit about the resaon why one might need to install duckdb? Something like \"The `duckdb` package is required to pass data with `to_duckdb()`\" or \"Please install the `duckdb` package to pass data with `to_duckdb()`\"\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-23T13:58:48.337+0000",
                    "updated": "2022-02-23T13:58:48.337+0000",
                    "started": "2022-02-23T13:58:48.336+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731564",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731572",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812924402\n\n\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,15 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n+  skip_if(requireNamespace(\"duckdb\", quietly = TRUE))\n+  ds <- InMemoryDataset$create(example_data)\n+  expect_error(\n+    to_duckdb(ds),\n+    \"Please install the `duckdb` package.\"\n+  )\n+})\n+\n\nReview comment:\n       Done.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-23T14:05:25.181+0000",
                    "updated": "2022-02-23T14:05:25.181+0000",
                    "started": "2022-02-23T14:05:25.181+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731572",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731578",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812931239\n\n\n\n##########\nFile path: r/tests/testthat/test-duckdb.R\n##########\n@@ -15,6 +15,15 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+test_that(\"meaningful error message when duckdb is not installed\", {\n\nReview comment:\n       Done\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-23T14:12:26.128+0000",
                    "updated": "2022-02-23T14:12:26.128+0000",
                    "started": "2022-02-23T14:12:26.127+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731578",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731592",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on a change in pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#discussion_r812944326\n\n\n\n##########\nFile path: r/R/duckdb.R\n##########\n@@ -57,6 +57,10 @@ to_duckdb <- function(.data,\n                       table_name = unique_arrow_tablename(),\n                       auto_disconnect = TRUE) {\n   .data <- as_adq(.data)\n+  if (!requireNamespace(\"duckdb\", quietly = TRUE)) {\n+    abort(\"Please install the `duckdb` package.\")\n\nReview comment:\n       Done\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-23T14:24:47.544+0000",
                    "updated": "2022-02-23T14:24:47.544+0000",
                    "started": "2022-02-23T14:24:47.544+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731592",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731593",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dragosmg commented on pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#issuecomment-1048834368\n\n\n   @github-actions crossbow submit test-r-ubuntu-21.04\r\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-23T14:25:09.989+0000",
                    "updated": "2022-02-23T14:25:09.989+0000",
                    "started": "2022-02-23T14:25:09.989+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731593",
                    "issueId": "13428212"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/worklog/731595",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #12486:\nURL: https://github.com/apache/arrow/pull/12486#issuecomment-1048838780\n\n\n   Revision: 447ba896ac874e66ba56f41d63e62770697917e8\n   \n   Submitted crossbow builds: [ursacomputing/crossbow @ actions-1673](https://github.com/ursacomputing/crossbow/branches/all?query=actions-1673)\n   \n   |Task|Status|\n   |----|------|\n   |test-r-ubuntu-21.04|[![Github Actions](https://github.com/ursacomputing/crossbow/workflows/Crossbow/badge.svg?branch=actions-1673-github-test-r-ubuntu-21.04)](https://github.com/ursacomputing/crossbow/actions?query=branch:actions-1673-github-test-r-ubuntu-21.04)|\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-23T14:29:20.970+0000",
                    "updated": "2022-02-23T14:29:20.970+0000",
                    "started": "2022-02-23T14:29:20.970+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "731595",
                    "issueId": "13428212"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 25200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@11e550b9[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5761fb8b[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6a70532c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@3295504a[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5a1ab58f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@5634fd15[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3eb52dcc[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@26ba3d50[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@290342c5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@582ecea5[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4f624321[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@38c5a720[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 25200,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Feb 23 22:36:13 UTC 2022",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2022-02-23T22:36:13.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-15673/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2022-02-14T00:09:17.000+0000",
        "updated": "2022-02-24T17:31:37.000+0000",
        "timeoriginalestimate": null,
        "description": "Right now, the function {{to_duckdb()}} doesn't check to confirm that DuckDB is available. The error message isn't the worst (it'll mention {{duckdb::...}} not being found) it would be nicer to specifically tell folks they need to install the duckdb package.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "7h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 25200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] Error gracefully if DuckDB isn't installed",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13428212/comment/17497053",
                    "id": "17497053",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
                        "name": "jonkeane",
                        "key": "jonkeane",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
                        },
                        "displayName": "Jonathan Keane",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Issue resolved by pull request 12486\n[https://github.com/apache/arrow/pull/12486]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
                        "name": "jonkeane",
                        "key": "jonkeane",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
                        },
                        "displayName": "Jonathan Keane",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2022-02-23T22:36:13.825+0000",
                    "updated": "2022-02-23T22:36:13.825+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0zj4w:",
        "customfield_12314139": null
    }
}