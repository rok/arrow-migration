{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13150107",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150107",
    "key": "ARROW-2393",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12342562",
                "id": "12342562",
                "description": "",
                "name": "0.10.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-08-06"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/5",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/trivial.svg",
            "name": "Trivial",
            "id": "5"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12341707",
                "id": "12341707",
                "description": "",
                "name": "0.9.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-03-19"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=joshuastorck",
            "name": "joshuastorck",
            "key": "joshuastorck",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Joshua Storck",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=striderapache",
            "name": "striderapache",
            "key": "striderapache",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "dennis lucero",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=striderapache",
            "name": "striderapache",
            "key": "striderapache",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "dennis lucero",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2393/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@528e4269[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3d332f2[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@367e39fd[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@2c20c962[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@d7fbfe3[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@6d51386[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@41236370[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6be2c9ef[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1b92e3d7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@35f59a00[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6f17572d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@12c74691[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Sat Apr 21 14:21:46 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-04-21T14:21:45.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2393/watchers",
            "watchCount": 4,
            "isWatching": false
        },
        "created": "2018-04-04T18:28:02.000+0000",
        "updated": "2018-04-21T14:21:57.000+0000",
        "timeoriginalestimate": null,
        "description": "test.cpp\r\n{code:c++}\r\n#include <arrow/api.h>\r\n\r\nint main(void) {\r\narrow::Int64Builder i64builder;\r\nstd::shared_ptr<arrow::Array> i64array;\r\nARROW_CHECK_OK(i64builder.Finish(&i64array));\r\nreturn EXIT_SUCCESS;\r\n}\r\n{code}\r\nAttempt to build:\r\n{code:bash}\r\n$CXX test.cpp -std=c++11 -larrow\r\n{code}\r\nError:\r\n{code}\r\ntest.cpp:6:2: error: use of undeclared identifier 'ARROW_CHECK' ARROW_CHECK_OK(i64builder.Finish(&i64array)); ^ xxx/include/arrow/status.h:49:27: note: expanded from macro 'ARROW_CHECK_OK' #define ARROW_CHECK_OK(s) ARROW_CHECK_OK_PREPEND(s, \"Bad status\") ^ xxx/include/arrow/status.h:44:5: note: expanded from macro 'ARROW_CHECK_OK_PREPEND' ARROW_CHECK(_s.ok()) << (msg) << \": \" << _s.ToString(); \\ ^ 1 error generated.\r\n{code}\r\nI expect that ARROW_* macro are public API, and should work out of the box.\r\nA naive attempt to fix it\r\n{code}\r\ndiff --git a/cpp/src/arrow/status.h b/cpp/src/arrow/status.h\r\nindex 84f55e41..6da4a773 100644\r\n--- a/cpp/src/arrow/status.h\r\n+++ b/cpp/src/arrow/status.h\r\n@@ -25,6 +25,7 @@\r\n\r\n #include \"arrow/util/macros.h\"\r\n #include \"arrow/util/visibility.h\"\r\n+#include \"arrow/util/logging.h\"\r\n\r\n // Return the given status if it is not OK.\r\n #define ARROW_RETURN_NOT_OK(s)           \\\r\n{code}\r\nfails with\r\n{code}\r\npublic-api-test.cc:21:2: error: \"DCHECK should not be visible from Arrow public headers.\"\r\n{code}",
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] arrow/status.h does not define ARROW_CHECK needed for ARROW_CHECK_OK",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150107/comment/16439950",
                    "id": "16439950",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=joshuastorck",
                        "name": "joshuastorck",
                        "key": "joshuastorck",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Joshua Storck",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "I don't think the ARROW_CHECK_OK and ARROW_CHECK_OK_PREPEND macros should be in status.h. They use the logging facilities and should probably be in logging.h, which shouldn't be visible.\r\n\r\nThe interesting thing is that the RETURN_NOT_OK macros don't work outside of the arrow namespace. I think they need to be updated to use ::arrow::Status in their bodies.\r\n\r\n[~wesmckinn], [~pitrou], or [~cpcloud], does that make sense? If so, I'll submit a PR.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=joshuastorck",
                        "name": "joshuastorck",
                        "key": "joshuastorck",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Joshua Storck",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-16T19:50:41.396+0000",
                    "updated": "2018-04-16T19:50:41.396+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150107/comment/16439953",
                    "id": "16439953",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=cpcloud",
                        "name": "cpcloud",
                        "key": "cpcloud",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=cpcloud&avatarId=31265",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpcloud&avatarId=31265",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpcloud&avatarId=31265",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpcloud&avatarId=31265"
                        },
                        "displayName": "Phillip Cloud",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "That sounds right to me.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=cpcloud",
                        "name": "cpcloud",
                        "key": "cpcloud",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=cpcloud&avatarId=31265",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=cpcloud&avatarId=31265",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=cpcloud&avatarId=31265",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=cpcloud&avatarId=31265"
                        },
                        "displayName": "Phillip Cloud",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-04-16T19:52:14.175+0000",
                    "updated": "2018-04-16T19:52:14.175+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150107/comment/16441021",
                    "id": "16441021",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "joshuastorck opened a new pull request #1904: ARROW-2393: [C++] Moving ARROW_CHECK_OK_[PREPEND] macros from status.h into util/logging.h since they use the logging infrastructure and shouldn't be in the public API.\nURL: https://github.com/apache/arrow/pull/1904\n \n \n   Also removing ARROW_RETURN_NOT_OK macro. It is almost exactly the same as RETURN_NOT_OK, but RETURN_NOT_OK is declared inside an arrow namespace block and uses Status instead of ::arrow::Stat. That doesn't really matter, since the macro gets expanded where it's used and users who include Status.h and want to use RETURN_NOT_OK will get compiler errors unless they have a 'using arrow' statement\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-17T15:30:08.839+0000",
                    "updated": "2018-04-17T15:30:08.839+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150107/comment/16444128",
                    "id": "16444128",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pitrou commented on issue #1904: ARROW-2393: [C++] Moving ARROW_CHECK_OK_[PREPEND] macros from status.h into util/logging.h since they use the logging infrastructure and shouldn't be in the public API.\nURL: https://github.com/apache/arrow/pull/1904#issuecomment-382760272\n \n \n   We shouldn't remove ARROW_RETURN_NOT_OK, as it's showcased in our docs:\r\n   https://arrow.apache.org/docs/cpp/md_tutorials_row_wise_conversion.html\r\n   and used in third-party projects:\r\n   https://github.com/search?p=&q=ARROW_RETURN_NOT_OK&type=Code\r\n   \r\n   Instead just alias it to RETURN_NOT_OK.\r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-19T14:35:31.611+0000",
                    "updated": "2018-04-19T14:35:31.611+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150107/comment/16444433",
                    "id": "16444433",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pitrou commented on issue #1904: ARROW-2393: [C++] Moving ARROW_CHECK_OK_[PREPEND] macros from status.h into util/logging.h since they use the logging infrastructure and shouldn't be in the public API.\nURL: https://github.com/apache/arrow/pull/1904#issuecomment-382818112\n \n \n   Thanks for the change. Please note there is a linting failure on Travis-CI that needs fixing.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-19T17:31:46.616+0000",
                    "updated": "2018-04-19T17:31:46.616+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150107/comment/16446819",
                    "id": "16446819",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "body": "Issue resolved by pull request 1904\n[https://github.com/apache/arrow/pull/1904]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "created": "2018-04-21T14:21:45.459+0000",
                    "updated": "2018-04-21T14:21:45.459+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150107/comment/16446820",
                    "id": "16446820",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "xhochy closed pull request #1904: ARROW-2393: [C++] Moving ARROW_CHECK_OK_[PREPEND] macros from status.h into util/logging.h since they use the logging infrastructure and shouldn't be in the public API.\nURL: https://github.com/apache/arrow/pull/1904\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/c_glib/arrow-glib/input-stream.cpp b/c_glib/arrow-glib/input-stream.cpp\nindex c643ad2a7e..353d00a8b4 100644\n--- a/c_glib/arrow-glib/input-stream.cpp\n+++ b/c_glib/arrow-glib/input-stream.cpp\n@@ -535,7 +535,7 @@ namespace garrow {\n                        std::shared_ptr<arrow::Buffer> *out) override {\n       arrow::MemoryPool *pool = arrow::default_memory_pool();\n       std::shared_ptr<arrow::ResizableBuffer> buffer;\n-      ARROW_RETURN_NOT_OK(AllocateResizableBuffer(pool, n_bytes, &buffer));\n+      RETURN_NOT_OK(AllocateResizableBuffer(pool, n_bytes, &buffer));\n \n       GError *error = NULL;\n       auto n_read_bytes = g_input_stream_read(input_stream_,\n@@ -549,7 +549,7 @@ namespace garrow {\n                                       \"[gio-input-stream][read][buffer]\");\n       } else {\n         if (n_read_bytes < n_bytes) {\n-          ARROW_RETURN_NOT_OK(buffer->Resize(n_read_bytes));\n+          RETURN_NOT_OK(buffer->Resize(n_read_bytes));\n         }\n         *out = buffer;\n         return arrow::Status::OK();\ndiff --git a/cpp/src/arrow/python/io.cc b/cpp/src/arrow/python/io.cc\nindex 155e86f828..4277ab377f 100644\n--- a/cpp/src/arrow/python/io.cc\n+++ b/cpp/src/arrow/python/io.cc\n@@ -138,7 +138,7 @@ Status PyReadableFile::Read(int64_t nbytes, int64_t* bytes_read, void* out) {\n   PyAcquireGIL lock;\n \n   PyObject* bytes_obj = NULL;\n-  ARROW_RETURN_NOT_OK(file_->Read(nbytes, &bytes_obj));\n+  RETURN_NOT_OK(file_->Read(nbytes, &bytes_obj));\n   DCHECK(bytes_obj != NULL);\n \n   *bytes_read = PyBytes_GET_SIZE(bytes_obj);\n@@ -152,7 +152,7 @@ Status PyReadableFile::Read(int64_t nbytes, std::shared_ptr<Buffer>* out) {\n   PyAcquireGIL lock;\n \n   OwnedRef bytes_obj;\n-  ARROW_RETURN_NOT_OK(file_->Read(nbytes, bytes_obj.ref()));\n+  RETURN_NOT_OK(file_->Read(nbytes, bytes_obj.ref()));\n   DCHECK(bytes_obj.obj() != NULL);\n \n   return PyBuffer::FromPyObject(bytes_obj.obj(), out);\n@@ -177,15 +177,15 @@ Status PyReadableFile::GetSize(int64_t* size) {\n \n   int64_t current_position = -1;\n \n-  ARROW_RETURN_NOT_OK(file_->Tell(&current_position));\n+  RETURN_NOT_OK(file_->Tell(&current_position));\n \n-  ARROW_RETURN_NOT_OK(file_->Seek(0, 2));\n+  RETURN_NOT_OK(file_->Seek(0, 2));\n \n   int64_t file_size = -1;\n-  ARROW_RETURN_NOT_OK(file_->Tell(&file_size));\n+  RETURN_NOT_OK(file_->Tell(&file_size));\n \n   // Restore previous file position\n-  ARROW_RETURN_NOT_OK(file_->Seek(current_position, 0));\n+  RETURN_NOT_OK(file_->Seek(current_position, 0));\n \n   *size = file_size;\n   return Status::OK();\ndiff --git a/cpp/src/arrow/status.h b/cpp/src/arrow/status.h\nindex 84f55e415c..ed524ae6c3 100644\n--- a/cpp/src/arrow/status.h\n+++ b/cpp/src/arrow/status.h\n@@ -26,34 +26,11 @@\n #include \"arrow/util/macros.h\"\n #include \"arrow/util/visibility.h\"\n \n-// Return the given status if it is not OK.\n-#define ARROW_RETURN_NOT_OK(s)           \\\n-  do {                                   \\\n-    ::arrow::Status _s = (s);            \\\n-    if (ARROW_PREDICT_FALSE(!_s.ok())) { \\\n-      return _s;                         \\\n-    }                                    \\\n-  } while (false)\n-\n-// If 'to_call' returns a bad status, CHECK immediately with a logged message\n-// of 'msg' followed by the status.\n-#define ARROW_CHECK_OK_PREPEND(to_call, msg)                \\\n-  do {                                                      \\\n-    ::arrow::Status _s = (to_call);                         \\\n-    ARROW_CHECK(_s.ok()) << (msg) << \": \" << _s.ToString(); \\\n-  } while (false)\n-\n-// If the status is bad, CHECK immediately, appending the status to the\n-// logged message.\n-#define ARROW_CHECK_OK(s) ARROW_CHECK_OK_PREPEND(s, \"Bad status\")\n-\n-namespace arrow {\n-\n #ifdef ARROW_EXTRA_ERROR_CONTEXT\n \n #define RETURN_NOT_OK(s)                                                            \\\n   do {                                                                              \\\n-    Status _s = (s);                                                                \\\n+    ::arrow::Status _s = (s);                                                       \\\n     if (ARROW_PREDICT_FALSE(!_s.ok())) {                                            \\\n       std::stringstream ss;                                                         \\\n       ss << __FILE__ << \":\" << __LINE__ << \" code: \" << #s << \"\\n\" << _s.message(); \\\n@@ -65,7 +42,7 @@ namespace arrow {\n \n #define RETURN_NOT_OK(s)                 \\\n   do {                                   \\\n-    Status _s = (s);                     \\\n+    ::arrow::Status _s = (s);            \\\n     if (ARROW_PREDICT_FALSE(!_s.ok())) { \\\n       return _s;                         \\\n     }                                    \\\n@@ -75,13 +52,21 @@ namespace arrow {\n \n #define RETURN_NOT_OK_ELSE(s, else_) \\\n   do {                               \\\n-    Status _s = (s);                 \\\n+    ::arrow::Status _s = (s);        \\\n     if (!_s.ok()) {                  \\\n       else_;                         \\\n       return _s;                     \\\n     }                                \\\n   } while (false)\n \n+// This is used by other codebases. The macros above\n+// should probably have that prefix, but there is a\n+// lot of code that already uses that macro and changing\n+// it would be of no benefit.\n+#define ARROW_RETURN_NOT_OK(s) RETURN_NOT_OK(s)\n+\n+namespace arrow {\n+\n enum class StatusCode : char {\n   OK = 0,\n   OutOfMemory = 1,\ndiff --git a/cpp/src/arrow/util/logging.h b/cpp/src/arrow/util/logging.h\nindex c823f06bdf..12defc0557 100644\n--- a/cpp/src/arrow/util/logging.h\n+++ b/cpp/src/arrow/util/logging.h\n@@ -47,6 +47,18 @@ namespace arrow {\n               : ::arrow::internal::FatalLog(ARROW_FATAL) \\\n                     << __FILE__ << \":\" << __LINE__ << \" Check failed: \" #condition \" \"\n \n+// If 'to_call' returns a bad status, CHECK immediately with a logged message\n+// of 'msg' followed by the status.\n+#define ARROW_CHECK_OK_PREPEND(to_call, msg)                \\\n+  do {                                                      \\\n+    ::arrow::Status _s = (to_call);                         \\\n+    ARROW_CHECK(_s.ok()) << (msg) << \": \" << _s.ToString(); \\\n+  } while (false)\n+\n+// If the status is bad, CHECK immediately, appending the status to the\n+// logged message.\n+#define ARROW_CHECK_OK(s) ARROW_CHECK_OK_PREPEND(s, \"Bad status\")\n+\n #ifdef NDEBUG\n #define ARROW_DFATAL ARROW_WARNING\n \n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-21T14:21:46.695+0000",
                    "updated": "2018-04-21T14:21:46.695+0000"
                }
            ],
            "maxResults": 7,
            "total": 7,
            "startAt": 0
        },
        "customfield_12311820": "0|i3s5iv:",
        "customfield_12314139": null
    }
}