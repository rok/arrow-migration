{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13254288",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288",
    "key": "ARROW-6417",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12345978",
                "id": "12345978",
                "description": "",
                "name": "0.15.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-10-05"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "2.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
            "name": "Closed",
            "id": "6",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 5400,
            "total": 5400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 5400,
            "total": 5400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-6417/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 9,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/worklog/306020",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #5268: ARROW-6417: [C++][Parquet] Miscellaneous optimizations yielding slightly better Parquet binary read performance\nURL: https://github.com/apache/arrow/pull/5268\n \n \n   A handful of things here:\r\n   \r\n   * Using preallocation and `UnsafeAppend` on the primary binary read path\r\n   * Changed Parquet decode APIs to decode into a helper data structure to avoid the extra machinery of ChunkedBinaryBuilder. These APIs are pseudopublic (for testing purposes) and not exposed to the user, so this doesn't affect any public APIs\r\n   * Changed BufferBuilder to use quadratic growth (as we have in BufferOutputStream) instead of 1.5x\r\n   \r\n   This yields about a 10% speedup for me (on my i9-9960X) on my test case in https://gist.github.com/wesm/b4554e2d6028243a30eeed2c644a9066. Not super happy with this code but it's a bit better at least. We are still short of performance in v0.11.1 so will have to do some more investigations about that another time. \r\n   \r\n   Note that the benchmark I'm looking at is a bad case where we have mostly small strings and almost all of our `memcpy` operations are unaligned. We're limited in what kind of preallocation we can do because the decoders only have one data page at at time, which tends to be about 1MB of data depending on the Parquet implementation. So even if we're decoding 100MB or more of data we're still calling realloc to grow the BufferBuilder. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-04T02:28:51.571+0000",
                    "updated": "2019-09-04T02:28:51.571+0000",
                    "started": "2019-09-04T02:28:51.571+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "306020",
                    "issueId": "13254288"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/worklog/306021",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #5268: ARROW-6417: [C++][Parquet] Miscellaneous optimizations yielding slightly better Parquet binary read performance\nURL: https://github.com/apache/arrow/pull/5268#issuecomment-527713204\n \n \n   @pitrou @bkietz I changed the BufferBuilder growth strategy from 1.5x to 2x in this patch. I can break that out into a separate patch and run benchmarks if you'd like -- it's a bit weird to make that kind of change in passing here. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-04T02:29:51.448+0000",
                    "updated": "2019-09-04T02:29:51.448+0000",
                    "started": "2019-09-04T02:29:51.447+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "306021",
                    "issueId": "13254288"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/worklog/306179",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #5268: ARROW-6417: [C++][Parquet] Miscellaneous optimizations yielding slightly better Parquet binary read performance\nURL: https://github.com/apache/arrow/pull/5268#issuecomment-527794453\n \n \n   Yes, better use a separate PR. When I tried locally the benchmark numbers were surprisingly unconvincing. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-04T08:14:44.011+0000",
                    "updated": "2019-09-04T08:14:44.011+0000",
                    "started": "2019-09-04T08:14:44.011+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "306179",
                    "issueId": "13254288"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/worklog/307031",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #5268: ARROW-6417: [C++][Parquet] Miscellaneous optimizations yielding slightly better Parquet binary read performance\nURL: https://github.com/apache/arrow/pull/5268#issuecomment-528286579\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/5268?src=pr&el=h1) Report\n   > :exclamation: No coverage uploaded for pull request base (`master@ea309dd`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n   > The diff coverage is `92.82%`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/5268/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/5268?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff            @@\n   ##             master    #5268   +/-   ##\n   =========================================\n     Coverage          ?   89.22%           \n   =========================================\n     Files             ?      750           \n     Lines             ?   108428           \n     Branches          ?        0           \n   =========================================\n     Hits              ?    96744           \n     Misses            ?    11684           \n     Partials          ?        0\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/5268?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [cpp/src/arrow/buffer\\_builder.h](https://codecov.io/gh/apache/arrow/pull/5268/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9idWZmZXJfYnVpbGRlci5o) | `100% <\u00f8> (\u00f8)` | |\n   | [cpp/src/parquet/encoding\\_test.cc](https://codecov.io/gh/apache/arrow/pull/5268/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wYXJxdWV0L2VuY29kaW5nX3Rlc3QuY2M=) | `100% <100%> (\u00f8)` | |\n   | [cpp/src/parquet/encoding.h](https://codecov.io/gh/apache/arrow/pull/5268/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wYXJxdWV0L2VuY29kaW5nLmg=) | `97.05% <100%> (\u00f8)` | |\n   | [cpp/src/arrow/array/builder\\_binary.cc](https://codecov.io/gh/apache/arrow/pull/5268/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9hcnJheS9idWlsZGVyX2JpbmFyeS5jYw==) | `90.42% <100%> (\u00f8)` | |\n   | [cpp/src/parquet/column\\_reader.cc](https://codecov.io/gh/apache/arrow/pull/5268/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wYXJxdWV0L2NvbHVtbl9yZWFkZXIuY2M=) | `89% <100%> (\u00f8)` | |\n   | [cpp/src/parquet/encoding.cc](https://codecov.io/gh/apache/arrow/pull/5268/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wYXJxdWV0L2VuY29kaW5nLmNj) | `91.69% <90.6%> (\u00f8)` | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/5268?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/5268?src=pr&el=footer). Last update [ea309dd...a4eab7d](https://codecov.io/gh/apache/arrow/pull/5268?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-05T09:43:18.609+0000",
                    "updated": "2019-09-05T09:43:18.609+0000",
                    "started": "2019-09-05T09:43:18.609+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "307031",
                    "issueId": "13254288"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/worklog/307251",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #5268: ARROW-6417: [C++][Parquet] Miscellaneous optimizations yielding slightly better Parquet binary read performance\nURL: https://github.com/apache/arrow/pull/5268#issuecomment-528425326\n \n \n   +1. I'm leaving the JIRA open because the performance issue is not resolved\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-05T15:29:52.441+0000",
                    "updated": "2019-09-05T15:29:52.441+0000",
                    "started": "2019-09-05T15:29:52.441+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "307251",
                    "issueId": "13254288"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/worklog/307253",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #5268: ARROW-6417: [C++][Parquet] Miscellaneous optimizations yielding slightly better Parquet binary read performance\nURL: https://github.com/apache/arrow/pull/5268\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-05T15:30:17.001+0000",
                    "updated": "2019-09-05T15:30:17.001+0000",
                    "started": "2019-09-05T15:30:17.001+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "307253",
                    "issueId": "13254288"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/worklog/307340",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #5297: ARROW-6417: [C++] Revert to jemalloc stable-4 until we understand 5.2.x performance issues\nURL: https://github.com/apache/arrow/pull/5297\n \n \n   I propose we revert to the jemalloc 4.x stable branch where we were before until we understand how to get the performance we need for our workloads from 5.x. See upstream issue https://github.com/jemalloc/jemalloc/issues/1621\r\n   \r\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-05T17:06:40.824+0000",
                    "updated": "2019-09-05T17:06:40.824+0000",
                    "started": "2019-09-05T17:06:40.824+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "307340",
                    "issueId": "13254288"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/worklog/307453",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #5297: ARROW-6417: [C++] Revert to jemalloc stable-4 until we understand 5.2.x performance issues\nURL: https://github.com/apache/arrow/pull/5297#issuecomment-528598736\n \n \n   @xhochy @pitrou I suggest that we merge this change until we can do appropriate profiling to bring 5.2.x performance inline with the stable-4 branch\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-05T21:35:46.511+0000",
                    "updated": "2019-09-05T21:35:46.511+0000",
                    "started": "2019-09-05T21:35:46.510+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "307453",
                    "issueId": "13254288"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/worklog/307454",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #5297: ARROW-6417: [C++] Revert to jemalloc stable-4 until we understand 5.2.x performance issues\nURL: https://github.com/apache/arrow/pull/5297#issuecomment-528598736\n \n \n   @xhochy @pitrou I suggest that we merge this change until we can do appropriate profiling (and work with the jemalloc community) to bring 5.2.x performance inline with the stable-4 branch\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-05T21:35:56.475+0000",
                    "updated": "2019-09-05T21:35:56.475+0000",
                    "started": "2019-09-05T21:35:56.474+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "307454",
                    "issueId": "13254288"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 5400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@6a2305c[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4533d741[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2112ed8b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@7ac0bf37[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@16328f89[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@857f50f[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3e9f3f3b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@41d916d8[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@439587ad[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@74dded5d[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@33fc621a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@3a9add6b[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 5400,
        "customfield_12312520": null,
        "customfield_12312521": "Mon Oct 14 20:50:54 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-10-14T20:50:54.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-6417/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2019-09-02T17:59:06.000+0000",
        "updated": "2019-10-14T20:50:54.000+0000",
        "timeoriginalestimate": null,
        "description": "In doing some benchmarking, I have found that binary reads seem to be slower from Arrow 0.11.1 to master branch. It would be a good idea to do some basic profiling to see where we might improve our memory allocation strategy (or whatever the bottleneck turns out to be)",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 5400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12979169",
                "id": "12979169",
                "filename": "20190903_parquet_benchmark.py",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                    "name": "wesm",
                    "key": "wesmckinn",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                    },
                    "displayName": "Wes McKinney",
                    "active": true,
                    "timeZone": "America/New_York"
                },
                "created": "2019-09-02T17:57:29.972+0000",
                "size": 3704,
                "mimeType": "text/x-python",
                "content": "https://issues.apache.org/jira/secure/attachment/12979169/20190903_parquet_benchmark.py"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12979180",
                "id": "12979180",
                "filename": "20190903_parquet_read_perf.png",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                    "name": "wesm",
                    "key": "wesmckinn",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                    },
                    "displayName": "Wes McKinney",
                    "active": true,
                    "timeZone": "America/New_York"
                },
                "created": "2019-09-03T03:09:06.020+0000",
                "size": 12379,
                "mimeType": "image/png",
                "content": "https://issues.apache.org/jira/secure/attachment/12979180/20190903_parquet_read_perf.png"
            }
        ],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++][Parquet] Non-dictionary BinaryArray reads from Parquet format have slowed down since 0.11.x",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16921131",
                    "id": "16921131",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "I updated the results plot to use gcc 8.3 in both v0.11.1 and master branch as of 9/2/2019",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-09-03T03:09:37.427+0000",
                    "updated": "2019-09-03T03:09:37.427+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16921164",
                    "id": "16921164",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "The dreaded {{\\_\\_memmove_avx_unaligned_erms}} has showed up again. I'll have a poke at this to see what could be done\r\n\r\n\u00a0\r\n{code:java}\r\n+   60.85%     0.01%  python   libparquet.so.15.0.0                               [.] parquet::internal::TypedRecordReader<parquet::PhysicalType<(parquet::Type::ty\u2592\r\n+   58.16%     0.00%  python   libparquet.so.15.0.0                               [.] parquet::internal::ByteArrayChunkedRecordReader::ReadValuesSpaced            \u2592\r\n+   57.54%     0.00%  python   libparquet.so.15.0.0                               [.] parquet::PlainByteArrayDecoder::DecodeArrow                                  \u2592\r\n+   57.52%     5.57%  python   libparquet.so.15.0.0                               [.] parquet::PlainByteArrayDecoder::DecodeArrow<arrow::internal::ChunkedBinaryBui\u2592\r\n+   49.99%     4.80%  python   libparquet.so.15.0.0                               [.] arrow::internal::ChunkedBinaryBuilder::Append                                \u2592\r\n+   44.66%     9.74%  python   libarrow.so.15.0.0                                 [.] arrow::BaseBinaryBuilder<arrow::BinaryType>::Append                          \u2592\r\n+   30.62%     9.64%  python   libarrow.so.15.0.0                                 [.] arrow::BufferBuilder::Append                                                 \u2592\r\n+   23.51%    10.91%  python   libc-2.27.so                                       [.] __memmove_avx_unaligned_erms                                                 \u2592\r\n+   21.23%     0.00%  python   [unknown]                                          [.] 0xffffffffffffffff                                                           \u2592\r\n+   18.58%     0.01%  python   libparquet.so.15.0.0                               [.] parquet::ColumnReaderImplBase<parquet::PhysicalType<(parquet::Type::type)6> >\u2592\r\n+   18.45%    14.80%  python   libsnappy.so.1.1.7                                 [.] snappy::RawUncompress                                                        \u2592\r\n+   18.42%     0.02%  python   libparquet.so.15.0.0                               [.] parquet::SerializedPageReader::NextPage                                      \u2592\r\n+   18.27%     0.00%  python   libarrow.so.15.0.0                                 [.] arrow::util::SnappyCodec::Decompress                                         \u2592\r\n+   18.27%     0.00%  python   libarrow.so.15.0.0                                 [.] arrow::util::SnappyCodec::Decompress                                         \u2592\r\n+   18.27%     0.00%  python   libsnappy.so.1.1.7                                 [.] snappy::RawUncompress                                                        \u2592\r\n+   14.99%     0.00%  python   libarrow.so.15.0.0                                 [.] arrow::PoolBuffer::Resize                                                    \u2592\r\n+   14.99%     0.00%  python   libarrow.so.15.0.0                                 [.] arrow::PoolBuffer::Reserve                                                   \u2592\r\n+   14.99%     0.00%  python   libarrow.so.15.0.0                                 [.] arrow::DefaultMemoryPool::Reallocate                                         \u2592\r\n+   14.98%     0.01%  python   libarrow.so.15.0.0                                 [.] je_arrow_rallocx                                                             \u2592\r\n+   14.97%     0.00%  python   libarrow.so.15.0.0                                 [.] je_arrow_private_je_arena_ralloc                                             \u2592\r\n+   14.96%     0.00%  python   libarrow.so.15.0.0                                 [.] je_arrow_private_je_large_ralloc                                             \u2592\r\n+   14.64%     0.00%  python   libarrow.so.15.0.0                                 [.] arrow::BufferBuilder::Resize                                                 \u2592\r\n+   12.82%    12.82%  python   [unknown]                                          [k] 0xffffffff98e00a67                                                           \u2592\r\n+   11.74%     3.73%  python   libarrow.so.15.0.0                                 [.] arrow::BaseBinaryBuilder<arrow::BinaryType>::AppendNextOffset  {code}",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-09-03T05:03:12.477+0000",
                    "updated": "2019-09-03T05:03:12.477+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16921168",
                    "id": "16921168",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "OK, I think to make things faster we need to be more careful about pre-allocating with {{BinaryBuilder}} and calling {{BaseBinaryBuilder<T>::UnsafeAppend}} instead of {{Append}}. It's a bit tricky because we have {{ChunkedBinaryBuilder}} in the mix, so we may have to manage the creation of chunks in the Parquet value decoder. I think this is worth the effort given how much of a hot path this is for reading Parquet files. I'll spend a little time on it tomorrow",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-09-03T05:14:59.215+0000",
                    "updated": "2019-09-03T05:14:59.215+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16922758",
                    "id": "16922758",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "So on closer inspection, in v0.11.1 we weren't yet handling chunked binary reads at all, so the comparison is not really apples to oranges. v0.12.x was the first release series to include chunking support, so could be the more appropriate comparison. \r\n\r\nThis performance issue is really vexing. We also changed jemalloc versions between 0.12.x and 0.15.x so I wonder if the allocator version could be impacting performance",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-09-04T18:57:32.448+0000",
                    "updated": "2019-09-04T18:57:32.448+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16922791",
                    "id": "16922791",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Further down the rabbit hole\r\n\r\n0.12.1 perf profile\r\n\r\n{code}\r\n   - parquet::arrow::FileReader::Impl::ReadSchemaField                                                                                                             \r\n      - 66.24% parquet::arrow::ColumnReader::NextBatch                                                                                                             \r\n         - parquet::arrow::PrimitiveImpl::NextBatch                                                                                                                \r\n            - 66.23% parquet::internal::RecordReader::ReadRecords                                                                                                  \r\n               - 41.51% parquet::internal::TypedRecordReader<parquet::DataType<(parquet::Type::type)6> >::ReadRecordData                                           \r\n                  - 38.62% parquet::internal::TypedRecordReader<parquet::DataType<(parquet::Type::type)6> >::ReadValuesSpaced                                      \r\n                     - 26.97% arrow::internal::ChunkedBinaryBuilder::Append                                                                                        \r\n                        - 24.06% arrow::BinaryBuilder::Append                                                                                                      \r\n                           + 12.78% arrow::BufferBuilder::Append                                                                                                   \r\n                             1.99% arrow::ArrayBuilder::Reserve                                                                                                    \r\n                             1.16% arrow::BufferBuilder::Append@plt                                                                                                \r\n                             0.52% arrow::ArrayBuilder::Reserve@plt                                                                                                                          0.57% arrow::BinaryBuilder::Append@plt                                                                                                   \r\n                     + 8.34% parquet::Decoder<parquet::DataType<(parquet::Type::type)6> >::DecodeSpaced                                                            \r\n                       0.53% arrow::internal::ChunkedBinaryBuilder::Append@plt                                                                                     \r\n                    2.02% parquet::internal::DefinitionLevelsToBitmap                                                                                              \r\n                  + 0.86% parquet::internal::RecordReader::RecordReaderImpl::ReserveValues                                                                        \r\n               + 24.31% parquet::internal::TypedRecordReader<parquet::DataType<(parquet::Type::type)6> >::ReadNewPage \r\n{code}\r\n\r\nmaster / my ARROW-6417 branch\r\n\r\n{code}\r\n   - 74.04% parquet::internal::TypedRecordReader<parquet::PhysicalType<(parquet::Type::type)6> >::ReadRecords                                                      \r\n      - 49.00% parquet::internal::TypedRecordReader<parquet::PhysicalType<(parquet::Type::type)6> >::ReadRecordData                                                \r\n         - 45.82% parquet::internal::ByteArrayChunkedRecordReader::ReadValuesSpaced                                                                                \r\n            - 45.19% parquet::PlainByteArrayDecoder::DecodeArrow                                                                                                   \r\n               + 20.92% arrow::BaseBinaryBuilder<arrow::BinaryType>::ReserveData                                                                                   \r\n                 7.61% __memmove_avx_unaligned_erms                                                                                                                \r\n               + 2.59% arrow::BaseBinaryBuilder<arrow::BinaryType>::Resize                                                                                         \r\n                 0.77% memcpy@plt                                                                                                                                  \r\n            + 0.63% parquet::DictByteArrayDecoderImpl::DecodeArrow                                                                                                 \r\n           2.09% parquet::internal::DefinitionLevelsToBitmap                                                                                                       \r\n         + 1.07% parquet::internal::TypedRecordReader<parquet::PhysicalType<(parquet::Type::type)6> >::ReserveValues                                               \r\n      + 24.32% parquet::SerializedPageReader::NextPage                                                                                                             \r\n{code}\r\n\r\nFurthermore, jemalloc is show up as taking a lot more time on 5.2.x versus the older version we had before\r\n\r\nmaster\r\n\r\n{code}\r\n+   24.59%     0.00%  python   libarrow.so.15.0.0                                 [.] je_arrow_rallocx                                                             \r\n+   24.58%     0.00%  python   libarrow.so.15.0.0                                 [.] je_arrow_private_je_arena_ralloc                                             \r\n+   24.57%     0.00%  python   libarrow.so.15.0.0                                 [.] je_arrow_private_je_large_ralloc                                             \r\n{code}\r\n\r\n0.12.1\r\n\r\n{code}\r\n+    8.30%     0.01%  python   libarrow.so.12.1.0                                 [.] je_arrow_rallocx                                                             \r\n+    8.28%     0.01%  python   libarrow.so.12.1.0                                 [.] je_arrow_private_je_arena_ralloc \r\n{code}\r\n\r\nSo it seems like the difference in jemalloc versions may be accounting for some of the performance difference. The other thing that strikes me is that the UBSAN changes ({{SafeLoadAs}}) are likely introducing performance degradation because the Parquet BYTE_ARRAY encoding results in mostly unaligned lengths.\r\n\r\ncc [~pitrou] [~emkornfield@gmail.com] for any thoughts...",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-09-04T19:36:29.770+0000",
                    "updated": "2019-09-04T19:36:29.770+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16923360",
                    "id": "16923360",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Have you tried to measure the same jemalloc version for the two Arrow versions (or, conversely, the two jemalloc versions for the same Arrow version)?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2019-09-05T12:23:27.058+0000",
                    "updated": "2019-09-05T12:23:27.058+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16923474",
                    "id": "16923474",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "I will try that next. I'm going to merge my current patch in the meantime and leave this JIRA open",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-09-05T14:20:25.051+0000",
                    "updated": "2019-09-05T14:20:25.051+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16923534",
                    "id": "16923534",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=emkornfield%40gmail.com",
                        "name": "emkornfield@gmail.com",
                        "key": "emkornfield@gmail.com",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Micah Kornfield",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "For SafeLoadAs, you could try changing the implementation to dereference instead of memcpy, which should be equivalent to the old code (assuming it is getting inlined correctly).\u00a0 IIRC, we saw very comparable numbers for the existing parquet benchmarks when I made those changes.\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=emkornfield%40gmail.com",
                        "name": "emkornfield@gmail.com",
                        "key": "emkornfield@gmail.com",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Micah Kornfield",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-09-05T15:29:12.122+0000",
                    "updated": "2019-09-05T15:29:12.122+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16923566",
                    "id": "16923566",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "OK, it appears that the jemalloc version is causing the perf difference\r\n\r\ncurrent master branch with vendored jemalloc version (4.something with patches)\r\n\r\n{code}\r\n$ python 20190903_parquet_benchmark.py \r\ndense-random 100000\r\n({'case': 'read-dense-random-single-thread'}, 0.6065331888198853)\r\n{code}\r\n\r\nmaster with jemalloc 5.2.0\r\n\r\n{code}\r\n$ python 20190903_parquet_benchmark.py \r\ndense-random 100000\r\n({'case': 'read-dense-random-single-thread'}, 1.2143790817260742)\r\n{code}\r\n\r\nTo reproduce these results yourself\r\n\r\n* Get the old jemalloc tarball from here https://github.com/apache/arrow/tree/maint-0.12.x/cpp/thirdparty/jemalloc\r\n* Set {{$ARROW_JEMALLOC_URL}} to the path of that before building\r\n* Use this branch which has the old EP configuration https://github.com/wesm/arrow/tree/use-old-jemalloc\r\n\r\nHere's the benchmark script that I'm running above\r\n\r\nhttps://gist.github.com/wesm/7e5ae1d41981cfdd20415faf71e5f57e\r\n\r\nI'm interested if other benchmarks are affected or if this is a peculiarity of this particular benchmark",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-09-05T16:02:11.946+0000",
                    "updated": "2019-09-05T16:02:11.946+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16923607",
                    "id": "16923607",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "The benchmark results in arrow-builder-benchmark are pretty damning...\r\n\r\nmaster\r\n\r\n{code}\r\n---------------------------------------------------------------------------\r\nBenchmark                                    Time           CPU Iterations\r\n---------------------------------------------------------------------------\r\nBufferBuilderTinyWrites/real_time    264925407 ns  264925189 ns          2    966.31MB/s\r\nBufferBuilderSmallWrites/real_time   178721490 ns  178720664 ns          4   1.39882GB/s\r\nBufferBuilderLargeWrites/real_time   192722520 ns  192720335 ns          4   1.29027GB/s\r\nBuildBooleanArrayNoNulls              61622618 ns   61620052 ns         11   4.05712GB/s\r\nBuildIntArrayNoNulls                 159926782 ns  159919611 ns          4   1.56329GB/s\r\nBuildAdaptiveIntNoNulls               34141484 ns   34141072 ns         20   7.32256GB/s\r\nBuildAdaptiveIntNoNullsScalarAppend  118671966 ns  118669726 ns          6   2.10669GB/s\r\nBuildBinaryArray                     646172067 ns  646165509 ns          1   396.183MB/s\r\nBuildChunkedBinaryArray              629538527 ns  629517882 ns          1    406.66MB/s\r\nBuildFixedSizeBinaryArray            319843478 ns  319421997 ns          2   801.448MB/s\r\nBuildDecimalArray                    613258571 ns  613249404 ns          1   834.897MB/s\r\nBuildInt64DictionaryArrayRandom      265489567 ns  265479003 ns          3   964.295MB/s\r\nBuildInt64DictionaryArraySequential  256461735 ns  256454103 ns          3   998.229MB/s\r\nBuildInt64DictionaryArraySimilar     436497455 ns  436496161 ns          2   586.489MB/s\r\nBuildStringDictionaryArray           737468427 ns  737429710 ns          1   463.142MB/s\r\nArrayDataConstructDestruct               38895 ns      38895 ns      18067\r\n{code}\r\n\r\nmaster with the older jemalloc\r\n\r\n{code}\r\n---------------------------------------------------------------------------\r\nBenchmark                                    Time           CPU Iterations\r\n---------------------------------------------------------------------------\r\nBufferBuilderTinyWrites/real_time    139816022 ns  139814056 ns          5   1.78806GB/s\r\nBufferBuilderSmallWrites/real_time    35215592 ns   35214766 ns         19   7.09912GB/s\r\nBufferBuilderLargeWrites/real_time    32460612 ns   32456001 ns         21   7.66046GB/s\r\nBuildBooleanArrayNoNulls              33690068 ns   33688611 ns         21   7.42091GB/s\r\nBuildIntArrayNoNulls                  49988970 ns   49987507 ns         14   5.00125GB/s\r\nBuildAdaptiveIntNoNulls               23878665 ns   23876703 ns         29   10.4705GB/s\r\nBuildAdaptiveIntNoNullsScalarAppend  116140426 ns  116137665 ns          6   2.15262GB/s\r\nBuildBinaryArray                     593711307 ns  593699295 ns          1   431.195MB/s\r\nBuildChunkedBinaryArray              538185849 ns  538185876 ns          1   475.672MB/s\r\nBuildFixedSizeBinaryArray            218638403 ns  218631191 ns          3   1.14348GB/s\r\nBuildDecimalArray                    294477232 ns  294474155 ns          2   1.69794GB/s\r\nBuildInt64DictionaryArrayRandom      248790745 ns  248788395 ns          3   1028.99MB/s\r\nBuildInt64DictionaryArraySequential  238954386 ns  238949356 ns          3   1071.36MB/s\r\nBuildInt64DictionaryArraySimilar     422484600 ns  422471016 ns          2   605.959MB/s\r\nBuildStringDictionaryArray           716507144 ns  716487471 ns          1    476.68MB/s\r\nArrayDataConstructDestruct               38406 ns      38406 ns      18229\r\n{code}\r\n\r\nSo it seems that performance in realloc-heavy workloads is degraded",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-09-05T16:49:32.801+0000",
                    "updated": "2019-09-05T16:49:32.801+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16923612",
                    "id": "16923612",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "I opened an issue with jemalloc to see if we're doing something wrong https://github.com/jemalloc/jemalloc/issues/1621",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-09-05T16:57:00.860+0000",
                    "updated": "2019-09-05T16:57:00.860+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16923630",
                    "id": "16923630",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Wow that's massive.\r\n\r\nRe {{SafeLoadAs}}, I'm with Micah: it shouldn't make a difference on a x86 CPU with a decent compiler. Worth checking anyway.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2019-09-05T17:20:55.409+0000",
                    "updated": "2019-09-05T17:20:55.409+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16923639",
                    "id": "16923639",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "FTR, similar issues with jemalloc seem to have happened in the past, I wonder if it's a regression:\r\nhttps://github.com/jemalloc/jemalloc/issues/335\r\nhttps://github.com/jemalloc/jemalloc/issues/126\r\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2019-09-05T17:29:40.840+0000",
                    "updated": "2019-09-05T17:29:40.840+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16923778",
                    "id": "16923778",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "After reverting the jemalloc version, the benchmarks show that master is faster than v0.12.1, which is certainly what I was *hoping for* after all the work we put in refactoring stuff the last few months. So the SafeLoadAs issue is no longer a concern",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-09-05T22:30:47.453+0000",
                    "updated": "2019-09-05T22:30:47.453+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13254288/comment/16951350",
                    "id": "16951350",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "This was fixed in 0.15.0 by the jemalloc toolchain work and other optimizations",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-10-14T20:50:54.783+0000",
                    "updated": "2019-10-14T20:50:54.783+0000"
                }
            ],
            "maxResults": 15,
            "total": 15,
            "startAt": 0
        },
        "customfield_12311820": "0|z06994:",
        "customfield_12314139": null
    }
}