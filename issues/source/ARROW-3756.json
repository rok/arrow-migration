{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13197635",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635",
    "key": "ARROW-3756",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343858",
                "id": "12343858",
                "description": "",
                "name": "0.12.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-01-20"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "docker",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=kszucs",
            "name": "kszucs",
            "key": "kszucs",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Krisztian Szucs",
            "active": true,
            "timeZone": "Europe/Budapest"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333244",
                "id": "12333244",
                "name": "Continuous Integration"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=kszucs",
            "name": "kszucs",
            "key": "kszucs",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Krisztian Szucs",
            "active": true,
            "timeZone": "Europe/Budapest"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=kszucs",
            "name": "kszucs",
            "key": "kszucs",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Krisztian Szucs",
            "active": true,
            "timeZone": "Europe/Budapest"
        },
        "aggregateprogress": {
            "progress": 10800,
            "total": 10800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 10800,
            "total": 10800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3756/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 19,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/164739",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs opened a new pull request #2941: ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941\n \n \n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-11T11:52:14.766+0000",
                    "updated": "2018-11-11T11:52:14.766+0000",
                    "started": "2018-11-11T11:52:14.765+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "164739",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/164740",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #2941: ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#discussion_r232485000\n \n \n\n ##########\n File path: java/Dockerfile\n ##########\n @@ -15,16 +15,11 @@\n # specific language governing permissions and limitations\n # under the License.\n \n-FROM maven\n+FROM maven:3.6-jdk-8\n \n Review comment:\n   So the main objective for this dockerfile is to quickly (re-)execute java tests. \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-11T11:56:18.995+0000",
                    "updated": "2018-11-11T11:56:18.995+0000",
                    "started": "2018-11-11T11:56:18.994+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "164740",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/164741",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #2941: ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#discussion_r232485065\n \n \n\n ##########\n File path: java/Dockerfile\n ##########\n @@ -15,16 +15,11 @@\n # specific language governing permissions and limitations\n # under the License.\n \n-FROM maven\n+FROM maven:3.6-jdk-8\n \n-ADD header /arrow/\n-ADD format /arrow/format\n-ADD integration/data /arrow/integration/data\n-ADD java /arrow/java\n \n Review comment:\n   Every source change invalidates the docker cache of this layer, so mvn needs to download the dependencies on each source edit, which is not desirable. A solution would be to recursively add each pom.xml files which is not supported by docker. \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-11T11:58:17.406+0000",
                    "updated": "2018-11-11T11:58:17.406+0000",
                    "started": "2018-11-11T11:58:17.406+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "164741",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/164742",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #2941: ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#discussion_r232485000\n \n \n\n ##########\n File path: java/Dockerfile\n ##########\n @@ -15,16 +15,11 @@\n # specific language governing permissions and limitations\n # under the License.\n \n-FROM maven\n+FROM maven:3.6-jdk-8\n \n Review comment:\n   So the main objective for this dockerfile is to quickly (re-)execute java tests, without contaminating the arrow repository.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-11T12:00:53.188+0000",
                    "updated": "2018-11-11T12:00:53.188+0000",
                    "started": "2018-11-11T12:00:53.187+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "164742",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/164743",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #2941: ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#discussion_r232485172\n \n \n\n ##########\n File path: java/Dockerfile\n ##########\n @@ -15,16 +15,11 @@\n # specific language governing permissions and limitations\n # under the License.\n \n-FROM maven\n+FROM maven:3.6-jdk-8\n \n-ADD header /arrow/\n-ADD format /arrow/format\n-ADD integration/data /arrow/integration/data\n-ADD java /arrow/java\n WORKDIR /arrow/java\n \n-# build\n-RUN mvn -DskipTests=true -Dcheckstyle.skip=true -B install\n-\n-# test\n-CMD mvn test\n+CMD mvn -Dcheckstyle.skip=true \\\n+        -Dmaven.repo.local=/build/java/repository \\\n+        -DforkCount=0 \\\n \n Review comment:\n   Surefire was failing to fork the jvm.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-11T12:01:28.547+0000",
                    "updated": "2018-11-11T12:01:28.547+0000",
                    "started": "2018-11-11T12:01:28.546+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "164743",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/164744",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #2941: ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#discussion_r232485198\n \n \n\n ##########\n File path: java/Dockerfile\n ##########\n @@ -15,16 +15,11 @@\n # specific language governing permissions and limitations\n # under the License.\n \n-FROM maven\n+FROM maven:3.6-jdk-8\n \n-ADD header /arrow/\n-ADD format /arrow/format\n-ADD integration/data /arrow/integration/data\n-ADD java /arrow/java\n WORKDIR /arrow/java\n \n-# build\n-RUN mvn -DskipTests=true -Dcheckstyle.skip=true -B install\n-\n-# test\n-CMD mvn test\n+CMD mvn -Dcheckstyle.skip=true \\\n+        -Dmaven.repo.local=/build/java/repository \\\n \n Review comment:\n   So I use the mounted `arrow/docker_cache:/build` directory to cache as much as possible. It already spares the maven package downloading step, but it'd be nice to cache `**/target` directories as well, can We do that without to much maven magic?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-11T12:02:26.479+0000",
                    "updated": "2018-11-11T12:02:26.479+0000",
                    "started": "2018-11-11T12:02:26.478+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "164744",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/164745",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #2941: ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#discussion_r232485198\n \n \n\n ##########\n File path: java/Dockerfile\n ##########\n @@ -15,16 +15,11 @@\n # specific language governing permissions and limitations\n # under the License.\n \n-FROM maven\n+FROM maven:3.6-jdk-8\n \n-ADD header /arrow/\n-ADD format /arrow/format\n-ADD integration/data /arrow/integration/data\n-ADD java /arrow/java\n WORKDIR /arrow/java\n \n-# build\n-RUN mvn -DskipTests=true -Dcheckstyle.skip=true -B install\n-\n-# test\n-CMD mvn test\n+CMD mvn -Dcheckstyle.skip=true \\\n+        -Dmaven.repo.local=/build/java/repository \\\n \n Review comment:\n   So I use the mounted `arrow/docker_cache:/build` directory to cache as much as possible. It already spares the maven package downloading step, but it'd be nice to cache `**/target` directories as well, can We do that without to much maven magic?\r\n   For example to set the build directory to `/build/java`?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-11T12:03:27.372+0000",
                    "updated": "2018-11-11T12:03:27.372+0000",
                    "started": "2018-11-11T12:03:27.371+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "164745",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/165297",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "BryanCutler commented on issue #2941: ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#issuecomment-438146818\n \n \n   Hi @kszucs , the Java tests appear to be failing because a Gandiva benchmark is taking too long.  Below taken from the last travis failure.\r\n   \r\n   ```\r\n   Time taken for filtering 10m records of a+b<c is 66ms\r\n   [ERROR] Tests run: 3, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 2.692 s <<< FAILURE! - in org.apache.arrow.gandiva.evaluator.MicroBenchmarkTest\r\n   [ERROR] testFilterAdd2(org.apache.arrow.gandiva.evaluator.MicroBenchmarkTest)  Time elapsed: 0.471 s  <<< FAILURE!\r\n   java.lang.AssertionError\r\n   \tat org.apache.arrow.gandiva.evaluator.MicroBenchmarkTest.testFilterAdd2(MicroBenchmarkTest.java:147)\r\n   ```\r\n   So it took 66ms when I believe there is an assert that it doesn't take longer than 45ms.  I think we should not be failing tests due to benchmarks. Was there some other error you have been seeing that is from the docker config?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-13T05:56:50.930+0000",
                    "updated": "2018-11-13T05:56:50.930+0000",
                    "started": "2018-11-13T05:56:50.930+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "165297",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/165298",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "BryanCutler commented on a change in pull request #2941: ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#discussion_r232905900\n \n \n\n ##########\n File path: java/Dockerfile\n ##########\n @@ -15,16 +15,11 @@\n # specific language governing permissions and limitations\n # under the License.\n \n-FROM maven\n+FROM maven:3.6-jdk-8\n \n Review comment:\n   Fixing the maven version is probably a good idea\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-13T05:57:40.670+0000",
                    "updated": "2018-11-13T05:57:40.670+0000",
                    "started": "2018-11-13T05:57:40.670+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "165298",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/167237",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on issue #2941: ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#issuecomment-439696879\n \n \n   @BryanCutler I didn't get such an error, for me it fails with:\r\n   \r\n   ```\r\n   -------------------------------------------------------------------------------\r\n   Test set: io.netty.buffer.TestArrowBuf\r\n   -------------------------------------------------------------------------------\r\n   Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.003 s <<< FAILURE! - in io.netty.buffer.TestArrowBuf\r\n   io.netty.buffer.TestArrowBuf  Time elapsed: 0.003 s  <<< ERROR!\r\n   java.lang.NoClassDefFoundError: org.junit.runner.Runner\r\n           at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:362)\r\n           at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:272)\r\n           at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:236)\r\n           at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)\r\n   ```\r\n   \r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-18T14:26:06.354+0000",
                    "updated": "2018-11-18T14:26:06.354+0000",
                    "started": "2018-11-18T14:26:06.354+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "167237",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/167493",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #2941: WIP ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#issuecomment-440010560\n \n \n   Any ideas?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-19T19:20:31.849+0000",
                    "updated": "2018-11-19T19:20:31.849+0000",
                    "started": "2018-11-19T19:20:31.849+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "167493",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/167524",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "BryanCutler commented on a change in pull request #2941: WIP ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#discussion_r234797988\n \n \n\n ##########\n File path: java/Dockerfile\n ##########\n @@ -15,16 +15,11 @@\n # specific language governing permissions and limitations\n # under the License.\n \n-FROM maven\n+FROM maven:3.6-jdk-8\n \n Review comment:\n   Using `FROM maven:3.5.2-jdk-8-slim` allows me to build and run tests, can you use this base image?  With `maven:3.6-jdk-8` I get these errors when running the docker image:\r\n   \r\n   ```\r\n   [ERROR] org.apache.arrow.vector.TestVectorUnloadLoad  Time elapsed: 0.009 s  <<< ERROR!\r\n   java.lang.NoClassDefFoundError: org.junit.runner.Runner\r\n   \tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:362)\r\n   \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:272)\r\n   \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:236)\r\n   \tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)\r\n   ```\r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-19T22:16:18.222+0000",
                    "updated": "2018-11-19T22:16:18.222+0000",
                    "started": "2018-11-19T22:16:18.221+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "167524",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/167525",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "BryanCutler commented on a change in pull request #2941: WIP ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#discussion_r234799059\n \n \n\n ##########\n File path: java/pom.xml\n ##########\n @@ -658,6 +658,19 @@\n         <module>gandiva</module>\n       </modules>\n     </profile>\n+\n+    <profile>\n+      <!-- to speed up the docker-compose builds -->\n \n Review comment:\n   Instead of doing this, can you just map a directory where the local maven repo is? The downloading takes the vast majority of the time and if you can a repo outside of the image, it runs pretty quick.  For instance running docker with this command mapping my local maven repo was able to build and test in less than 30s\r\n   \r\n   `docker run -v $HOME/.m2:/root/.m2 arrow-java`\r\n   \r\n   ``` Reactor Summary:\r\n   [INFO] \r\n   [INFO] Apache Arrow Java Root POM ......................... SUCCESS [  1.967 s]\r\n   [INFO] Arrow Format ....................................... SUCCESS [  2.158 s]\r\n   [INFO] Arrow Memory ....................................... SUCCESS [  2.158 s]\r\n   [INFO] Arrow Vectors ...................................... SUCCESS [  6.108 s]\r\n   [INFO] Arrow Tools ........................................ SUCCESS [  4.656 s]\r\n   [INFO] Arrow JDBC Adapter ................................. SUCCESS [  1.890 s]\r\n   [INFO] Arrow Plasma Client ................................ SUCCESS [  0.147 s]\r\n   [INFO] Arrow Flight ....................................... SUCCESS [ 10.481 s]\r\n   [INFO] ------------------------------------------------------------------------\r\n   [INFO] BUILD SUCCESS\r\n   [INFO] ------------------------------------------------------------------------\r\n   [INFO] Total time: 29.825 s\r\n   ```\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-19T22:16:18.232+0000",
                    "updated": "2018-11-19T22:16:18.232+0000",
                    "started": "2018-11-19T22:16:18.231+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "167525",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/168878",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #2941: WIP ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#discussion_r235794625\n \n \n\n ##########\n File path: java/Dockerfile\n ##########\n @@ -15,16 +15,11 @@\n # specific language governing permissions and limitations\n # under the License.\n \n-FROM maven\n+FROM maven:3.6-jdk-8\n \n Review comment:\n   That was the solution, thanks!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-22T17:38:47.818+0000",
                    "updated": "2018-11-22T17:38:47.818+0000",
                    "started": "2018-11-22T17:38:47.817+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "168878",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/168883",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on a change in pull request #2941: WIP ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#discussion_r235796067\n \n \n\n ##########\n File path: java/pom.xml\n ##########\n @@ -658,6 +658,19 @@\n         <module>gandiva</module>\n       </modules>\n     </profile>\n+\n+    <profile>\n+      <!-- to speed up the docker-compose builds -->\n \n Review comment:\n   My idea was to both download the deps and build the java libs under `docker_cache` (similarly like the cpp docker setup works) in order to prevent contaminating the local development environment - I guess in case of java We don't need that. \r\n   \r\n   BTW What machine do You build on? My total build time is 01:35 min.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-22T17:47:57.701+0000",
                    "updated": "2018-11-22T17:47:57.701+0000",
                    "started": "2018-11-22T17:47:57.701+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "168883",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/168887",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on issue #2941: ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#issuecomment-441098276\n \n \n   +1, thanks @BryanCutler \r\n   \r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-22T18:14:22.166+0000",
                    "updated": "2018-11-22T18:14:22.166+0000",
                    "started": "2018-11-22T18:14:22.165+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "168887",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/168888",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs closed pull request #2941: ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/docker-compose.yml b/docker-compose.yml\nindex c1f798d20c..e958b4168e 100644\n--- a/docker-compose.yml\n+++ b/docker-compose.yml\n@@ -65,10 +65,16 @@ services:\n     volumes: *volumes\n \n   java:\n+    # Usage:\n+    #   docker-compose build java\n+    #   docker-compose run java\n     image: arrow:java\n     build:\n       context: .\n       dockerfile: java/Dockerfile\n+    volumes:\n+      - .:/arrow:delegated\n+      - $HOME/.m2:/root/.m2:delegated\n \n   js:\n     image: arrow:js\ndiff --git a/java/Dockerfile b/java/Dockerfile\nindex 96c4d4c6ab..4ef9d28775 100644\n--- a/java/Dockerfile\n+++ b/java/Dockerfile\n@@ -15,16 +15,8 @@\n # specific language governing permissions and limitations\n # under the License.\n \n-FROM maven\n+FROM maven:3.5.2-jdk-8-slim\n \n-ADD header /arrow/\n-ADD format /arrow/format\n-ADD integration/data /arrow/integration/data\n-ADD java /arrow/java\n WORKDIR /arrow/java\n \n-# build\n-RUN mvn -DskipTests=true -Dcheckstyle.skip=true -B install\n-\n-# test\n CMD mvn test\ndiff --git a/java/pom.xml b/java/pom.xml\nindex f6847ae7ac..0df1178c1d 100644\n--- a/java/pom.xml\n+++ b/java/pom.xml\n@@ -636,11 +636,11 @@\n     <profile>\n       <id>java-8</id>\n       <activation>\n-\t<jdk>[1.8,)</jdk>\n+        <jdk>[1.8,)</jdk>\n       </activation>\n       <properties>\n-\t<doclint>none</doclint>\n-\t<additionalparam>-Xdoclint:none</additionalparam>\n+        <doclint>none</doclint>\n+        <additionalparam>-Xdoclint:none</additionalparam>\n       </properties>\n     </profile>\n \n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-22T18:15:11.560+0000",
                    "updated": "2018-11-22T18:15:11.560+0000",
                    "started": "2018-11-22T18:15:11.560+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "168888",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/169966",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "BryanCutler commented on a change in pull request #2941: ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#discussion_r236803909\n \n \n\n ##########\n File path: java/pom.xml\n ##########\n @@ -658,6 +658,19 @@\n         <module>gandiva</module>\n       </modules>\n     </profile>\n+\n+    <profile>\n+      <!-- to speed up the docker-compose builds -->\n \n Review comment:\n   > My idea was to both download the deps and build the java libs under docker_cache (similarly like the cpp docker setup works) in order to prevent contaminating the local development environment - I guess in case of java We don't need that.\r\n   \r\n   I think its fine to reuse the local Maven repository for dependencies, but we probably don't want to publish our artifacts there, which would contaminate it.\r\n   \r\n   > BTW What machine do You build on? My total build time is 01:35 min.\r\n   \r\n   My laptop is a newer I7 8 core with 32G ram and running Ubuntu - not too sure whats making that much of a difference though..\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-27T19:05:32.959+0000",
                    "updated": "2018-11-27T19:05:32.959+0000",
                    "started": "2018-11-27T19:05:32.958+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "169966",
                    "issueId": "13197635"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/worklog/169968",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "BryanCutler commented on issue #2941: ARROW-3756: [CI/Docker/Java] Java tests are failing in docker-compose setup\nURL: https://github.com/apache/arrow/pull/2941#issuecomment-442178519\n \n \n   No problem @kszucs , glad it is working now!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-27T19:05:54.078+0000",
                    "updated": "2018-11-27T19:05:54.078+0000",
                    "started": "2018-11-27T19:05:54.077+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "169968",
                    "issueId": "13197635"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 10800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@211b2643[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@49fcfc11[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@370df949[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@193f87cd[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3e6e947f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@1624eee2[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4e3b8ade[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@2b5f6d3b[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@61d8c943[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@503a6864[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@42c565c7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@1223ee11[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 10800,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Nov 22 18:15:10 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-11-22T18:15:10.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3756/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2018-11-11T11:47:32.000+0000",
        "updated": "2018-11-27T19:05:54.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "3h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 10800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[CI/Docker/Java] Java tests are failing in docker-compose setup",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13197635/comment/16696173",
                    "id": "16696173",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kszucs",
                        "name": "kszucs",
                        "key": "kszucs",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Krisztian Szucs",
                        "active": true,
                        "timeZone": "Europe/Budapest"
                    },
                    "body": "Issue resolved by pull request 2941\n[https://github.com/apache/arrow/pull/2941]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kszucs",
                        "name": "kszucs",
                        "key": "kszucs",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Krisztian Szucs",
                        "active": true,
                        "timeZone": "Europe/Budapest"
                    },
                    "created": "2018-11-22T18:15:10.343+0000",
                    "updated": "2018-11-22T18:15:10.343+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|s00d3c:",
        "customfield_12314139": null
    }
}