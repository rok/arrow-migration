{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13188172",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172",
    "key": "ARROW-3355",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343858",
                "id": "12343858",
                "description": "",
                "name": "0.12.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-01-20"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343066",
                "id": "12343066",
                "description": "",
                "name": "0.11.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-10-08"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=romainfrancois",
            "name": "romainfrancois",
            "key": "romainfrancois",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=romainfrancois&avatarId=35092",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romainfrancois&avatarId=35092",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romainfrancois&avatarId=35092",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romainfrancois&avatarId=35092"
            },
            "displayName": "Romain Francois",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=romainfrancois",
            "name": "romainfrancois",
            "key": "romainfrancois",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=romainfrancois&avatarId=35092",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romainfrancois&avatarId=35092",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romainfrancois&avatarId=35092",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romainfrancois&avatarId=35092"
            },
            "displayName": "Romain Francois",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=romainfrancois",
            "name": "romainfrancois",
            "key": "romainfrancois",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=romainfrancois&avatarId=35092",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romainfrancois&avatarId=35092",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romainfrancois&avatarId=35092",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romainfrancois&avatarId=35092"
            },
            "displayName": "Romain Francois",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 20400,
            "total": 20400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 20400,
            "total": 20400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3355/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 37,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/151594",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois opened a new pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711\n \n \n   With the slight discomfort that in arrow indices are 0-based and in R factor indices are 1 based, so we need to copy the data in both directions. \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-05T12:29:12.195+0000",
                    "updated": "2018-10-05T12:29:12.195+0000",
                    "started": "2018-10-05T12:29:12.195+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "151594",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152036",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223205680\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -220,11 +234,19 @@ std::shared_ptr<arrow::Array> Array__from_vector(SEXP x) {\n       return arrow::r::MakeBooleanArray(x);\n     case INTSXP:\n       if (Rf_isFactor(x)) {\n-        break;\n+        return arrow::r::MakeFactorArray(x);\n+      }\n+      if (Rf_inherits(x, \"Date\")) {\n+        return arrow::r::SimpleArray<INTSXP, arrow::Date32Type>(x);\n       }\n       return arrow::r::SimpleArray<INTSXP, arrow::Int32Type>(x);\n     case REALSXP:\n-      // TODO: Dates, ...\n+      if (Rf_inherits(x, \"Date\")) {\n+        return arrow::r::SimpleArray<INTSXP, arrow::Date32Type>(x);\n+      }\n+      if (Rf_inherits(x, \"POSIXct\")) {\n+        return arrow::r::SimpleArray<REALSXP, arrow::Date64Type>(x);\n+      }\n \n Review comment:\n   These have the same representation?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T08:54:16.020+0000",
                    "updated": "2018-10-07T08:54:16.020+0000",
                    "started": "2018-10-07T08:54:16.019+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152036",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152037",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223205594\n \n \n\n ##########\n File path: r/src/RcppExports.cpp\n ##########\n @@ -1281,6 +1344,29 @@ static const R_CallMethodDef CallEntries[] = {\n     {\"_arrow_read_table_\", (DL_FUNC) &_arrow_read_table_, 1},\n     {\"_arrow_Table__to_dataframe\", (DL_FUNC) &_arrow_Table__to_dataframe, 1},\n     {\"_arrow_Table__column\", (DL_FUNC) &_arrow_Table__column, 2},\n+    {\"_arrow_Array__from_vector\", (DL_FUNC) &_arrow_Array__from_vector, 1},\n \n Review comment:\n   Non-alphabetical again...\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T08:54:16.022+0000",
                    "updated": "2018-10-07T08:54:16.022+0000",
                    "started": "2018-10-07T08:54:16.022+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152037",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152038",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223205651\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -210,6 +210,20 @@ std::shared_ptr<Array> MakeStringArray(StringVector_ vec) {\n   return MakeArray(data);\n }\n \n+std::shared_ptr<Array> MakeFactorArray(Rcpp::IntegerVector_ factor) {\n+  auto dict_values = MakeStringArray(Rf_getAttrib(factor, R_LevelsSymbol));\n+  auto dict_type = dictionary(int32(), dict_values, Rf_inherits(factor, \"ordered\"));\n+\n+  auto n = Rf_length(factor);\n+  IntegerVector r_indices(n);\n+  for (R_xlen_t i = 0; i < n; i++) {\n+    r_indices[i] = factor[i] == NA_INTEGER ? NA_INTEGER : (factor[i] - 1);\n+  }\n+  auto indices = SimpleArray<INTSXP, arrow::Int32Type>(r_indices);\n \n Review comment:\n   Does this allocate additional memory?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T08:54:16.029+0000",
                    "updated": "2018-10-07T08:54:16.029+0000",
                    "started": "2018-10-07T08:54:16.029+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152038",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152039",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223205661\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -210,6 +210,20 @@ std::shared_ptr<Array> MakeStringArray(StringVector_ vec) {\n   return MakeArray(data);\n }\n \n+std::shared_ptr<Array> MakeFactorArray(Rcpp::IntegerVector_ factor) {\n+  auto dict_values = MakeStringArray(Rf_getAttrib(factor, R_LevelsSymbol));\n+  auto dict_type = dictionary(int32(), dict_values, Rf_inherits(factor, \"ordered\"));\n+\n+  auto n = Rf_length(factor);\n+  IntegerVector r_indices(n);\n+  for (R_xlen_t i = 0; i < n; i++) {\n+    r_indices[i] = factor[i] == NA_INTEGER ? NA_INTEGER : (factor[i] - 1);\n \n Review comment:\n   I would think that you would want to allocate an output array and write directly into that rather than going through an intermediate step. Then the NA values don't have to be double-checked\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T08:54:16.097+0000",
                    "updated": "2018-10-07T08:54:16.097+0000",
                    "started": "2018-10-07T08:54:16.096+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152039",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152040",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223205701\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -323,6 +357,37 @@ inline SEXP StringArray_to_Vector(const std::shared_ptr<arrow::Array>& array) {\n   return res;\n }\n \n+SEXP DictionaryArray_to_Vector(arrow::DictionaryArray* dict_array) {\n+  auto dict = dict_array->dictionary();\n+  auto indices = dict_array->indices();\n+\n+  if (dict->type_id() != Type::STRING || indices->type_id() != Type::INT32) {\n+    stop(\"Cannot convert Dictionary Array of type `%s`\", dict_array->type()->ToString());\n+  }\n+\n+  IntegerVector f = simple_Array_to_Vector<INTSXP>(indices);\n+  f = f + 1;\n \n Review comment:\n   How does this compare with an in-place modification?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T08:54:16.102+0000",
                    "updated": "2018-10-07T08:54:16.102+0000",
                    "started": "2018-10-07T08:54:16.102+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152040",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152041",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223205730\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -323,6 +357,37 @@ inline SEXP StringArray_to_Vector(const std::shared_ptr<arrow::Array>& array) {\n   return res;\n }\n \n+SEXP DictionaryArray_to_Vector(arrow::DictionaryArray* dict_array) {\n+  auto dict = dict_array->dictionary();\n+  auto indices = dict_array->indices();\n+\n+  if (dict->type_id() != Type::STRING || indices->type_id() != Type::INT32) {\n+    stop(\"Cannot convert Dictionary Array of type `%s`\", dict_array->type()->ToString());\n+  }\n+\n+  IntegerVector f = simple_Array_to_Vector<INTSXP>(indices);\n+  f = f + 1;\n+  f.attr(\"levels\") = StringArray_to_Vector(dict);\n+  if (dict_array->dict_type()->ordered()) {\n+    f.attr(\"class\") = CharacterVector::create(\"ordered\", \"factor\");\n+  } else {\n+    f.attr(\"class\") = \"factor\";\n+  }\n+  return f;\n+}\n+\n+SEXP Date32Array_to_Vector(const std::shared_ptr<arrow::Array>& array) {\n+  IntegerVector out(simple_Array_to_Vector<INTSXP>(array));\n+  out.attr(\"class\") = \"Date\";\n+  return out;\n+}\n+\n+SEXP Date64Array_to_Vector(const std::shared_ptr<arrow::Array>& array) {\n+  NumericVector out(simple_Array_to_Vector<REALSXP>(array));\n \n Review comment:\n   Hm, maybe should comment about this since Date64 is an int64-based representation\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T08:54:16.212+0000",
                    "updated": "2018-10-07T08:54:16.212+0000",
                    "started": "2018-10-07T08:54:16.211+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152041",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152044",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223207624\n \n \n\n ##########\n File path: r/src/RcppExports.cpp\n ##########\n @@ -1281,6 +1344,29 @@ static const R_CallMethodDef CallEntries[] = {\n     {\"_arrow_read_table_\", (DL_FUNC) &_arrow_read_table_, 1},\n     {\"_arrow_Table__to_dataframe\", (DL_FUNC) &_arrow_Table__to_dataframe, 1},\n     {\"_arrow_Table__column\", (DL_FUNC) &_arrow_Table__column, 2},\n+    {\"_arrow_Array__from_vector\", (DL_FUNC) &_arrow_Array__from_vector, 1},\n \n Review comment:\n   No idea what is causing it. I\u2019m using dev version of Rcpp and devtools. \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T10:09:28.579+0000",
                    "updated": "2018-10-07T10:09:28.579+0000",
                    "started": "2018-10-07T10:09:28.578+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152044",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152045",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223207672\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -210,6 +210,20 @@ std::shared_ptr<Array> MakeStringArray(StringVector_ vec) {\n   return MakeArray(data);\n }\n \n+std::shared_ptr<Array> MakeFactorArray(Rcpp::IntegerVector_ factor) {\n+  auto dict_values = MakeStringArray(Rf_getAttrib(factor, R_LevelsSymbol));\n+  auto dict_type = dictionary(int32(), dict_values, Rf_inherits(factor, \"ordered\"));\n+\n+  auto n = Rf_length(factor);\n+  IntegerVector r_indices(n);\n+  for (R_xlen_t i = 0; i < n; i++) {\n+    r_indices[i] = factor[i] == NA_INTEGER ? NA_INTEGER : (factor[i] - 1);\n \n Review comment:\n   Right. I\u2019ll update so that we only check NAs once. \r\n   \r\n   I\u2019ll have to duplicate some of the code of SimpleArray, but that\u2019s fine. \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T10:11:28.657+0000",
                    "updated": "2018-10-07T10:11:28.657+0000",
                    "started": "2018-10-07T10:11:28.655+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152045",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152046",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223207698\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -210,6 +210,20 @@ std::shared_ptr<Array> MakeStringArray(StringVector_ vec) {\n   return MakeArray(data);\n }\n \n+std::shared_ptr<Array> MakeFactorArray(Rcpp::IntegerVector_ factor) {\n+  auto dict_values = MakeStringArray(Rf_getAttrib(factor, R_LevelsSymbol));\n+  auto dict_type = dictionary(int32(), dict_values, Rf_inherits(factor, \"ordered\"));\n+\n+  auto n = Rf_length(factor);\n+  IntegerVector r_indices(n);\n+  for (R_xlen_t i = 0; i < n; i++) {\n+    r_indices[i] = factor[i] == NA_INTEGER ? NA_INTEGER : (factor[i] - 1);\n+  }\n+  auto indices = SimpleArray<INTSXP, arrow::Int32Type>(r_indices);\n \n Review comment:\n   No because it uses an RBuffer which borrows the memory of the R object. \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T10:12:29.072+0000",
                    "updated": "2018-10-07T10:12:29.072+0000",
                    "started": "2018-10-07T10:12:29.071+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152046",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152047",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223207710\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -220,11 +234,19 @@ std::shared_ptr<arrow::Array> Array__from_vector(SEXP x) {\n       return arrow::r::MakeBooleanArray(x);\n     case INTSXP:\n       if (Rf_isFactor(x)) {\n-        break;\n+        return arrow::r::MakeFactorArray(x);\n+      }\n+      if (Rf_inherits(x, \"Date\")) {\n+        return arrow::r::SimpleArray<INTSXP, arrow::Date32Type>(x);\n       }\n       return arrow::r::SimpleArray<INTSXP, arrow::Int32Type>(x);\n     case REALSXP:\n-      // TODO: Dates, ...\n+      if (Rf_inherits(x, \"Date\")) {\n+        return arrow::r::SimpleArray<INTSXP, arrow::Date32Type>(x);\n+      }\n+      if (Rf_inherits(x, \"POSIXct\")) {\n+        return arrow::r::SimpleArray<REALSXP, arrow::Date64Type>(x);\n+      }\n \n Review comment:\n   I\u2019ll double check. No that you say this, R representation might be seconds since epoch\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T10:13:14.451+0000",
                    "updated": "2018-10-07T10:13:14.451+0000",
                    "started": "2018-10-07T10:13:14.449+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152047",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152048",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223207745\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -323,6 +357,37 @@ inline SEXP StringArray_to_Vector(const std::shared_ptr<arrow::Array>& array) {\n   return res;\n }\n \n+SEXP DictionaryArray_to_Vector(arrow::DictionaryArray* dict_array) {\n+  auto dict = dict_array->dictionary();\n+  auto indices = dict_array->indices();\n+\n+  if (dict->type_id() != Type::STRING || indices->type_id() != Type::INT32) {\n+    stop(\"Cannot convert Dictionary Array of type `%s`\", dict_array->type()->ToString());\n+  }\n+\n+  IntegerVector f = simple_Array_to_Vector<INTSXP>(indices);\n+  f = f + 1;\n \n Review comment:\n   It\u2019s one more scan, i\u2019ll make a custom function. \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T10:14:27.748+0000",
                    "updated": "2018-10-07T10:14:27.748+0000",
                    "started": "2018-10-07T10:14:27.746+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152048",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152049",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223207795\n \n \n\n ##########\n File path: r/src/RcppExports.cpp\n ##########\n @@ -1281,6 +1344,29 @@ static const R_CallMethodDef CallEntries[] = {\n     {\"_arrow_read_table_\", (DL_FUNC) &_arrow_read_table_, 1},\n     {\"_arrow_Table__to_dataframe\", (DL_FUNC) &_arrow_Table__to_dataframe, 1},\n     {\"_arrow_Table__column\", (DL_FUNC) &_arrow_Table__column, 2},\n+    {\"_arrow_Array__from_vector\", (DL_FUNC) &_arrow_Array__from_vector, 1},\n \n Review comment:\n   @jjallaire @jimhester any ideas on this? More non-deterministic output\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T10:15:46.328+0000",
                    "updated": "2018-10-07T10:15:46.328+0000",
                    "started": "2018-10-07T10:15:46.327+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152049",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152050",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223207841\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -323,6 +357,37 @@ inline SEXP StringArray_to_Vector(const std::shared_ptr<arrow::Array>& array) {\n   return res;\n }\n \n+SEXP DictionaryArray_to_Vector(arrow::DictionaryArray* dict_array) {\n+  auto dict = dict_array->dictionary();\n+  auto indices = dict_array->indices();\n+\n+  if (dict->type_id() != Type::STRING || indices->type_id() != Type::INT32) {\n+    stop(\"Cannot convert Dictionary Array of type `%s`\", dict_array->type()->ToString());\n+  }\n+\n+  IntegerVector f = simple_Array_to_Vector<INTSXP>(indices);\n+  f = f + 1;\n+  f.attr(\"levels\") = StringArray_to_Vector(dict);\n+  if (dict_array->dict_type()->ordered()) {\n+    f.attr(\"class\") = CharacterVector::create(\"ordered\", \"factor\");\n+  } else {\n+    f.attr(\"class\") = \"factor\";\n+  }\n+  return f;\n+}\n+\n+SEXP Date32Array_to_Vector(const std::shared_ptr<arrow::Array>& array) {\n+  IntegerVector out(simple_Array_to_Vector<INTSXP>(array));\n+  out.attr(\"class\") = \"Date\";\n+  return out;\n+}\n+\n+SEXP Date64Array_to_Vector(const std::shared_ptr<arrow::Array>& array) {\n+  NumericVector out(simple_Array_to_Vector<REALSXP>(array));\n \n Review comment:\n   Yeah there\u2019s no int64 in R so for now we\u2019ll have to stick to doubles which give lossless within [-2^52, 2^52]. I\u2019ll look into what dates these are. \r\n   \r\n   We could also warn for dates outside of the range but that feels expensive. \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T10:17:21.316+0000",
                    "updated": "2018-10-07T10:17:21.316+0000",
                    "started": "2018-10-07T10:17:21.315+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152050",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152051",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223207900\n \n \n\n ##########\n File path: r/src/RcppExports.cpp\n ##########\n @@ -1281,6 +1344,29 @@ static const R_CallMethodDef CallEntries[] = {\n     {\"_arrow_read_table_\", (DL_FUNC) &_arrow_read_table_, 1},\n     {\"_arrow_Table__to_dataframe\", (DL_FUNC) &_arrow_Table__to_dataframe, 1},\n     {\"_arrow_Table__column\", (DL_FUNC) &_arrow_Table__column, 2},\n+    {\"_arrow_Array__from_vector\", (DL_FUNC) &_arrow_Array__from_vector, 1},\n \n Review comment:\n   Sometimes i do build and reload, sometimes load all ... maybe they do it differently but i would think they both call compileAttributes\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T10:19:28.875+0000",
                    "updated": "2018-10-07T10:19:28.875+0000",
                    "started": "2018-10-07T10:19:28.874+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152051",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152052",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223208100\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -220,11 +234,19 @@ std::shared_ptr<arrow::Array> Array__from_vector(SEXP x) {\n       return arrow::r::MakeBooleanArray(x);\n     case INTSXP:\n       if (Rf_isFactor(x)) {\n-        break;\n+        return arrow::r::MakeFactorArray(x);\n+      }\n+      if (Rf_inherits(x, \"Date\")) {\n+        return arrow::r::SimpleArray<INTSXP, arrow::Date32Type>(x);\n       }\n       return arrow::r::SimpleArray<INTSXP, arrow::Int32Type>(x);\n     case REALSXP:\n-      // TODO: Dates, ...\n+      if (Rf_inherits(x, \"Date\")) {\n+        return arrow::r::SimpleArray<INTSXP, arrow::Date32Type>(x);\n+      }\n+      if (Rf_inherits(x, \"POSIXct\")) {\n+        return arrow::r::SimpleArray<REALSXP, arrow::Date64Type>(x);\n+      }\n \n Review comment:\n   Indeed \ud83d\ude2c. \r\n   \r\n   > There are two basic classes of date/times. Class \"POSIXct\" represents the (signed) number of seconds since the beginning of 1970 (in the UTC time zone) as a numeric vector. Class \"POSIXlt\" is a named list of vectors representing\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T10:27:03.271+0000",
                    "updated": "2018-10-07T10:27:03.271+0000",
                    "started": "2018-10-07T10:27:03.270+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152052",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152053",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jjallaire commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223208630\n \n \n\n ##########\n File path: r/src/RcppExports.cpp\n ##########\n @@ -1281,6 +1344,29 @@ static const R_CallMethodDef CallEntries[] = {\n     {\"_arrow_read_table_\", (DL_FUNC) &_arrow_read_table_, 1},\n     {\"_arrow_Table__to_dataframe\", (DL_FUNC) &_arrow_Table__to_dataframe, 1},\n     {\"_arrow_Table__column\", (DL_FUNC) &_arrow_Table__column, 2},\n+    {\"_arrow_Array__from_vector\", (DL_FUNC) &_arrow_Array__from_vector, 1},\n \n Review comment:\n   There are 2 passes that determine the registration routines: the first is just referencing our internal list of `// [[Rcpp::export]]` functions, the second are any native routines discovered over and above that by `tools::package_native_routine_registration_skeleton()` (i.e. ones that you don't use `[[Rcpp::export]]` for). In that case perhaps the locale makes a difference and perhaps Build and Reload and devtools::load_all() each do something different w/ the locale?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T10:49:31.487+0000",
                    "updated": "2018-10-07T10:49:31.487+0000",
                    "started": "2018-10-07T10:49:31.486+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152053",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152054",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jjallaire commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223208799\n \n \n\n ##########\n File path: r/src/RcppExports.cpp\n ##########\n @@ -1281,6 +1344,29 @@ static const R_CallMethodDef CallEntries[] = {\n     {\"_arrow_read_table_\", (DL_FUNC) &_arrow_read_table_, 1},\n     {\"_arrow_Table__to_dataframe\", (DL_FUNC) &_arrow_Table__to_dataframe, 1},\n     {\"_arrow_Table__column\", (DL_FUNC) &_arrow_Table__column, 2},\n+    {\"_arrow_Array__from_vector\", (DL_FUNC) &_arrow_Array__from_vector, 1},\n \n Review comment:\n   Another thought, the order of these functions seems to be controlled by the order of scanning of source files, which is in turn controlled by the order of files returned from `list.files()`. Perhaps a difference in locale there? (sometimes devtools sets the locale to `C` for determinism/uniformity). \r\n   \r\n   If the functions within source files were re-ordered that too could affect this.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T10:55:04.673+0000",
                    "updated": "2018-10-07T10:55:04.673+0000",
                    "started": "2018-10-07T10:55:04.672+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152054",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152067",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223213719\n \n \n\n ##########\n File path: r/src/RcppExports.cpp\n ##########\n @@ -1281,6 +1344,29 @@ static const R_CallMethodDef CallEntries[] = {\n     {\"_arrow_read_table_\", (DL_FUNC) &_arrow_read_table_, 1},\n     {\"_arrow_Table__to_dataframe\", (DL_FUNC) &_arrow_Table__to_dataframe, 1},\n     {\"_arrow_Table__column\", (DL_FUNC) &_arrow_Table__column, 2},\n+    {\"_arrow_Array__from_vector\", (DL_FUNC) &_arrow_Array__from_vector, 1},\n \n Review comment:\n   The `Test Package` shortcut seems to disagree with the `Install and Restart`. \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T13:29:37.352+0000",
                    "updated": "2018-10-07T13:29:37.352+0000",
                    "started": "2018-10-07T13:29:37.338+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152067",
                    "issueId": "13188172"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/worklog/152068",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on a change in pull request #2711: ARROW-3355: [R] Support for factors\nURL: https://github.com/apache/arrow/pull/2711#discussion_r223213732\n \n \n\n ##########\n File path: r/src/array.cpp\n ##########\n @@ -210,6 +210,20 @@ std::shared_ptr<Array> MakeStringArray(StringVector_ vec) {\n   return MakeArray(data);\n }\n \n+std::shared_ptr<Array> MakeFactorArray(Rcpp::IntegerVector_ factor) {\n+  auto dict_values = MakeStringArray(Rf_getAttrib(factor, R_LevelsSymbol));\n+  auto dict_type = dictionary(int32(), dict_values, Rf_inherits(factor, \"ordered\"));\n+\n+  auto n = Rf_length(factor);\n+  IntegerVector r_indices(n);\n+  for (R_xlen_t i = 0; i < n; i++) {\n+    r_indices[i] = factor[i] == NA_INTEGER ? NA_INTEGER : (factor[i] - 1);\n \n Review comment:\n   \u2705 \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-07T13:30:07.464+0000",
                    "updated": "2018-10-07T13:30:07.464+0000",
                    "started": "2018-10-07T13:30:07.464+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "152068",
                    "issueId": "13188172"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 20400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@7daa1b7e[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7c2fa7a2[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@751ce52d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@748f4e9b[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7b28d33e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@2096cd1f[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@323171ad[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@3c440ae6[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1c89f73[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@17a05460[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2e25e320[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@322adf38[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 20400,
        "customfield_12312520": null,
        "customfield_12312521": "Mon Oct 08 08:18:46 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-10-08T08:18:46.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3355/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2018-09-28T15:03:21.000+0000",
        "updated": "2018-10-08T12:06:19.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "5h 40m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 20400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] Support for factors",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188172/comment/16641503",
                    "id": "16641503",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 2711\n[https://github.com/apache/arrow/pull/2711]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-10-08T08:18:46.463+0000",
                    "updated": "2018-10-08T08:18:46.463+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|i3ym7z:",
        "customfield_12314139": null
    }
}