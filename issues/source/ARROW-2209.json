{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13140796",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13140796",
    "key": "ARROW-2209",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12341707",
                "id": "12341707",
                "description": "",
                "name": "0.9.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-03-19"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12559892",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12559892",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "outwardIssue": {
                    "id": "13135615",
                    "key": "ARROW-2079",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13135615",
                    "fields": {
                        "summary": "[Python][C++] Possibly use `_common_metadata` for schema if `_metadata` isn't available",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/1",
                            "description": "The issue is open and ready for the assignee to start work on it.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
                            "name": "Open",
                            "id": "1",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
                                "id": 2,
                                "key": "new",
                                "colorName": "blue-gray",
                                "name": "To Do"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
                            "name": "Minor",
                            "id": "4"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
            "name": "uwe",
            "key": "xhochy",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
            },
            "displayName": "Uwe Korn",
            "active": true,
            "timeZone": "Europe/Berlin"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
            "name": "uwe",
            "key": "xhochy",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
            },
            "displayName": "Uwe Korn",
            "active": true,
            "timeZone": "Europe/Berlin"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
            "name": "uwe",
            "key": "xhochy",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
            },
            "displayName": "Uwe Korn",
            "active": true,
            "timeZone": "Europe/Berlin"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2209/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@6fc7f5a6[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@67c175b1[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1c82b727[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@708225fb[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6b2babd8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@679119e7[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6ea3b1bd[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@f6ffc6f[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@392cf331[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@561d9bd2[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@25c0f6f5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@55bcfaa6[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Mar 02 14:33:05 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-03-02T14:33:05.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2209/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2018-02-25T17:17:47.000+0000",
        "updated": "2019-04-29T08:45:01.000+0000",
        "timeoriginalestimate": null,
        "description": "Currently the partition columns are not included in the schema of a ParquetDataset. We correctly write them out in the {{_common_metadata}} file but we fail to load this file correctly.",
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python]\u00a0Partition columns are not correctly loaded in schema of ParquetDataset",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13140796/comment/16376201",
                    "id": "16376201",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "xhochy opened a new pull request #1656: ARROW-2209: [Python]\u00a0Partition columns are not correctly loaded in schema of ParquetDataset\nURL: https://github.com/apache/arrow/pull/1656\n \n \n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-02-25T19:12:06.558+0000",
                    "updated": "2018-02-25T19:12:06.558+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13140796/comment/16376202",
                    "id": "16376202",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "xhochy commented on issue #1656: ARROW-2209: [Python]\u00a0Partition columns are not correctly loaded in schema of ParquetDataset\nURL: https://github.com/apache/arrow/pull/1656#issuecomment-368335858\n \n \n   Needed fixes for the `pyarrow` side of https://github.com/dask/dask/pull/3171\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-02-25T19:12:18.233+0000",
                    "updated": "2018-02-25T19:12:18.233+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13140796/comment/16376203",
                    "id": "16376203",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "xhochy commented on issue #1656: ARROW-2209: [Python]\u00a0Partition columns are not correctly loaded in schema of ParquetDataset\nURL: https://github.com/apache/arrow/pull/1656#issuecomment-368335858\n \n \n   Necessary fixes for the `pyarrow` side of https://github.com/dask/dask/pull/3171\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-02-25T19:12:35.789+0000",
                    "updated": "2018-02-25T19:12:35.789+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13140796/comment/16377079",
                    "id": "16377079",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "cpcloud commented on a change in pull request #1656: ARROW-2209: [Python]\u00a0Partition columns are not correctly loaded in schema of ParquetDataset\nURL: https://github.com/apache/arrow/pull/1656#discussion_r170640474\n \n \n\n ##########\n File path: python/pyarrow/types.pxi\n ##########\n @@ -529,6 +529,49 @@ cdef class Schema:\n     def get_field_index(self, name):\n         return self.schema.GetFieldIndex(tobytes(name))\n \n+    def add_field(self, int i, Field field):\n \n Review comment:\n   This feels like just a wrapping of the C++ API. Is there an API that we can provide that'll be more familiar to Python users? How about `insert`/`append`/`remove` similar to `list`s?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-02-26T16:01:10.574+0000",
                    "updated": "2018-02-26T16:01:10.574+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13140796/comment/16377085",
                    "id": "16377085",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on a change in pull request #1656: ARROW-2209: [Python]\u00a0Partition columns are not correctly loaded in schema of ParquetDataset\nURL: https://github.com/apache/arrow/pull/1656#discussion_r170641422\n \n \n\n ##########\n File path: python/pyarrow/types.pxi\n ##########\n @@ -529,6 +529,49 @@ cdef class Schema:\n     def get_field_index(self, name):\n         return self.schema.GetFieldIndex(tobytes(name))\n \n+    def add_field(self, int i, Field field):\n \n Review comment:\n   Either way I think these methods need to return new objects, so Schema is not mutable like list, though\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-02-26T16:03:41.376+0000",
                    "updated": "2018-02-26T16:03:41.376+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13140796/comment/16377090",
                    "id": "16377090",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "cpcloud commented on a change in pull request #1656: ARROW-2209: [Python]\u00a0Partition columns are not correctly loaded in schema of ParquetDataset\nURL: https://github.com/apache/arrow/pull/1656#discussion_r170641924\n \n \n\n ##########\n File path: python/pyarrow/types.pxi\n ##########\n @@ -529,6 +529,49 @@ cdef class Schema:\n     def get_field_index(self, name):\n         return self.schema.GetFieldIndex(tobytes(name))\n \n+    def add_field(self, int i, Field field):\n \n Review comment:\n   Sure. I don't think the semantics need to be identical, but I think the spelling can be improved.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-02-26T16:05:09.376+0000",
                    "updated": "2018-02-26T16:05:09.376+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13140796/comment/16377112",
                    "id": "16377112",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "xhochy commented on a change in pull request #1656: ARROW-2209: [Python]\u00a0Partition columns are not correctly loaded in schema of ParquetDataset\nURL: https://github.com/apache/arrow/pull/1656#discussion_r170649145\n \n \n\n ##########\n File path: python/pyarrow/types.pxi\n ##########\n @@ -529,6 +529,49 @@ cdef class Schema:\n     def get_field_index(self, name):\n         return self.schema.GetFieldIndex(tobytes(name))\n \n+    def add_field(self, int i, Field field):\n \n Review comment:\n   As this is most similar to a list, I would use the function names as defined there but would do some adjustments, e.g.:\r\n   \r\n    * Always return a new object\r\n    * Use indices instead of actual values, i.e. \"`remove(x)` would be `remove(i)`\".\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-02-26T16:24:19.022+0000",
                    "updated": "2018-02-26T16:24:19.022+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13140796/comment/16378341",
                    "id": "16378341",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "xhochy commented on issue #1656: ARROW-2209: [Python]\u00a0Partition columns are not correctly loaded in schema of ParquetDataset\nURL: https://github.com/apache/arrow/pull/1656#issuecomment-368820083\n \n \n   Adjusted the API to be more like a `list()`.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-02-27T10:17:01.868+0000",
                    "updated": "2018-02-27T10:17:01.868+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13140796/comment/16383641",
                    "id": "16383641",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "xhochy closed pull request #1656: ARROW-2209: [Python]\u00a0Partition columns are not correctly loaded in schema of ParquetDataset\nURL: https://github.com/apache/arrow/pull/1656\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/python/pyarrow/includes/libarrow.pxd b/python/pyarrow/includes/libarrow.pxd\nindex 8da126aaf..2804d6c38 100644\n--- a/python/pyarrow/includes/libarrow.pxd\n+++ b/python/pyarrow/includes/libarrow.pxd\n@@ -263,6 +263,10 @@ cdef extern from \"arrow/api.h\" namespace \"arrow\" nogil:\n         int num_fields()\n         c_string ToString()\n \n+        CStatus AddField(int i, const shared_ptr[CField]& field,\n+                         shared_ptr[CSchema]* out)\n+        CStatus RemoveField(int i, shared_ptr[CSchema]* out)\n+\n         # Removed const in Cython so don't have to cast to get code to generate\n         shared_ptr[CSchema] AddMetadata(\n             const shared_ptr[CKeyValueMetadata]& metadata)\ndiff --git a/python/pyarrow/parquet.py b/python/pyarrow/parquet.py\nindex 485459e0b..e33dd1b07 100644\n--- a/python/pyarrow/parquet.py\n+++ b/python/pyarrow/parquet.py\n@@ -581,6 +581,10 @@ def __init__(self, dirpath, filesystem=None, pathsep='/',\n \n         self._visit_level(0, self.dirpath, [])\n \n+        if self.common_metadata_path is None:\n+            # _common_metadata is a subset of _metadata\n+            self.common_metadata_path = self.metadata_path\n+\n     def _visit_level(self, level, base_path, part_keys):\n         fs = self.filesystem\n \n@@ -695,10 +699,10 @@ def __init__(self, path_or_paths, filesystem=None, schema=None,\n         self.paths = path_or_paths\n \n         (self.pieces, self.partitions,\n-         self.metadata_path) = _make_manifest(path_or_paths, self.fs)\n+         self.common_metadata_path) = _make_manifest(path_or_paths, self.fs)\n \n-        if self.metadata_path is not None:\n-            with self.fs.open(self.metadata_path) as f:\n+        if self.common_metadata_path is not None:\n+            with self.fs.open(self.common_metadata_path) as f:\n                 self.common_metadata = ParquetFile(f).metadata\n         else:\n             self.common_metadata = None\n@@ -718,21 +722,31 @@ def validate_schemas(self):\n         open_file = self._get_open_file_func()\n \n         if self.metadata is None and self.schema is None:\n-            if self.metadata_path is not None:\n-                self.schema = open_file(self.metadata_path).schema\n+            if self.common_metadata_path is not None:\n+                self.schema = open_file(self.common_metadata_path).schema\n             else:\n                 self.schema = self.pieces[0].get_metadata(open_file).schema\n         elif self.schema is None:\n             self.schema = self.metadata.schema\n \n-        # Verify schemas are all equal\n+        # Verify schemas are all compatible\n+        dataset_schema = self.schema.to_arrow_schema()\n+        # Exclude the partition columns from the schema, they are provided\n+        # by the path, not the DatasetPiece\n+        if self.partitions is not None:\n+            for partition_name in self.partitions.partition_names:\n+                if dataset_schema.get_field_index(partition_name) != -1:\n+                    field_idx = dataset_schema.get_field_index(partition_name)\n+                    dataset_schema = dataset_schema.remove(field_idx)\n+\n         for piece in self.pieces:\n             file_metadata = piece.get_metadata(open_file)\n-            if not self.schema.equals(file_metadata.schema):\n-                raise ValueError('Schema in {0!s} was different. '\n-                                 '{1!s} vs {2!s}'\n-                                 .format(piece, file_metadata.schema,\n-                                         self.schema))\n+            file_schema = file_metadata.schema.to_arrow_schema()\n+            if not dataset_schema.equals(file_schema):\n+                raise ValueError('Schema in {0!s} was different. \\n'\n+                                 '{1!s}\\n\\nvs\\n\\n{2!s}'\n+                                 .format(piece, file_schema,\n+                                         dataset_schema))\n \n     def read(self, columns=None, nthreads=1, use_pandas_metadata=False):\n         \"\"\"\n@@ -831,7 +845,7 @@ def _ensure_filesystem(fs):\n \n def _make_manifest(path_or_paths, fs, pathsep='/'):\n     partitions = None\n-    metadata_path = None\n+    common_metadata_path = None\n \n     if len(path_or_paths) == 1:\n         # Dask passes a directory as a list of length 1\n@@ -840,7 +854,7 @@ def _make_manifest(path_or_paths, fs, pathsep='/'):\n     if is_string(path_or_paths) and fs.isdir(path_or_paths):\n         manifest = ParquetManifest(path_or_paths, filesystem=fs,\n                                    pathsep=fs.pathsep)\n-        metadata_path = manifest.metadata_path\n+        common_metadata_path = manifest.common_metadata_path\n         pieces = manifest.pieces\n         partitions = manifest.partitions\n     else:\n@@ -859,7 +873,7 @@ def _make_manifest(path_or_paths, fs, pathsep='/'):\n             piece = ParquetDatasetPiece(path)\n             pieces.append(piece)\n \n-    return pieces, partitions, metadata_path\n+    return pieces, partitions, common_metadata_path\n \n \n def read_table(source, columns=None, nthreads=1, metadata=None,\ndiff --git a/python/pyarrow/tests/test_parquet.py b/python/pyarrow/tests/test_parquet.py\nindex bd76feb2e..319f130f6 100644\n--- a/python/pyarrow/tests/test_parquet.py\n+++ b/python/pyarrow/tests/test_parquet.py\n@@ -1099,12 +1099,12 @@ def _test_read_common_metadata_files(fs, base_path):\n     with fs.open(data_path, 'wb') as f:\n         _write_table(table, f)\n \n-    metadata_path = pjoin(base_path, '_metadata')\n+    metadata_path = pjoin(base_path, '_common_metadata')\n     with fs.open(metadata_path, 'wb') as f:\n         pq.write_metadata(table.schema, f)\n \n     dataset = pq.ParquetDataset(base_path, filesystem=fs)\n-    assert dataset.metadata_path == metadata_path\n+    assert dataset.common_metadata_path == metadata_path\n \n     with fs.open(data_path) as f:\n         common_schema = pq.read_metadata(f).schema\n@@ -1417,7 +1417,14 @@ def _test_write_to_dataset_with_partitions(base_path, filesystem=None):\n     output_table = pa.Table.from_pandas(output_df)\n     pq.write_to_dataset(output_table, base_path, partition_by,\n                         filesystem=filesystem)\n-    input_table = pq.ParquetDataset(base_path, filesystem=filesystem).read()\n+    pq.write_metadata(output_table.schema,\n+                      os.path.join(base_path, '_common_metadata'))\n+    dataset = pq.ParquetDataset(base_path, filesystem=filesystem)\n+    # ARROW-2209: Ensure the dataset schema also includes the partition columns\n+    dataset_cols = set(dataset.schema.to_arrow_schema().names)\n+    assert dataset_cols == set(output_table.schema.names)\n+\n+    input_table = dataset.read()\n     input_df = input_table.to_pandas()\n \n     # Read data back in and compare with original DataFrame\ndiff --git a/python/pyarrow/types.pxi b/python/pyarrow/types.pxi\nindex 849a0e016..5f962901c 100644\n--- a/python/pyarrow/types.pxi\n+++ b/python/pyarrow/types.pxi\n@@ -529,6 +529,64 @@ cdef class Schema:\n     def get_field_index(self, name):\n         return self.schema.GetFieldIndex(tobytes(name))\n \n+    def append(self, Field field):\n+        \"\"\"\n+        Append a field at the end of the schema.\n+\n+        Parameters\n+        ----------\n+\n+        field: Field\n+\n+        Returns\n+        -------\n+        schema: Schema\n+        \"\"\"\n+        return self.insert(self.schema.num_fields(), field)\n+\n+    def insert(self, int i, Field field):\n+        \"\"\"\n+        Add a field at position i to the schema.\n+\n+        Parameters\n+        ----------\n+        i: int\n+        field: Field\n+\n+        Returns\n+        -------\n+        schema: Schema\n+        \"\"\"\n+        cdef:\n+            shared_ptr[CSchema] new_schema\n+            shared_ptr[CField] c_field\n+\n+        c_field = field.sp_field\n+\n+        with nogil:\n+            check_status(self.schema.AddField(i, c_field, &new_schema))\n+\n+        return pyarrow_wrap_schema(new_schema)\n+\n+    def remove(self, int i):\n+        \"\"\"\n+        Remove the field at index i from the schema.\n+\n+        Parameters\n+        ----------\n+        i: int\n+\n+        Returns\n+        -------\n+        schema: Schema\n+        \"\"\"\n+        cdef shared_ptr[CSchema] new_schema\n+\n+        with nogil:\n+            check_status(self.schema.RemoveField(i, &new_schema))\n+\n+        return pyarrow_wrap_schema(new_schema)\n+\n     def add_metadata(self, dict metadata):\n         \"\"\"\n         Add metadata as dict of string keys and values to Schema\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-03-02T14:33:02.604+0000",
                    "updated": "2018-03-02T14:33:02.604+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13140796/comment/16383643",
                    "id": "16383643",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "body": "Issue resolved by pull request 1656\n[https://github.com/apache/arrow/pull/1656]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "created": "2018-03-02T14:33:05.571+0000",
                    "updated": "2018-03-02T14:33:05.571+0000"
                }
            ],
            "maxResults": 10,
            "total": 10,
            "startAt": 0
        },
        "customfield_12311820": "0|i3qko7:",
        "customfield_12314139": null
    }
}