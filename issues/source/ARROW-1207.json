{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13086387",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387",
    "key": "ARROW-1207",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12344925",
                "id": "12344925",
                "description": "",
                "name": "0.14.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-07-04"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12560838",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12560838",
                "type": {
                    "id": "12310000",
                    "name": "Duplicate",
                    "inward": "is duplicated by",
                    "outward": "duplicates",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"
                },
                "outwardIssue": {
                    "id": "13233525",
                    "key": "ARROW-5326",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233525",
                    "fields": {
                        "summary": "[C++] Implement MapType, MapArray, MapBuilder",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
                            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
                            "name": "Closed",
                            "id": "6",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
                            "id": "2",
                            "description": "A new feature of the product, which has yet to be developed.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
                            "name": "New Feature",
                            "subtask": false,
                            "avatarId": 21141
                        }
                    }
                }
            },
            {
                "id": "12513720",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12513720",
                "type": {
                    "id": "10001",
                    "name": "dependent",
                    "inward": "is depended upon by",
                    "outward": "depends upon",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"
                },
                "inwardIssue": {
                    "id": "13090216",
                    "key": "ARROW-1279",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13090216",
                    "fields": {
                        "summary": "[Integration][Java] Integration tests for Map type",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
                            "id": "2",
                            "description": "A new feature of the product, which has yet to be developed.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
                            "name": "New Feature",
                            "subtask": false,
                            "avatarId": 21141
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
            "name": "bkietz",
            "key": "bkietz",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
            },
            "displayName": "Ben Kietzman",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 15000,
            "total": 15000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 15000,
            "total": 15000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1207/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 28,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/245242",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #4352: ARROW-1207: C++ implement map logical type\nURL: https://github.com/apache/arrow/pull/4352\n \n \n   Implements `MapArray` with equivalent offset structure to `ListArray`.\r\n   \r\n   `MapType::keys_sorted()` is currently unused- for example `MapBuilder` does not check inserted keys for correct ordering. `MapType` is printed as `map<utf8, int32>` and `map<int32, float64, keys_sorted>` for unsorted, sorted keys respectively.\r\n   \r\n   Map arrays are created with `ArrayFromJSON` by providing for each key-value pair an array of length 2 containing the key and the value [(example)](https://github.com/apache/arrow/compare/master...bkietz:1207-Implement-Map-logical-type?expand=1#diff-015ed4b6849ed6e64e25bba42aa1d29eR572)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-20T15:49:20.022+0000",
                    "updated": "2019-05-20T15:49:20.022+0000",
                    "started": "2019-05-20T15:49:20.021+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "245242",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/245440",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #4352: ARROW-1207: C++ implement map logical type\nURL: https://github.com/apache/arrow/pull/4352#issuecomment-494103537\n \n \n   Will review this when I can. Should we try to inherit `MapArray` from `ListArray`? Seems like it might make things easier but I will take a closer look\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-20T18:38:50.773+0000",
                    "updated": "2019-05-20T18:38:50.773+0000",
                    "started": "2019-05-20T18:38:50.773+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "245440",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/249242",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #4352: ARROW-1207: [C++] implement map logical type\nURL: https://github.com/apache/arrow/pull/4352#issuecomment-496458233\n \n \n   @bkietz You should be able to fix the Travis-CI failures by rebasing from master.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-28T10:24:41.621+0000",
                    "updated": "2019-05-28T10:24:41.621+0000",
                    "started": "2019-05-28T10:24:41.620+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "249242",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/249550",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#issuecomment-496624686\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/4352?src=pr&el=h1) Report\n   > Merging [#4352](https://codecov.io/gh/apache/arrow/pull/4352?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/2d7838ebf698b94ccdcaa7f88e7b4b4e38f8235c?src=pr&el=desc) will **increase** coverage by `0.84%`.\n   > The diff coverage is `65.83%`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/4352/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/4352?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #4352      +/-   ##\n   ==========================================\n   + Coverage   88.41%   89.26%   +0.84%     \n   ==========================================\n     Files         784      639     -145     \n     Lines      100266    89293   -10973     \n     Branches     1251        0    -1251     \n   ==========================================\n   - Hits        88651    79705    -8946     \n   + Misses      11379     9588    -1791     \n   + Partials      236        0     -236\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/4352?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [cpp/src/arrow/type\\_traits.h](https://codecov.io/gh/apache/arrow/pull/4352/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy90eXBlX3RyYWl0cy5o) | `85.71% <\u00f8> (\u00f8)` | :arrow_up: |\n   | [cpp/src/arrow/visitor.h](https://codecov.io/gh/apache/arrow/pull/4352/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy92aXNpdG9yLmg=) | `50% <\u00f8> (\u00f8)` | :arrow_up: |\n   | [cpp/src/arrow/visitor\\_inline.h](https://codecov.io/gh/apache/arrow/pull/4352/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy92aXNpdG9yX2lubGluZS5o) | `88.11% <\u00f8> (\u00f8)` | :arrow_up: |\n   | [cpp/src/arrow/ipc/metadata-internal.cc](https://codecov.io/gh/apache/arrow/pull/4352/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9pcGMvbWV0YWRhdGEtaW50ZXJuYWwuY2M=) | `88.17% <0%> (-1.89%)` | :arrow_down: |\n   | [cpp/src/arrow/util/concatenate.cc](https://codecov.io/gh/apache/arrow/pull/4352/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy91dGlsL2NvbmNhdGVuYXRlLmNj) | `88.05% <0%> (-3.46%)` | :arrow_down: |\n   | [cpp/src/arrow/scalar.cc](https://codecov.io/gh/apache/arrow/pull/4352/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9zY2FsYXIuY2M=) | `48.83% <0%> (-7.92%)` | :arrow_down: |\n   | [cpp/src/arrow/visitor.cc](https://codecov.io/gh/apache/arrow/pull/4352/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy92aXNpdG9yLmNj) | `0% <0%> (\u00f8)` | :arrow_up: |\n   | [cpp/src/arrow/compute/kernels/take.cc](https://codecov.io/gh/apache/arrow/pull/4352/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jb21wdXRlL2tlcm5lbHMvdGFrZS5jYw==) | `89.32% <0%> (-1.77%)` | :arrow_down: |\n   | [cpp/src/arrow/scalar.h](https://codecov.io/gh/apache/arrow/pull/4352/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9zY2FsYXIuaA==) | `85.71% <0%> (-2.53%)` | :arrow_down: |\n   | [cpp/src/arrow/compare.cc](https://codecov.io/gh/apache/arrow/pull/4352/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jb21wYXJlLmNj) | `79.31% <0%> (-1.53%)` | :arrow_down: |\n   | ... and [164 more](https://codecov.io/gh/apache/arrow/pull/4352/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/4352?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/4352?src=pr&el=footer). Last update [2d7838e...ac878bb](https://codecov.io/gh/apache/arrow/pull/4352?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-28T18:01:17.714+0000",
                    "updated": "2019-05-28T18:01:17.714+0000",
                    "started": "2019-05-28T18:01:17.714+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "249550",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/249636",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on issue #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#issuecomment-496687188\n \n \n   @pitrou rebased and green\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-28T20:57:49.347+0000",
                    "updated": "2019-05-28T20:57:49.347+0000",
                    "started": "2019-05-28T20:57:49.346+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "249636",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/250246",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#discussion_r288633556\n \n \n\n ##########\n File path: cpp/src/arrow/compare.cc\n ##########\n @@ -854,6 +863,13 @@ class ScalarEqualsVisitor {\n     return Status::OK();\n   }\n \n+  Status Visit(const MapScalar& left) {\n+    const auto& right = checked_cast<const MapScalar&>(right_);\n+    result_ = internal::SharedPtrEquals(left.keys, right.keys) &&\n+              internal::SharedPtrEquals(left.keys, right.keys);\n \n Review comment:\n   I think there's a typo here. Did you mean \"items\" in the second term?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-29T16:10:46.627+0000",
                    "updated": "2019-05-29T16:10:46.627+0000",
                    "started": "2019-05-29T16:10:46.627+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250246",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/250247",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#discussion_r288635449\n \n \n\n ##########\n File path: cpp/src/arrow/ipc/json-simple.cc\n ##########\n @@ -441,6 +441,63 @@ class ListConverter final : public ConcreteConverter<ListConverter> {\n   std::shared_ptr<Converter> child_converter_;\n };\n \n+// ------------------------------------------------------------------------\n+// Converter for map arrays\n+\n+class MapConverter final : public ConcreteConverter<MapConverter> {\n+ public:\n+  explicit MapConverter(const std::shared_ptr<DataType>& type) { type_ = type; }\n+\n+  Status Init() override {\n+    const auto& map_type = checked_cast<const MapType&>(*type_);\n+    RETURN_NOT_OK(GetConverter(map_type.key_type(), &key_converter_));\n+    RETURN_NOT_OK(GetConverter(map_type.item_type(), &item_converter_));\n+    auto key_builder = key_converter_->builder();\n+    auto item_builder = item_converter_->builder();\n+    builder_ = std::make_shared<MapBuilder>(default_memory_pool(), key_builder,\n+                                            item_builder, type_);\n+    return Status::OK();\n+  }\n+\n+  Status AppendNull() override { return builder_->AppendNull(); }\n+\n+  Status AppendValue(const rj::Value& json_obj) override {\n+    if (json_obj.IsNull()) {\n+      return AppendNull();\n+    }\n+    RETURN_NOT_OK(builder_->Append());\n+    if (!json_obj.IsArray()) {\n+      return JSONTypeError(\"array\", json_obj.GetType());\n+    }\n+    auto size = json_obj.Size();\n+    for (uint32_t i = 0; i < size; ++i) {\n+      const auto& json_pair = json_obj[i];\n+      if (!json_pair.IsArray()) {\n+        return JSONTypeError(\"array\", json_pair.GetType());\n+      }\n+      if (json_pair.IsNull()) {\n \n Review comment:\n   Can this happen? We already know it's an array...\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-29T16:10:46.676+0000",
                    "updated": "2019-05-29T16:10:46.676+0000",
                    "started": "2019-05-29T16:10:46.675+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250247",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/250248",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#discussion_r288649311\n \n \n\n ##########\n File path: docs/source/format/Layout.rst\n ##########\n @@ -491,6 +491,91 @@ for the null struct but are 'hidden' from the consumer by the parent array's\n null bitmap.  However, when treated independently corresponding\n values of the children array will be non-null.\n \n+\n+Map type\n+--------\n+\n+Map is a nested type in which each array slot contains a variable size sequence\n+of key value pairs.\n+\n+A map type is specified like ``Map<K, V>``, where ``K`` and ``V`` are\n+any relative type (primitive or nested) and represent the key and value types\n+respectively.\n+\n+A map array is represented by the combination of the following:\n+\n+* A child array (of type ``Struct<K, V>``) containing key value pairs. This has\n+  child arrays:\n+  * A keys array of type ``K``. This array may not contain nulls.\n+  * A values array of type ``V``.\n+* An offsets buffer containing 32-bit signed integers with length equal to the\n+  length of the top-level array plus one. Note that this limits the size of the\n+  child arrays to 2 :sup:`31` -1.\n+\n+The offsets array encodes a start position in the child arrays, and the length\n+of the map in each slot is computed using the first difference with the next\n+element in the offsets array. (Equivalent offsets layout to ``List<T>``).\n+Each slice of the child arrays delimited by the offsets array represent a set\n+of key value pairs in the corresponding slot of the parent map array.\n+\n+Example Layout: ``Map<K, V>`` Array\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Let's consider an example, the type ``Map<String, Int32>``.\n+\n+For an array of length 4 with respective values: ::\n+\n+    [{'joe': 0}, null, {'mark': null, 'cap': 8}, {}]\n+\n+will have the following representation: ::\n+\n+    * Length: 4, Null count: 1\n+    * Null bitmap buffer:\n+\n+      | Byte 0 (validity bitmap) | Bytes 1-63            |\n+      |--------------------------|-----------------------|\n+      | 00001101                 | 0 (padding)           |\n+\n+    * Offsets buffer (int32):\n+\n+      | Bytes 0-19     |\n+      |----------------|\n+      | 0, 1, 1, 3, 3  |\n+\n+    * 'pairs' array (`Struct<String, Int32>`):\n+      * Length: 3, Null count: 0\n+      * Null bitmap buffer: Not required\n+\n+      * 'key' array (`String`):\n \n Review comment:\n   \"keys\"\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-29T16:10:46.945+0000",
                    "updated": "2019-05-29T16:10:46.945+0000",
                    "started": "2019-05-29T16:10:46.944+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250248",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/250249",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#discussion_r288636163\n \n \n\n ##########\n File path: cpp/src/arrow/ipc/json-internal.cc\n ##########\n @@ -170,6 +170,11 @@ class SchemaWriter {\n                           void>::type\n \n Review comment:\n   Should you add a simple test in `json-integration-test.cc` perhaps?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-29T16:10:46.988+0000",
                    "updated": "2019-05-29T16:10:46.988+0000",
                    "started": "2019-05-29T16:10:46.987+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250249",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/250250",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#discussion_r288635546\n \n \n\n ##########\n File path: cpp/src/arrow/ipc/json-simple.cc\n ##########\n @@ -441,6 +441,63 @@ class ListConverter final : public ConcreteConverter<ListConverter> {\n   std::shared_ptr<Converter> child_converter_;\n };\n \n+// ------------------------------------------------------------------------\n+// Converter for map arrays\n+\n+class MapConverter final : public ConcreteConverter<MapConverter> {\n+ public:\n+  explicit MapConverter(const std::shared_ptr<DataType>& type) { type_ = type; }\n+\n+  Status Init() override {\n+    const auto& map_type = checked_cast<const MapType&>(*type_);\n+    RETURN_NOT_OK(GetConverter(map_type.key_type(), &key_converter_));\n+    RETURN_NOT_OK(GetConverter(map_type.item_type(), &item_converter_));\n+    auto key_builder = key_converter_->builder();\n+    auto item_builder = item_converter_->builder();\n+    builder_ = std::make_shared<MapBuilder>(default_memory_pool(), key_builder,\n+                                            item_builder, type_);\n+    return Status::OK();\n+  }\n+\n+  Status AppendNull() override { return builder_->AppendNull(); }\n+\n+  Status AppendValue(const rj::Value& json_obj) override {\n+    if (json_obj.IsNull()) {\n+      return AppendNull();\n+    }\n+    RETURN_NOT_OK(builder_->Append());\n+    if (!json_obj.IsArray()) {\n+      return JSONTypeError(\"array\", json_obj.GetType());\n+    }\n+    auto size = json_obj.Size();\n+    for (uint32_t i = 0; i < size; ++i) {\n+      const auto& json_pair = json_obj[i];\n+      if (!json_pair.IsArray()) {\n+        return JSONTypeError(\"array\", json_pair.GetType());\n+      }\n+      if (json_pair.IsNull()) {\n+        return Status::Invalid(\"key value pairs may not be null\");\n+      }\n+      if (json_pair.IsNull() || json_pair.Size() != 2) {\n \n Review comment:\n   We know `json_pair.IsNull()` is false by now.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-29T16:10:46.991+0000",
                    "updated": "2019-05-29T16:10:46.991+0000",
                    "started": "2019-05-29T16:10:46.990+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250250",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/250251",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#discussion_r288637161\n \n \n\n ##########\n File path: cpp/src/arrow/ipc/writer.cc\n ##########\n @@ -342,6 +342,33 @@ class RecordBatchSerializer : public ArrayVisitor {\n     return Status::OK();\n   }\n \n+  Status Visit(const MapArray& array) override {\n+    std::shared_ptr<Buffer> value_offsets;\n+    RETURN_NOT_OK(GetZeroBasedValueOffsets<MapArray>(array, &value_offsets));\n+    out_->body_buffers.emplace_back(value_offsets);\n+\n+    --max_recursion_depth_;\n+    std::shared_ptr<Array> keys = array.keys();\n \n Review comment:\n   The values are a list of \"key, item\" structs. So you needn't serialize the keys separately (also, the keys aren't contiguous in memory).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-29T16:10:46.994+0000",
                    "updated": "2019-05-29T16:10:46.994+0000",
                    "started": "2019-05-29T16:10:46.993+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250251",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/250252",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#discussion_r288638622\n \n \n\n ##########\n File path: cpp/src/arrow/type-test.cc\n ##########\n @@ -370,6 +370,27 @@ TEST(TestListType, Basics) {\n   ASSERT_EQ(\"list<item: list<item: string>>\", lt2.ToString());\n }\n \n+TEST(TestMapType, Basics) {\n+  std::shared_ptr<DataType> kt = std::make_shared<StringType>();\n+  std::shared_ptr<DataType> it = std::make_shared<UInt8Type>();\n+\n+  MapType map_type(kt, it);\n+  ASSERT_EQ(map_type.id(), Type::MAP);\n+\n+  ASSERT_EQ(\"map\", map_type.name());\n+  ASSERT_EQ(\"map<string, uint8>\", map_type.ToString());\n+\n+  ASSERT_EQ(map_type.key_type()->id(), kt->id());\n+  ASSERT_EQ(map_type.item_type()->id(), it->id());\n+  ASSERT_EQ(map_type.value_type()->id(), Type::STRUCT);\n+\n+  std::shared_ptr<DataType> mt = std::make_shared<MapType>(it, kt);\n+  ASSERT_EQ(\"map<uint8, string>\", mt->ToString());\n+\n+  MapType mt2(kt, mt, true);\n+  ASSERT_EQ(\"map<string, map<uint8, string>, keys_sorted>\", mt2.ToString());\n \n Review comment:\n   \"keys_sorted=true\" perhaps?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-29T16:10:46.995+0000",
                    "updated": "2019-05-29T16:10:46.995+0000",
                    "started": "2019-05-29T16:10:46.994+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250252",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/250253",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#discussion_r288650121\n \n \n\n ##########\n File path: cpp/src/arrow/array-list-test.cc\n ##########\n @@ -340,6 +341,81 @@ TEST_F(TestListArray, TestBuilderPreserveFieleName) {\n   ASSERT_EQ(\"counts\", type.value_field()->name());\n }\n \n+// ----------------------------------------------------------------------\n+// Map tests\n+\n+class TestMapArray : public TestBuilder {\n+ public:\n+  void SetUp() {\n+    TestBuilder::SetUp();\n+\n+    key_type_ = utf8();\n+    value_type_ = int32();\n+    type_ = map(key_type_, value_type_);\n+\n+    std::unique_ptr<ArrayBuilder> tmp;\n+    ASSERT_OK(MakeBuilder(pool_, type_, &tmp));\n+    builder_ = checked_pointer_cast<MapBuilder>(std::move(tmp));\n+  }\n+\n+  void Done() {\n+    std::shared_ptr<Array> out;\n+    FinishAndCheckPadding(builder_.get(), &out);\n+    result_ = std::dynamic_pointer_cast<MapArray>(out);\n+  }\n+\n+ protected:\n+  std::shared_ptr<DataType> value_type_, key_type_;\n+\n+  std::shared_ptr<MapBuilder> builder_;\n+  std::shared_ptr<MapArray> result_;\n+};\n+\n+TEST_F(TestMapArray, Equality) {\n \n Review comment:\n   Is building and validating a map array tested somewhere?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-29T16:10:47.037+0000",
                    "updated": "2019-05-29T16:10:47.037+0000",
                    "started": "2019-05-29T16:10:47.036+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250253",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/250491",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#discussion_r288758610\n \n \n\n ##########\n File path: cpp/src/arrow/compare.cc\n ##########\n @@ -854,6 +863,13 @@ class ScalarEqualsVisitor {\n     return Status::OK();\n   }\n \n+  Status Visit(const MapScalar& left) {\n+    const auto& right = checked_cast<const MapScalar&>(right_);\n+    result_ = internal::SharedPtrEquals(left.keys, right.keys) &&\n+              internal::SharedPtrEquals(left.keys, right.keys);\n \n Review comment:\n   yup, thanks\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-29T20:41:19.871+0000",
                    "updated": "2019-05-29T20:41:19.871+0000",
                    "started": "2019-05-29T20:41:19.871+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250491",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/250497",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#discussion_r288760950\n \n \n\n ##########\n File path: cpp/src/arrow/ipc/writer.cc\n ##########\n @@ -342,6 +342,33 @@ class RecordBatchSerializer : public ArrayVisitor {\n     return Status::OK();\n   }\n \n+  Status Visit(const MapArray& array) override {\n+    std::shared_ptr<Buffer> value_offsets;\n+    RETURN_NOT_OK(GetZeroBasedValueOffsets<MapArray>(array, &value_offsets));\n+    out_->body_buffers.emplace_back(value_offsets);\n+\n+    --max_recursion_depth_;\n+    std::shared_ptr<Array> keys = array.keys();\n \n Review comment:\n   You're right and actually this should be  removed since `MapArray` isa `ListArray` and the case for ListArray should be sufficient.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-29T20:47:01.854+0000",
                    "updated": "2019-05-29T20:47:01.854+0000",
                    "started": "2019-05-29T20:47:01.854+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250497",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/250988",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#discussion_r289016022\n \n \n\n ##########\n File path: cpp/src/arrow/array-list-test.cc\n ##########\n @@ -340,6 +341,81 @@ TEST_F(TestListArray, TestBuilderPreserveFieleName) {\n   ASSERT_EQ(\"counts\", type.value_field()->name());\n }\n \n+// ----------------------------------------------------------------------\n+// Map tests\n+\n+class TestMapArray : public TestBuilder {\n+ public:\n+  void SetUp() {\n+    TestBuilder::SetUp();\n+\n+    key_type_ = utf8();\n+    value_type_ = int32();\n+    type_ = map(key_type_, value_type_);\n+\n+    std::unique_ptr<ArrayBuilder> tmp;\n+    ASSERT_OK(MakeBuilder(pool_, type_, &tmp));\n+    builder_ = checked_pointer_cast<MapBuilder>(std::move(tmp));\n+  }\n+\n+  void Done() {\n+    std::shared_ptr<Array> out;\n+    FinishAndCheckPadding(builder_.get(), &out);\n+    result_ = std::dynamic_pointer_cast<MapArray>(out);\n+  }\n+\n+ protected:\n+  std::shared_ptr<DataType> value_type_, key_type_;\n+\n+  std::shared_ptr<MapBuilder> builder_;\n+  std::shared_ptr<MapArray> result_;\n+};\n+\n+TEST_F(TestMapArray, Equality) {\n \n Review comment:\n   I'll add one\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-30T14:31:40.094+0000",
                    "updated": "2019-05-30T14:31:40.094+0000",
                    "started": "2019-05-30T14:31:40.093+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250988",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/250992",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#discussion_r289016477\n \n \n\n ##########\n File path: cpp/src/arrow/type-test.cc\n ##########\n @@ -370,6 +370,27 @@ TEST(TestListType, Basics) {\n   ASSERT_EQ(\"list<item: list<item: string>>\", lt2.ToString());\n }\n \n+TEST(TestMapType, Basics) {\n+  std::shared_ptr<DataType> kt = std::make_shared<StringType>();\n+  std::shared_ptr<DataType> it = std::make_shared<UInt8Type>();\n+\n+  MapType map_type(kt, it);\n+  ASSERT_EQ(map_type.id(), Type::MAP);\n+\n+  ASSERT_EQ(\"map\", map_type.name());\n+  ASSERT_EQ(\"map<string, uint8>\", map_type.ToString());\n+\n+  ASSERT_EQ(map_type.key_type()->id(), kt->id());\n+  ASSERT_EQ(map_type.item_type()->id(), it->id());\n+  ASSERT_EQ(map_type.value_type()->id(), Type::STRUCT);\n+\n+  std::shared_ptr<DataType> mt = std::make_shared<MapType>(it, kt);\n+  ASSERT_EQ(\"map<uint8, string>\", mt->ToString());\n+\n+  MapType mt2(kt, mt, true);\n+  ASSERT_EQ(\"map<string, map<uint8, string>, keys_sorted>\", mt2.ToString());\n \n Review comment:\n   If you prefer\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-30T14:32:38.570+0000",
                    "updated": "2019-05-30T14:32:38.570+0000",
                    "started": "2019-05-30T14:32:38.569+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250992",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/257896",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#issuecomment-500923255\n \n \n   @wesm @bkietz I have a question (perhaps late) about the type layout. Why does the map have a `struct` child array instead of directly having two child arrays? This means, for example, that a map array can theoretically have null key-value pairs...\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T16:36:07.324+0000",
                    "updated": "2019-06-11T16:36:07.324+0000",
                    "started": "2019-06-11T16:36:07.323+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257896",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/257897",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#discussion_r292550212\n \n \n\n ##########\n File path: cpp/src/arrow/ipc/metadata-internal.cc\n ##########\n @@ -316,6 +316,25 @@ Status ConcreteTypeFromFlatbuffer(flatbuf::Type type, const void* type_data,\n       }\n       *out = std::make_shared<ListType>(children[0]);\n       return Status::OK();\n+    case flatbuf::Type_Map:\n+      if (children.size() != 1) {\n+        return Status::Invalid(\"Map must have exactly 1 child field\");\n+      }\n+      if (  // FIXME(bkietz) temporarily disabled: this field is sometimes read nullable\n \n Review comment:\n   Do you know where the issue lies?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T16:36:42.309+0000",
                    "updated": "2019-06-11T16:36:42.309+0000",
                    "started": "2019-06-11T16:36:42.308+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257897",
                    "issueId": "13086387"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/worklog/257898",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on issue #4352: ARROW-1207: [C++] Implement MapArray, MapBuilder, MapType classes, and IPC support\nURL: https://github.com/apache/arrow/pull/4352#issuecomment-500924295\n \n \n   @pitrou This allows MapArray to be a specialization of ListArray, with corresponding reuse of code (comparison, for example)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T16:38:45.461+0000",
                    "updated": "2019-06-11T16:38:45.461+0000",
                    "started": "2019-06-11T16:38:45.460+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257898",
                    "issueId": "13086387"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 15000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@6545d3a8[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4caf498e[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@198e24bb[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@2fdbed3d[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@63ceb125[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@5a4473f2[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@32073ffd[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@42458e85[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@54944871[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@2db67af2[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2645406e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@489ac385[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 15000,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Jun 11 17:08:28 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-06-11T17:08:28.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1207/watchers",
            "watchCount": 5,
            "isWatching": false
        },
        "created": "2017-07-11T21:46:38.000+0000",
        "updated": "2019-06-11T22:04:32.000+0000",
        "timeoriginalestimate": null,
        "description": "A map is implemented as a list of structs with fields key and value. We should separately discuss whether this merits an addition to the Arrow metadata ",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "4h 10m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 15000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Implement Map logical type",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/comment/16842243",
                    "id": "16842243",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
                        "name": "bkietz",
                        "key": "bkietz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
                        },
                        "displayName": "Ben Kietzman",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Are there specific conventions or strong opinions about how this map type should be represented in a string? I'm leaning toward: {{map<utf8, int32>}} and {{map<int32, float64, keys_sorted>}} for unsorted/sorted keys respectively. Alternatively, I could follow dictionary type in verbosity by using {{map<keys=utf8, values=int32, keys_sorted=false>}} and {{map<keys=int32, values=float64, keys_sorted=true>}}.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
                        "name": "bkietz",
                        "key": "bkietz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
                        },
                        "displayName": "Ben Kietzman",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-05-17T15:11:30.250+0000",
                    "updated": "2019-05-17T15:11:30.250+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13086387/comment/16861225",
                    "id": "16861225",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 4352\n[https://github.com/apache/arrow/pull/4352]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2019-06-11T17:08:28.457+0000",
                    "updated": "2019-06-11T17:08:28.457+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|i3he7j:",
        "customfield_12314139": null
    }
}