{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13157084",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13157084",
    "key": "ARROW-2539",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12342562",
                "id": "12342562",
                "description": "",
                "name": "0.10.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-08-06"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=zhijunfu",
            "name": "zhijunfu",
            "key": "zhijunfu",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
            },
            "displayName": "Zhijun Fu",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12332956",
                "id": "12332956",
                "name": "C++ - Plasma"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=zhijunfu",
            "name": "zhijunfu",
            "key": "zhijunfu",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
            },
            "displayName": "Zhijun Fu",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=zhijunfu",
            "name": "zhijunfu",
            "key": "zhijunfu",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
            },
            "displayName": "Zhijun Fu",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "aggregateprogress": {
            "progress": 3600,
            "total": 3600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 3600,
            "total": 3600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2539/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 6,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13157084/worklog/98238",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "zhijunfu commented on issue #1993:  ARROW-2539: [Plasma] Use unique_ptr instead of raw pointer\nURL: https://github.com/apache/arrow/pull/1993#issuecomment-386587199\n \n \n   @xhochy Thanks for the comment. I checked current plasma code and it uses unique_ptr<uint8_t[]> for similar cases when wrapping a raw pointer, it seems that using unique_ptr is more consistent with the rest of code compared to using a vector. \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-04T12:33:04.304+0000",
                    "updated": "2018-05-04T12:33:04.304+0000",
                    "started": "2018-05-04T12:33:04.304+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98238",
                    "issueId": "13157084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13157084/worklog/98563",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pcmoritz commented on issue #1993:  ARROW-2539: [Plasma] Use unique_ptr instead of raw pointer\nURL: https://github.com/apache/arrow/pull/1993#issuecomment-386706556\n \n \n   Thanks for doing this, it is definitely an improvement! I'm going to merge and then we can see if it is possible to get rid of this and the other `uint8_t*` and replace them by vectors in the rest of the codebase.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-04T19:21:35.036+0000",
                    "updated": "2018-05-04T19:21:35.036+0000",
                    "started": "2018-05-04T19:21:35.035+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98563",
                    "issueId": "13157084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13157084/worklog/98567",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pcmoritz closed pull request #1993: ARROW-2539: [Plasma] Use unique_ptr instead of raw pointer\nURL: https://github.com/apache/arrow/pull/1993\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/cpp/src/plasma/client.cc b/cpp/src/plasma/client.cc\nindex 2a6f1836a3..b4ee0983f1 100644\n--- a/cpp/src/plasma/client.cc\n+++ b/cpp/src/plasma/client.cc\n@@ -874,11 +874,11 @@ Status PlasmaClient::Impl::Subscribe(int* fd) {\n \n Status PlasmaClient::Impl::GetNotification(int fd, ObjectID* object_id,\n                                            int64_t* data_size, int64_t* metadata_size) {\n-  uint8_t* notification = read_message_async(fd);\n+  auto notification = read_message_async(fd);\n   if (notification == NULL) {\n     return Status::IOError(\"Failed to read object notification from Plasma socket\");\n   }\n-  auto object_info = flatbuffers::GetRoot<ObjectInfo>(notification);\n+  auto object_info = flatbuffers::GetRoot<ObjectInfo>(notification.get());\n   ARROW_CHECK(object_info->object_id()->size() == sizeof(ObjectID));\n   memcpy(object_id, object_info->object_id()->data(), sizeof(ObjectID));\n   if (object_info->is_deletion()) {\n@@ -888,7 +888,6 @@ Status PlasmaClient::Impl::GetNotification(int fd, ObjectID* object_id,\n     *data_size = object_info->data_size();\n     *metadata_size = object_info->metadata_size();\n   }\n-  delete[] notification;\n   return Status::OK();\n }\n \ndiff --git a/cpp/src/plasma/io.cc b/cpp/src/plasma/io.cc\nindex 2cba8970e2..4142bf9b4a 100644\n--- a/cpp/src/plasma/io.cc\n+++ b/cpp/src/plasma/io.cc\n@@ -18,6 +18,7 @@\n #include \"plasma/io.h\"\n \n #include <cstdint>\n+#include <memory>\n #include <sstream>\n \n #include \"arrow/status.h\"\n@@ -210,7 +211,7 @@ int AcceptClient(int socket_fd) {\n   return client_fd;\n }\n \n-uint8_t* read_message_async(int sock) {\n+std::unique_ptr<uint8_t[]> read_message_async(int sock) {\n   int64_t size;\n   Status s = ReadBytes(sock, reinterpret_cast<uint8_t*>(&size), sizeof(int64_t));\n   if (!s.ok()) {\n@@ -219,10 +220,9 @@ uint8_t* read_message_async(int sock) {\n     close(sock);\n     return NULL;\n   }\n-  uint8_t* message = reinterpret_cast<uint8_t*>(malloc(size));\n-  s = ReadBytes(sock, message, size);\n+  auto message = std::unique_ptr<uint8_t[]>(new uint8_t[size]);\n+  s = ReadBytes(sock, message.get(), size);\n   if (!s.ok()) {\n-    free(message);\n     /* The other side has closed the socket. */\n     ARROW_LOG(DEBUG) << \"Socket has been closed, or some other error has occurred.\";\n     close(sock);\ndiff --git a/cpp/src/plasma/io.h b/cpp/src/plasma/io.h\nindex 4beb1346be..8869c9b8cb 100644\n--- a/cpp/src/plasma/io.h\n+++ b/cpp/src/plasma/io.h\n@@ -23,6 +23,7 @@\n #include <sys/un.h>\n #include <unistd.h>\n \n+#include <memory>\n #include <string>\n #include <vector>\n \n@@ -56,7 +57,7 @@ Status ConnectIpcSocketRetry(const std::string& pathname, int num_retries,\n \n int AcceptClient(int socket_fd);\n \n-uint8_t* read_message_async(int sock);\n+std::unique_ptr<uint8_t[]> read_message_async(int sock);\n \n }  // namespace plasma\n \ndiff --git a/cpp/src/plasma/plasma.cc b/cpp/src/plasma/plasma.cc\nindex 0a019ddf3e..e57049d888 100644\n--- a/cpp/src/plasma/plasma.cc\n+++ b/cpp/src/plasma/plasma.cc\n@@ -51,13 +51,14 @@ int warn_if_sigpipe(int status, int client_sock) {\n  * @return The object info buffer. It is the caller's responsibility to free\n  *         this buffer with \"delete\" after it has been used.\n  */\n-uint8_t* create_object_info_buffer(ObjectInfoT* object_info) {\n+std::unique_ptr<uint8_t[]> create_object_info_buffer(ObjectInfoT* object_info) {\n   flatbuffers::FlatBufferBuilder fbb;\n   auto message = CreateObjectInfo(fbb, object_info);\n   fbb.Finish(message);\n-  uint8_t* notification = new uint8_t[sizeof(int64_t) + fbb.GetSize()];\n-  *(reinterpret_cast<int64_t*>(notification)) = fbb.GetSize();\n-  memcpy(notification + sizeof(int64_t), fbb.GetBufferPointer(), fbb.GetSize());\n+  auto notification =\n+      std::unique_ptr<uint8_t[]>(new uint8_t[sizeof(int64_t) + fbb.GetSize()]);\n+  *(reinterpret_cast<int64_t*>(notification.get())) = fbb.GetSize();\n+  memcpy(notification.get() + sizeof(int64_t), fbb.GetBufferPointer(), fbb.GetSize());\n   return notification;\n }\n \ndiff --git a/cpp/src/plasma/plasma.h b/cpp/src/plasma/plasma.h\nindex cfaa927bdc..4b4064c5b2 100644\n--- a/cpp/src/plasma/plasma.h\n+++ b/cpp/src/plasma/plasma.h\n@@ -179,7 +179,7 @@ ObjectTableEntry* get_object_table_entry(PlasmaStoreInfo* store_info,\n /// @return The errno set.\n int warn_if_sigpipe(int status, int client_sock);\n \n-uint8_t* create_object_info_buffer(ObjectInfoT* object_info);\n+std::unique_ptr<uint8_t[]> create_object_info_buffer(ObjectInfoT* object_info);\n \n }  // namespace plasma\n \ndiff --git a/cpp/src/plasma/store.cc b/cpp/src/plasma/store.cc\nindex 5e7b452aee..2caa3cb65d 100644\n--- a/cpp/src/plasma/store.cc\n+++ b/cpp/src/plasma/store.cc\n@@ -118,17 +118,7 @@ PlasmaStore::PlasmaStore(EventLoop* loop, int64_t system_memory, std::string dir\n }\n \n // TODO(pcm): Get rid of this destructor by using RAII to clean up data.\n-PlasmaStore::~PlasmaStore() {\n-  for (const auto& element : pending_notifications_) {\n-    auto object_notifications = element.second.object_notifications;\n-    for (size_t i = 0; i < object_notifications.size(); ++i) {\n-      uint8_t* notification = reinterpret_cast<uint8_t*>(object_notifications.at(i));\n-      uint8_t* data = notification;\n-      // TODO(pcm): Get rid of this delete.\n-      delete[] data;\n-    }\n-  }\n-}\n+PlasmaStore::~PlasmaStore() {}\n \n const PlasmaStoreInfo* PlasmaStore::get_plasma_store_info() { return &store_info_; }\n \n@@ -322,11 +312,11 @@ void PlasmaStore::return_from_get(GetRequest* get_req) {\n }\n \n void PlasmaStore::update_object_get_requests(const ObjectID& object_id) {\n-  std::vector<GetRequest*>& get_requests = object_get_requests_[object_id];\n+  auto& get_requests = object_get_requests_[object_id];\n   size_t index = 0;\n   size_t num_requests = get_requests.size();\n   for (size_t i = 0; i < num_requests; ++i) {\n-    GetRequest* get_req = get_requests[index];\n+    auto get_req = get_requests[index];\n     auto entry = get_object_table_entry(&store_info_, object_id);\n     ARROW_CHECK(entry != NULL);\n \n@@ -356,7 +346,7 @@ void PlasmaStore::process_get_request(Client* client,\n                                       const std::vector<ObjectID>& object_ids,\n                                       int64_t timeout_ms) {\n   // Create a get request for this object.\n-  GetRequest* get_req = new GetRequest(client, object_ids);\n+  auto get_req = new GetRequest(client, object_ids);\n \n   for (auto object_id : object_ids) {\n     // Check if this object is already present locally. If so, record that the\n@@ -582,13 +572,12 @@ void PlasmaStore::send_notifications(int client_fd) {\n   // Loop over the array of pending notifications and send as many of them as\n   // possible.\n   for (size_t i = 0; i < it->second.object_notifications.size(); ++i) {\n-    uint8_t* notification =\n-        reinterpret_cast<uint8_t*>(it->second.object_notifications.at(i));\n+    auto& notification = it->second.object_notifications.at(i);\n     // Decode the length, which is the first bytes of the message.\n-    int64_t size = *(reinterpret_cast<int64_t*>(notification));\n+    int64_t size = *(reinterpret_cast<int64_t*>(notification.get()));\n \n     // Attempt to send a notification about this object ID.\n-    ssize_t nbytes = send(client_fd, notification, sizeof(int64_t) + size, 0);\n+    ssize_t nbytes = send(client_fd, notification.get(), sizeof(int64_t) + size, 0);\n     if (nbytes >= 0) {\n       ARROW_CHECK(nbytes == static_cast<ssize_t>(sizeof(int64_t)) + size);\n     } else if (nbytes == -1 &&\n@@ -613,9 +602,6 @@ void PlasmaStore::send_notifications(int client_fd) {\n       }\n     }\n     num_processed += 1;\n-    // The corresponding malloc happened in create_object_info_buffer\n-    // within push_notification.\n-    delete[] notification;\n   }\n   // Remove the sent notifications from the array.\n   it->second.object_notifications.erase(\n@@ -636,8 +622,8 @@ void PlasmaStore::send_notifications(int client_fd) {\n \n void PlasmaStore::push_notification(ObjectInfoT* object_info) {\n   for (auto& element : pending_notifications_) {\n-    uint8_t* notification = create_object_info_buffer(object_info);\n-    element.second.object_notifications.push_back(notification);\n+    auto notification = create_object_info_buffer(object_info);\n+    element.second.object_notifications.emplace_back(std::move(notification));\n     send_notifications(element.first);\n     // The notification gets freed in send_notifications when the notification\n     // is sent over the socket.\ndiff --git a/cpp/src/plasma/store.h b/cpp/src/plasma/store.h\nindex d97cdf7f8f..ac6b2c4c50 100644\n--- a/cpp/src/plasma/store.h\n+++ b/cpp/src/plasma/store.h\n@@ -37,7 +37,7 @@ struct GetRequest;\n struct NotificationQueue {\n   /// The object notifications for clients. We notify the client about the\n   /// objects in the order that the objects were sealed or deleted.\n-  std::deque<uint8_t*> object_notifications;\n+  std::deque<std::unique_ptr<uint8_t[]>> object_notifications;\n };\n \n /// Contains all information that is associated with a Plasma store client.\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-04T19:25:21.001+0000",
                    "updated": "2018-05-04T19:25:21.001+0000",
                    "started": "2018-05-04T19:25:21.000+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98567",
                    "issueId": "13157084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13157084/worklog/98699",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "zhijunfu commented on issue #1993: ARROW-2539: [Plasma] Use unique_ptr instead of raw pointer\nURL: https://github.com/apache/arrow/pull/1993#issuecomment-386796278\n \n \n   Thanks Philipp:)\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-05T10:39:02.958+0000",
                    "updated": "2018-05-05T10:39:02.958+0000",
                    "started": "2018-05-05T10:39:02.957+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98699",
                    "issueId": "13157084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13157084/worklog/99696",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pcmoritz commented on issue #1993: ARROW-2539: [Plasma] Use unique_ptr instead of raw pointer\nURL: https://github.com/apache/arrow/pull/1993#issuecomment-387526975\n \n \n   @zhijunfu Do you have an idea if this issue could be related to the change: https://issues.apache.org/jira/browse/ARROW-2552\r\n   \r\n   It could also be https://github.com/apache/arrow/commit/b916c797833541299f9c3adc6e24d109359b7a6c or the combination of the two (?)\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-08T20:10:01.157+0000",
                    "updated": "2018-05-08T20:10:01.157+0000",
                    "started": "2018-05-08T20:10:01.156+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "99696",
                    "issueId": "13157084"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13157084/worklog/99712",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pcmoritz commented on issue #1993: ARROW-2539: [Plasma] Use unique_ptr instead of raw pointer\nURL: https://github.com/apache/arrow/pull/1993#issuecomment-387526975\n \n \n   @zhijunfu Do you have an idea if this issue could be related to the change: https://issues.apache.org/jira/browse/ARROW-2552\r\n   \r\n   It could also be https://github.com/apache/arrow/commit/0f0717148ec2a216b88f667f68d936d7f0810df8 or the combination of the two (?)\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-08T20:33:16.127+0000",
                    "updated": "2018-05-08T20:33:16.127+0000",
                    "started": "2018-05-08T20:33:16.127+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "99712",
                    "issueId": "13157084"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 3600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@78cabfb0[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6ab79908[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@23a3229b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@758a803e[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3517ab2c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@72b7e9fe[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@483aaac9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@69905880[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6156d055[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@2c632d98[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3192a63f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@5a2dbcd5[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 3600,
        "customfield_12312520": null,
        "customfield_12312521": "Fri May 04 19:25:42 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-05-04T19:25:42.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2539/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2018-05-04T08:09:21.000+0000",
        "updated": "2018-07-27T15:51:16.000+0000",
        "timeoriginalestimate": null,
        "description": "There are some places in Plasma where explicit new & delete are used, forgetting to delete can cause memory leak. Use unique_ptr instead when possible so that memory gets deleted automatically.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 3600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Plasma] Use unique_ptr instead of raw pointer",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13157084/comment/16463537",
                    "id": "16463537",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=zhijunfu",
                        "name": "zhijunfu",
                        "key": "zhijunfu",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
                        },
                        "displayName": "Zhijun Fu",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "body": "I've created an PR for this:\r\n\r\n[https://github.com/apache/arrow/pull/1993]\r\n\r\n\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=zhijunfu",
                        "name": "zhijunfu",
                        "key": "zhijunfu",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
                        },
                        "displayName": "Zhijun Fu",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "created": "2018-05-04T08:13:02.038+0000",
                    "updated": "2018-05-04T08:13:02.038+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13157084/comment/16464305",
                    "id": "16464305",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pcmoritz",
                        "name": "pcmoritz",
                        "key": "pcmoritz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Philipp Moritz",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Issue resolved by pull request 1993\n[https://github.com/apache/arrow/pull/1993]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pcmoritz",
                        "name": "pcmoritz",
                        "key": "pcmoritz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Philipp Moritz",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-05-04T19:25:42.940+0000",
                    "updated": "2018-05-04T19:25:42.940+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|i3tc9b:",
        "customfield_12314139": null
    }
}