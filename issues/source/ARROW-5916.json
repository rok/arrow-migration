{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13244508",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244508",
    "key": "ARROW-5916",
    "fields": {
        "fixVersions": [],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/7",
            "id": "7",
            "description": "Later",
            "name": "Later"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "1.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
            "name": "Closed",
            "id": "6",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jgm-ktg",
            "name": "jgm-ktg",
            "key": "jgm-ktg",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=jgm-ktg&avatarId=38979",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jgm-ktg&avatarId=38979",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jgm-ktg&avatarId=38979",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jgm-ktg&avatarId=38979"
            },
            "displayName": "John Muehlhausen",
            "active": true,
            "timeZone": "America/Chicago"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jgm-ktg",
            "name": "jgm-ktg",
            "key": "jgm-ktg",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=jgm-ktg&avatarId=38979",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jgm-ktg&avatarId=38979",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jgm-ktg&avatarId=38979",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jgm-ktg&avatarId=38979"
            },
            "displayName": "John Muehlhausen",
            "active": true,
            "timeZone": "America/Chicago"
        },
        "aggregateprogress": {
            "progress": 4800,
            "total": 4800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 4800,
            "total": 4800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5916/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 8,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244508/worklog/328758",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jgm-ktg commented on pull request #5663: ARROW-5916: [C++] Allow RecordBatch.length to be less than array lengths\nURL: https://github.com/apache/arrow/pull/5663\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-15T19:27:47.120+0000",
                    "updated": "2019-10-15T19:27:47.120+0000",
                    "started": "2019-10-15T19:27:47.120+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "328758",
                    "issueId": "13244508"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244508/worklog/328760",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on issue #5663: ARROW-5916: [C++] Allow RecordBatch.length to be less than array lengths\nURL: https://github.com/apache/arrow/pull/5663#issuecomment-542372394\n \n \n   https://issues.apache.org/jira/browse/ARROW-5916\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-15T19:40:07.220+0000",
                    "updated": "2019-10-15T19:40:07.220+0000",
                    "started": "2019-10-15T19:40:07.219+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "328760",
                    "issueId": "13244508"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244508/worklog/328762",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #5663: ARROW-5916: [C++] Allow RecordBatch.length to be less than array lengths\nURL: https://github.com/apache/arrow/pull/5663#issuecomment-542374471\n \n \n   I'm still having a hard time with this, I'm concerned about the implications for other implementations. \r\n   \r\n   We have `custom_metadata` in `Message` here\r\n   \r\n   https://github.com/apache/arrow/blob/master/format/Message.fbs#L98\r\n   \r\n   This isn't properly exposed yet in C++, but it seems like this would be the place to serialize instructions for your application to slice the record batches that are coming out. We might need to return to this discussion on the mailing list now that we have a concrete implementation proposal to look at (which was absent in the past). \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-15T19:45:31.327+0000",
                    "updated": "2019-10-15T19:45:31.327+0000",
                    "started": "2019-10-15T19:45:31.326+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "328762",
                    "issueId": "13244508"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244508/worklog/347713",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy commented on issue #5663: ARROW-5916: [C++] Allow RecordBatch.length to be less than array lengths\nURL: https://github.com/apache/arrow/pull/5663#issuecomment-557279338\n \n \n   I cannot find the correct mail thread but I remember there was one. Can someone point me to it? I currently would object to this PR as this seems to is a huge complication I don't really understand the need for. The RecordBatch is actually quite a good structure as you will not have to deal with chunking and can make the simple assumption that all its arrays are of the same length.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-21T21:27:20.035+0000",
                    "updated": "2019-11-21T21:27:20.035+0000",
                    "started": "2019-11-21T21:27:20.035+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "347713",
                    "issueId": "13244508"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244508/worklog/373334",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jgm-ktg commented on issue #5663: ARROW-5916: [C++] Allow RecordBatch.length to be less than array lengths\nURL: https://github.com/apache/arrow/pull/5663#issuecomment-575414909\n \n \n   > I cannot find the correct mail thread but I remember there was one. Can someone point me to it? I currently would object to this PR as this seems to is a huge complication I don't really understand the need for. The RecordBatch is actually quite a good structure as you will not have to deal with chunking and can make the simple assumption that all its arrays are of the same length.\r\n   \r\n   @xhochy \r\n   \r\n   https://lists.apache.org/thread.html/2692dd8fe09c92aa313bded2f4c2d4240b9ef75a8604ec214eb02571@%3Cdev.arrow.apache.org%3E\r\n   with special reference to https://www.dropbox.com/sh/6ycfuivrx70q2jx/AAAt-RDaZWmQ2VqlM-0s6TqWa?dl=0\r\n   \r\n   I'll take another shot at it; there are two motives:\r\n   \r\n   (1) We want to pre-allocate an entire batch, perhaps by popping it from a pool of pre-built batches, and populate it by overwriting row data.  In the case of variable-length fields it may be that we cannot completely fill the batch.  (See the Dropbox link above for illustrations.)  By writing a batch length that is less than the array lengths we can \"close\" the batch without the inefficiencies of retooling our allocations.  Think of this in a shared memory context or a mapped file context.  \"Vanilla\" IPC readers would not stumble over this if the proposal were adopted... e.g. a pyarrow reader of a batch in a file would read only the relevant slice without the need for side-car data.\r\n   \r\n   (I believe that this strategy of pre-allocating and wasting space will be the fastest way to compose a batch, but I have not yet had time to write a comparison with current batch-building algos to prove the point.)\r\n   \r\n   (2) With appropriate consistency locking in place, we may want to analyze the results of a batch before it is completely constructed using the method in #1.  Again it seems helpful to communicate in the metadata how much of the batch is populated.\r\n   \r\n   These considerations only have considerable strength in my mind because of the desire for readers of such batches to be unaware that they are \"special.\"  A researcher using pyarrow to surf a file that was created from such batches should not have to jump through hoops to know what to ignore, IMHO.\r\n   \r\n   I realize that consideration #2 breaks the immutability doctrine surrounding batches... a doctrine that will be broken on a regular basis by applications that cannot afford to choose between latency and columnar layout.  This being the case, I really think it is worth the effort to make it official and put some guidance around it.  But even without this consideration, I believe that universal compatibility (on the reader side) with batches built using the space/time tradeoff (in favor of time) in #1 justifies this simple change that does not seem to be injurious to anything else.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-17T00:47:08.544+0000",
                    "updated": "2020-01-17T00:47:08.544+0000",
                    "started": "2020-01-17T00:47:08.544+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "373334",
                    "issueId": "13244508"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244508/worklog/373337",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jgm-ktg commented on issue #5663: ARROW-5916: [C++] Allow RecordBatch.length to be less than array lengths\nURL: https://github.com/apache/arrow/pull/5663#issuecomment-575414909\n \n \n   > I cannot find the correct mail thread but I remember there was one. Can someone point me to it? I currently would object to this PR as this seems to is a huge complication I don't really understand the need for. The RecordBatch is actually quite a good structure as you will not have to deal with chunking and can make the simple assumption that all its arrays are of the same length.\r\n   \r\n   @xhochy \r\n   \r\n   https://lists.apache.org/thread.html/2692dd8fe09c92aa313bded2f4c2d4240b9ef75a8604ec214eb02571@%3Cdev.arrow.apache.org%3E\r\n   with special reference to https://www.dropbox.com/sh/6ycfuivrx70q2jx/AAAt-RDaZWmQ2VqlM-0s6TqWa?dl=0\r\n   \r\n   I'll take another shot at it; there are two motives:\r\n   \r\n   (1) We want to pre-allocate an entire batch, perhaps by popping it from a pool of pre-built batches, and populate it by overwriting row data.  In the case of variable-length fields it may be that we cannot completely fill the batch.  (See the Dropbox link above for illustrations.)  By writing a batch length that is less than the array lengths we can \"close\" the batch without the inefficiencies of retooling our allocations.  Think of this in a shared memory context or a mapped file context.  \"Vanilla\" IPC readers would not stumble over this if the proposal were adopted... e.g. a pyarrow reader of a batch in a file would read only the relevant slice without the need for side-car data.\r\n   \r\n   (I believe that this strategy of pre-allocating and wasting space will be the fastest way to compose a batch, but I have not yet had time to write a comparison with current batch-building algos to prove the point.)\r\n   \r\n   (2) With appropriate consistency locking in place, we may want to analyze the results of a batch before it is completely constructed using the method in (1).  Again it seems helpful to communicate in the metadata how much of the batch is populated.\r\n   \r\n   These considerations only have considerable strength in my mind because of the desire for readers of such batches to be unaware that they are \"special.\"  A researcher using pyarrow to surf a file that was created from such batches should not have to jump through hoops to know what to ignore, IMHO.\r\n   \r\n   I realize that consideration (2) breaks the immutability doctrine surrounding batches... a doctrine that will be broken on a regular basis by applications that cannot afford to choose between latency and columnar layout.  This being the case, I really think it is worth the effort to make it official and put some guidance around it.  But even without this consideration, I believe that universal compatibility (on the reader side) with batches built using the space/time tradeoff (in favor of time) in (1) justifies this simple change that does not seem to be injurious to anything else.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-17T00:49:11.362+0000",
                    "updated": "2020-01-17T00:49:11.362+0000",
                    "started": "2020-01-17T00:49:11.361+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "373337",
                    "issueId": "13244508"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244508/worklog/380652",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on issue #5663: ARROW-5916: [C++] Allow RecordBatch.length to be less than array lengths\nURL: https://github.com/apache/arrow/pull/5663#issuecomment-581226950\n \n \n   Per mailing list thread and discussion here by PMC members I think this is a specialized enough use-case that we shouldn't be altering this check in the code base.  \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-03T04:00:12.036+0000",
                    "updated": "2020-02-03T04:00:12.036+0000",
                    "started": "2020-02-03T04:00:12.036+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "380652",
                    "issueId": "13244508"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244508/worklog/380653",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #5663: ARROW-5916: [C++] Allow RecordBatch.length to be less than array lengths\nURL: https://github.com/apache/arrow/pull/5663\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-03T04:00:12.533+0000",
                    "updated": "2020-02-03T04:00:12.533+0000",
                    "started": "2020-02-03T04:00:12.533+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "380653",
                    "issueId": "13244508"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 4800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@626e37d[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@13f13798[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@46044cb0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@5c53fe1f[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@55a57ccc[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@61389313[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@53d3248[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@465d97f6[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3860d0ed[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1d656cf9[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7126b26f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@5bee699a[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 4800,
        "customfield_12312520": null,
        "customfield_12312521": "Mon May 25 15:22:46 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-05-25T15:22:46.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5916/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2019-07-12T04:34:10.000+0000",
        "updated": "2020-05-25T15:22:46.000+0000",
        "timeoriginalestimate": null,
        "description": "0.13 ignored RecordBatch.length. \u00a00.14 requires that RecordBatch.length and array length be equal. \u00a0As per [https://lists.apache.org/thread.html/2692dd8fe09c92aa313bded2f4c2d4240b9ef75a8604ec214eb02571@%3Cdev.arrow.apache.org%3E]\u00a0, we discussed changing this so that RecordBatch.length can be [0,array length].\r\n\r\n\u00a0If RecordBatch.length is less than array length, the reader should ignore the portion of the array(s) beyond RecordBatch.length. \u00a0This will allow partially populated batches to be read in scenarios identified in the above discussion.\r\n\r\n{code:c++}\r\n  Status GetFieldMetadata(int field_index, ArrayData* out) {\r\n    auto nodes = metadata_->nodes();\r\n    // pop off a field\r\n    if (field_index >= static_cast<int>(nodes->size())) {\r\n      return Status::Invalid(\"Ran out of field metadata, likely malformed\");\r\n    }\r\n    const flatbuf::FieldNode* node = nodes->Get(field_index);\r\n\r\n*    //out->length = node->length();*\r\n*    out->length = metadata_->length();*\r\n    out->null_count = node->null_count();\r\n    out->offset = 0;\r\n    return Status::OK();\r\n  }\r\n{code}\r\n\r\nAttached is a test IPC File containing a batch with length 1, array length 3.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 4800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12974470",
                "id": "12974470",
                "filename": "test.arrow_ipc",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=jgm-ktg",
                    "name": "jgm-ktg",
                    "key": "jgm-ktg",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=jgm-ktg&avatarId=38979",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jgm-ktg&avatarId=38979",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jgm-ktg&avatarId=38979",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jgm-ktg&avatarId=38979"
                    },
                    "displayName": "John Muehlhausen",
                    "active": true,
                    "timeZone": "America/Chicago"
                },
                "created": "2019-07-12T04:26:31.952+0000",
                "size": 470,
                "mimeType": "application/octet-stream",
                "content": "https://issues.apache.org/jira/secure/attachment/12974470/test.arrow_ipc"
            }
        ],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Allow RecordBatch.length to be less than array lengths",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244508/comment/16884058",
                    "id": "16884058",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "I think that the fields' length needs to be respected in {{GetFieldMetadata}} (since this can vary for nested fields). The appropriate fix is probably here:\r\n\r\nhttps://github.com/apache/arrow/blob/master/cpp/src/arrow/ipc/reader.cc#L368\r\n\r\nIf the arrays come back from {{LoadArray}} longer than {{num_rows}}, then the record batch should be constructed then sliced. ",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-07-12T18:08:16.469+0000",
                    "updated": "2019-07-12T18:08:53.413+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244508/comment/17116115",
                    "id": "17116115",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "We didn't reach a conclusion on this so closing for now",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2020-05-25T15:22:46.332+0000",
                    "updated": "2020-05-25T15:22:46.332+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z04ljs:",
        "customfield_12314139": null
    }
}