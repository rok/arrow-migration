{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13259514",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514",
    "key": "ARROW-6732",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12340948",
                "id": "12340948",
                "description": "",
                "name": "0.16.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-02-07"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/2",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.svg",
            "name": "Critical",
            "id": "2"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
            "name": "fan_li_ya",
            "key": "fan_li_ya",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Liya Fan",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
            "name": "fan_li_ya",
            "key": "fan_li_ya",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Liya Fan",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
            "name": "fan_li_ya",
            "key": "fan_li_ya",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Liya Fan",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "aggregateprogress": {
            "progress": 9600,
            "total": 9600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 9600,
            "total": 9600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-6732/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 16,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/320202",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5540: [ARROW-6732][Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540\n \n \n   The current quick sort algorithm in implemented by a recursive algorithm. The problem is that for the worst case, the number of recursive layers is equal to the length of the vector. For large vectors, this will cause stack overflow.\r\n   \r\n   To solve this problem, we implement the quick sort algorithm as a non-recursive algorithm.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-29T12:09:11.792+0000",
                    "updated": "2019-09-29T12:09:11.792+0000",
                    "started": "2019-09-29T12:09:11.790+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "320202",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/320263",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on issue #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540#issuecomment-536329774\n \n \n   https://issues.apache.org/jira/browse/ARROW-6732\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-29T18:46:12.965+0000",
                    "updated": "2019-09-29T18:46:12.965+0000",
                    "started": "2019-09-29T18:46:12.965+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "320263",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/320412",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540#discussion_r329487232\n \n \n\n ##########\n File path: java/algorithm/src/test/java/org/apache/arrow/algorithm/sort/TestFixedWidthInPlaceVectorSorter.java\n ##########\n @@ -83,4 +83,35 @@ public void testSortInt() {\n       Assert.assertEquals(35, vec.get(9));\n     }\n   }\n+\n+  /**\n+   * Tests the worst case for quick sort.\n+   * It may cause stack overflow if the algorithm is implemented as a recursive algorithm.\n+   */\n+  @Test\n+  public void testSortLargeIncreasingInt() {\n \n Review comment:\n   If this is a worse-case for your quick sort implementation, then the implementation is deficient. The way to avoid such degenerate cases is with better pivot selection. You'll have ample resources about that, for example:\r\n   https://stackoverflow.com/questions/164163/quicksort-choosing-the-pivot\r\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-30T09:31:58.521+0000",
                    "updated": "2019-09-30T09:31:58.521+0000",
                    "started": "2019-09-30T09:31:58.521+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "320412",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/320413",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540#discussion_r329487473\n \n \n\n ##########\n File path: java/algorithm/src/test/java/org/apache/arrow/algorithm/sort/TestFixedWidthInPlaceVectorSorter.java\n ##########\n @@ -83,4 +83,35 @@ public void testSortInt() {\n       Assert.assertEquals(35, vec.get(9));\n     }\n   }\n+\n+  /**\n+   * Tests the worst case for quick sort.\n+   * It may cause stack overflow if the algorithm is implemented as a recursive algorithm.\n+   */\n+  @Test\n+  public void testSortLargeIncreasingInt() {\n \n Review comment:\n   In other words, this PR really looks like the wrong solution to the problem.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-30T09:32:31.664+0000",
                    "updated": "2019-09-30T09:32:31.664+0000",
                    "started": "2019-09-30T09:32:31.663+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "320413",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/320414",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540#discussion_r329487232\n \n \n\n ##########\n File path: java/algorithm/src/test/java/org/apache/arrow/algorithm/sort/TestFixedWidthInPlaceVectorSorter.java\n ##########\n @@ -83,4 +83,35 @@ public void testSortInt() {\n       Assert.assertEquals(35, vec.get(9));\n     }\n   }\n+\n+  /**\n+   * Tests the worst case for quick sort.\n+   * It may cause stack overflow if the algorithm is implemented as a recursive algorithm.\n+   */\n+  @Test\n+  public void testSortLargeIncreasingInt() {\n \n Review comment:\n   If this is a worse-case for your quick sort implementation, then the implementation is deficient. The way to avoid such degenerate cases is with better pivot selection. You'll find ample resources on the Internet about that, for example:\r\n   https://stackoverflow.com/questions/164163/quicksort-choosing-the-pivot\r\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-30T09:32:49.804+0000",
                    "updated": "2019-09-30T09:32:49.804+0000",
                    "started": "2019-09-30T09:32:49.803+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "320414",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/320457",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540#discussion_r329522029\n \n \n\n ##########\n File path: java/algorithm/src/test/java/org/apache/arrow/algorithm/sort/TestFixedWidthInPlaceVectorSorter.java\n ##########\n @@ -83,4 +83,35 @@ public void testSortInt() {\n       Assert.assertEquals(35, vec.get(9));\n     }\n   }\n+\n+  /**\n+   * Tests the worst case for quick sort.\n+   * It may cause stack overflow if the algorithm is implemented as a recursive algorithm.\n+   */\n+  @Test\n+  public void testSortLargeIncreasingInt() {\n \n Review comment:\n   @pitrou Thanks a lot for your good point.\r\n   \r\n   I guess my description is a little confusing. \r\n   Avoiding stack overflow and choosing good pivot are two problems. \r\n   \r\n   Choosing a good pivot may alleviate the problem of stack flow. However, it cannot resolve it completely. The fundamental cause of stack overflow is the recursive implementation.\r\n   \r\n   This PR is devoted to the problem of stack over flow. \r\n   \r\n   There are lots of literature concerning choosing a good pivot (as you have indicated). So I think it deserves some survey and investigation and I want to resolve it in a separate PR. \r\n   \r\n   What do you think?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-30T11:06:46.358+0000",
                    "updated": "2019-09-30T11:06:46.358+0000",
                    "started": "2019-09-30T11:06:46.358+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "320457",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/320459",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540#discussion_r329526223\n \n \n\n ##########\n File path: java/algorithm/src/test/java/org/apache/arrow/algorithm/sort/TestFixedWidthInPlaceVectorSorter.java\n ##########\n @@ -83,4 +83,35 @@ public void testSortInt() {\n       Assert.assertEquals(35, vec.get(9));\n     }\n   }\n+\n+  /**\n+   * Tests the worst case for quick sort.\n+   * It may cause stack overflow if the algorithm is implemented as a recursive algorithm.\n+   */\n+  @Test\n+  public void testSortLargeIncreasingInt() {\n \n Review comment:\n   The stack overflow is due to the algorithm degenerating into O(`n**2`) runtime behaviour (and O(n) stack occupation behaviour). It's true that O(`n**2`) behaviour is always possible, theoretically.\r\n   \r\n   It sounds fine to defer pivot choice to a separate PR, you should just make sure that it's not forgotten :-) Especially, an already-sorted array is such a common case that you don't want it to degenerate into quadratic behaviour.\r\n   \r\n   As for the stack implementation, I don't have anything to say about it since I'm not a Java expert (though it does look a bit weird to allocate each integer pair separately :-)).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-30T11:20:31.731+0000",
                    "updated": "2019-09-30T11:20:31.731+0000",
                    "started": "2019-09-30T11:20:31.730+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "320459",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/320509",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540#discussion_r329588106\n \n \n\n ##########\n File path: java/algorithm/src/test/java/org/apache/arrow/algorithm/sort/TestFixedWidthInPlaceVectorSorter.java\n ##########\n @@ -83,4 +83,35 @@ public void testSortInt() {\n       Assert.assertEquals(35, vec.get(9));\n     }\n   }\n+\n+  /**\n+   * Tests the worst case for quick sort.\n+   * It may cause stack overflow if the algorithm is implemented as a recursive algorithm.\n+   */\n+  @Test\n+  public void testSortLargeIncreasingInt() {\n \n Review comment:\n   Sure. Thank you so much for your feedback. \r\n   \r\n   I agree with you that increasing array is a common case, and we should take good care of it. We will not forget about it, as it is recorded as a point in Section 2.2 of our design doc (https://docs.google.com/document/d/17nqHWS7gs0vARfeDAcUEbhKMOYHnCtA46TOY_Nls69s/edit?ts=5d825127#heading=h.3432tw3uqfeg).\r\n   \r\n   It is weird to use int arrays as stack elements. A pair would be more readable. However, a pair would introduce auto boxing/unboxing overhead. I think this is caused by a difference between Java and C++: for C++, a pair can store primitive types, like int; while for Java, a pair can only store Objects. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-30T13:51:51.898+0000",
                    "updated": "2019-09-30T13:51:51.898+0000",
                    "started": "2019-09-30T13:51:51.897+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "320509",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/320514",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540#discussion_r329594609\n \n \n\n ##########\n File path: java/algorithm/src/test/java/org/apache/arrow/algorithm/sort/TestFixedWidthInPlaceVectorSorter.java\n ##########\n @@ -83,4 +83,35 @@ public void testSortInt() {\n       Assert.assertEquals(35, vec.get(9));\n     }\n   }\n+\n+  /**\n+   * Tests the worst case for quick sort.\n+   * It may cause stack overflow if the algorithm is implemented as a recursive algorithm.\n+   */\n+  @Test\n+  public void testSortLargeIncreasingInt() {\n \n Review comment:\n   Or you can use a stack of integers. Just be careful to push and pop two integers at each step.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-30T14:04:05.608+0000",
                    "updated": "2019-09-30T14:04:05.608+0000",
                    "started": "2019-09-30T14:04:05.607+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "320514",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/321285",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540#discussion_r330086636\n \n \n\n ##########\n File path: java/algorithm/src/test/java/org/apache/arrow/algorithm/sort/TestFixedWidthInPlaceVectorSorter.java\n ##########\n @@ -83,4 +83,35 @@ public void testSortInt() {\n       Assert.assertEquals(35, vec.get(9));\n     }\n   }\n+\n+  /**\n+   * Tests the worst case for quick sort.\n+   * It may cause stack overflow if the algorithm is implemented as a recursive algorithm.\n+   */\n+  @Test\n+  public void testSortLargeIncreasingInt() {\n \n Review comment:\n   Good suggestion. Thanks a lot.\r\n   I have revised the code accordingly.\r\n   \r\n   Note that we still have the overhead of auto boxing/unboxing, because in Java, a Stack can only hold objects.\r\n   However, the overhead is insignificant, compared with the call stack, and I think it is a good balance between performance and readability. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-01T14:24:01.478+0000",
                    "updated": "2019-10-01T14:24:01.478+0000",
                    "started": "2019-10-01T14:24:01.477+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "321285",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/323739",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540#discussion_r331692066\n \n \n\n ##########\n File path: java/algorithm/src/main/java/org/apache/arrow/algorithm/sort/IndexSorter.java\n ##########\n @@ -55,14 +56,27 @@ public void sort(V vector, IntVector indices, VectorValueComparator<V> comparato\n \n     this.comparator = comparator;\n \n-    quickSort(0, indices.getValueCount() - 1);\n+    quickSort();\n   }\n \n-  private void quickSort(int low, int high) {\n-    if (low < high) {\n-      int mid = partition(low, high, indices, comparator);\n-      quickSort(low, mid - 1);\n-      quickSort(mid + 1, high);\n+  private void quickSort() {\n+    Stack<Integer> rangeStack = new Stack<>();\n \n Review comment:\n   By using a stack here you are potentially allocating a decent amount of on-heap space?  Would it be better to allocator a buffer and maintain the stack manually (maybe wrap in an inner OffHeapIntStack class)?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-04T21:27:16.762+0000",
                    "updated": "2019-10-04T21:27:16.762+0000",
                    "started": "2019-10-04T21:27:16.762+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "323739",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/325029",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540#discussion_r332485252\n \n \n\n ##########\n File path: java/algorithm/src/main/java/org/apache/arrow/algorithm/sort/IndexSorter.java\n ##########\n @@ -55,14 +56,27 @@ public void sort(V vector, IntVector indices, VectorValueComparator<V> comparato\n \n     this.comparator = comparator;\n \n-    quickSort(0, indices.getValueCount() - 1);\n+    quickSort();\n   }\n \n-  private void quickSort(int low, int high) {\n-    if (low < high) {\n-      int mid = partition(low, high, indices, comparator);\n-      quickSort(low, mid - 1);\n-      quickSort(mid + 1, high);\n+  private void quickSort() {\n+    Stack<Integer> rangeStack = new Stack<>();\n \n Review comment:\n   Sounds good. Thanks.\r\n   I have provided a simple implementation of OffHeapIntStack. Since it is intented to be used internally (at least for now), it is package private.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-08T12:35:18.215+0000",
                    "updated": "2019-10-08T12:35:18.215+0000",
                    "started": "2019-10-08T12:35:18.214+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "325029",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/325031",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540#issuecomment-539493494\n \n \n   Note that you can avoid a lot of pushing/popping (and limit stack size requirements) by handling one of the two partitions inline. See Numpy's implementation:\r\n   https://github.com/numpy/numpy/blob/master/numpy/core/src/npysort/quicksort.c.src\r\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-08T12:40:33.671+0000",
                    "updated": "2019-10-08T12:40:33.671+0000",
                    "started": "2019-10-08T12:40:33.671+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "325031",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/325451",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on issue #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540#issuecomment-539796874\n \n \n   > Note that you can avoid a lot of pushing/popping (and limit stack size requirements) by handling one of the two partitions inline. See Numpy's implementation:\r\n   > https://github.com/numpy/numpy/blob/master/numpy/core/src/npysort/quicksort.c.src\r\n   \r\n   Awesome! Thank you.\r\n   I have revised the code to push the larger partition first, to reduce the requirement of the stack size.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-09T02:44:10.578+0000",
                    "updated": "2019-10-09T02:44:10.578+0000",
                    "started": "2019-10-09T02:44:10.577+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "325451",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/327212",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on issue #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540#issuecomment-541287079\n \n \n   +1, thank you.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-12T05:29:26.595+0000",
                    "updated": "2019-10-12T05:29:26.595+0000",
                    "started": "2019-10-12T05:29:26.595+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "327212",
                    "issueId": "13259514"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/worklog/327213",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #5540: ARROW-6732: [Java] Implement quick sort in a non-recursive way to avoid stack overflow\nURL: https://github.com/apache/arrow/pull/5540\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-12T05:29:55.255+0000",
                    "updated": "2019-10-12T05:29:55.255+0000",
                    "started": "2019-10-12T05:29:55.254+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "327213",
                    "issueId": "13259514"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 9600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@59885fdb[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2196b9d6[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1e922e50[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@a5e6c5d[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@d4af0e6[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@76b334ab[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@795c6483[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@99c371[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5a8ece44[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@35f7afd2[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2f95bd93[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@61d9615b[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 9600,
        "customfield_12312520": null,
        "customfield_12312521": "Sat Oct 12 05:29:58 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-10-12T05:29:58.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-6732/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2019-09-29T12:05:50.000+0000",
        "updated": "2019-10-12T05:29:58.000+0000",
        "timeoriginalestimate": null,
        "description": "The current quick sort algorithm in implemented by a recursive algorithm. The problem is that for the worst case, the number of recursive layers is equal to the length of the vector.  For large vectors, this will cause stack overflow.\r\n\r\nTo solve this problem, we implement the quick sort algorithm as a non-recursive algorithm.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 40m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 9600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Java] Implement quick sort in a non-recursive way to avoid stack overflow",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13259514/comment/16949915",
                    "id": "16949915",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=emkornfield%40gmail.com",
                        "name": "emkornfield@gmail.com",
                        "key": "emkornfield@gmail.com",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Micah Kornfield",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Issue resolved by pull request 5540\n[https://github.com/apache/arrow/pull/5540]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=emkornfield%40gmail.com",
                        "name": "emkornfield@gmail.com",
                        "key": "emkornfield@gmail.com",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Micah Kornfield",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-10-12T05:29:58.458+0000",
                    "updated": "2019-10-12T05:29:58.458+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z074mg:",
        "customfield_12314139": null
    }
}