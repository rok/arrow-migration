{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13224672",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672",
    "key": "ARROW-5057",
    "fields": {
        "fixVersions": [],
        "resolution": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12344987",
                "id": "12344987",
                "name": "0.12.1",
                "archived": false,
                "released": true,
                "releaseDate": "2019-02-25"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/1",
            "description": "The issue is open and ready for the assignee to start work on it.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
            "name": "Open",
            "id": "1",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
                "id": 2,
                "key": "new",
                "colorName": "blue-gray",
                "name": "To Do"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hitesh.khamesra",
            "name": "hitesh.khamesra",
            "key": "hitesh.khamesra",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Hitesh Khamesra",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=hitesh.khamesra",
            "name": "hitesh.khamesra",
            "key": "hitesh.khamesra",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Hitesh Khamesra",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 16200,
            "total": 16200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 16200,
            "total": 16200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5057/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 27,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/220754",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "hiteshk25 commented on pull request #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079\n \n \n   https://issues.apache.org/jira/browse/ARROW-5057 \r\n   1. added test to demonstrate the issue.\r\n   2. With fix above test pass.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-29T21:40:41.527+0000",
                    "updated": "2019-03-29T21:40:41.527+0000",
                    "started": "2019-03-29T21:40:41.527+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "220754",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/220761",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on issue #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#issuecomment-478161537\n \n \n   @hiteshk25 , can you please update the PR description in the required format - \r\n   \r\n   ARROW-5057: [JAVA] <your description>\r\n   \r\n   \r\n   \r\n   > https://issues.apache.org/jira/browse/ARROW-5057\r\n   > \r\n   > 1. added test to demonstrate the issue.\r\n   > 2. With fix above test pass.\r\n   \r\n   It  would be helpful to provide details of what the problem is and the potential fix. A summary of same should ideally be there in commit message.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-29T21:55:05.054+0000",
                    "updated": "2019-03-29T21:55:05.054+0000",
                    "started": "2019-03-29T21:55:05.054+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "220761",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/220762",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on issue #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#issuecomment-478161537\n \n \n   @hiteshk25 , can you please update the PR description in the required format - \r\n   \r\n   ARROW-5057: [JAVA] <your description>\r\n   \r\n   > https://issues.apache.org/jira/browse/ARROW-5057\r\n   > \r\n   > 1. added test to demonstrate the issue.\r\n   > 2. With fix above test pass.\r\n   \r\n   It  would be helpful to provide details of what the problem is and the potential fix. A summary of same should ideally be there in commit message.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-29T21:55:26.837+0000",
                    "updated": "2019-03-29T21:55:26.837+0000",
                    "started": "2019-03-29T21:55:26.836+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "220762",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/220763",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on issue #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#issuecomment-478161537\n \n \n   @hiteshk25 , can you please update the PR description in the required format - \r\n   \r\n   ARROW-5057: [JAVA] your description\r\n   \r\n   > https://issues.apache.org/jira/browse/ARROW-5057\r\n   > \r\n   > 1. added test to demonstrate the issue.\r\n   > 2. With fix above test pass.\r\n   \r\n   It  would be helpful to provide details of what the problem is and the potential fix. A summary of same should ideally be there in commit message.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-29T21:55:36.955+0000",
                    "updated": "2019-03-29T21:55:36.955+0000",
                    "started": "2019-03-29T21:55:36.955+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "220763",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/220769",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on pull request #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#discussion_r270585382\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/BaseValueVector.java\n ##########\n @@ -159,15 +159,8 @@ protected DataAndValidityBuffers allocFixedDataAndValidityBufs(int valueCount, i\n     } else {\n       // Due to roundup to power-of-2 allocation, the bufferSize could be greater than the\n       // requested size. Utilize the allocated buffer fully.;\n-      int actualCount = (int) ((bufferSize * 8.0) / (8 * typeWidth + 1));\n-      do {\n-        validityBufferSize = (int) roundUp8(getValidityBufferSizeFromCount(actualCount));\n-        dataBufferSize = (int) roundUp8(actualCount * typeWidth);\n-        if (validityBufferSize + dataBufferSize <= bufferSize) {\n-          break;\n-        }\n-        --actualCount;\n-      } while (true);\n+      validityBufferSize = (int) roundUp8(getValidityBufferSizeFromCount(valueCount));\n \n Review comment:\n   @hiteshk25 , can you please give insight into what exactly is the problem here?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-29T21:58:51.593+0000",
                    "updated": "2019-03-29T21:58:51.593+0000",
                    "started": "2019-03-29T21:58:51.592+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "220769",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/220770",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on pull request #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#discussion_r270585429\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestValueVector.java\n ##########\n @@ -259,6 +260,38 @@ public void testFixedType2() {\n     }\n   }\n \n+  private static long roundUp8(long size) {\n+    return ((size + 7) / 8) * 8;\n+  }\n+\n+  /* number of bytes for the validity buffer for the given valueCount */\n+  private static int getValidityBufferSizeFromCount(final int valueCount) {\n+    return (int) Math.ceil(valueCount / 8.0);\n+  }\n+\n+  @Test\n+  public void testIntVectorForAllocation(){\n+    int valueCount = 1000;\n+    int intTypeWidth = 4;\n+\n+    try(final IntVector intVector = new IntVector(\"IntVector\", allocator)) {\n+      intVector.allocateNew(valueCount);\n+\n+      for (int i = 0; i < valueCount; i++) {\n+        intVector.set(i, i);\n+      }\n+\n+      long\n \n Review comment:\n   Formatting seems weird here\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-29T21:59:05.964+0000",
                    "updated": "2019-03-29T21:59:05.964+0000",
                    "started": "2019-03-29T21:59:05.964+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "220770",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/220772",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on pull request #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#discussion_r270586062\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/BaseValueVector.java\n ##########\n @@ -159,15 +159,8 @@ protected DataAndValidityBuffers allocFixedDataAndValidityBufs(int valueCount, i\n     } else {\n       // Due to roundup to power-of-2 allocation, the bufferSize could be greater than the\n       // requested size. Utilize the allocated buffer fully.;\n-      int actualCount = (int) ((bufferSize * 8.0) / (8 * typeWidth + 1));\n-      do {\n-        validityBufferSize = (int) roundUp8(getValidityBufferSizeFromCount(actualCount));\n-        dataBufferSize = (int) roundUp8(actualCount * typeWidth);\n-        if (validityBufferSize + dataBufferSize <= bufferSize) {\n-          break;\n-        }\n-        --actualCount;\n-      } while (true);\n+      validityBufferSize = (int) roundUp8(getValidityBufferSizeFromCount(valueCount));\n \n Review comment:\n   From the description on jira, there is some concern w.r.t release of extra buffer and I see that it is being released as expected at line#195\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-29T22:02:28.871+0000",
                    "updated": "2019-03-29T22:02:28.871+0000",
                    "started": "2019-03-29T22:02:28.870+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "220772",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/220798",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "hiteshk25 commented on pull request #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#discussion_r270601873\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/BaseValueVector.java\n ##########\n @@ -159,15 +159,8 @@ protected DataAndValidityBuffers allocFixedDataAndValidityBufs(int valueCount, i\n     } else {\n       // Due to roundup to power-of-2 allocation, the bufferSize could be greater than the\n       // requested size. Utilize the allocated buffer fully.;\n-      int actualCount = (int) ((bufferSize * 8.0) / (8 * typeWidth + 1));\n-      do {\n-        validityBufferSize = (int) roundUp8(getValidityBufferSizeFromCount(actualCount));\n-        dataBufferSize = (int) roundUp8(actualCount * typeWidth);\n-        if (validityBufferSize + dataBufferSize <= bufferSize) {\n-          break;\n-        }\n-        --actualCount;\n-      } while (true);\n+      validityBufferSize = (int) roundUp8(getValidityBufferSizeFromCount(valueCount));\n \n Review comment:\n   Before fix bufferSize was 8184. It was demonstrated in the test. After the fix buffer size was just 4128. Test passed with that fix and it also puts 1000 values(valueCount) in IntVector to verify that. Now, it releases all extra allocated memory. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-29T23:51:52.610+0000",
                    "updated": "2019-03-29T23:51:52.610+0000",
                    "started": "2019-03-29T23:51:52.610+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "220798",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/220800",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on pull request #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#discussion_r270602892\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/BaseValueVector.java\n ##########\n @@ -159,15 +159,8 @@ protected DataAndValidityBuffers allocFixedDataAndValidityBufs(int valueCount, i\n     } else {\n       // Due to roundup to power-of-2 allocation, the bufferSize could be greater than the\n       // requested size. Utilize the allocated buffer fully.;\n-      int actualCount = (int) ((bufferSize * 8.0) / (8 * typeWidth + 1));\n-      do {\n-        validityBufferSize = (int) roundUp8(getValidityBufferSizeFromCount(actualCount));\n-        dataBufferSize = (int) roundUp8(actualCount * typeWidth);\n-        if (validityBufferSize + dataBufferSize <= bufferSize) {\n-          break;\n-        }\n-        --actualCount;\n-      } while (true);\n+      validityBufferSize = (int) roundUp8(getValidityBufferSizeFromCount(valueCount));\n \n Review comment:\n   I don't think I follow it fully. Are you worried about memory being released properly? If that is the case then memory is being released fine at line#195 AFAIK. Also, I don't see your test case checking for memory leak if that is what your fix is for.\r\n   \r\n   Let's say we allocate an ArrowBuf for 1MB and create two ArrowBufs out of it using slice() of size 256KB each. Now are you suggesting that we are leaking 512KB of memory in the parent buffer?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-30T00:01:43.888+0000",
                    "updated": "2019-03-30T00:01:43.888+0000",
                    "started": "2019-03-30T00:01:43.888+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "220800",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/220801",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "hiteshk25 commented on pull request #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#discussion_r270603313\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/BaseValueVector.java\n ##########\n @@ -159,15 +159,8 @@ protected DataAndValidityBuffers allocFixedDataAndValidityBufs(int valueCount, i\n     } else {\n       // Due to roundup to power-of-2 allocation, the bufferSize could be greater than the\n       // requested size. Utilize the allocated buffer fully.;\n-      int actualCount = (int) ((bufferSize * 8.0) / (8 * typeWidth + 1));\n-      do {\n-        validityBufferSize = (int) roundUp8(getValidityBufferSizeFromCount(actualCount));\n-        dataBufferSize = (int) roundUp8(actualCount * typeWidth);\n-        if (validityBufferSize + dataBufferSize <= bufferSize) {\n-          break;\n-        }\n-        --actualCount;\n-      } while (true);\n+      validityBufferSize = (int) roundUp8(getValidityBufferSizeFromCount(valueCount));\n \n Review comment:\n   No, it's not a memory leak. It's just to make sure how much buffer we need to store 1000 ints(it just requires 4128 bytes). We don't want to allocate 8184 bytes to store just 1000 ints. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-30T00:06:42.460+0000",
                    "updated": "2019-03-30T00:06:42.460+0000",
                    "started": "2019-03-30T00:06:42.459+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "220801",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/220802",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on pull request #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#discussion_r270603959\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/BaseValueVector.java\n ##########\n @@ -159,15 +159,8 @@ protected DataAndValidityBuffers allocFixedDataAndValidityBufs(int valueCount, i\n     } else {\n       // Due to roundup to power-of-2 allocation, the bufferSize could be greater than the\n       // requested size. Utilize the allocated buffer fully.;\n-      int actualCount = (int) ((bufferSize * 8.0) / (8 * typeWidth + 1));\n-      do {\n-        validityBufferSize = (int) roundUp8(getValidityBufferSizeFromCount(actualCount));\n-        dataBufferSize = (int) roundUp8(actualCount * typeWidth);\n-        if (validityBufferSize + dataBufferSize <= bufferSize) {\n-          break;\n-        }\n-        --actualCount;\n-      } while (true);\n+      validityBufferSize = (int) roundUp8(getValidityBufferSizeFromCount(valueCount));\n \n Review comment:\n   That's because of the allocator implementation in Netty that allocates power of 2 chunks. The usual practice has been to use a tuned record count (value count) such that direct memory is allocated optimally for arrow vectors. I believe if you do allocator.getAllocatedMemory() in your test just before the end, it should show 8192\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-30T00:14:41.977+0000",
                    "updated": "2019-03-30T00:14:41.977+0000",
                    "started": "2019-03-30T00:14:41.976+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "220802",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/220803",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "hiteshk25 commented on pull request #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#discussion_r270604343\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/BaseValueVector.java\n ##########\n @@ -159,15 +159,8 @@ protected DataAndValidityBuffers allocFixedDataAndValidityBufs(int valueCount, i\n     } else {\n       // Due to roundup to power-of-2 allocation, the bufferSize could be greater than the\n       // requested size. Utilize the allocated buffer fully.;\n-      int actualCount = (int) ((bufferSize * 8.0) / (8 * typeWidth + 1));\n-      do {\n-        validityBufferSize = (int) roundUp8(getValidityBufferSizeFromCount(actualCount));\n-        dataBufferSize = (int) roundUp8(actualCount * typeWidth);\n-        if (validityBufferSize + dataBufferSize <= bufferSize) {\n-          break;\n-        }\n-        --actualCount;\n-      } while (true);\n+      validityBufferSize = (int) roundUp8(getValidityBufferSizeFromCount(valueCount));\n \n Review comment:\n   Right. With above fix we consume buffer which is required to store 1000 ints. And we release all extra memory.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-30T00:20:31.689+0000",
                    "updated": "2019-03-30T00:20:31.689+0000",
                    "started": "2019-03-30T00:20:31.688+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "220803",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/221342",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#issuecomment-478640697\n \n \n   rebased\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-01T16:02:48.318+0000",
                    "updated": "2019-04-01T16:02:48.318+0000",
                    "started": "2019-04-01T16:02:48.317+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "221342",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/221360",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#issuecomment-478664595\n \n \n   This needs to be rebased again\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-01T17:11:00.273+0000",
                    "updated": "2019-04-01T17:11:00.273+0000",
                    "started": "2019-04-01T17:11:00.272+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "221360",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/221403",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "hiteshk25 commented on issue #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#issuecomment-478691062\n \n \n   I did try to rebase it but there is no change more commit in master.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-01T18:26:35.158+0000",
                    "updated": "2019-04-01T18:26:35.158+0000",
                    "started": "2019-04-01T18:26:35.158+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "221403",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/221581",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#issuecomment-478809183\n \n \n   I'll take care of it. Please make sure to `reset --hard` after I force push the branch\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-02T01:35:45.118+0000",
                    "updated": "2019-04-02T01:35:45.118+0000",
                    "started": "2019-04-02T01:35:45.118+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "221581",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/221582",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #4079: ARROW-5057\nURL: https://github.com/apache/arrow/pull/4079#issuecomment-478809594\n \n \n   Done\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-02T01:38:00.004+0000",
                    "updated": "2019-04-02T01:38:00.004+0000",
                    "started": "2019-04-02T01:38:00.003+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "221582",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/221978",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on issue #4079: ARROW-5057: [Java] Reduce memory usage for new buffer allocation\nURL: https://github.com/apache/arrow/pull/4079#issuecomment-479189160\n \n \n   @hiteshk25 I've updated the pull request title. Could you confirm that it's correct?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-02T20:34:37.668+0000",
                    "updated": "2019-04-02T20:34:37.668+0000",
                    "started": "2019-04-02T20:34:37.667+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "221978",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/221984",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on issue #4079: ARROW-5057: [Java] Reduce memory usage for new buffer allocation\nURL: https://github.com/apache/arrow/pull/4079#issuecomment-479193697\n \n \n   @HiteshKhamesra , I don't think this change is needed especially because the actual amount of allocated memory doesn't get reduce. It is still 8KB. I would like @pravindra  to take another pass especially since he had finetuned this code for optimizing the heap usage and alignment that works better with LLVM.\r\n   \r\n   The memory wastage and optimal usage of direct memory is much dependent on the value count and with the joint buffer allocation scheme (to reduce the heap overhead of ArrowBufs), the value count needs to be carefully adjusted so that joint buffer requirement falls just under power of 2 and thus minimal wastage as opposed to just over power of 2 and thus 2x wastage in your example of 1000 ints.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-02T20:45:27.219+0000",
                    "updated": "2019-04-02T20:45:27.219+0000",
                    "started": "2019-04-02T20:45:27.219+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "221984",
                    "issueId": "13224672"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/worklog/221986",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on issue #4079: ARROW-5057: [Java] Reduce memory usage for new buffer allocation\nURL: https://github.com/apache/arrow/pull/4079#issuecomment-479193697\n \n \n   @HiteshKhamesra , I don't think this change is needed especially because the actual amount of allocated memory doesn't get reduced. It is still 8KB. I would like @pravindra  to take another pass especially since he had fine-tuned this code for optimizing the heap usage and alignment that works better with LLVM.\r\n   \r\n   The memory wastage and optimal usage of direct memory is much dependent on the value count and with the joint buffer allocation scheme (to reduce the heap overhead of ArrowBufs), the value count needs to be carefully adjusted so that joint buffer requirement falls just under power of 2 and thus minimal wastage as opposed to just over power of 2 and thus 2x wastage in your example of 1000 ints.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-02T20:46:18.831+0000",
                    "updated": "2019-04-02T20:46:18.831+0000",
                    "started": "2019-04-02T20:46:18.831+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "221986",
                    "issueId": "13224672"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 16200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@c1bad26[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@64b7d2cf[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2d3f49ef[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@7744d72d[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6139cb1b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@78f214ea[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2fd55a2a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@7ef91d42[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@51377095[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@398a6b1d[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3c0b720c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@a2e6bc2[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 16200,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Mar 28 22:56:27 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": null,
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5057/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2019-03-28T18:43:46.000+0000",
        "updated": "2019-06-03T15:54:19.000+0000",
        "timeoriginalestimate": null,
        "description": "[Class BaseValueVector|https://github.com/apache/arrow/blob/master/java/vector/src/main/java/org/apache/arrow/vector/BaseValueVector.java]\u00a0's method\u00a0allocFixedDataAndValidityBufs on line#162 allocates a buffer in power of 2 size. After that, it has a code to release extra buffer. For that, it calculates the extra buffer from allocated size \"bufferSize\" but in my opinion, it should take original \"valueCount\" to find the extra buffer size.\u00a0\r\n\r\nHere, I see a problem in line#162, where its taking \"bufferSize\" to find the extra allocated bytes. It should be \"valueCount*typeWidth + valueCount/8\".\r\n\r\nHere is an\u00a0example for that. Let's take 1000 ints. Then,\r\n valueCount = 1000 ints\r\n typeWidth = 4 bytes\r\n validitiyBufferSize = 125 bytes\r\n valueBufferSize = 4000 bytes\r\n combinedSize(valueBufferSize + validityBufferSize) = 4128 bytes (multiple of 8)\r\n combinedSizeWith2ThePowerSize = 8192 bytes, this will be \"bufferSize\" at line#152.\r\n\r\nWith the above calculation, this code should release (combinedSizeWith2ThePowerSize - combinedSize) = 4064 bytes. But, this is not happening.\r\n\r\n\u00a0\r\n\r\n\u00a0",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "4.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 16200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Java]  allocate new buffer code doesn't release extra allocated buffer properly",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/comment/16804342",
                    "id": "16804342",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "hi [~hitesh.khamesra], can you submit a pull request with a unit test that demonstrates the bug and a proposed fix?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-03-28T22:06:39.506+0000",
                    "updated": "2019-03-28T22:06:39.506+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13224672/comment/16804396",
                    "id": "16804396",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=hitesh.khamesra",
                        "name": "hitesh.khamesra",
                        "key": "hitesh.khamesra",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Hitesh Khamesra",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Sure [~wesmckinn]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=hitesh.khamesra",
                        "name": "hitesh.khamesra",
                        "key": "hitesh.khamesra",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Hitesh Khamesra",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2019-03-28T22:56:27.394+0000",
                    "updated": "2019-03-28T22:56:27.394+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z017ww:",
        "customfield_12314139": null
    }
}