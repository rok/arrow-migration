{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13143938",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13143938",
    "key": "ARROW-2293",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12342821",
                "id": "12342821",
                "description": "",
                "name": "JS-0.3.1",
                "archived": false,
                "released": true,
                "releaseDate": "2018-03-16"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12332552",
                "id": "12332552",
                "name": "JavaScript"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2293/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@284e0260[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@70141b61[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@307a0d11[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@60e5d76c[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@9cec6fb[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@1bd8fc01[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7b2a78ee[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@353a9e50[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4abc7f12[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@16d8bab0[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3e1d5d8d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@5f348c00[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Mon Mar 12 18:22:43 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-03-12T18:22:43.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2293/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2018-03-09T18:19:37.000+0000",
        "updated": "2018-03-12T18:22:43.000+0000",
        "timeoriginalestimate": null,
        "description": "This would help with streamlining the source release process. See https://github.com/apache/parquet-cpp/blob/master/dev/release/release-candidate for an example",
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[JS] Print release vote e-mail template when making source release",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13143938/comment/16395478",
                    "id": "16395478",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "TheNeuralBit opened a new pull request #1738: ARROW-2293: [JS] Print release vote e-mail template when making source release\nURL: https://github.com/apache/arrow/pull/1738\n \n \n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-03-12T16:38:34.483+0000",
                    "updated": "2018-03-12T16:38:34.483+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13143938/comment/16395484",
                    "id": "16395484",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "TheNeuralBit commented on issue #1738: ARROW-2293: [JS] Print release vote e-mail template when making source release\nURL: https://github.com/apache/arrow/pull/1738#issuecomment-372377306\n \n \n   @wesm I welcome any suggestions to modify the template, might as well get it right now. The current template is essentially copy-pasted from your 0.3.1 rc0 email\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-03-12T16:41:23.521+0000",
                    "updated": "2018-03-12T16:41:23.521+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13143938/comment/16395544",
                    "id": "16395544",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on a change in pull request #1738: ARROW-2293: [JS] Print release vote e-mail template when making source release\nURL: https://github.com/apache/arrow/pull/1738#discussion_r173878832\n \n \n\n ##########\n File path: dev/release/js-source-release.sh\n ##########\n @@ -100,3 +142,61 @@ echo \"Success! The release candidate is available here:\"\n echo \"  https://dist.apache.org/repos/dist/dev/arrow/${tagrc}\"\n echo \"\"\n echo \"Commit SHA1: ${release_hash}\"\n+echo \"\"\n+echo \"The following draft email has been created to send to the \"\n+echo \"dev@arrow.apache.org mailing list\"\n+echo \"\"\n+\n+# Create the email template for the release candidate to be sent to the mailing lists.\n+MESSAGE=$(cat <<__EOF__\n+To: dev@arrow.apache.org\n+Subject: [VOTE] Release Apache Arrow JS ${js_version} - RC${rc}\n+\n+Hello all,\n+\n+I\\'d like to propose the following release candidate (rc${rc}) of Apache Arrow\n+JavaScript version ${js_version}.\n+\n+The source release rc{$rc} is hosted at [1].\n+\n+This release candidate is based on commit\n+${release_hash}\n+\n+Please download, verify checksums and signatures, run the unit tests, and vote\n+on the release. The easiest way is to use the JavaScript-specific release\n+verification script dev/release/js-verify-release-candidate.sh.\n+\n+The vote will be open for at least 24 hours and will close once\n+enough PMCs have approved the release.\n \n Review comment:\n   We should change the time window in the template to the default \"The vote will be open for at least 72 hours\". The release manager can change this on an ad hoc basis if we wish to keep doing faster votes while things are moving quickly\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-03-12T17:22:51.511+0000",
                    "updated": "2018-03-12T17:22:51.511+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13143938/comment/16395657",
                    "id": "16395657",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1738: ARROW-2293: [JS] Print release vote e-mail template when making source release\nURL: https://github.com/apache/arrow/pull/1738#issuecomment-372413251\n \n \n   thanks @TheNeuralBit!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-03-12T18:21:45.913+0000",
                    "updated": "2018-03-12T18:21:45.913+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13143938/comment/16395659",
                    "id": "16395659",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm closed pull request #1738: ARROW-2293: [JS] Print release vote e-mail template when making source release\nURL: https://github.com/apache/arrow/pull/1738\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/dev/release/js-source-release.sh b/dev/release/js-source-release.sh\nindex 53b31af62f..292869db69 100755\n--- a/dev/release/js-source-release.sh\n+++ b/dev/release/js-source-release.sh\n@@ -21,9 +21,38 @@ set -e\n \n SOURCE_DIR=\"$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" && pwd )\"\n \n+function print_help_and_exit {\n+cat <<EOF\n+Apache Arrow JS release candidate tool.\n+\n+Usage: $0 [-h] [-p] <js-version> <rc-num>\"\n+\n+  -h  Print this help message and exit\n+  -p  If present, publish the release candidate (default: does not publish anything)\n+EOF\n+exit 0\n+}\n+\n+publish=0\n+while getopts \":hp\" opt; do\n+  case $opt in\n+    p)\n+      publish=1\n+      ;;\n+    h)\n+      print_help_and_exit\n+      ;;\n+    *  )\n+      echo \"Unknown option: -$OPTARG\"\n+      print_help_and_exit\n+      ;;\n+  esac\n+done\n+\n+shift $(($OPTIND - 1))\n+\n if [ \"$#\" -ne 2 ]; then\n-  echo \"Usage: $0 <js-version> <rc-num>\"\n-  exit\n+  print_help_and_exit\n fi\n \n js_version=$1\n@@ -32,6 +61,17 @@ rc=$2\n tag=apache-arrow-js-${js_version}\n tagrc=${tag}-rc${rc}\n \n+# Reset instructions\n+current_git_rev=$(git rev-parse HEAD)\n+function print_reset_instructions {\n+cat <<EOF\n+To roll back your local repo you will need to run:\n+\n+  git reset --hard ${current_git_rev}\n+  git tag -d ${tag}\n+EOF\n+}\n+\n echo \"Preparing source for tag ${tag}\"\n \n tarball=${tag}.tar.gz\n@@ -82,14 +122,16 @@ sha1sum $tarball > ${tarball}.sha1\n sha256sum $tarball > ${tarball}.sha256\n sha512sum $tarball > ${tarball}.sha512\n \n-# check out the arrow RC folder\n-svn co --depth=empty https://dist.apache.org/repos/dist/dev/arrow js-rc-tmp\n+if [[ $publish == 1 ]]; then\n+  # check out the arrow RC folder\n+  svn co --depth=empty https://dist.apache.org/repos/dist/dev/arrow js-rc-tmp\n \n-# add the release candidate for the tag\n-mkdir -p js-rc-tmp/${tagrc}\n-cp ${tarball}* js-rc-tmp/${tagrc}\n-svn add js-rc-tmp/${tagrc}\n-svn ci -m 'Apache Arrow JavaScript ${version} RC${rc}' js-rc-tmp/${tagrc}\n+  # add the release candidate for the tag\n+  mkdir -p js-rc-tmp/${tagrc}\n+  cp ${tarball}* js-rc-tmp/${tagrc}\n+  svn add js-rc-tmp/${tagrc}\n+  svn ci -m 'Apache Arrow JavaScript ${version} RC${rc}' js-rc-tmp/${tagrc}\n+fi\n \n cd -\n \n@@ -100,3 +142,61 @@ echo \"Success! The release candidate is available here:\"\n echo \"  https://dist.apache.org/repos/dist/dev/arrow/${tagrc}\"\n echo \"\"\n echo \"Commit SHA1: ${release_hash}\"\n+echo \"\"\n+echo \"The following draft email has been created to send to the \"\n+echo \"dev@arrow.apache.org mailing list\"\n+echo \"\"\n+\n+# Create the email template for the release candidate to be sent to the mailing lists.\n+MESSAGE=$(cat <<__EOF__\n+To: dev@arrow.apache.org\n+Subject: [VOTE] Release Apache Arrow JS ${js_version} - RC${rc}\n+\n+Hello all,\n+\n+I\\'d like to propose the following release candidate (rc${rc}) of Apache Arrow\n+JavaScript version ${js_version}.\n+\n+The source release rc{$rc} is hosted at [1].\n+\n+This release candidate is based on commit\n+${release_hash}\n+\n+Please download, verify checksums and signatures, run the unit tests, and vote\n+on the release. The easiest way is to use the JavaScript-specific release\n+verification script dev/release/js-verify-release-candidate.sh.\n+\n+The vote will be open for at least 72 hours and will close once\n+enough PMCs have approved the release.\n+\n+[ ] +1 Release this as Apache Arrow JavaScript ${js_version}\n+[ ] +0\n+[ ] -1 Do not release this as Apache Arrow JavaScript ${js_version} because...\n+\n+\n+How to validate a release signature:\n+https://httpd.apache.org/dev/verification.html\n+\n+[1]: https://dist.apache.org/repos/dist/dev/arrow/${tagrc}/\n+[2]: https://github.com/apache/arrow/tree/${release_hash}\n+\n+__EOF__\n+)\n+\n+\n+echo \"--------------------------------------------------------------------------------\"\n+echo\n+echo \"${MESSAGE}\"\n+echo\n+echo \"--------------------------------------------------------------------------------\"\n+echo\n+\n+\n+# Print reset instructions if this was a dry-run\n+if [[ $publish == 0 ]]; then\n+  echo\n+  echo \"This was a dry run, nothing has been published.\"\n+  echo \"To publish, re-run this script with the -p flag.\"\n+  echo\n+  print_reset_instructions\n+fi\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-03-12T18:22:42.564+0000",
                    "updated": "2018-03-12T18:22:42.564+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13143938/comment/16395660",
                    "id": "16395660",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 1738\n[https://github.com/apache/arrow/pull/1738]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-03-12T18:22:43.974+0000",
                    "updated": "2018-03-12T18:22:43.974+0000"
                }
            ],
            "maxResults": 6,
            "total": 6,
            "startAt": 0
        },
        "customfield_12311820": "0|i3r40f:",
        "customfield_12314139": null
    }
}