{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13366047",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047",
    "key": "ARROW-12013",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349493",
                "id": "12349493",
                "description": "",
                "name": "4.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-04-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12334621",
                "id": "12334621",
                "name": "FlightRPC"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": null,
        "subtasks": [],
        "reporter": null,
        "aggregateprogress": {
            "progress": 7200,
            "total": 7200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 7200,
            "total": 7200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12013/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 12,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/worklog/568233",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "cyb70289 opened a new pull request #9746:\nURL: https://github.com/apache/arrow/pull/9746\n\n\n   Add necessary libraries to link try-compile binaries.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-18T10:20:25.847+0000",
                    "updated": "2021-03-18T10:20:25.847+0000",
                    "started": "2021-03-18T10:20:25.846+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "568233",
                    "issueId": "13366047"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/worklog/568234",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "cyb70289 commented on a change in pull request #9746:\nURL: https://github.com/apache/arrow/pull/9746#discussion_r596726165\n\n\n\n##########\nFile path: cpp/src/arrow/flight/CMakeLists.txt\n##########\n@@ -83,7 +83,7 @@ function(test_grpc_version DST_VAR DETECT_VERSION TEST_FILE)\n     try_compile(HAS_GRPC_VERSION ${CMAKE_CURRENT_BINARY_DIR}/try_compile SOURCES\n                 \"${CMAKE_CURRENT_SOURCE_DIR}/try_compile/${TEST_FILE}\"\n                 CMAKE_FLAGS \"-DINCLUDE_DIRECTORIES=${CURRENT_INCLUDE_DIRECTORIES}\"\n-                LINK_LIBRARIES gRPC::grpc gRPC::grpc++\n+                LINK_LIBRARIES ${GRPC_STATIC_LIBRARY_GRPCPP} gRPC::grpc gRPC::gpr gRPC::upb gRPC::address_sorting ${ABSL_LIBRARIES} ${ABSL_LIBRARIES} -pthread\n\nReview comment:\n       For reasons I don't know, `LINK_LIBRARIES gRPC::grpc++ ${ABSL_LIBRARIES}` does work. It rearranges file orders, and merges same files.\r\n   cc @kou \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-18T10:23:55.342+0000",
                    "updated": "2021-03-18T10:23:55.342+0000",
                    "started": "2021-03-18T10:23:55.342+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "568234",
                    "issueId": "13366047"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/worklog/568236",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "cyb70289 commented on a change in pull request #9746:\nURL: https://github.com/apache/arrow/pull/9746#discussion_r596728026\n\n\n\n##########\nFile path: cpp/src/arrow/flight/CMakeLists.txt\n##########\n@@ -83,7 +83,7 @@ function(test_grpc_version DST_VAR DETECT_VERSION TEST_FILE)\n     try_compile(HAS_GRPC_VERSION ${CMAKE_CURRENT_BINARY_DIR}/try_compile SOURCES\n                 \"${CMAKE_CURRENT_SOURCE_DIR}/try_compile/${TEST_FILE}\"\n                 CMAKE_FLAGS \"-DINCLUDE_DIRECTORIES=${CURRENT_INCLUDE_DIRECTORIES}\"\n-                LINK_LIBRARIES gRPC::grpc gRPC::grpc++\n+                LINK_LIBRARIES ${GRPC_STATIC_LIBRARY_GRPCPP} gRPC::grpc gRPC::gpr gRPC::upb gRPC::address_sorting ${ABSL_LIBRARIES} ${ABSL_LIBRARIES} -pthread\n\nReview comment:\n       Please see Jira for error logs.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-18T10:26:34.218+0000",
                    "updated": "2021-03-18T10:26:34.218+0000",
                    "started": "2021-03-18T10:26:34.218+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "568236",
                    "issueId": "13366047"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/worklog/568238",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9746:\nURL: https://github.com/apache/arrow/pull/9746#issuecomment-801807835\n\n\n   https://issues.apache.org/jira/browse/ARROW-12013\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-18T10:28:40.807+0000",
                    "updated": "2021-03-18T10:28:40.807+0000",
                    "started": "2021-03-18T10:28:40.807+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "568238",
                    "issueId": "13366047"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/worklog/568268",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "cyb70289 commented on a change in pull request #9746:\nURL: https://github.com/apache/arrow/pull/9746#discussion_r596726165\n\n\n\n##########\nFile path: cpp/src/arrow/flight/CMakeLists.txt\n##########\n@@ -83,7 +83,7 @@ function(test_grpc_version DST_VAR DETECT_VERSION TEST_FILE)\n     try_compile(HAS_GRPC_VERSION ${CMAKE_CURRENT_BINARY_DIR}/try_compile SOURCES\n                 \"${CMAKE_CURRENT_SOURCE_DIR}/try_compile/${TEST_FILE}\"\n                 CMAKE_FLAGS \"-DINCLUDE_DIRECTORIES=${CURRENT_INCLUDE_DIRECTORIES}\"\n-                LINK_LIBRARIES gRPC::grpc gRPC::grpc++\n+                LINK_LIBRARIES ${GRPC_STATIC_LIBRARY_GRPCPP} gRPC::grpc gRPC::gpr gRPC::upb gRPC::address_sorting ${ABSL_LIBRARIES} ${ABSL_LIBRARIES} -pthread\n\nReview comment:\n       For reasons I don't know, `LINK_LIBRARIES gRPC::grpc++ ${ABSL_LIBRARIES}` does not work. It rearranges file orders, and merges same files.\r\n   cc @kou \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-18T11:34:06.733+0000",
                    "updated": "2021-03-18T11:34:06.733+0000",
                    "started": "2021-03-18T11:34:06.732+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "568268",
                    "issueId": "13366047"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/worklog/568697",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on a change in pull request #9746:\nURL: https://github.com/apache/arrow/pull/9746#discussion_r597329023\n\n\n\n##########\nFile path: cpp/src/arrow/flight/CMakeLists.txt\n##########\n@@ -83,7 +83,7 @@ function(test_grpc_version DST_VAR DETECT_VERSION TEST_FILE)\n     try_compile(HAS_GRPC_VERSION ${CMAKE_CURRENT_BINARY_DIR}/try_compile SOURCES\n                 \"${CMAKE_CURRENT_SOURCE_DIR}/try_compile/${TEST_FILE}\"\n                 CMAKE_FLAGS \"-DINCLUDE_DIRECTORIES=${CURRENT_INCLUDE_DIRECTORIES}\"\n-                LINK_LIBRARIES gRPC::grpc gRPC::grpc++\n+                LINK_LIBRARIES ${GRPC_STATIC_LIBRARY_GRPCPP} gRPC::grpc gRPC::gpr gRPC::upb gRPC::address_sorting ${ABSL_LIBRARIES} ${ABSL_LIBRARIES} -pthread\n\nReview comment:\n       I think there are two problems here:\r\n   \r\n   1. We should not run this check with bundled gRPC. We should always enable this feature when we build bundled gRPC. (We should build bundled gRPC with suitable configuration.)\r\n   \r\n   ```diff\r\n   diff --git a/cpp/cmake_modules/ThirdpartyToolchain.cmake b/cpp/cmake_modules/ThirdpartyToolchain.cmake\r\n   index 029a89095..c52830ed2 100644\r\n   --- a/cpp/cmake_modules/ThirdpartyToolchain.cmake\r\n   +++ b/cpp/cmake_modules/ThirdpartyToolchain.cmake\r\n   @@ -2566,6 +2566,7 @@ macro(build_grpc)\r\n      add_dependencies(gRPC::grpc++ grpc_ep)\r\n      add_dependencies(gRPC::grpc_cpp_plugin grpc_ep)\r\n      set(GRPC_VENDORED TRUE)\r\n   +  set(GRPC_VERSION ${ARROW_GRPC_BUILD_VERSION})\r\n    \r\n      # ar -M rejects with the \"libgrpc++.a\" filename because \"+\" is a line\r\n      # continuation character in these scripts, so we have to create a copy of the\r\n   diff --git a/cpp/src/arrow/flight/CMakeLists.txt b/cpp/src/arrow/flight/CMakeLists.txt\r\n   index 5c53160a5..65ae0a2a6 100644\r\n   --- a/cpp/src/arrow/flight/CMakeLists.txt\r\n   +++ b/cpp/src/arrow/flight/CMakeLists.txt\r\n   @@ -102,14 +102,16 @@ function(test_grpc_version DST_VAR DETECT_VERSION TEST_FILE)\r\n      endif()\r\n    endfunction()\r\n    \r\n   -test_grpc_version(GRPC_VERSION \"1.36\" \"check_tls_opts_136.cc\")\r\n   -test_grpc_version(GRPC_VERSION \"1.34\" \"check_tls_opts_134.cc\")\r\n   -test_grpc_version(GRPC_VERSION \"1.32\" \"check_tls_opts_132.cc\")\r\n   -test_grpc_version(GRPC_VERSION \"1.27\" \"check_tls_opts_127.cc\")\r\n   -message(\r\n   -  STATUS\r\n   -    \"Found approximate gRPC version: ${GRPC_VERSION} (ARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS=${ARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS})\"\r\n   -  )\r\n   +if(NOT GRPC_VENDORED)\r\n   +  test_grpc_version(GRPC_VERSION \"1.36\" \"check_tls_opts_136.cc\")\r\n   +  test_grpc_version(GRPC_VERSION \"1.34\" \"check_tls_opts_134.cc\")\r\n   +  test_grpc_version(GRPC_VERSION \"1.32\" \"check_tls_opts_132.cc\")\r\n   +  test_grpc_version(GRPC_VERSION \"1.27\" \"check_tls_opts_127.cc\")\r\n   +  message(\r\n   +    STATUS\r\n   +      \"Found approximate gRPC version: ${GRPC_VERSION} (ARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS=${ARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS})\"\r\n   +    )\r\n   +endif()\r\n    if(GRPC_VERSION EQUAL \"1.27\")\r\n      add_definitions(-DGRPC_NAMESPACE_FOR_TLS_CREDENTIALS_OPTIONS=grpc_impl::experimental)\r\n    elseif(GRPC_VERSION EQUAL \"1.32\")\r\n   ```\r\n   \r\n   2. We should set suitable `INTERFACE_LINK_LIBRARIES` property to `gRPC::grpc++` instead of listing more libraries here.\r\n   \r\n   For example:\r\n   \r\n   ```diff\r\n   diff --git a/cpp/cmake_modules/ThirdpartyToolchain.cmake b/cpp/cmake_modules/ThirdpartyToolchain.cmake\r\n   index 029a89095..cf6dc769c 100644\r\n   --- a/cpp/cmake_modules/ThirdpartyToolchain.cmake\r\n   +++ b/cpp/cmake_modules/ThirdpartyToolchain.cmake\r\n   @@ -2368,7 +2368,6 @@ macro(build_grpc)\r\n          base\r\n          cord\r\n          graphcycles_internal\r\n   -      int128\r\n          malloc_internal\r\n          raw_logging_internal\r\n          spinlock_wait\r\n   @@ -2376,6 +2375,8 @@ macro(build_grpc)\r\n          status\r\n          statusor\r\n          str_format_internal\r\n   +      # str_format_internal depends on int128\r\n   +      int128\r\n          strings\r\n          strings_internal\r\n          symbolize\r\n   @@ -2553,7 +2554,7 @@ macro(build_grpc)\r\n        PROPERTIES IMPORTED_LOCATION\r\n                   \"${GRPC_STATIC_LIBRARY_GRPCPP}\"\r\n                   INTERFACE_LINK_LIBRARIES\r\n   -               \"gRPC::grpc;gRPC::gpr;gRPC::upb;gRPC::address_sorting;${ABSL_LIBRARIES}\"\r\n   +               \"gRPC::grpc;gRPC::gpr;gRPC::upb;gRPC::address_sorting;${ABSL_LIBRARIES};Threads::Threads\"\r\n                   INTERFACE_INCLUDE_DIRECTORIES\r\n                   \"${GRPC_INCLUDE_DIR}\")\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-19T00:27:45.662+0000",
                    "updated": "2021-03-19T00:27:45.662+0000",
                    "started": "2021-03-19T00:27:45.661+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "568697",
                    "issueId": "13366047"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/worklog/568700",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on a change in pull request #9746:\nURL: https://github.com/apache/arrow/pull/9746#discussion_r597329976\n\n\n\n##########\nFile path: cpp/src/arrow/flight/CMakeLists.txt\n##########\n@@ -83,7 +83,7 @@ function(test_grpc_version DST_VAR DETECT_VERSION TEST_FILE)\n     try_compile(HAS_GRPC_VERSION ${CMAKE_CURRENT_BINARY_DIR}/try_compile SOURCES\n                 \"${CMAKE_CURRENT_SOURCE_DIR}/try_compile/${TEST_FILE}\"\n                 CMAKE_FLAGS \"-DINCLUDE_DIRECTORIES=${CURRENT_INCLUDE_DIRECTORIES}\"\n-                LINK_LIBRARIES gRPC::grpc gRPC::grpc++\n+                LINK_LIBRARIES ${GRPC_STATIC_LIBRARY_GRPCPP} gRPC::grpc gRPC::gpr gRPC::upb gRPC::address_sorting ${ABSL_LIBRARIES} ${ABSL_LIBRARIES} -pthread\n\nReview comment:\n       Note that the example for 2. improves `INTERFACE_LINK_LIBRARIES` for bundled gRPC but we should do it for system gRPC in `cpp/cmake_modules/FindgRPCAlt.cmake`.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-19T00:30:45.174+0000",
                    "updated": "2021-03-19T00:30:45.174+0000",
                    "started": "2021-03-19T00:30:45.174+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "568700",
                    "issueId": "13366047"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/worklog/568711",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "cyb70289 commented on a change in pull request #9746:\nURL: https://github.com/apache/arrow/pull/9746#discussion_r597341591\n\n\n\n##########\nFile path: cpp/src/arrow/flight/CMakeLists.txt\n##########\n@@ -83,7 +83,7 @@ function(test_grpc_version DST_VAR DETECT_VERSION TEST_FILE)\n     try_compile(HAS_GRPC_VERSION ${CMAKE_CURRENT_BINARY_DIR}/try_compile SOURCES\n                 \"${CMAKE_CURRENT_SOURCE_DIR}/try_compile/${TEST_FILE}\"\n                 CMAKE_FLAGS \"-DINCLUDE_DIRECTORIES=${CURRENT_INCLUDE_DIRECTORIES}\"\n-                LINK_LIBRARIES gRPC::grpc gRPC::grpc++\n+                LINK_LIBRARIES ${GRPC_STATIC_LIBRARY_GRPCPP} gRPC::grpc gRPC::gpr gRPC::upb gRPC::address_sorting ${ABSL_LIBRARIES} ${ABSL_LIBRARIES} -pthread\n\nReview comment:\n       The ABSL libs is kind of tricky. I did managed to make compiler happy by re-arranging the libs, and looks there're circular depends of these libs.\r\n   Don't know if ABSL has recommended way to link the bunches of libs (why not just provide a single .a?)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-19T01:09:03.066+0000",
                    "updated": "2021-03-19T01:09:03.066+0000",
                    "started": "2021-03-19T01:09:03.066+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "568711",
                    "issueId": "13366047"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/worklog/569571",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "cyb70289 commented on a change in pull request #9746:\nURL: https://github.com/apache/arrow/pull/9746#discussion_r598498830\n\n\n\n##########\nFile path: cpp/src/arrow/flight/CMakeLists.txt\n##########\n@@ -83,7 +83,7 @@ function(test_grpc_version DST_VAR DETECT_VERSION TEST_FILE)\n     try_compile(HAS_GRPC_VERSION ${CMAKE_CURRENT_BINARY_DIR}/try_compile SOURCES\n                 \"${CMAKE_CURRENT_SOURCE_DIR}/try_compile/${TEST_FILE}\"\n                 CMAKE_FLAGS \"-DINCLUDE_DIRECTORIES=${CURRENT_INCLUDE_DIRECTORIES}\"\n-                LINK_LIBRARIES gRPC::grpc gRPC::grpc++\n+                LINK_LIBRARIES ${GRPC_STATIC_LIBRARY_GRPCPP} gRPC::grpc gRPC::gpr gRPC::upb gRPC::address_sorting ${ABSL_LIBRARIES} ${ABSL_LIBRARIES} -pthread\n\nReview comment:\n       > Note that the example for 2. improves `INTERFACE_LINK_LIBRARIES` for bundled gRPC but we should do it for system gRPC in `cpp/cmake_modules/FindgRPCAlt.cmake`.\r\n   \r\n   I didn't changed `FindgRPCAlt.cmake`. Looks it works correctly for pre-installed gRPC.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-22T08:14:14.838+0000",
                    "updated": "2021-03-22T08:14:14.838+0000",
                    "started": "2021-03-22T08:14:14.838+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "569571",
                    "issueId": "13366047"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/worklog/569657",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #9746:\nURL: https://github.com/apache/arrow/pull/9746#discussion_r598650430\n\n\n\n##########\nFile path: cpp/cmake_modules/ThirdpartyToolchain.cmake\n##########\n@@ -2371,30 +2371,30 @@ macro(build_grpc)\n   set(ABSL_LIBRARIES)\n \n   # Abseil libraries gRPC depends on\n+  # Follows grpc++ package config template for link order of libraries\n+  # https://github.com/grpc/grpc/blob/v1.35.0/CMakeLists.txt#L16361\n   set(_ABSL_LIBS\n\nReview comment:\n       This is specific to the version of Abseil, right? \r\n   \r\n   Maybe there's some way to extract this order if we have the CMake and/or PkgConfig files available to us? That said, it still builds in CI where I think a few versions are used so it seems at least that's ok. But I'm worried this part is a little brittle.\n\n##########\nFile path: cpp/src/arrow/flight/CMakeLists.txt\n##########\n@@ -102,19 +102,24 @@ function(test_grpc_version DST_VAR DETECT_VERSION TEST_FILE)\n   endif()\n endfunction()\n \n-test_grpc_version(GRPC_VERSION \"1.36\" \"check_tls_opts_136.cc\")\n-test_grpc_version(GRPC_VERSION \"1.34\" \"check_tls_opts_134.cc\")\n-test_grpc_version(GRPC_VERSION \"1.32\" \"check_tls_opts_132.cc\")\n-test_grpc_version(GRPC_VERSION \"1.27\" \"check_tls_opts_127.cc\")\n-message(\n-  STATUS\n-    \"Found approximate gRPC version: ${GRPC_VERSION} (ARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS=${ARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS})\"\n-  )\n+if(GRPC_VENDORED)\n+  # v1.35.0 -> 1.35\n+  string(REGEX MATCH \"[0-9]+\\\\.[0-9]+\" GRPC_VERSION \"${ARROW_GRPC_BUILD_VERSION}\")\n+else()\n+  test_grpc_version(GRPC_VERSION \"1.36\" \"check_tls_opts_136.cc\")\n+  test_grpc_version(GRPC_VERSION \"1.34\" \"check_tls_opts_134.cc\")\n+  test_grpc_version(GRPC_VERSION \"1.32\" \"check_tls_opts_132.cc\")\n+  test_grpc_version(GRPC_VERSION \"1.27\" \"check_tls_opts_127.cc\")\n+  message(\n+    STATUS\n+      \"Found approximate gRPC version: ${GRPC_VERSION} (ARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS=${ARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS})\"\n+    )\n+endif()\n if(GRPC_VERSION EQUAL \"1.27\")\n   add_definitions(-DGRPC_NAMESPACE_FOR_TLS_CREDENTIALS_OPTIONS=grpc_impl::experimental)\n elseif(GRPC_VERSION EQUAL \"1.32\")\n   add_definitions(-DGRPC_NAMESPACE_FOR_TLS_CREDENTIALS_OPTIONS=grpc::experimental)\n-elseif(GRPC_VERSION EQUAL \"1.34\")\n+elseif(GRPC_VERSION EQUAL \"1.34\" OR GRPC_VERSION EQUAL \"1.35\")\n\nReview comment:\n       This might break if we update the bundled gRPC; unfortunately CI doesn't set the `ARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS` flag yet.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-22T12:00:13.229+0000",
                    "updated": "2021-03-22T12:00:13.229+0000",
                    "started": "2021-03-22T12:00:13.229+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "569657",
                    "issueId": "13366047"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/worklog/570063",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on a change in pull request #9746:\nURL: https://github.com/apache/arrow/pull/9746#discussion_r599091271\n\n\n\n##########\nFile path: cpp/cmake_modules/ThirdpartyToolchain.cmake\n##########\n@@ -2371,30 +2371,30 @@ macro(build_grpc)\n   set(ABSL_LIBRARIES)\n \n   # Abseil libraries gRPC depends on\n+  # Follows grpc++ package config template for link order of libraries\n+  # https://github.com/grpc/grpc/blob/v1.35.0/CMakeLists.txt#L16361\n   set(_ABSL_LIBS\n\nReview comment:\n       It's specific to the version of gRPC not Abseil.\r\n   gRPC may change using Abseil libraries.\r\n   \r\n   I agree with your worry. I hope that we can improve this later.\n\n##########\nFile path: cpp/src/arrow/flight/CMakeLists.txt\n##########\n@@ -102,19 +102,24 @@ function(test_grpc_version DST_VAR DETECT_VERSION TEST_FILE)\n   endif()\n endfunction()\n \n-test_grpc_version(GRPC_VERSION \"1.36\" \"check_tls_opts_136.cc\")\n-test_grpc_version(GRPC_VERSION \"1.34\" \"check_tls_opts_134.cc\")\n-test_grpc_version(GRPC_VERSION \"1.32\" \"check_tls_opts_132.cc\")\n-test_grpc_version(GRPC_VERSION \"1.27\" \"check_tls_opts_127.cc\")\n-message(\n-  STATUS\n-    \"Found approximate gRPC version: ${GRPC_VERSION} (ARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS=${ARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS})\"\n-  )\n+if(GRPC_VENDORED)\n+  # v1.35.0 -> 1.35\n+  string(REGEX MATCH \"[0-9]+\\\\.[0-9]+\" GRPC_VERSION \"${ARROW_GRPC_BUILD_VERSION}\")\n+else()\n+  test_grpc_version(GRPC_VERSION \"1.36\" \"check_tls_opts_136.cc\")\n+  test_grpc_version(GRPC_VERSION \"1.34\" \"check_tls_opts_134.cc\")\n+  test_grpc_version(GRPC_VERSION \"1.32\" \"check_tls_opts_132.cc\")\n+  test_grpc_version(GRPC_VERSION \"1.27\" \"check_tls_opts_127.cc\")\n+  message(\n+    STATUS\n+      \"Found approximate gRPC version: ${GRPC_VERSION} (ARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS=${ARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS})\"\n+    )\n+endif()\n if(GRPC_VERSION EQUAL \"1.27\")\n   add_definitions(-DGRPC_NAMESPACE_FOR_TLS_CREDENTIALS_OPTIONS=grpc_impl::experimental)\n elseif(GRPC_VERSION EQUAL \"1.32\")\n   add_definitions(-DGRPC_NAMESPACE_FOR_TLS_CREDENTIALS_OPTIONS=grpc::experimental)\n-elseif(GRPC_VERSION EQUAL \"1.34\")\n+elseif(GRPC_VERSION EQUAL \"1.34\" OR GRPC_VERSION EQUAL \"1.35\")\n\nReview comment:\n       OK. We can add `-DARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS=ON` to one or more CI jobs that use bundled gRPC later.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-22T21:37:39.689+0000",
                    "updated": "2021-03-22T21:37:39.689+0000",
                    "started": "2021-03-22T21:37:39.689+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "570063",
                    "issueId": "13366047"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/worklog/570066",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou closed pull request #9746:\nURL: https://github.com/apache/arrow/pull/9746\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-22T21:38:39.365+0000",
                    "updated": "2021-03-22T21:38:39.365+0000",
                    "started": "2021-03-22T21:38:39.364+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "570066",
                    "issueId": "13366047"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 7200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@5888d5ab[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3bdc8f41[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7c714d59[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@23887311[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4e8ba59d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@7b3de6b3[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@d506708[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6da09d48[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7e947a2c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@6a881333[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@64ee414d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@dcdca45[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 7200,
        "customfield_12312520": null,
        "customfield_12312521": "Mon Mar 22 21:38:45 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-03-22T21:38:45.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12013/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2021-03-18T10:11:15.000+0000",
        "updated": "2021-03-22T21:38:45.000+0000",
        "timeoriginalestimate": null,
        "description": "I don't have gRPC dev packages on my host. Depends on Arrow to download and build a fresh one.\r\nWhen building Flight, I find gRPC version cannot be detected and TLS is always disabled.\r\nError logs in comments.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 7200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++][FlightRPC] Failed to detect gRPC version",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/comment/17304017",
                    "id": "17304017",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=yibocai%231",
                        "name": "yibocai#1",
                        "key": "yibocai",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10453",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"
                        },
                        "displayName": "yibocai#1",
                        "active": false,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "*Steps to reproduce:*\r\n\r\nSTEP#1:\r\n{code:bash}\r\n$ cmake -GNinja -DCMAKE_BUILD_TYPE=Release -DARROW_FLIGHT=ON -DARROW_WITH_ZLIB=ON ..\r\n\r\nIt will download and build gRPC-1.35.\r\n{code}\r\n\r\nSTEP#2:\r\n{code:bash}\r\nRun above command again. It should try to compile grpc version probing files and report gRPC >= 1.34.\r\nBut the building steps failed, no appropriate gPRC verison is found.\r\n\r\n-- Checking support for TlsCredentialsOptions (gRPC >= 1.34)...\r\n-- TlsCredentialsOptions (for gRPC 1.34) not found in grpc::experimental.\r\nDEBUGBuild output:\r\nDEBUGChange Dir: /home/cyb/arrow/cpp/release/src/arrow/flight/try_compile/CMakeFiles/CMakeTmp\r\n\r\nRun Build Command:\"/usr/bin/ninja\" \"cmTC_3eab4\"\r\n[1/2] Building CXX object CMakeFiles/cmTC_3eab4.dir/check_tls_opts_134.cc.o\r\n[2/2] Linking CXX executable cmTC_3eab4\r\nFAILED: cmTC_3eab4\r\n: && /usr/bin/clang++-9  -Qunused-arguments -fcolor-diagnostics -O3 -DNDEBUG  -Wall -Wno-unknown-warning-option -Wno-pass-failed -msse4.2   CMakeFiles/cmTC_3eab4.dir/check_tls_opts_134.cc.o  -o cmTC_3eab4  /home/cyb/arrow/cpp/release/grpc_ep-install/lib/libgrpc.a /home/cyb/arrow/cpp/release/grpc_ep-install/lib/libgrpc++.a /home/cyb/arrow/cpp/release/grpc_ep-install/lib/libgrpc.a /home/cyb/arrow/cpp/release/grpc_ep-install/lib/libgpr.a /home/cyb/arrow/cpp/release/grpc_ep-install/lib/libupb.a /home/cyb/arrow/cpp/release/grpc_ep-install/lib/libaddress_sorting.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_bad_optional_access.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_base.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_cord.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_graphcycles_internal.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_int128.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_malloc_internal.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_raw_logging_internal.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_spinlock_wait.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_stacktrace.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_status.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_statusor.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_str_format_internal.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_strings.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_strings_internal.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_symbolize.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_debugging_internal.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_demangle_internal.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_synchronization.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_throw_delegate.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_time.a /home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_time_zone.a && :\r\n/home/cyb/arrow/cpp/release/grpc_ep-install/lib/libgpr.a(thd_posix.cc.o): In function `grpc_core::Thread::Thread(char const*, void (*)(void*), void*, bool*, grpc_core::Thread::Options const&)':\r\nthd_posix.cc:(.text+0x13c): undefined reference to `pthread_attr_setstacksize'\r\nthd_posix.cc:(.text+0x162): undefined reference to `pthread_create'\r\n/home/cyb/arrow/cpp/release/grpc_ep-install/lib/libgpr.a(thd_posix.cc.o): In function `grpc_core::(anonymous namespace)::ThreadInternalsPosix::Join()':\r\nthd_posix.cc:(.text+0x3a7): undefined reference to `pthread_join'\r\n/home/cyb/arrow/cpp/release/grpc_ep-install/lib/libgpr.a(thd_posix.cc.o): In function `grpc_core::(anonymous namespace)::ThreadInternalsPosix::ThreadInternalsPosix(char const*, void (*)(void*), void*, bool*, grpc_core::Thread::Options const&)::{lambda(void*)#1}::__invoke(void*)':\r\nthd_posix.cc:(.text+0x40a): undefined reference to `pthread_setname_np'\r\n/home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_str_format_internal.a(arg.cc.o): In function `absl::lts_2020_09_23::str_format_internal::FormatConvertImpl(absl::lts_2020_09_23::int128, absl::lts_2020_09_23::str_format_internal::FormatConversionSpecImpl, absl::lts_2020_09_23::str_format_internal::FormatSinkImpl*)':\r\narg.cc:(.text+0x153e): undefined reference to `absl::lts_2020_09_23::operator%(absl::lts_2020_09_23::uint128, absl::lts_2020_09_23::uint128)'\r\narg.cc:(.text+0x155e): undefined reference to `absl::lts_2020_09_23::operator/(absl::lts_2020_09_23::uint128, absl::lts_2020_09_23::uint128)'\r\narg.cc:(.text+0x166e): undefined reference to `absl::lts_2020_09_23::operator%(absl::lts_2020_09_23::uint128, absl::lts_2020_09_23::uint128)'\r\narg.cc:(.text+0x168e): undefined reference to `absl::lts_2020_09_23::operator/(absl::lts_2020_09_23::uint128, absl::lts_2020_09_23::uint128)'\r\n/home/cyb/arrow/cpp/release/absl_ep-install/lib/libabsl_str_format_internal.a(arg.cc.o): In function `absl::lts_2020_09_23::str_format_internal::FormatConvertImpl(absl::lts_2020_09_23::uint128, absl::lts_2020_09_23::str_format_internal::FormatConversionSpecImpl, absl::lts_2020_09_23::str_format_internal::FormatSinkImpl*)':\r\narg.cc:(.text+0x17be): undefined reference to `absl::lts_2020_09_23::operator%(absl::lts_2020_09_23::uint128, absl::lts_2020_09_23::uint128)'\r\n......\r\ntons of similar errors\r\n{code}",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=yibocai%231",
                        "name": "yibocai#1",
                        "key": "yibocai",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10453",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"
                        },
                        "displayName": "yibocai#1",
                        "active": false,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2021-03-18T10:14:26.616+0000",
                    "updated": "2021-03-18T10:14:26.616+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/comment/17304018",
                    "id": "17304018",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=yibocai%231",
                        "name": "yibocai#1",
                        "key": "yibocai",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10453",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"
                        },
                        "displayName": "yibocai#1",
                        "active": false,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Add necessary libraries to CMake fixes the issue.\r\n\r\n{code:bash}\r\n-- Checking support for TlsCredentialsOptions (gRPC >= 1.34)...\r\n-- Found approximate gRPC version: 1.34 (ARROW_FLIGHT_REQUIRE_TLSCREDENTIALSOPTIONS=)\r\n{code}",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=yibocai%231",
                        "name": "yibocai#1",
                        "key": "yibocai",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10453",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10453",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10453",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10453"
                        },
                        "displayName": "yibocai#1",
                        "active": false,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2021-03-18T10:15:17.676+0000",
                    "updated": "2021-03-18T10:15:17.676+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13366047/comment/17306597",
                    "id": "17306597",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kou",
                        "name": "kou",
                        "key": "kou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kou&avatarId=30762",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kou&avatarId=30762",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kou&avatarId=30762",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kou&avatarId=30762"
                        },
                        "displayName": "Kouhei Sutou",
                        "active": true,
                        "timeZone": "Asia/Tokyo"
                    },
                    "body": "Issue resolved by pull request 9746\n[https://github.com/apache/arrow/pull/9746]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kou",
                        "name": "kou",
                        "key": "kou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kou&avatarId=30762",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kou&avatarId=30762",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kou&avatarId=30762",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kou&avatarId=30762"
                        },
                        "displayName": "Kouhei Sutou",
                        "active": true,
                        "timeZone": "Asia/Tokyo"
                    },
                    "created": "2021-03-22T21:38:45.098+0000",
                    "updated": "2021-03-22T21:38:45.098+0000"
                }
            ],
            "maxResults": 3,
            "total": 3,
            "startAt": 0
        },
        "customfield_12311820": "0|z0oxfs:",
        "customfield_12314139": null
    }
}