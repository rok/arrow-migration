{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13410706",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706",
    "key": "ARROW-14634",
    "fields": {
        "fixVersions": [],
        "resolution": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/3",
            "description": "This issue is being actively worked on at the moment by the assignee.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png",
            "name": "In Progress",
            "id": "3",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4",
                "id": 4,
                "key": "indeterminate",
                "colorName": "yellow",
                "name": "In Progress"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328932",
                "id": "12328932",
                "name": "Format"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=nbauernfeind",
            "name": "nbauernfeind",
            "key": "nbauernfeind",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=nbauernfeind&avatarId=47386",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nbauernfeind&avatarId=47386",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nbauernfeind&avatarId=47386",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nbauernfeind&avatarId=47386"
            },
            "displayName": "Nate Bauernfeind",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=nbauernfeind",
            "name": "nbauernfeind",
            "key": "nbauernfeind",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=nbauernfeind&avatarId=47386",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nbauernfeind&avatarId=47386",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nbauernfeind&avatarId=47386",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nbauernfeind&avatarId=47386"
            },
            "displayName": "Nate Bauernfeind",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 12600,
            "total": 12600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 12600,
            "total": 12600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-14634/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 21,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/678774",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#issuecomment-963611861\n\n\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-08T21:59:40.946+0000",
                    "updated": "2021-11-08T21:59:40.946+0000",
                    "started": "2021-11-08T21:59:40.945+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "678774",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/678778",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r745128442\n\n\n\n##########\nFile path: format/Message.fbs\n##########\n@@ -117,6 +117,40 @@ table DictionaryBatch {\n   isDelta: bool = false;\n }\n \n+/// A range of field nodes, identified by their offset in the schema.\n+/// The offsets are zero-indexed.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level FieldNode is required\n+/// to be included in the wire payload.\n+table ColumnBag {\n+  /// If not provided, all field nodes are included and this payload is\n+  /// identical to a RecordBatch. Otherwise the reader needs to skip\n+  /// top level FieldNodes that were not included.\n+  includedNodes: [FieldNodeRange];\n\nReview comment:\n       So to be clear, we can't do something like provide only a nested array - and implementations will need to validate that this only skips entire top level fields?\n\n##########\nFile path: format/Schema.fbs\n##########\n@@ -37,14 +37,20 @@ enum MetadataVersion:short {\n   /// >= 0.8.0 (December 2017). Non-backwards compatible with V3.\n   V4,\n \n-  /// >= 1.0.0 (July 2020. Backwards compatible with V4 (V5 readers can read V4\n+  /// 1.0.0 -> 6.0.0 (July 2020). Backwards compatible with V4 (V5 readers can read V4\n   /// metadata and IPC messages). Implementations are recommended to provide a\n   /// V4 compatibility mode with V5 format changes disabled.\n   ///\n   /// Incompatible changes between V4 and V5:\n   /// - Union buffer layout has changed. In V5, Unions don't have a validity\n   ///   bitmap buffer.\n   V5,\n+\n+  /// >= 7.0.0 (Jan 2022). Backwards compatible with V4 and V5.\n+  ///\n+  /// Adds ColumnBag to wire format. It has looser restrictions than RecordBatch but is\n+  /// otherwise similar in intent.\n+  V6\n\nReview comment:\n       It doesn't look like we incremented the metadata version when we added Tensor - is this necessary? (I'm not so familiar with Flatbuffers.) I suppose if we fold the binary metadata change into this we would need this.\n\n##########\nFile path: format/Message.fbs\n##########\n@@ -117,6 +117,40 @@ table DictionaryBatch {\n   isDelta: bool = false;\n }\n \n+/// A range of field nodes, identified by their offset in the schema.\n+/// The offsets are zero-indexed.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level FieldNode is required\n+/// to be included in the wire payload.\n\nReview comment:\n       Thinking ahead - how do the APIs for this look like? In Java, this would be a \"ragged\" VectorSchemaRoot?\n\n##########\nFile path: format/Message.fbs\n##########\n@@ -117,6 +117,40 @@ table DictionaryBatch {\n   isDelta: bool = false;\n }\n \n+/// A range of field nodes, identified by their offset in the schema.\n+/// The offsets are zero-indexed.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level FieldNode is required\n+/// to be included in the wire payload.\n+table ColumnBag {\n+  /// If not provided, all field nodes are included and this payload is\n+  /// identical to a RecordBatch. Otherwise the reader needs to skip\n+  /// top level FieldNodes that were not included.\n\nReview comment:\n       The corresponding Buffers will also presumably be skipped?\n\n##########\nFile path: format/Message.fbs\n##########\n@@ -117,6 +117,40 @@ table DictionaryBatch {\n   isDelta: bool = false;\n }\n \n+/// A range of field nodes, identified by their offset in the schema.\n+/// The offsets are zero-indexed.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level FieldNode is required\n+/// to be included in the wire payload.\n+table ColumnBag {\n+  /// If not provided, all field nodes are included and this payload is\n+  /// identical to a RecordBatch. Otherwise the reader needs to skip\n+  /// top level FieldNodes that were not included.\n+  includedNodes: [FieldNodeRange];\n\nReview comment:\n       Can we mark this as experimental like how Tensor does? https://github.com/apache/arrow/blob/939db7f513a56d0cab12a8479d8153e5aa2ae1df/format/Tensor.fbs#L18-L20\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-08T22:10:59.758+0000",
                    "updated": "2021-11-08T22:10:59.758+0000",
                    "started": "2021-11-08T22:10:59.758+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "678778",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/678833",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Jimexist commented on pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#issuecomment-963707849\n\n\n   @alamb FYI\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T00:44:02.007+0000",
                    "updated": "2021-11-09T00:44:02.007+0000",
                    "started": "2021-11-09T00:44:02.007+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "678833",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/678881",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Jimexist edited a comment on pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#issuecomment-963707849\n\n\n   @alamb FYI, pertaining to partition columns in datafusion\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T03:07:08.125+0000",
                    "updated": "2021-11-09T03:07:08.125+0000",
                    "started": "2021-11-09T03:07:08.125+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "678881",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/679004",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alamb commented on pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#issuecomment-964099541\n\n\n   Thank you for the writeup and PR @nbauernfeind  -- I added a link to the mailing list discussion and left a question on the context for this change in the google doc.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T12:18:09.742+0000",
                    "updated": "2021-11-09T12:18:09.742+0000",
                    "started": "2021-11-09T12:18:09.742+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "679004",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/679108",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nbauernfeind commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r745737341\n\n\n\n##########\nFile path: format/Message.fbs\n##########\n@@ -117,6 +117,40 @@ table DictionaryBatch {\n   isDelta: bool = false;\n }\n \n+/// A range of field nodes, identified by their offset in the schema.\n+/// The offsets are zero-indexed.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level FieldNode is required\n+/// to be included in the wire payload.\n+table ColumnBag {\n+  /// If not provided, all field nodes are included and this payload is\n+  /// identical to a RecordBatch. Otherwise the reader needs to skip\n+  /// top level FieldNodes that were not included.\n+  includedNodes: [FieldNodeRange];\n\nReview comment:\n       In RecordBatch, the FieldNodes are listed in-order from first field node, to its children, and grandchildren, followed by the second field node. Note that if we include a top level field node we must include its children. This requirement certainly applies to array-types, and I assume it applies to nested structures -- but I have not used them enough to play with the idea.\r\n   \r\n   I think there are a few options to represent which top level nodes to include.\r\n   1) encoded BitSet, but it is too easy to create degenerate cases\r\n   2) each FieldNode could include a third parameter -- but in flatbuffers this means that the struct is written down differently (I think if the struct is greater than 16B then it must be pre-written before constructing the flatbuffer table that uses it)\r\n   3) include a parallel array with field node indicating which field offset, but this would be empty for child nodes\r\n   4) what remains is  a compromise listing ranges of columns that were included -- the use case I have in mind is single-digit number of ranges almost always - but columns can be easily into the tens of dozens.\r\n   \r\n   > So to be clear, we can't do something like provide only a nested array - and implementations will need to validate that this only skips entire top level fields?\r\n   \r\n   I can't quite tell what solution you are proposing here. I think client implementations do end up working exactly like you are saying, though. Could you elaborate on your idea or defend an alternative approach? \r\n   \r\n   -- \r\n   \r\n   > Can we mark this as experimental like how Tensor does?\r\n   \r\n   Absolutely, patch update incoming.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T15:36:16.002+0000",
                    "updated": "2021-11-09T15:36:16.002+0000",
                    "started": "2021-11-09T15:36:16.001+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "679108",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/679111",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nbauernfeind commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r745738945\n\n\n\n##########\nFile path: format/Message.fbs\n##########\n@@ -117,6 +117,40 @@ table DictionaryBatch {\n   isDelta: bool = false;\n }\n \n+/// A range of field nodes, identified by their offset in the schema.\n+/// The offsets are zero-indexed.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level FieldNode is required\n+/// to be included in the wire payload.\n+table ColumnBag {\n+  /// If not provided, all field nodes are included and this payload is\n+  /// identical to a RecordBatch. Otherwise the reader needs to skip\n+  /// top level FieldNodes that were not included.\n\nReview comment:\n       Correct. Updating.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T15:37:45.275+0000",
                    "updated": "2021-11-09T15:37:45.275+0000",
                    "started": "2021-11-09T15:37:45.275+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "679111",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/679114",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r745740314\n\n\n\n##########\nFile path: format/Message.fbs\n##########\n@@ -117,6 +117,40 @@ table DictionaryBatch {\n   isDelta: bool = false;\n }\n \n+/// A range of field nodes, identified by their offset in the schema.\n+/// The offsets are zero-indexed.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level FieldNode is required\n+/// to be included in the wire payload.\n+table ColumnBag {\n+  /// If not provided, all field nodes are included and this payload is\n+  /// identical to a RecordBatch. Otherwise the reader needs to skip\n+  /// top level FieldNodes that were not included.\n+  includedNodes: [FieldNodeRange];\n\nReview comment:\n       Sorry, I guess what I mean is \"Can we make it explicit that only top-level arrays can be skipped, and top-level arrays must be skipped as a whole\", i.e. we can't \"patch\" a child of a nested array. (And that implementations must reject \"degenerate\" messages that skip, say, only one child of a struct, since that makes no sense in the first place, but should be validated.)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T15:39:16.707+0000",
                    "updated": "2021-11-09T15:39:16.707+0000",
                    "started": "2021-11-09T15:39:16.707+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "679114",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/679141",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nbauernfeind commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r745790024\n\n\n\n##########\nFile path: format/Schema.fbs\n##########\n@@ -37,14 +37,20 @@ enum MetadataVersion:short {\n   /// >= 0.8.0 (December 2017). Non-backwards compatible with V3.\n   V4,\n \n-  /// >= 1.0.0 (July 2020. Backwards compatible with V4 (V5 readers can read V4\n+  /// 1.0.0 -> 6.0.0 (July 2020). Backwards compatible with V4 (V5 readers can read V4\n   /// metadata and IPC messages). Implementations are recommended to provide a\n   /// V4 compatibility mode with V5 format changes disabled.\n   ///\n   /// Incompatible changes between V4 and V5:\n   /// - Union buffer layout has changed. In V5, Unions don't have a validity\n   ///   bitmap buffer.\n   V5,\n+\n+  /// >= 7.0.0 (Jan 2022). Backwards compatible with V4 and V5.\n+  ///\n+  /// Adds ColumnBag to wire format. It has looser restrictions than RecordBatch but is\n+  /// otherwise similar in intent.\n+  V6\n\nReview comment:\n       I'll back this out; will be happy to add it back when applicable and/or requested =P.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T16:26:10.977+0000",
                    "updated": "2021-11-09T16:26:10.977+0000",
                    "started": "2021-11-09T16:26:10.977+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "679141",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/679146",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nbauernfeind commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r745794854\n\n\n\n##########\nFile path: format/Message.fbs\n##########\n@@ -117,6 +117,40 @@ table DictionaryBatch {\n   isDelta: bool = false;\n }\n \n+/// A range of field nodes, identified by their offset in the schema.\n+/// The offsets are zero-indexed.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level FieldNode is required\n+/// to be included in the wire payload.\n+table ColumnBag {\n+  /// If not provided, all field nodes are included and this payload is\n+  /// identical to a RecordBatch. Otherwise the reader needs to skip\n+  /// top level FieldNodes that were not included.\n+  includedNodes: [FieldNodeRange];\n\nReview comment:\n       Ooh. I wish there was a way to tell. I don't think you can tell that a message is a degenerate. The FieldNode themselves do not identify which node or location in the schema it belongs to. They are expected to be visited in-order (parent, children, grandchildren). The point of FieldNodeRange is that this is the list of top level field nodes only -- not including nested nodes. So, as typical, it is impossible to tell if the message was written incorrectly. You typically only find out from out-of-memory access where a node thinks it's an array but it's really just a column of uint64. \r\n   \r\n   Point is, I think I'm preventing this by not being able to describe it on the wire.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T16:29:50.545+0000",
                    "updated": "2021-11-09T16:29:50.545+0000",
                    "started": "2021-11-09T16:29:50.545+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "679146",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/679147",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nbauernfeind commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r745794854\n\n\n\n##########\nFile path: format/Message.fbs\n##########\n@@ -117,6 +117,40 @@ table DictionaryBatch {\n   isDelta: bool = false;\n }\n \n+/// A range of field nodes, identified by their offset in the schema.\n+/// The offsets are zero-indexed.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level FieldNode is required\n+/// to be included in the wire payload.\n+table ColumnBag {\n+  /// If not provided, all field nodes are included and this payload is\n+  /// identical to a RecordBatch. Otherwise the reader needs to skip\n+  /// top level FieldNodes that were not included.\n+  includedNodes: [FieldNodeRange];\n\nReview comment:\n       Ooh. I wish there was a way to tell. I don't think you can tell that a message is a degenerate. The FieldNode themselves do not identify which node or location in the schema it belongs to. They are expected to be visited in-order (parent, children, grandchildren; then the parent's siblings -- the other root field nodes, etc). The point of FieldNodeRange is that this is the list of top level field nodes only -- not including nested nodes. So, as typical, it is impossible to tell if the message was written incorrectly. You typically only find out from out-of-memory access where a node thinks it's an array but it's really just a column of uint64. \r\n   \r\n   Point is, I think I'm preventing this by not being able to describe it on the wire.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T16:30:33.707+0000",
                    "updated": "2021-11-09T16:30:33.707+0000",
                    "started": "2021-11-09T16:30:33.706+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "679147",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/679168",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nbauernfeind commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r745822636\n\n\n\n##########\nFile path: format/Message.fbs\n##########\n@@ -117,6 +117,40 @@ table DictionaryBatch {\n   isDelta: bool = false;\n }\n \n+/// A range of field nodes, identified by their offset in the schema.\n+/// The offsets are zero-indexed.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level FieldNode is required\n+/// to be included in the wire payload.\n+table ColumnBag {\n+  /// If not provided, all field nodes are included and this payload is\n+  /// identical to a RecordBatch. Otherwise the reader needs to skip\n+  /// top level FieldNodes that were not included.\n+  includedNodes: [FieldNodeRange];\n\nReview comment:\n       I updated the comment. Maybe this makes the intention more obvious? Does this resolve your concern?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T16:59:18.634+0000",
                    "updated": "2021-11-09T16:59:18.634+0000",
                    "started": "2021-11-09T16:59:18.633+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "679168",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/679171",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nbauernfeind commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r745825267\n\n\n\n##########\nFile path: format/Message.fbs\n##########\n@@ -117,6 +117,40 @@ table DictionaryBatch {\n   isDelta: bool = false;\n }\n \n+/// A range of field nodes, identified by their offset in the schema.\n+/// The offsets are zero-indexed.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level FieldNode is required\n+/// to be included in the wire payload.\n\nReview comment:\n       I am open to anything. I haven't quite gotten far enough to consider more than the high level -- that the ColumnBag  doesn't know its size; so the user will be asking each column instead. Otherwise; I think the API should be pretty similar. I'd like to avoid any other divergence if that also makes sense to you.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T17:02:14.593+0000",
                    "updated": "2021-11-09T17:02:14.593+0000",
                    "started": "2021-11-09T17:02:14.593+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "679171",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/679173",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nbauernfeind commented on pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#issuecomment-964349548\n\n\n   I've updated the PR based on feedback so far. I had to move FieldNode to Schema.fbs -- to avoid a cyclical dependency between Schema, Message, and ColumnBag.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T17:03:32.080+0000",
                    "updated": "2021-11-09T17:03:32.080+0000",
                    "started": "2021-11-09T17:03:32.079+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "679173",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/679180",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r745839584\n\n\n\n##########\nFile path: format/Message.fbs\n##########\n@@ -117,6 +117,40 @@ table DictionaryBatch {\n   isDelta: bool = false;\n }\n \n+/// A range of field nodes, identified by their offset in the schema.\n+/// The offsets are zero-indexed.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level FieldNode is required\n+/// to be included in the wire payload.\n\nReview comment:\n       Understandable. In C++ we would need a container similar to RecordBatch, and I suppose in Java something similar.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T17:16:31.769+0000",
                    "updated": "2021-11-09T17:16:31.769+0000",
                    "started": "2021-11-09T17:16:31.768+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "679180",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/679186",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r745843060\n\n\n\n##########\nFile path: format/Message.fbs\n##########\n@@ -117,6 +117,40 @@ table DictionaryBatch {\n   isDelta: bool = false;\n }\n \n+/// A range of field nodes, identified by their offset in the schema.\n+/// The offsets are zero-indexed.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level FieldNode is required\n+/// to be included in the wire payload.\n+table ColumnBag {\n+  /// If not provided, all field nodes are included and this payload is\n+  /// identical to a RecordBatch. Otherwise the reader needs to skip\n+  /// top level FieldNodes that were not included.\n+  includedNodes: [FieldNodeRange];\n\nReview comment:\n       Yes, thanks.\r\n   \r\n   I think consumers can validate, so long as they have the schema: they would traverse the schema as usual, and look at both nodes and includedNodes. If while traversing a type they ran into a buffer not included in includedNodes, then the message is invalid.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T17:20:54.078+0000",
                    "updated": "2021-11-09T17:20:54.078+0000",
                    "started": "2021-11-09T17:20:54.078+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "679186",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/679187",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r745844423\n\n\n\n##########\nFile path: format/Message.fbs\n##########\n@@ -117,6 +117,40 @@ table DictionaryBatch {\n   isDelta: bool = false;\n }\n \n+/// A range of field nodes, identified by their offset in the schema.\n+/// The offsets are zero-indexed.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level FieldNode is required\n+/// to be included in the wire payload.\n+table ColumnBag {\n+  /// If not provided, all field nodes are included and this payload is\n+  /// identical to a RecordBatch. Otherwise the reader needs to skip\n+  /// top level FieldNodes that were not included.\n+  includedNodes: [FieldNodeRange];\n\nReview comment:\n       Ah, wait, this is a list of top level nodes/fields only. Ok, I see the comments now, thanks - that works.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-09T17:22:37.209+0000",
                    "updated": "2021-11-09T17:22:37.209+0000",
                    "started": "2021-11-09T17:22:37.208+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "679187",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/685457",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r755416704\n\n\n\n##########\nFile path: format/Schema.fbs\n##########\n@@ -501,6 +501,24 @@ struct Buffer {\n   length: long;\n }\n \n+/// ----------------------------------------------------------------------\n\nReview comment:\n       Field node seems more a part of message than schema?  If it is needed as a top level type lets make it a separate file?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-23T18:48:00.266+0000",
                    "updated": "2021-11-23T18:48:00.266+0000",
                    "started": "2021-11-23T18:48:00.266+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "685457",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/685458",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r755417706\n\n\n\n##########\nFile path: format/ColumnBag.fbs\n##########\n@@ -0,0 +1,63 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+/// EXPERIMENTAL: A less restrictive version of RecordBatch that can\n+/// reduce wire overhead for small messages\n+\n+include \"Schema.fbs\";\n+\n+namespace org.apache.arrow.flatbuf;\n+\n+/// ----------------------------------------------------------------------\n+/// Data structures to represent a bag of columns (a collection of\n+/// possibly differing length Arrow arrays)\n+\n+/// A range of top level field nodes, identified by their ordering in the\n+/// schema. The offsets are zero-indexed, but only top level field nodes are\n+/// counted; it is impossible to refer to a child node anywhere in the schema.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level node is required\n+/// to be included in the wire payload.\n+table ColumnBag {\n+  /// If not provided, all nodes are included and this payload is identical\n+  /// to a RecordBatch. Otherwise the reader needs to skip top level FieldNodes\n+  /// (and the parallel Buffers) that were not included. Note that ranges must\n+  /// be listed in strictly increasing order and be non-overlapping.\n+  includedNodes: [FieldNodeRange];\n+\n+  /// Nodes correspond to the pre-ordered flattened logical schema\n\nReview comment:\n       For top-level field nodes are they going to be allowed to have separate lengths?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-23T18:49:33.384+0000",
                    "updated": "2021-11-23T18:49:33.384+0000",
                    "started": "2021-11-23T18:49:33.384+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "685458",
                    "issueId": "13410706"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/worklog/685459",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on a change in pull request #11646:\nURL: https://github.com/apache/arrow/pull/11646#discussion_r755418754\n\n\n\n##########\nFile path: format/ColumnBag.fbs\n##########\n@@ -0,0 +1,63 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+/// EXPERIMENTAL: A less restrictive version of RecordBatch that can\n+/// reduce wire overhead for small messages\n+\n+include \"Schema.fbs\";\n+\n+namespace org.apache.arrow.flatbuf;\n+\n+/// ----------------------------------------------------------------------\n+/// Data structures to represent a bag of columns (a collection of\n+/// possibly differing length Arrow arrays)\n+\n+/// A range of top level field nodes, identified by their ordering in the\n+/// schema. The offsets are zero-indexed, but only top level field nodes are\n+/// counted; it is impossible to refer to a child node anywhere in the schema.\n+struct FieldNodeRange {\n+  /// The starting offset (inclusive)\n+  start: long;\n+\n+  /// The ending offset (exclusive)\n+  end: long;\n+}\n+\n+/// A data header describing the shared memory layout of a \"bag\" of \"columns\".\n+/// It is similar to a RecordBatch but not every top level node is required\n+/// to be included in the wire payload.\n\nReview comment:\n       [the ](https://docs.google.com/document/d/1jsmmqLTyJkU8fx0sUGIqd6yu72N4v9uHFsuGSgB_DfE/edit) mentions that different number of rows might also be important but I might be misunderstanding?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-23T18:51:08.229+0000",
                    "updated": "2021-11-23T18:51:08.229+0000",
                    "started": "2021-11-23T18:51:08.228+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "685459",
                    "issueId": "13410706"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 12600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@260670e7[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7ecc2b9b[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@71371c49[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@6eb86107[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@28811524[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@5213219f[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1b8fbac0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@361240ef[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@169a4b3c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@5dce8fa9[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3b71676a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@1f405dd3[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 12600,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Jul 12 14:04:32 UTC 2022",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": null,
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-14634/watchers",
            "watchCount": 2,
            "isWatching": true
        },
        "created": "2021-11-08T21:58:28.000+0000",
        "updated": "2022-07-12T14:04:32.000+0000",
        "timeoriginalestimate": null,
        "description": "It would be nice to support a version of RecordBatch where:\r\n- columns can be omitted from the flatbuffer metadata (we can already skip the payload by sending a Buffer of length 0)\r\n- each Column may have independent lengths",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "3.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 12600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Format] Define looser version of record batch",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13410706/comment/17565687",
                    "id": "17565687",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=toddfarmer",
                        "name": "toddfarmer",
                        "key": "JIRAUSER288796",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39935",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39935",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39935",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39935"
                        },
                        "displayName": "Todd Farmer",
                        "active": true,
                        "timeZone": "America/Boise"
                    },
                    "body": "This issue was last updated over 90 days ago, which may be an indication it is no longer being actively worked. To better reflect the current state, the issue is being unassigned. Please feel free to re-take assignment of the issue if it is being actively worked, or if you plan to start that work soon.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=toddfarmer",
                        "name": "toddfarmer",
                        "key": "JIRAUSER288796",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39935",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39935",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39935",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39935"
                        },
                        "displayName": "Todd Farmer",
                        "active": true,
                        "timeZone": "America/Boise"
                    },
                    "created": "2022-07-12T14:04:32.008+0000",
                    "updated": "2022-07-12T14:04:32.008+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0wjvs:",
        "customfield_12314139": null
    }
}