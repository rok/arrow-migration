{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13242377",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377",
    "key": "ARROW-5802",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12340948",
                "id": "12340948",
                "description": "",
                "name": "0.16.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-02-07"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12564380",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12564380",
                "type": {
                    "id": "12310460",
                    "name": "Child-Issue",
                    "inward": "is a child of",
                    "outward": "is a parent of",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310460"
                },
                "inwardIssue": {
                    "id": "13242376",
                    "key": "ARROW-5801",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242376",
                    "fields": {
                        "summary": "[CI] Dockerize (add to docker-compose) all Travis CI Linux tasks",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            },
            {
                "id": "12571291",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12571291",
                "type": {
                    "id": "10001",
                    "name": "dependent",
                    "inward": "is depended upon by",
                    "outward": "depends upon",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"
                },
                "inwardIssue": {
                    "id": "13260448",
                    "key": "ARROW-6788",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13260448",
                    "fields": {
                        "summary": "[CI] Migrate Travis CI lint job to GitHub Actions",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fsaintjacques",
            "name": "fsaintjacques",
            "key": "fsaintjacques",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=fsaintjacques&avatarId=37276",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fsaintjacques&avatarId=37276",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fsaintjacques&avatarId=37276",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fsaintjacques&avatarId=37276"
            },
            "displayName": "Francois Saint-Jacques",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333244",
                "id": "12333244",
                "name": "Continuous Integration"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 16200,
            "total": 16200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 16200,
            "total": 16200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5802/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 30,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/323603",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580\n \n \n   Adds support for linting in archery. It knows how to lint with clang-format, cpplint, lint_cpp_cli, clang-tidy, iwyu, flake8, and apache-rat. By default, it'll ignore iwyu and clang-tidy.\r\n   \r\n   - Fix CMake iwyu target\r\n   - Add CMake lint_cpp_cli target \r\n   - Remove pandas dependency from archery (was only used for the median)\r\n   - Enable lint entry in github actions\r\n   - Create a minimal docker image for linting purposes\r\n   - Add support for apache-rat in archery (we can remove rat audit files afterward)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-04T17:39:54.935+0000",
                    "updated": "2019-10-04T17:39:54.935+0000",
                    "started": "2019-10-04T17:39:54.935+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "323603",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/323604",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#discussion_r331612628\n \n \n\n ##########\n File path: cpp/CMakeLists.txt\n ##########\n @@ -247,9 +247,14 @@ if(${CLANG_TIDY_FOUND})\n                     ${ARROW_LINT_QUIET})\n endif()\n \n-if(ARROW_ONLY_LINT)\n \n Review comment:\n   This broke IWYU and clang-tidy because `compile-commands.json` wasn't generated. The impact should be minimal since we changed the defaults to minimal dependencies.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-04T17:40:51.065+0000",
                    "updated": "2019-10-04T17:40:51.065+0000",
                    "started": "2019-10-04T17:40:51.065+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "323604",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/323616",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on issue #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#issuecomment-538496675\n \n \n   https://issues.apache.org/jira/browse/ARROW-5802\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-04T17:48:23.747+0000",
                    "updated": "2019-10-04T17:48:23.747+0000",
                    "started": "2019-10-04T17:48:23.747+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "323616",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/323997",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#discussion_r331766655\n \n \n\n ##########\n File path: dev/archery/archery/utils/tmpdir.py\n ##########\n @@ -16,20 +15,14 @@\n # specific language governing permissions and limitations\n # under the License.\n \n-set -ex\n+from contextlib import contextmanager\n+from tempfile import mkdtemp, TemporaryDirectory\n \n-mkdir -p /build/lint\n-pushd /build/lint\n-  cmake -GNinja /arrow/cpp\n-  ninja check-format\n-  ninja lint\n-popd\n \n-pushd /arrow/python\n-  flake8 --count pyarrow\n-  flake8 --count --config=.flake8.cython pyarrow\n-popd\n-\n-pushd /arrow/r\n-  ./lint.sh\n-popd\n+@contextmanager\n+def tmpdir(preserve=False, prefix=\"arrow-bench-\"):\n \n Review comment:\n   Having a new file for this one function seems like a bit much, but it is ok. Is \"arrow-bench-\" the default prefix you want?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-06T01:00:30.759+0000",
                    "updated": "2019-10-06T01:00:30.759+0000",
                    "started": "2019-10-06T01:00:30.759+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "323997",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/323998",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#discussion_r331766580\n \n \n\n ##########\n File path: dev/archery/archery/utils/lint.py\n ##########\n @@ -0,0 +1,162 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import gzip\n+import os\n+\n+from .tmpdir import tmpdir\n+from .command import Command, default_bin\n+from .logger import logger\n+from ..lang.cpp import CppCMakeDefinition, CppConfiguration\n+from .rat import Rat, exclusion_from_globs\n+\n+\n+class LintValidationException(Exception):\n+    pass\n+\n+\n+class LintResult:\n+    def __init__(self, success, reason=None):\n+        self.success = success\n+\n+    def ok(self):\n+        if not self.success:\n+            raise LintValidationException\n+\n+    @staticmethod\n+    def from_cmd(command_result):\n+        return LintResult(command_result.returncode == 0)\n+\n+\n+def cpp_linter(src, build_dir, clang_format=True, cpplint=True,\n+               clang_tidy=False, iwyu=False, fix=False):\n+    \"\"\" Run clang-format, cpplint and clang-tidy on cpp/ codebase. \"\"\"\n+    logger.info(\"Running C++ linters\")\n+\n+    # A cmake build directory is required to populate `compile_commands.json`\n+    # which in turn is required by clang-tidy. It also provides a convenient\n+    # way to hide clang-format/clang-tidy invocation via the Generate\n+    # (ninja/make) targets.\n+    cmake_args = {\"with_python\": False}\n+    cmake_def = CppCMakeDefinition(src.cpp, CppConfiguration(**cmake_args))\n+\n+    build = cmake_def.build(build_dir)\n+    if clang_format:\n+        target = \"format\" if fix else \"check-format\"\n+        yield LintResult.from_cmd(build.run(target, check=False))\n+\n+    if cpplint:\n+        yield LintResult.from_cmd(build.run(\"lint\", check=False))\n+        yield LintResult.from_cmd(build.run(\"lint_cpp_cli\", check=False))\n+\n+    if clang_tidy:\n+        yield LintResult.from_cmd(build.run(\"check-clang-tidy\", check=False))\n+\n+    if iwyu:\n+        yield LintResult.from_cmd(build.run(\"iwyu\", check=False))\n+\n+\n+class CMakeFormat(Command):\n+    def __init__(self, cmake_format_bin):\n+        self.bin = cmake_format_bin\n+\n+\n+def cmake_linter(src, fix=False):\n+    \"\"\" Run cmake-format.py on all CMakeFiles.txt \"\"\"\n+    logger.info(\"Running cmake-format linters\")\n+    if not fix:\n+        logger.warn(\"run-cmake-format modifies files, irregardless of --fix\")\n+    arrow_cmake_format = os.path.join(src.path, \"run-cmake-format.py\")\n+    cmake_format = CMakeFormat(cmake_format_bin=arrow_cmake_format)\n+    yield LintResult.from_cmd(cmake_format(\"--check\"))\n+\n+\n+class Flake8(Command):\n+    def __init__(self, flake8_bin=None):\n+        self.bin = default_bin(flake8_bin, \"FLAKE8\", \"flake8\")\n+\n+\n+def python_linter(src):\n+    \"\"\" Run flake8 linter on python/pyarrow, and dev/. \"\"\"\n+    logger.info(\"Running python linters\")\n+    flake8 = Flake8()\n+\n+    yield LintResult.from_cmd(flake8(src.pyarrow, src.dev, check=False))\n+    config = os.path.join(src.pyarrow, \".flake8.cython\")\n+    yield LintResult.from_cmd(flake8(\"--config=\" + config, src.pyarrow,\n+                                     check=False))\n+\n+\n+def rat_linter(src, root):\n+    \"\"\" Run apache-rat license linter. \"\"\"\n+    logger.info(\"Running apache-rat linter\")\n+\n+    if src.git_dirty:\n+        logger.warn(\"Due to the usage of git-archive, uncommited files will\"\n+                    \" not be checked for rat violations. \")\n+\n+    exclusion = exclusion_from_globs(\n+        os.path.join(src.dev, \"release\", \"rat_exclude_files.txt\"))\n+\n+    # Creates a git-archive of ArrowSources, apache-rat expects a gzip\n+    # compressed tar archive.\n+    archive_path = os.path.join(root, \"apache-arrow.tar.gz\")\n+    src.archive(archive_path, compressor=gzip.compress)\n+    report = Rat().report(archive_path)\n+\n+    violations = list(report.validate(exclusion=exclusion))\n+    for violation in violations:\n+        print(f\"apache-rat license violation: {violation}\")\n+\n+    yield LintResult(len(violations) == 0)\n+\n+\n+def linter(src, with_clang_format=True, with_cpplint=True,\n+           with_clang_tidy=False, with_iwyu=False,\n+           with_flake8=True, with_cmake_format=False,\n+           with_rat=True,\n+           fix=False):\n+    \"\"\" Run all linters. \"\"\"\n+    with tmpdir(preserve=True, prefix=\"arrow-lint-\") as root:\n+        build_dir = os.path.join(root, \"cpp-build\")\n+\n+        # Linters yield LintResult without raising exceptions on failure.\n+        # This allows running all linters in one pass and exposing all\n+        # errors to the user.\n+        results = []\n+\n+        if with_clang_format or with_cpplint or with_clang_tidy or with_iwyu:\n+            results.extend(cpp_linter(src, build_dir,\n+                                      clang_format=with_clang_format,\n+                                      cpplint=with_cpplint,\n+                                      clang_tidy=with_clang_tidy,\n+                                      iwyu=with_iwyu,\n+                                      fix=fix))\n+\n+        if with_flake8:\n+            results.extend(python_linter(src))\n+\n+        if with_cmake_format:\n+            results.extend(cmake_linter(src, fix=fix))\n+\n+        if with_rat:\n+            results.extend(rat_linter(src, root))\n \n Review comment:\n   Seems like this won't exit early if a linter fails? Seems like we'd like to have two ways to run:\r\n   \r\n   * exit on first failuire\r\n   * run all and print all failures\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-06T01:00:30.834+0000",
                    "updated": "2019-10-06T01:00:30.834+0000",
                    "started": "2019-10-06T01:00:30.833+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "323998",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/323999",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#discussion_r331766603\n \n \n\n ##########\n File path: dev/archery/archery/utils/rat.py\n ##########\n @@ -0,0 +1,70 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import fnmatch\n+import re\n+from xml.etree import ElementTree\n+\n+from .java import Jar\n+from .cache import Cache\n+from .command import capture_stdout\n+\n+RAT_VERSION = 0.13\n+RAT_JAR = f\"apache-rat-{RAT_VERSION}.jar\"\n+RAT_URL_ = f\"https://repo1.maven.org/maven2/org/apache/rat/apache-rat\"\n+RAT_URL = f\"{RAT_URL_}/{RAT_VERSION}/{RAT_JAR}\"\n+\n+\n+class Rat(Jar):\n+    def __init__(self):\n+        jar = Cache().get_or_insert_from_url(RAT_JAR, RAT_URL)\n \n Review comment:\n   I assume this is a file path? Maybe `jar_path`?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-06T01:00:30.861+0000",
                    "updated": "2019-10-06T01:00:30.861+0000",
                    "started": "2019-10-06T01:00:30.860+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "323999",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/324000",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#discussion_r331766706\n \n \n\n ##########\n File path: dev/archery/archery/cli.py\n ##########\n @@ -165,13 +165,32 @@ def build(ctx, src, build_dir, force, targets, **kwargs):\n         build.run(target)\n \n \n-@contextmanager\n-def tmpdir(preserve, prefix=\"arrow-bench-\"):\n-    if preserve:\n-        yield mkdtemp(prefix=prefix)\n-    else:\n-        with TemporaryDirectory(prefix=prefix) as tmp:\n-            yield tmp\n+@archery.command(short_help=\"Lint Arrow source directory\")\n+@click.option(\"--src\", metavar=\"<arrow_src>\", default=ArrowSources.find(),\n+              callback=validate_arrow_sources,\n+              help=\"Specify Arrow source directory\")\n+@click.option(\"--with-clang-format/--without-clang-format\", default=True,\n+              help=\"Ensure formatting of C++ files.\")\n+@click.option(\"--with-cpplint/--without-cpplint\", default=True,\n+              help=\"Ensure linting of C++ files with cpplint.\")\n+@click.option(\"--with-clang-tidy/--without-clang-tidy\", default=False,\n+              help=\"Lint C++ with clang-tidy.\")\n+@click.option(\"--with-iwyu/--without-iwyu\", default=False,\n+              help=\"Lint C++ with Include-What-You-Use (iwyu).\")\n+@click.option(\"--with-flake8/--without-flake8\", default=True,\n+              help=\"Lint python files with flake8.\")\n+@click.option(\"--with-cmake-format/--without-cmake-format\", default=False,\n+              help=\"Lint CMakeFiles.txt files with cmake-format.py.\")\n+@click.option(\"--with-rat/--without-rat\", default=True,\n+              help=\"Lint files for license violation via apache-rat.\")\n+@click.option(\"--fix\", type=bool, default=False,\n+              help=\"Toggle fixing the lint errors if the linter supports it.\")\n+@click.pass_context\n+def lint(ctx, src, **kwargs):\n \n Review comment:\n   Do you want to add a iwyu convenience target (since you took it away in docker-compose.yml)? \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-06T01:00:30.974+0000",
                    "updated": "2019-10-06T01:00:30.974+0000",
                    "started": "2019-10-06T01:00:30.974+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "324000",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/324001",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#issuecomment-538702140\n \n \n   It seems like the GitHub Actions version of this is not quite ready to go because the Docker image is not cached. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-06T01:01:26.746+0000",
                    "updated": "2019-10-06T01:01:26.746+0000",
                    "started": "2019-10-06T01:01:26.746+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "324001",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/324002",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#issuecomment-538702181\n \n \n   ```\r\n   +pre-commit run hadolint -a\r\n   [WARNING] Unexpected key(s) present on git://github.com/pre-commit/pre-commit-hooks: sha\r\n   [INFO] Initializing environment for local.\r\n   [INFO] Initializing environment for git://github.com/pre-commit/pre-commit-hooks.\r\n   Docker Format............................................................Failed\r\n   hookid: hadolint\r\n   ci/docker/Dockerfile.lint:20 DL3009 Delete the apt-get lists after installing something\r\n   ci/docker/Dockerfile.lint:43 DL3025 Use arguments JSON notation for CMD and ENTRYPOINT arguments\r\n   Unable to find image 'hadolint/hadolint:latest' locally\r\n   latest: Pulling from hadolint/hadolint\r\n   ```\r\n   \r\n   We probably need to turn off hadolint if we are going to lint with docker-compose\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-06T01:02:08.474+0000",
                    "updated": "2019-10-06T01:02:08.474+0000",
                    "started": "2019-10-06T01:02:08.473+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "324002",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/324437",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#discussion_r332062122\n \n \n\n ##########\n File path: dev/archery/archery/utils/lint.py\n ##########\n @@ -0,0 +1,162 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import gzip\n+import os\n+\n+from .tmpdir import tmpdir\n+from .command import Command, default_bin\n+from .logger import logger\n+from ..lang.cpp import CppCMakeDefinition, CppConfiguration\n+from .rat import Rat, exclusion_from_globs\n+\n+\n+class LintValidationException(Exception):\n+    pass\n+\n+\n+class LintResult:\n+    def __init__(self, success, reason=None):\n+        self.success = success\n+\n+    def ok(self):\n+        if not self.success:\n+            raise LintValidationException\n+\n+    @staticmethod\n+    def from_cmd(command_result):\n+        return LintResult(command_result.returncode == 0)\n+\n+\n+def cpp_linter(src, build_dir, clang_format=True, cpplint=True,\n+               clang_tidy=False, iwyu=False, fix=False):\n+    \"\"\" Run clang-format, cpplint and clang-tidy on cpp/ codebase. \"\"\"\n+    logger.info(\"Running C++ linters\")\n+\n+    # A cmake build directory is required to populate `compile_commands.json`\n+    # which in turn is required by clang-tidy. It also provides a convenient\n+    # way to hide clang-format/clang-tidy invocation via the Generate\n+    # (ninja/make) targets.\n+    cmake_args = {\"with_python\": False}\n+    cmake_def = CppCMakeDefinition(src.cpp, CppConfiguration(**cmake_args))\n+\n+    build = cmake_def.build(build_dir)\n+    if clang_format:\n+        target = \"format\" if fix else \"check-format\"\n+        yield LintResult.from_cmd(build.run(target, check=False))\n+\n+    if cpplint:\n+        yield LintResult.from_cmd(build.run(\"lint\", check=False))\n+        yield LintResult.from_cmd(build.run(\"lint_cpp_cli\", check=False))\n+\n+    if clang_tidy:\n+        yield LintResult.from_cmd(build.run(\"check-clang-tidy\", check=False))\n+\n+    if iwyu:\n+        yield LintResult.from_cmd(build.run(\"iwyu\", check=False))\n+\n+\n+class CMakeFormat(Command):\n+    def __init__(self, cmake_format_bin):\n+        self.bin = cmake_format_bin\n+\n+\n+def cmake_linter(src, fix=False):\n+    \"\"\" Run cmake-format.py on all CMakeFiles.txt \"\"\"\n+    logger.info(\"Running cmake-format linters\")\n+    if not fix:\n+        logger.warn(\"run-cmake-format modifies files, irregardless of --fix\")\n+    arrow_cmake_format = os.path.join(src.path, \"run-cmake-format.py\")\n+    cmake_format = CMakeFormat(cmake_format_bin=arrow_cmake_format)\n+    yield LintResult.from_cmd(cmake_format(\"--check\"))\n+\n+\n+class Flake8(Command):\n+    def __init__(self, flake8_bin=None):\n+        self.bin = default_bin(flake8_bin, \"FLAKE8\", \"flake8\")\n+\n+\n+def python_linter(src):\n+    \"\"\" Run flake8 linter on python/pyarrow, and dev/. \"\"\"\n+    logger.info(\"Running python linters\")\n+    flake8 = Flake8()\n+\n+    yield LintResult.from_cmd(flake8(src.pyarrow, src.dev, check=False))\n+    config = os.path.join(src.pyarrow, \".flake8.cython\")\n+    yield LintResult.from_cmd(flake8(\"--config=\" + config, src.pyarrow,\n+                                     check=False))\n+\n+\n+def rat_linter(src, root):\n+    \"\"\" Run apache-rat license linter. \"\"\"\n+    logger.info(\"Running apache-rat linter\")\n+\n+    if src.git_dirty:\n+        logger.warn(\"Due to the usage of git-archive, uncommited files will\"\n+                    \" not be checked for rat violations. \")\n+\n+    exclusion = exclusion_from_globs(\n+        os.path.join(src.dev, \"release\", \"rat_exclude_files.txt\"))\n+\n+    # Creates a git-archive of ArrowSources, apache-rat expects a gzip\n+    # compressed tar archive.\n+    archive_path = os.path.join(root, \"apache-arrow.tar.gz\")\n+    src.archive(archive_path, compressor=gzip.compress)\n+    report = Rat().report(archive_path)\n+\n+    violations = list(report.validate(exclusion=exclusion))\n+    for violation in violations:\n+        print(f\"apache-rat license violation: {violation}\")\n+\n+    yield LintResult(len(violations) == 0)\n+\n+\n+def linter(src, with_clang_format=True, with_cpplint=True,\n+           with_clang_tidy=False, with_iwyu=False,\n+           with_flake8=True, with_cmake_format=False,\n+           with_rat=True,\n+           fix=False):\n+    \"\"\" Run all linters. \"\"\"\n+    with tmpdir(preserve=True, prefix=\"arrow-lint-\") as root:\n+        build_dir = os.path.join(root, \"cpp-build\")\n+\n+        # Linters yield LintResult without raising exceptions on failure.\n+        # This allows running all linters in one pass and exposing all\n+        # errors to the user.\n+        results = []\n+\n+        if with_clang_format or with_cpplint or with_clang_tidy or with_iwyu:\n+            results.extend(cpp_linter(src, build_dir,\n+                                      clang_format=with_clang_format,\n+                                      cpplint=with_cpplint,\n+                                      clang_tidy=with_clang_tidy,\n+                                      iwyu=with_iwyu,\n+                                      fix=fix))\n+\n+        if with_flake8:\n+            results.extend(python_linter(src))\n+\n+        if with_cmake_format:\n+            results.extend(cmake_linter(src, fix=fix))\n+\n+        if with_rat:\n+            results.extend(rat_linter(src, root))\n \n Review comment:\n   This is the intended default behavior, the goal is to get all error at once. I could add a `--fail-fast` options to toggle the behavior you want.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-07T14:47:43.905+0000",
                    "updated": "2019-10-07T14:47:43.905+0000",
                    "started": "2019-10-07T14:47:43.905+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "324437",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/324439",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#discussion_r332063533\n \n \n\n ##########\n File path: dev/archery/archery/utils/rat.py\n ##########\n @@ -0,0 +1,70 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import fnmatch\n+import re\n+from xml.etree import ElementTree\n+\n+from .java import Jar\n+from .cache import Cache\n+from .command import capture_stdout\n+\n+RAT_VERSION = 0.13\n+RAT_JAR = f\"apache-rat-{RAT_VERSION}.jar\"\n+RAT_URL_ = f\"https://repo1.maven.org/maven2/org/apache/rat/apache-rat\"\n+RAT_URL = f\"{RAT_URL_}/{RAT_VERSION}/{RAT_JAR}\"\n+\n+\n+class Rat(Jar):\n+    def __init__(self):\n+        jar = Cache().get_or_insert_from_url(RAT_JAR, RAT_URL)\n \n Review comment:\n   It's not an absolute path per-se, this is a key which is cached, but also happens to be cached on disk. I'll rename it `RAT_JAR_FILENAME` to make it explicit.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-07T14:50:02.242+0000",
                    "updated": "2019-10-07T14:50:02.242+0000",
                    "started": "2019-10-07T14:50:02.241+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "324439",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/324443",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#discussion_r332071361\n \n \n\n ##########\n File path: dev/archery/archery/cli.py\n ##########\n @@ -165,13 +165,32 @@ def build(ctx, src, build_dir, force, targets, **kwargs):\n         build.run(target)\n \n \n-@contextmanager\n-def tmpdir(preserve, prefix=\"arrow-bench-\"):\n-    if preserve:\n-        yield mkdtemp(prefix=prefix)\n-    else:\n-        with TemporaryDirectory(prefix=prefix) as tmp:\n-            yield tmp\n+@archery.command(short_help=\"Lint Arrow source directory\")\n+@click.option(\"--src\", metavar=\"<arrow_src>\", default=ArrowSources.find(),\n+              callback=validate_arrow_sources,\n+              help=\"Specify Arrow source directory\")\n+@click.option(\"--with-clang-format/--without-clang-format\", default=True,\n+              help=\"Ensure formatting of C++ files.\")\n+@click.option(\"--with-cpplint/--without-cpplint\", default=True,\n+              help=\"Ensure linting of C++ files with cpplint.\")\n+@click.option(\"--with-clang-tidy/--without-clang-tidy\", default=False,\n+              help=\"Lint C++ with clang-tidy.\")\n+@click.option(\"--with-iwyu/--without-iwyu\", default=False,\n+              help=\"Lint C++ with Include-What-You-Use (iwyu).\")\n+@click.option(\"--with-flake8/--without-flake8\", default=True,\n+              help=\"Lint python files with flake8.\")\n+@click.option(\"--with-cmake-format/--without-cmake-format\", default=False,\n+              help=\"Lint CMakeFiles.txt files with cmake-format.py.\")\n+@click.option(\"--with-rat/--without-rat\", default=True,\n+              help=\"Lint files for license violation via apache-rat.\")\n+@click.option(\"--fix\", type=bool, default=False,\n+              help=\"Toggle fixing the lint errors if the linter supports it.\")\n+@click.pass_context\n+def lint(ctx, src, **kwargs):\n \n Review comment:\n   I'll revert this change and keep the docker-compose target. This PR is big enough as it is.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-07T15:03:10.524+0000",
                    "updated": "2019-10-07T15:03:10.524+0000",
                    "started": "2019-10-07T15:03:10.523+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "324443",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/324448",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on issue #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#issuecomment-539060788\n \n \n   @wes,  The following linters were also added: r, rust, hadolint. I managed to get hadolint working in the docker image.\r\n   \r\n   This is now much closer to master linters on travis (still missing release script tests). As a proof, it catches locally a format error introduced in ARROW-6694.\r\n   \r\n   As for blocking due to pull/cache of the docker image, it's still faster than waiting on travis job queue, e.g. build + run takes 9 minutes (https://github.com/apache/arrow/runs/250697387).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-07T15:13:59.519+0000",
                    "updated": "2019-10-07T15:13:59.519+0000",
                    "started": "2019-10-07T15:13:59.519+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "324448",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/324449",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on issue #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#issuecomment-539060788\n \n \n   @wes,  The following linters were also added: r, rust, hadolint. I managed to get hadolint working in the docker image.\r\n   \r\n   This is now much closer to master linters on travis (still missing release script tests). As a proof, it catches locally a format error introduced in ARROW-6694.\r\n   \r\n   As for blocking due to pull/cache of the docker image, it's still faster than waiting on travis job queue, e.g. build + run takes 10 minutes (https://github.com/apache/arrow/runs/250697387).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-07T15:14:30.973+0000",
                    "updated": "2019-10-07T15:14:30.973+0000",
                    "started": "2019-10-07T15:14:30.972+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "324449",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/324467",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#issuecomment-539078574\n \n \n   Cool. I suppose we can add the release script tests to this later and then decommission Travis, unless you want to try to do it now?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-07T15:48:37.889+0000",
                    "updated": "2019-10-07T15:48:37.889+0000",
                    "started": "2019-10-07T15:48:37.888+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "324467",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/324478",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on issue #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#issuecomment-539093827\n \n \n   I don't want to do it now. I consider the release scripts on life support, considering we want to have nightlys, we should migrate the scripts them to archery. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-07T16:24:25.782+0000",
                    "updated": "2019-10-07T16:24:25.782+0000",
                    "started": "2019-10-07T16:24:25.781+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "324478",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/324481",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on issue #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#issuecomment-539093827\n \n \n   I don't want to do it now. I consider the release scripts on life support since we want to have nightlys, we should migrate the scripts them to archery. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-07T16:25:58.149+0000",
                    "updated": "2019-10-07T16:25:58.149+0000",
                    "started": "2019-10-07T16:25:58.149+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "324481",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/324509",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#issuecomment-539117003\n \n \n   On iwyu I had been thinking that you could run `archery cpp-iwyu` or something. No problem either way\r\n   \r\n   +1\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-07T17:22:07.745+0000",
                    "updated": "2019-10-07T17:22:07.745+0000",
                    "started": "2019-10-07T17:22:07.745+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "324509",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/324513",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#issuecomment-539117003\n \n \n   On iwyu I had been thinking that you could run `archery cpp-iwyu` or something. No problem either way\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-07T17:22:56.353+0000",
                    "updated": "2019-10-07T17:22:56.353+0000",
                    "started": "2019-10-07T17:22:56.353+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "324513",
                    "issueId": "13242377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/worklog/324514",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #5580: ARROW-5802: [CI][Archery] Dockerify lint utilities\nURL: https://github.com/apache/arrow/pull/5580#issuecomment-539117379\n \n \n   Why is Travis failing \r\n   \r\n   https://travis-ci.org/fsaintjacques/arrow/jobs/594648001#L613\r\n   \r\n   but GitHub Actions succeeds?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-10-07T17:23:06.110+0000",
                    "updated": "2019-10-07T17:23:06.110+0000",
                    "started": "2019-10-07T17:23:06.110+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "324514",
                    "issueId": "13242377"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 16200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@5464c437[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4029edc1[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@713eb0c2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@7ef60cc1[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@36a3ba4e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@79aaa3ab[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7d16a4fc[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@33482f9b[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@18129276[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3409dd24[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7c70be1d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@e3662ff[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 16200,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Oct 08 18:36:42 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-10-08T18:36:42.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5802/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2019-06-30T18:53:26.000+0000",
        "updated": "2019-10-08T18:36:42.000+0000",
        "timeoriginalestimate": null,
        "description": "Run via docker-compose; also enables contributors to lint locally",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "4.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 16200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[CI] Dockerize \"lint\" Travis CI job",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/comment/16885818",
                    "id": "16885818",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "I started working on this but I have to give up\r\n\r\nhttps://github.com/wesm/arrow/tree/ARROW-5802\r\n\r\nI started with Debian Stretch since there are \"slim\" images with the JRE from the openjdk Docker Hub account, but then I got stuck because we have Python 3.6 code that needs to be linted, so we'll probably have to put conda in the image.\r\n\r\nI'm also not sure how to handle the ARROW_CI_*_AFFECTED environment variables -- should we just always run the checks?\r\n\r\nAs a last matter, running hadolint without docker seems complicated, since you can't do docker-in-docker",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-07-16T03:45:24.946+0000",
                    "updated": "2019-07-16T03:45:24.946+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/comment/16885819",
                    "id": "16885819",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "cc [~kszucs] [~fsaintjacques] since you may get further than me on this",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-07-16T03:45:43.967+0000",
                    "updated": "2019-07-16T03:45:43.967+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13242377/comment/16947115",
                    "id": "16947115",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 5580\n[https://github.com/apache/arrow/pull/5580]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-10-08T18:36:42.991+0000",
                    "updated": "2019-10-08T18:36:42.991+0000"
                }
            ],
            "maxResults": 3,
            "total": 3,
            "startAt": 0
        },
        "customfield_12311820": "0|z048i8:",
        "customfield_12314139": null
    }
}