{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13203239",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239",
    "key": "ARROW-3966",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343937",
                "id": "12343937",
                "description": "",
                "name": "0.13.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-04-01"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12549651",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12549651",
                "type": {
                    "id": "12310010",
                    "name": "Incorporates",
                    "inward": "is part of",
                    "outward": "incorporates",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310010"
                },
                "outwardIssue": {
                    "id": "13203237",
                    "key": "ARROW-3965",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203237",
                    "fields": {
                        "summary": "[Java] JDBC-to-Arrow Conversion: Configuration Object",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
                            "name": "Minor",
                            "id": "4"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=rpimike1022",
            "name": "rpimike1022",
            "key": "rpimike1022",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=rpimike1022&avatarId=37358",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rpimike1022&avatarId=37358",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rpimike1022&avatarId=37358",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rpimike1022&avatarId=37358"
            },
            "displayName": "Michael Pigott",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=rpimike1022",
            "name": "rpimike1022",
            "key": "rpimike1022",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=rpimike1022&avatarId=37358",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rpimike1022&avatarId=37358",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rpimike1022&avatarId=37358",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rpimike1022&avatarId=37358"
            },
            "displayName": "Michael Pigott",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=rpimike1022",
            "name": "rpimike1022",
            "key": "rpimike1022",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=rpimike1022&avatarId=37358",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rpimike1022&avatarId=37358",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rpimike1022&avatarId=37358",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rpimike1022&avatarId=37358"
            },
            "displayName": "Michael Pigott",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 24600,
            "total": 24600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 24600,
            "total": 24600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3966/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 45,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/173225",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mikepigott opened a new pull request #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134\n \n \n   https://issues.apache.org/jira/browse/ARROW-3966\r\n   \r\n   This change includes #3133, and supports a new configuration item called \"Include Metadata.\"  If true, metadata from the JDBC ResultSetMetaData object is pulled along to the Schema Field Metadata.  For now, this includes:\r\n   * Catalog Name\r\n   * Table Name\r\n   * Column Name\r\n   * Column Type Name\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-12-09T00:19:58.381+0000",
                    "updated": "2018-12-09T00:19:58.381+0000",
                    "started": "2018-12-09T00:19:58.380+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "173225",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/173258",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mikepigott commented on issue #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#issuecomment-445544285\n \n \n   https://travis-ci.org/apache/arrow/jobs/465515849 - This appears to be a Travis / environment hiccup, and not a result of my change.  Could someone restart this build?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-12-09T14:54:08.237+0000",
                    "updated": "2018-12-09T14:54:08.237+0000",
                    "started": "2018-12-09T14:54:08.236+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "173258",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/173263",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#issuecomment-445554934\n \n \n   You can trigger a fresh build by `git commit --amend` followed by `git push -f`. I'm restarting this build entry\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-12-09T17:16:49.962+0000",
                    "updated": "2018-12-09T17:16:49.962+0000",
                    "started": "2018-12-09T17:16:49.961+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "173263",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/175458",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#issuecomment-447386605\n \n \n   @siddharthteotia @atuldambalkar can you review this?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-12-14T16:59:57.776+0000",
                    "updated": "2018-12-14T16:59:57.776+0000",
                    "started": "2018-12-14T16:59:57.775+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "175458",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/192178",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "atuldambalkar commented on pull request #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#discussion_r252193877\n \n \n\n ##########\n File path: java/adapter/jdbc/src/main/java/org/apache/arrow/adapter/jdbc/JdbcToArrowUtils.java\n ##########\n @@ -222,17 +259,38 @@ private static void allocateVectors(VectorSchemaRoot root, int size) {\n    * Iterate the given JDBC {@link ResultSet} object to fetch the data and transpose it to populate\n    * the given Arrow Vector objects.\n    *\n-   * @param rs   ResultSet to use to fetch the data from underlying database\n-   * @param root Arrow {@link VectorSchemaRoot} object to populate\n+   * @param rs       ResultSet to use to fetch the data from underlying database\n+   * @param root     Arrow {@link VectorSchemaRoot} object to populate\n+   * @param calendar The calendar to use when reading time-based data.\n    * @throws SQLException on error\n    */\n   public static void jdbcToArrowVectors(ResultSet rs, VectorSchemaRoot root, Calendar calendar)\n       throws SQLException, IOException {\n \n     Preconditions.checkNotNull(rs, \"JDBC ResultSet object can't be null\");\n-    Preconditions.checkNotNull(root, \"JDBC ResultSet object can't be null\");\n+    Preconditions.checkNotNull(root, \"Vector Schema cannot be null\");\n     Preconditions.checkNotNull(calendar, \"Calendar object can't be null\");\n \n+    jdbcToArrowVectors(rs, root, new JdbcToArrowConfig(new RootAllocator(0), calendar));\n \n Review comment:\n   I think, RootAllocator with argument 0, may not behave as expected. Have you tested this? \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-01-30T10:20:02.572+0000",
                    "updated": "2019-01-30T10:20:02.572+0000",
                    "started": "2019-01-30T10:20:02.572+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "192178",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/192182",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "atuldambalkar commented on pull request #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#discussion_r252194653\n \n \n\n ##########\n File path: java/adapter/jdbc/src/main/java/org/apache/arrow/adapter/jdbc/JdbcToArrowUtils.java\n ##########\n @@ -120,87 +138,106 @@\n    * CLOB --> ArrowType.Utf8\n    * BLOB --> ArrowType.Binary\n    *\n-   * @param rsmd ResultSetMetaData\n+   * @param rsmd The ResultSetMetaData containing the results, to read the JDBC metadata from.\n+   * @param config The configuration to use when constructing the schema.\n    * @return {@link Schema}\n    * @throws SQLException on error\n    */\n-  public static Schema jdbcToArrowSchema(ResultSetMetaData rsmd, Calendar calendar) throws SQLException {\n-\n+  public static Schema jdbcToArrowSchema(ResultSetMetaData rsmd, JdbcToArrowConfig config) throws SQLException {\n     Preconditions.checkNotNull(rsmd, \"JDBC ResultSetMetaData object can't be null\");\n-    Preconditions.checkNotNull(calendar, \"Calendar object can't be null\");\n+    Preconditions.checkNotNull(config, \"The configuration object must not be null\");\n+    Preconditions.checkArgument(config.isValid(), \"The configuration object must be valid\");\n \n     List<Field> fields = new ArrayList<>();\n     int columnCount = rsmd.getColumnCount();\n     for (int i = 1; i <= columnCount; i++) {\n-      String columnName = rsmd.getColumnName(i);\n+      final String columnName = rsmd.getColumnName(i);\n+      final FieldType fieldType;\n+\n+      final Map<String, String> metadata;\n+      if (config.getIncludeMetadata()) {\n+        metadata = new HashMap<String, String>();\n+        metadata.put(Constants.SQL_CATALOG_NAME_KEY, rsmd.getCatalogName(i));\n+        metadata.put(Constants.SQL_TABLE_NAME_KEY, rsmd.getTableName(i));\n+        metadata.put(Constants.SQL_COLUMN_NAME_KEY, columnName);\n+        metadata.put(Constants.SQL_TYPE_KEY, rsmd.getColumnTypeName(i));\n+\n+      } else {\n+        metadata = null;\n+      }\n+\n       switch (rsmd.getColumnType(i)) {\n         case Types.BOOLEAN:\n         case Types.BIT:\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.Bool()), null));\n+          fieldType = new FieldType(true, new ArrowType.Bool(), null, metadata);\n           break;\n         case Types.TINYINT:\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.Int(8, true)), null));\n+          fieldType = new FieldType(true, new ArrowType.Int(8, true), null, metadata);\n           break;\n         case Types.SMALLINT:\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.Int(16, true)), null));\n+          fieldType = new FieldType(true, new ArrowType.Int(16, true), null, metadata);\n           break;\n         case Types.INTEGER:\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.Int(32, true)), null));\n+          fieldType = new FieldType(true, new ArrowType.Int(32, true), null, metadata);\n           break;\n         case Types.BIGINT:\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.Int(64, true)), null));\n+          fieldType = new FieldType(true, new ArrowType.Int(64, true), null, metadata);\n           break;\n         case Types.NUMERIC:\n         case Types.DECIMAL:\n           int precision = rsmd.getPrecision(i);\n           int scale = rsmd.getScale(i);\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.Decimal(precision, scale)), null));\n+          fieldType = new FieldType(true, new ArrowType.Decimal(precision, scale), null, metadata);\n           break;\n         case Types.REAL:\n         case Types.FLOAT:\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.FloatingPoint(SINGLE)), null));\n+          fieldType = new FieldType(true, new ArrowType.FloatingPoint(SINGLE), null, metadata);\n           break;\n         case Types.DOUBLE:\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.FloatingPoint(DOUBLE)), null));\n+          fieldType = new FieldType(true, new ArrowType.FloatingPoint(DOUBLE), null, metadata);\n           break;\n         case Types.CHAR:\n         case Types.NCHAR:\n         case Types.VARCHAR:\n         case Types.NVARCHAR:\n         case Types.LONGVARCHAR:\n         case Types.LONGNVARCHAR:\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.Utf8()), null));\n+        case Types.CLOB:\n+          fieldType = new FieldType(true, new ArrowType.Utf8(), null, metadata);\n           break;\n         case Types.DATE:\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.Date(DateUnit.MILLISECOND)), null));\n+          fieldType = new FieldType(true, new ArrowType.Date(DateUnit.MILLISECOND), null, metadata);\n           break;\n         case Types.TIME:\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.Time(TimeUnit.MILLISECOND, 32)), null));\n+          fieldType = new FieldType(true, new ArrowType.Time(TimeUnit.MILLISECOND, 32), null, metadata);\n           break;\n         case Types.TIMESTAMP:\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.Timestamp(TimeUnit.MILLISECOND,\n-              calendar.getTimeZone().getID())), null));\n+          fieldType =\n+              new FieldType(\n+                  true,\n+                  new ArrowType.Timestamp(TimeUnit.MILLISECOND, config.getCalendar().getTimeZone().getID()),\n+                  null,\n+                  metadata);\n           break;\n         case Types.BINARY:\n         case Types.VARBINARY:\n         case Types.LONGVARBINARY:\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.Binary()), null));\n-          break;\n-        case Types.ARRAY:\n-          // TODO Need to handle this type\n-          // fields.add(new Field(\"list\", FieldType.nullable(new ArrowType.List()), null));\n-          break;\n-        case Types.CLOB:\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.Utf8()), null));\n-          break;\n         case Types.BLOB:\n-          fields.add(new Field(columnName, FieldType.nullable(new ArrowType.Binary()), null));\n+          fieldType = new FieldType(true, new ArrowType.Binary(), null, metadata);\n           break;\n \n+        case Types.ARRAY:\n+            // TODO Need to handle this type\n+            // fields.add(new Field(\"list\", FieldType.nullable(new ArrowType.List()), null));\n         default:\n           // no-op, shouldn't get here\n+          fieldType = null;\n           break;\n       }\n+\n+      if (fieldType != null) {\n+        fields.add(new Field(columnName, fieldType, null));\n \n Review comment:\n   I like the use of FieldType object instead of creating Field object in each case stmt. I am fine with this.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-01-30T10:22:27.404+0000",
                    "updated": "2019-01-30T10:22:27.404+0000",
                    "started": "2019-01-30T10:22:27.403+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "192182",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/193649",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#discussion_r253257456\n \n \n\n ##########\n File path: java/adapter/jdbc/src/main/java/org/apache/arrow/adapter/jdbc/JdbcToArrow.java\n ##########\n @@ -110,13 +112,36 @@ public static VectorSchemaRoot sqlToArrow(\n       String query,\n       BaseAllocator allocator,\n       Calendar calendar) throws SQLException, IOException {\n+\n     Preconditions.checkNotNull(connection, \"JDBC connection object can not be null\");\n     Preconditions.checkArgument(query != null && query.length() > 0, \"SQL query can not be null or empty\");\n     Preconditions.checkNotNull(allocator, \"Memory allocator object can not be null\");\n     Preconditions.checkNotNull(calendar, \"Calendar object can not be null\");\n \n+    return sqlToArrow(connection, query, new JdbcToArrowConfig(allocator, calendar));\n+  }\n+\n+  /**\n+   * For the given SQL query, execute and fetch the data from Relational DB and convert it to Arrow objects.\n+   *\n+   * @param connection Database connection to be used. This method will not close the passed connection object.\n \n Review comment:\n   it might be a simpler contract to pass through the ResultSet object instead here? \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-02T07:35:36.709+0000",
                    "updated": "2019-02-02T07:35:36.709+0000",
                    "started": "2019-02-02T07:35:36.708+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "193649",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/193650",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#discussion_r253257485\n \n \n\n ##########\n File path: java/adapter/jdbc/src/main/java/org/apache/arrow/adapter/jdbc/JdbcToArrow.java\n ##########\n @@ -89,7 +89,9 @@ public static VectorSchemaRoot sqlToArrow(Connection connection, String query, B\n     Preconditions.checkArgument(query != null && query.length() > 0, \"SQL query can not be null or empty\");\n     Preconditions.checkNotNull(allocator, \"Memory allocator object can not be null\");\n \n-    return sqlToArrow(connection, query, allocator, Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"), Locale.ROOT));\n+    JdbcToArrowConfig config =\n+            new JdbcToArrowConfig(allocator, Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"), Locale.ROOT), false);\n \n Review comment:\n   Would a utility method for getting the UTC calendar make sense?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-02T07:36:53.974+0000",
                    "updated": "2019-02-02T07:36:53.974+0000",
                    "started": "2019-02-02T07:36:53.973+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "193650",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/193652",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#discussion_r253257673\n \n \n\n ##########\n File path: java/adapter/jdbc/src/test/java/org/apache/arrow/adapter/jdbc/JdbcToArrowTestHelper.java\n ##########\n @@ -166,6 +173,41 @@ public static void assertNullValues(BaseValueVector vector, int rowCount) {\n     }\n   }\n \n+  public static void assertFieldMetadataIsEmpty(VectorSchemaRoot schema) {\n+    assertNotNull(schema);\n+    assertNotNull(schema.getSchema());\n+    assertNotNull(schema.getSchema().getFields());\n+\n+    for (Field field : schema.getSchema().getFields()) {\n+      assertNotNull(field.getMetadata());\n+      assertEquals(0, field.getMetadata().size());\n+    }\n+  }\n+\n+  public static void assertFieldMetadataMatchesResultSetMetadata(ResultSetMetaData rsmd, Schema schema)\n+      throws SQLException {\n+    assertNotNull(schema);\n+    assertNotNull(schema.getFields());\n+    assertNotNull(rsmd);\n+\n+    List<Field> fields = schema.getFields();\n+\n+    assertEquals(rsmd.getColumnCount(), fields.size());\n+\n+    // Vector columns are created in the same order as ResultSet columns.\n+    for (int i = 0; i < rsmd.getColumnCount(); ++i) {\n+      Map<String, String> metadata = fields.get(i).getMetadata();\n+\n+      assertNotNull(metadata);\n+      assertEquals(4, metadata.size());\n+\n+      assertEquals(rsmd.getCatalogName(i + 1), metadata.get(Constants.SQL_CATALOG_NAME_KEY));\n \n Review comment:\n   might be cleaner if you start the loop at 1 instead of doing the addition in 4 places.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-02T07:44:19.590+0000",
                    "updated": "2019-02-02T07:44:19.590+0000",
                    "started": "2019-02-02T07:44:19.590+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "193652",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/193783",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mikepigott commented on pull request #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#discussion_r253309839\n \n \n\n ##########\n File path: java/adapter/jdbc/src/main/java/org/apache/arrow/adapter/jdbc/JdbcToArrowUtils.java\n ##########\n @@ -222,17 +259,38 @@ private static void allocateVectors(VectorSchemaRoot root, int size) {\n    * Iterate the given JDBC {@link ResultSet} object to fetch the data and transpose it to populate\n    * the given Arrow Vector objects.\n    *\n-   * @param rs   ResultSet to use to fetch the data from underlying database\n-   * @param root Arrow {@link VectorSchemaRoot} object to populate\n+   * @param rs       ResultSet to use to fetch the data from underlying database\n+   * @param root     Arrow {@link VectorSchemaRoot} object to populate\n+   * @param calendar The calendar to use when reading time-based data.\n    * @throws SQLException on error\n    */\n   public static void jdbcToArrowVectors(ResultSet rs, VectorSchemaRoot root, Calendar calendar)\n       throws SQLException, IOException {\n \n     Preconditions.checkNotNull(rs, \"JDBC ResultSet object can't be null\");\n-    Preconditions.checkNotNull(root, \"JDBC ResultSet object can't be null\");\n+    Preconditions.checkNotNull(root, \"Vector Schema cannot be null\");\n     Preconditions.checkNotNull(calendar, \"Calendar object can't be null\");\n \n+    jdbcToArrowVectors(rs, root, new JdbcToArrowConfig(new RootAllocator(0), calendar));\n \n Review comment:\n   This is a little confusing.  The config's allocator is used in the `JdbcToArrow` static member functions to construct a `VectorSchemaRoot`.  At this point, the `VectorSchemaRoot` has already been constructed, so the allocator is an unused argument.  That's why its allocation can be `0`.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-03T16:52:09.129+0000",
                    "updated": "2019-02-03T16:52:09.129+0000",
                    "started": "2019-02-03T16:52:09.128+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "193783",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/193785",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mikepigott commented on pull request #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#discussion_r253310051\n \n \n\n ##########\n File path: java/adapter/jdbc/src/main/java/org/apache/arrow/adapter/jdbc/JdbcToArrow.java\n ##########\n @@ -110,13 +112,36 @@ public static VectorSchemaRoot sqlToArrow(\n       String query,\n       BaseAllocator allocator,\n       Calendar calendar) throws SQLException, IOException {\n+\n     Preconditions.checkNotNull(connection, \"JDBC connection object can not be null\");\n     Preconditions.checkArgument(query != null && query.length() > 0, \"SQL query can not be null or empty\");\n     Preconditions.checkNotNull(allocator, \"Memory allocator object can not be null\");\n     Preconditions.checkNotNull(calendar, \"Calendar object can not be null\");\n \n+    return sqlToArrow(connection, query, new JdbcToArrowConfig(allocator, calendar));\n+  }\n+\n+  /**\n+   * For the given SQL query, execute and fetch the data from Relational DB and convert it to Arrow objects.\n+   *\n+   * @param connection Database connection to be used. This method will not close the passed connection object.\n \n Review comment:\n   That version exists on line 224.\r\n   \r\n   This version can certainly be removed, but I was trying to preserve the pair of contracts the original author supplied.  The two contracts were:\r\n   \r\n   1. <Database + Query> + [Allocator | Calendar | Both | Neither]\r\n   2. <ResultSet> + [Allocator | Calendar | Both | Neither]\r\n   \r\n   Since I'm adding a new contract of <ResultSet> + <Config>, it made sense to me to also add <Database + Query> + <Config>.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-03T16:57:56.964+0000",
                    "updated": "2019-02-03T16:57:56.964+0000",
                    "started": "2019-02-03T16:57:56.962+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "193785",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/193786",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#issuecomment-460068480\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=h1) Report\n   > Merging [#3134](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/f08e109ff009e911bb772e5b0490c7cacf02140e?src=pr&el=desc) will **increase** coverage by `0.77%`.\n   > The diff coverage is `n/a`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/3134/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #3134      +/-   ##\n   ==========================================\n   + Coverage   87.77%   88.55%   +0.77%     \n   ==========================================\n     Files         659      434     -225     \n     Lines       82110    53263   -28847     \n     Branches     1069        0    -1069     \n   ==========================================\n   - Hits        72076    47165   -24911     \n   + Misses       9923     6098    -3825     \n   + Partials      111        0     -111\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [cpp/src/arrow/csv/reader.h](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jc3YvcmVhZGVyLmg=) | `0% <0%> (-100%)` | :arrow_down: |\n   | [cpp/src/arrow/array/builder\\_union.h](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9hcnJheS9idWlsZGVyX3VuaW9uLmg=) | `0% <0%> (-100%)` | :arrow_down: |\n   | [cpp/src/arrow/array/builder\\_union.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9hcnJheS9idWlsZGVyX3VuaW9uLmNj) | `4.16% <0%> (-95.84%)` | :arrow_down: |\n   | [cpp/src/arrow/csv/reader.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jc3YvcmVhZGVyLmNj) | `0.53% <0%> (-90.38%)` | :arrow_down: |\n   | [cpp/src/arrow/adapters/orc/adapter.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9hZGFwdGVycy9vcmMvYWRhcHRlci5jYw==) | `0.26% <0%> (-73.04%)` | :arrow_down: |\n   | [cpp/src/plasma/eviction\\_policy.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvZXZpY3Rpb25fcG9saWN5LmNj) | `54.9% <0%> (-45.1%)` | :arrow_down: |\n   | [cpp/src/plasma/events.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvZXZlbnRzLmNj) | `52.5% <0%> (-35%)` | :arrow_down: |\n   | [cpp/src/arrow/csv/options.h](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jc3Yvb3B0aW9ucy5o) | `66.66% <0%> (-33.34%)` | :arrow_down: |\n   | [cpp/src/plasma/thirdparty/ae/ae.c](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvdGhpcmRwYXJ0eS9hZS9hZS5j) | `41.7% <0%> (-29.39%)` | :arrow_down: |\n   | [cpp/src/parquet/column\\_scanner.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wYXJxdWV0L2NvbHVtbl9zY2FubmVyLmNj) | `59.09% <0%> (-22.73%)` | :arrow_down: |\n   | ... and [277 more](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=footer). Last update [f08e109...2928513](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-03T16:58:40.253+0000",
                    "updated": "2019-02-03T16:58:40.253+0000",
                    "started": "2019-02-03T16:58:40.252+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "193786",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/193788",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mikepigott commented on pull request #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#discussion_r253310399\n \n \n\n ##########\n File path: java/adapter/jdbc/src/main/java/org/apache/arrow/adapter/jdbc/JdbcToArrow.java\n ##########\n @@ -89,7 +89,9 @@ public static VectorSchemaRoot sqlToArrow(Connection connection, String query, B\n     Preconditions.checkArgument(query != null && query.length() > 0, \"SQL query can not be null or empty\");\n     Preconditions.checkNotNull(allocator, \"Memory allocator object can not be null\");\n \n-    return sqlToArrow(connection, query, allocator, Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"), Locale.ROOT));\n+    JdbcToArrowConfig config =\n+            new JdbcToArrowConfig(allocator, Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"), Locale.ROOT), false);\n \n Review comment:\n   Good call.  Done.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-03T17:07:00.120+0000",
                    "updated": "2019-02-03T17:07:00.120+0000",
                    "started": "2019-02-03T17:07:00.119+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "193788",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/193790",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#issuecomment-460068480\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=h1) Report\n   > Merging [#3134](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/f08e109ff009e911bb772e5b0490c7cacf02140e?src=pr&el=desc) will **increase** coverage by `0.77%`.\n   > The diff coverage is `n/a`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/3134/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #3134      +/-   ##\n   ==========================================\n   + Coverage   87.77%   88.55%   +0.77%     \n   ==========================================\n     Files         659      434     -225     \n     Lines       82110    53261   -28849     \n     Branches     1069        0    -1069     \n   ==========================================\n   - Hits        72076    47163   -24913     \n   + Misses       9923     6098    -3825     \n   + Partials      111        0     -111\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [cpp/src/arrow/csv/reader.h](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jc3YvcmVhZGVyLmg=) | `0% <0%> (-100%)` | :arrow_down: |\n   | [cpp/src/arrow/array/builder\\_union.h](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9hcnJheS9idWlsZGVyX3VuaW9uLmg=) | `0% <0%> (-100%)` | :arrow_down: |\n   | [cpp/src/arrow/array/builder\\_union.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9hcnJheS9idWlsZGVyX3VuaW9uLmNj) | `4.16% <0%> (-95.84%)` | :arrow_down: |\n   | [cpp/src/arrow/csv/reader.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jc3YvcmVhZGVyLmNj) | `0.53% <0%> (-90.38%)` | :arrow_down: |\n   | [cpp/src/arrow/adapters/orc/adapter.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9hZGFwdGVycy9vcmMvYWRhcHRlci5jYw==) | `0.26% <0%> (-73.04%)` | :arrow_down: |\n   | [cpp/src/plasma/eviction\\_policy.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvZXZpY3Rpb25fcG9saWN5LmNj) | `54.9% <0%> (-45.1%)` | :arrow_down: |\n   | [cpp/src/plasma/events.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvZXZlbnRzLmNj) | `52.5% <0%> (-35%)` | :arrow_down: |\n   | [cpp/src/arrow/csv/options.h](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jc3Yvb3B0aW9ucy5o) | `66.66% <0%> (-33.34%)` | :arrow_down: |\n   | [cpp/src/plasma/thirdparty/ae/ae.c](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvdGhpcmRwYXJ0eS9hZS9hZS5j) | `41.7% <0%> (-29.39%)` | :arrow_down: |\n   | [cpp/src/parquet/column\\_scanner.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wYXJxdWV0L2NvbHVtbl9zY2FubmVyLmNj) | `59.09% <0%> (-22.73%)` | :arrow_down: |\n   | ... and [276 more](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=footer). Last update [f08e109...cfb2ba6](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-03T17:16:06.483+0000",
                    "updated": "2019-02-03T17:16:06.483+0000",
                    "started": "2019-02-03T17:16:06.482+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "193790",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/193791",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mikepigott commented on pull request #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#discussion_r253310772\n \n \n\n ##########\n File path: java/adapter/jdbc/src/test/java/org/apache/arrow/adapter/jdbc/JdbcToArrowTestHelper.java\n ##########\n @@ -166,6 +173,41 @@ public static void assertNullValues(BaseValueVector vector, int rowCount) {\n     }\n   }\n \n+  public static void assertFieldMetadataIsEmpty(VectorSchemaRoot schema) {\n+    assertNotNull(schema);\n+    assertNotNull(schema.getSchema());\n+    assertNotNull(schema.getSchema().getFields());\n+\n+    for (Field field : schema.getSchema().getFields()) {\n+      assertNotNull(field.getMetadata());\n+      assertEquals(0, field.getMetadata().size());\n+    }\n+  }\n+\n+  public static void assertFieldMetadataMatchesResultSetMetadata(ResultSetMetaData rsmd, Schema schema)\n+      throws SQLException {\n+    assertNotNull(schema);\n+    assertNotNull(schema.getFields());\n+    assertNotNull(rsmd);\n+\n+    List<Field> fields = schema.getFields();\n+\n+    assertEquals(rsmd.getColumnCount(), fields.size());\n+\n+    // Vector columns are created in the same order as ResultSet columns.\n+    for (int i = 0; i < rsmd.getColumnCount(); ++i) {\n+      Map<String, String> metadata = fields.get(i).getMetadata();\n+\n+      assertNotNull(metadata);\n+      assertEquals(4, metadata.size());\n+\n+      assertEquals(rsmd.getCatalogName(i + 1), metadata.get(Constants.SQL_CATALOG_NAME_KEY));\n \n Review comment:\n   Yup, I agree.  I had to use `i - 1` when getting the field metadata from the `VectorSchemaRoot`, but I agree that's 3 fewer lines of code with an offset.  Updated.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-03T17:16:18.538+0000",
                    "updated": "2019-02-03T17:16:18.538+0000",
                    "started": "2019-02-03T17:16:18.538+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "193791",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/193792",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mikepigott commented on issue #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#issuecomment-460070139\n \n \n   Thanks for the code review!  I believe I've responded to all of the feedback.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-03T17:17:44.816+0000",
                    "updated": "2019-02-03T17:17:44.816+0000",
                    "started": "2019-02-03T17:17:44.815+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "193792",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/193795",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#issuecomment-460068480\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=h1) Report\n   > Merging [#3134](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/f08e109ff009e911bb772e5b0490c7cacf02140e?src=pr&el=desc) will **increase** coverage by `0.77%`.\n   > The diff coverage is `n/a`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/3134/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #3134      +/-   ##\n   ==========================================\n   + Coverage   87.77%   88.55%   +0.77%     \n   ==========================================\n     Files         659      434     -225     \n     Lines       82110    53263   -28847     \n     Branches     1069        0    -1069     \n   ==========================================\n   - Hits        72076    47165   -24911     \n   + Misses       9923     6098    -3825     \n   + Partials      111        0     -111\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [cpp/src/arrow/csv/reader.h](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jc3YvcmVhZGVyLmg=) | `0% <0%> (-100%)` | :arrow_down: |\n   | [cpp/src/arrow/array/builder\\_union.h](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9hcnJheS9idWlsZGVyX3VuaW9uLmg=) | `0% <0%> (-100%)` | :arrow_down: |\n   | [cpp/src/arrow/array/builder\\_union.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9hcnJheS9idWlsZGVyX3VuaW9uLmNj) | `4.16% <0%> (-95.84%)` | :arrow_down: |\n   | [cpp/src/arrow/csv/reader.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jc3YvcmVhZGVyLmNj) | `0.53% <0%> (-90.38%)` | :arrow_down: |\n   | [cpp/src/arrow/adapters/orc/adapter.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9hZGFwdGVycy9vcmMvYWRhcHRlci5jYw==) | `0.26% <0%> (-73.04%)` | :arrow_down: |\n   | [cpp/src/plasma/eviction\\_policy.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvZXZpY3Rpb25fcG9saWN5LmNj) | `54.9% <0%> (-45.1%)` | :arrow_down: |\n   | [cpp/src/plasma/events.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvZXZlbnRzLmNj) | `52.5% <0%> (-35%)` | :arrow_down: |\n   | [cpp/src/arrow/csv/options.h](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jc3Yvb3B0aW9ucy5o) | `66.66% <0%> (-33.34%)` | :arrow_down: |\n   | [cpp/src/plasma/thirdparty/ae/ae.c](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvdGhpcmRwYXJ0eS9hZS9hZS5j) | `41.7% <0%> (-29.39%)` | :arrow_down: |\n   | [cpp/src/parquet/column\\_scanner.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wYXJxdWV0L2NvbHVtbl9zY2FubmVyLmNj) | `59.09% <0%> (-22.73%)` | :arrow_down: |\n   | ... and [277 more](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=footer). Last update [f08e109...cc6cc88](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-03T17:31:04.367+0000",
                    "updated": "2019-02-03T17:31:04.367+0000",
                    "started": "2019-02-03T17:31:04.367+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "193795",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/193797",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#issuecomment-460068480\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=h1) Report\n   > Merging [#3134](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/f08e109ff009e911bb772e5b0490c7cacf02140e?src=pr&el=desc) will **increase** coverage by `0.77%`.\n   > The diff coverage is `n/a`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/3134/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #3134      +/-   ##\n   ==========================================\n   + Coverage   87.77%   88.55%   +0.77%     \n   ==========================================\n     Files         659      434     -225     \n     Lines       82110    53261   -28849     \n     Branches     1069        0    -1069     \n   ==========================================\n   - Hits        72076    47163   -24913     \n   + Misses       9923     6098    -3825     \n   + Partials      111        0     -111\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [cpp/src/arrow/csv/reader.h](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jc3YvcmVhZGVyLmg=) | `0% <0%> (-100%)` | :arrow_down: |\n   | [cpp/src/arrow/array/builder\\_union.h](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9hcnJheS9idWlsZGVyX3VuaW9uLmg=) | `0% <0%> (-100%)` | :arrow_down: |\n   | [cpp/src/arrow/array/builder\\_union.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9hcnJheS9idWlsZGVyX3VuaW9uLmNj) | `4.16% <0%> (-95.84%)` | :arrow_down: |\n   | [cpp/src/arrow/csv/reader.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jc3YvcmVhZGVyLmNj) | `0.53% <0%> (-90.38%)` | :arrow_down: |\n   | [cpp/src/arrow/adapters/orc/adapter.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9hZGFwdGVycy9vcmMvYWRhcHRlci5jYw==) | `0.26% <0%> (-73.04%)` | :arrow_down: |\n   | [cpp/src/plasma/eviction\\_policy.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvZXZpY3Rpb25fcG9saWN5LmNj) | `54.9% <0%> (-45.1%)` | :arrow_down: |\n   | [cpp/src/plasma/events.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvZXZlbnRzLmNj) | `52.5% <0%> (-35%)` | :arrow_down: |\n   | [cpp/src/arrow/csv/options.h](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jc3Yvb3B0aW9ucy5o) | `66.66% <0%> (-33.34%)` | :arrow_down: |\n   | [cpp/src/plasma/thirdparty/ae/ae.c](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvdGhpcmRwYXJ0eS9hZS9hZS5j) | `41.7% <0%> (-29.39%)` | :arrow_down: |\n   | [cpp/src/parquet/column\\_scanner.cc](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wYXJxdWV0L2NvbHVtbl9zY2FubmVyLmNj) | `59.09% <0%> (-22.73%)` | :arrow_down: |\n   | ... and [276 more](https://codecov.io/gh/apache/arrow/pull/3134/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=footer). Last update [f08e109...cc6cc88](https://codecov.io/gh/apache/arrow/pull/3134?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-03T17:44:12.250+0000",
                    "updated": "2019-02-03T17:44:12.250+0000",
                    "started": "2019-02-03T17:44:12.249+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "193797",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/193884",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "atuldambalkar commented on pull request #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#discussion_r253348402\n \n \n\n ##########\n File path: java/adapter/jdbc/src/main/java/org/apache/arrow/adapter/jdbc/JdbcToArrowUtils.java\n ##########\n @@ -222,17 +259,38 @@ private static void allocateVectors(VectorSchemaRoot root, int size) {\n    * Iterate the given JDBC {@link ResultSet} object to fetch the data and transpose it to populate\n    * the given Arrow Vector objects.\n    *\n-   * @param rs   ResultSet to use to fetch the data from underlying database\n-   * @param root Arrow {@link VectorSchemaRoot} object to populate\n+   * @param rs       ResultSet to use to fetch the data from underlying database\n+   * @param root     Arrow {@link VectorSchemaRoot} object to populate\n+   * @param calendar The calendar to use when reading time-based data.\n    * @throws SQLException on error\n    */\n   public static void jdbcToArrowVectors(ResultSet rs, VectorSchemaRoot root, Calendar calendar)\n       throws SQLException, IOException {\n \n     Preconditions.checkNotNull(rs, \"JDBC ResultSet object can't be null\");\n-    Preconditions.checkNotNull(root, \"JDBC ResultSet object can't be null\");\n+    Preconditions.checkNotNull(root, \"Vector Schema cannot be null\");\n     Preconditions.checkNotNull(calendar, \"Calendar object can't be null\");\n \n+    jdbcToArrowVectors(rs, root, new JdbcToArrowConfig(new RootAllocator(0), calendar));\n \n Review comment:\n   Yea, got it. Mainly  for the backeward compatibilit for JdbcToArrowUtils.java class.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-04T05:06:13.293+0000",
                    "updated": "2019-02-04T05:06:13.293+0000",
                    "started": "2019-02-04T05:06:13.292+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "193884",
                    "issueId": "13203239"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/worklog/193895",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "praveenbingo commented on pull request #3134: ARROW-3966 [Java] JDBC Column Metadata in Arrow Field Metadata\nURL: https://github.com/apache/arrow/pull/3134#discussion_r251680152\n \n \n\n ##########\n File path: java/adapter/jdbc/src/main/java/org/apache/arrow/adapter/jdbc/JdbcToArrowConfig.java\n ##########\n @@ -0,0 +1,149 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.arrow.adapter.jdbc;\n+\n+import java.util.Calendar;\n+\n+import org.apache.arrow.memory.BaseAllocator;\n+\n+import com.google.common.base.Preconditions;\n+\n+/**\n+ * This class configures the JDBC-to-Arrow conversion process.\n+ * <p>\n+ * The allocator is used to construct the {@link org.apache.arrow.vector.VectorSchemaRoot},\n+ * and the calendar is used to define the time zone of any {@link org.apahe.arrow.vector.pojo.ArrowType.Timestamp}\n+ * fields that are created during the conversion.\n+ * </p>\n+ * <p>\n+ * Neither field may be <code>null</code>.\n+ * </p>\n+ */\n+public final class JdbcToArrowConfig {\n+  private Calendar calendar;\n+  private BaseAllocator allocator;\n+  private boolean includeMetadata;\n+\n+  /**\n+   * Constructs a new configuration from the provided allocator and calendar.  The <code>allocator</code>\n+   * is used when constructing the Arrow vectors from the ResultSet, and the calendar is used to define\n+   * Arrow Timestamp fields, and to read time-based fields from the JDBC <code>ResultSet</code>. \n+   *\n+   * @param allocator The memory allocator to construct the Arrow vectors with.\n+   * @param calendar The calendar to use when constructing Timestamp fields and reading time-based results.\n+   */\n+  public JdbcToArrowConfig(BaseAllocator allocator, Calendar calendar) {\n+    Preconditions.checkNotNull(allocator, \"Memory allocator cannot be null\");\n+    Preconditions.checkNotNull(calendar, \"Calendar object can not be null\");\n+\n+    this.allocator = allocator;\n+    this.calendar = calendar;\n+    this.includeMetadata = false;\n+  }\n+\n+  /**\n+   * Constructs a new configuration from the provided allocator and calendar.  The <code>allocator</code>\n+   * is used when constructing the Arrow vectors from the ResultSet, and the calendar is used to define\n+   * Arrow Timestamp fields, and to read time-based fields from the JDBC <code>ResultSet</code>. \n+   *\n+   * @param allocator       The memory allocator to construct the Arrow vectors with.\n+   * @param calendar        The calendar to use when constructing Timestamp fields and reading time-based results.\n+   * @param includeMetadata Whether to include JDBC field metadata in the Arrow Schema Field metadata.\n+   */\n+  public JdbcToArrowConfig(BaseAllocator allocator, Calendar calendar, boolean includeMetadata) {\n+    this(allocator, calendar);\n+    this.includeMetadata = includeMetadata;\n+  }\n+\n+  /**\n+   * The calendar to use when defining Arrow Timestamp fields\n+   * and retrieving time-based fields from the database.\n+   * @return the calendar.\n+   */\n+  public Calendar getCalendar() {\n+    return calendar;\n+  }\n+\n+  /**\n+   * Sets the {@link Calendar} to use when constructing timestamp fields in the\n+   * Arrow schema, and reading time-based fields from the JDBC <code>ResultSet</code>.\n+   *\n+   * @param calendar the calendar to set.\n+   * @return This instance of the <code>JdbcToArrowConfig</code>, for chaining.\n+   * @exception NullPointerExeption if <code>calendar</code> is <code>null</code>.\n+   */\n+  public JdbcToArrowConfig setCalendar(Calendar calendar) {\n \n Review comment:\n   minor style nit (please ignore if you disagree) i would prefer creating a builder, so that the POJO itself is immutable.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-04T06:04:37.232+0000",
                    "updated": "2019-02-04T06:04:37.232+0000",
                    "started": "2019-02-04T06:04:37.232+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "193895",
                    "issueId": "13203239"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 24600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@273a62d0[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7bdc2c0a[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@16ca256d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@c6cf7c2[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@35d313c7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@408ca0ef[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7aa04de[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6c93210e[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@41734a70[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@64dd0169[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@338665d8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@46e8a9f7[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 24600,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Feb 06 17:10:28 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-02-06T17:10:28.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3966/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2018-12-09T00:09:57.000+0000",
        "updated": "2019-02-06T17:11:12.000+0000",
        "timeoriginalestimate": null,
        "description": "This feature extends ARROW-3965 and adds a new option to include JDBC metadata in the Arrow Schema Field Metadata.\u00a0 To start, the following items are added:\r\n * Catalog Name\r\n * Table Name\r\n * Column Name\r\n * Column Type Name\r\n\r\nThese are configured by setting the \"Include Metadata\" boolean flag on the configuration object.\u00a0 If the value is set to\u00a0_true_, the above fields will be added.\u00a0 Otherwise, they will not.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "6h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 24600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Java] JDBC-to-Arrow Conversion: JDBC Metadata in Schema Fields",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/comment/16713817",
                    "id": "16713817",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=rpimike1022",
                        "name": "rpimike1022",
                        "key": "rpimike1022",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=rpimike1022&avatarId=37358",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rpimike1022&avatarId=37358",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rpimike1022&avatarId=37358",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rpimike1022&avatarId=37358"
                        },
                        "displayName": "Michael Pigott",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "https://github.com/apache/arrow/pull/3134",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=rpimike1022",
                        "name": "rpimike1022",
                        "key": "rpimike1022",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=rpimike1022&avatarId=37358",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rpimike1022&avatarId=37358",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rpimike1022&avatarId=37358",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rpimike1022&avatarId=37358"
                        },
                        "displayName": "Michael Pigott",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-12-09T00:23:19.035+0000",
                    "updated": "2018-12-09T00:23:19.035+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13203239/comment/16761942",
                    "id": "16761942",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "body": "Issue resolved by pull request 3134\n[https://github.com/apache/arrow/pull/3134]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "created": "2019-02-06T17:10:28.794+0000",
                    "updated": "2019-02-06T17:10:28.794+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|s01be8:",
        "customfield_12314139": null
    }
}