{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13376444",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444",
    "key": "ARROW-12641",
    "fields": {
        "fixVersions": [],
        "resolution": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/1",
            "description": "The issue is open and ready for the assignee to start work on it.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
            "name": "Open",
            "id": "1",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
                "id": 2,
                "key": "new",
                "colorName": "blue-gray",
                "name": "To Do"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
            "name": "bkietz",
            "key": "bkietz",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
            },
            "displayName": "Ben Kietzman",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
            "name": "bkietz",
            "key": "bkietz",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
            },
            "displayName": "Ben Kietzman",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 8400,
            "total": 8400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 8400,
            "total": 8400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12641/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 14,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/worklog/592386",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz opened a new pull request #10233:\nURL: https://github.com/apache/arrow/pull/10233\n\n\n   Sometimes, a worker thread must identify its thread id within a ThreadPool (for example, to support safe concurrent access to per-thread state). We could use std::this_thread::get_id() for this, but this is less convenient for indexing into a container of per-thread state.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-03T21:07:08.697+0000",
                    "updated": "2021-05-03T21:07:08.697+0000",
                    "started": "2021-05-03T21:07:08.696+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "592386",
                    "issueId": "13376444"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/worklog/592387",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #10233:\nURL: https://github.com/apache/arrow/pull/10233#issuecomment-831534498\n\n\n   https://issues.apache.org/jira/browse/ARROW-12641\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-03T21:07:32.342+0000",
                    "updated": "2021-05-03T21:07:32.342+0000",
                    "started": "2021-05-03T21:07:32.342+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "592387",
                    "issueId": "13376444"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/worklog/592404",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "westonpace commented on a change in pull request #10233:\nURL: https://github.com/apache/arrow/pull/10233#discussion_r625375258\n\n\n\n##########\nFile path: cpp/src/arrow/util/future.h\n##########\n@@ -573,6 +573,15 @@ class ARROW_MUST_USE_TYPE Future {\n   FRIEND_TEST(FutureRefTest, HeadRemoved);\n };\n \n+namespace internal {\n\nReview comment:\n       I don't see this used.  What is the intent?  There is already `Future<T>::status`\n\n##########\nFile path: cpp/src/arrow/util/thread_pool.cc\n##########\n@@ -321,13 +321,28 @@ void ThreadPool::CollectFinishedWorkersUnlocked() {\n   state_->finished_workers_.clear();\n }\n \n+thread_local ThreadPool* g_current_thread_pool = nullptr;\n+\n+ThreadPool* ThreadPool::GetCurrentThreadPool() { return g_current_thread_pool; }\n+\n+thread_local int g_current_thread_id = 0;\n+\n+int ThreadPool::GetCurrentThreadId() { return g_current_thread_id; }\n\nReview comment:\n       If this is returning the thread's `index` maybe `id` is not the best name?  Especially since it might be confused with the existing concept of a thread id.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-03T21:31:09.610+0000",
                    "updated": "2021-05-03T21:31:09.610+0000",
                    "started": "2021-05-03T21:31:09.609+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "592404",
                    "issueId": "13376444"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/worklog/592633",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #10233:\nURL: https://github.com/apache/arrow/pull/10233#discussion_r625656065\n\n\n\n##########\nFile path: cpp/src/arrow/util/future.h\n##########\n@@ -573,6 +573,15 @@ class ARROW_MUST_USE_TYPE Future {\n   FRIEND_TEST(FutureRefTest, HeadRemoved);\n };\n \n+namespace internal {\n\nReview comment:\n       Probably for use within `ASSERT_OK`, but we already have specific macros for futures.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-04T09:59:01.777+0000",
                    "updated": "2021-05-04T09:59:01.777+0000",
                    "started": "2021-05-04T09:59:01.777+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "592633",
                    "issueId": "13376444"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/worklog/592682",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #10233:\nURL: https://github.com/apache/arrow/pull/10233#issuecomment-831894788\n\n\n   Like Weston I would like to know a bit more about the intended use case.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-04T12:13:33.790+0000",
                    "updated": "2021-05-04T12:13:33.790+0000",
                    "started": "2021-05-04T12:13:33.790+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "592682",
                    "issueId": "13376444"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/worklog/592745",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on a change in pull request #10233:\nURL: https://github.com/apache/arrow/pull/10233#discussion_r625806258\n\n\n\n##########\nFile path: cpp/src/arrow/util/thread_pool.cc\n##########\n@@ -321,13 +321,28 @@ void ThreadPool::CollectFinishedWorkersUnlocked() {\n   state_->finished_workers_.clear();\n }\n \n+thread_local ThreadPool* g_current_thread_pool = nullptr;\n+\n+ThreadPool* ThreadPool::GetCurrentThreadPool() { return g_current_thread_pool; }\n+\n+thread_local int g_current_thread_id = 0;\n+\n+int ThreadPool::GetCurrentThreadId() { return g_current_thread_id; }\n\nReview comment:\n       Good call, I'll rename to thread index\n\n##########\nFile path: cpp/src/arrow/util/future.h\n##########\n@@ -573,6 +573,15 @@ class ARROW_MUST_USE_TYPE Future {\n   FRIEND_TEST(FutureRefTest, HeadRemoved);\n };\n \n+namespace internal {\n\nReview comment:\n       I'll revert this, then\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-04T13:59:40.088+0000",
                    "updated": "2021-05-04T13:59:40.088+0000",
                    "started": "2021-05-04T13:59:40.088+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "592745",
                    "issueId": "13376444"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/worklog/592765",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #10233:\nURL: https://github.com/apache/arrow/pull/10233#issuecomment-831991760\n\n\n   To be honest, I hadn't considered changing capacity in mid workflow (increase or decrease). For now I've added a unit test which exercises the intended use case, I'll give some thought to changing capacity\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-04T14:36:53.563+0000",
                    "updated": "2021-05-04T14:36:53.563+0000",
                    "started": "2021-05-04T14:36:53.562+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "592765",
                    "issueId": "13376444"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/worklog/592778",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on a change in pull request #10233:\nURL: https://github.com/apache/arrow/pull/10233#discussion_r625846193\n\n\n\n##########\nFile path: cpp/src/arrow/util/thread_pool_test.cc\n##########\n@@ -512,6 +512,98 @@ TEST_F(TestThreadPool, Submit) {\n   }\n }\n \n+TEST_F(TestThreadPool, GetCurrentThreadPool) {\n+  ASSERT_EQ(ThreadPool::GetCurrentThreadPool(), nullptr);\n+\n+  auto pool = this->MakeThreadPool(5);\n+\n+  std::vector<Future<>> futures(1000);\n+\n+  for (size_t i = 0; i < futures.size(); ++i) {\n+    ASSERT_OK_AND_ASSIGN(futures[i], pool->Submit([i, pool] {\n+      if (ThreadPool::GetCurrentThreadPool() == pool.get()) {\n+        return Status::OK();\n+      }\n+      return Status::Invalid(\"Task #\", i, \" did not point to the associated ThreadPool\");\n+    }));\n+  }\n+\n+  ASSERT_OK(AllComplete(futures).status());\n+  ASSERT_OK(pool->Shutdown());\n+}\n+\n+TEST_F(TestThreadPool, GetCurrentThreadIndex) {\n+  ASSERT_EQ(ThreadPool::GetCurrentThreadIndex(), 0);\n+\n+  constexpr int capacity = 5;\n+\n+  auto pool = this->MakeThreadPool(capacity);\n+\n+  std::vector<Future<>> futures(1000);\n+  std::vector<util::optional<std::thread::id>> std_ids(capacity);\n+\n+  for (size_t i = 0; i < futures.size(); ++i) {\n+    ASSERT_OK_AND_ASSIGN(futures[i], pool->Submit([&std_ids, i] {\n+      auto id = ThreadPool::GetCurrentThreadIndex();\n+      if (!std_ids[id].has_value()) {\n+        std_ids[id] = std::this_thread::get_id();\n+        return Status::OK();\n+      }\n+\n+      if (std_ids[id] == std::this_thread::get_id()) {\n+        return Status::OK();\n+      }\n+\n+      return Status::Invalid(\"Task #\", i, \" did not point to the associated ThreadPool\");\n+    }));\n+  }\n+\n+  ASSERT_OK(AllComplete(futures).status());\n+  ASSERT_OK(pool->Shutdown());\n+}\n+\n+TEST_F(TestThreadPool, ParallelSummationWithThreadLocalState) {\n+  // Sum all integers in [0, 1000000) in parallel using thread local sums.\n+  constexpr int kThreadPoolCapacity = 5;\n+  constexpr int kBatchSize = 1000;\n+  constexpr int kBatchCount = 1000;\n+\n+  auto pool = this->MakeThreadPool(kThreadPoolCapacity);\n+\n+  std::vector<std::unique_ptr<int64_t>> local_sums(kThreadPoolCapacity);\n\nReview comment:\n       In this example per thread state is artificially cheap; we could also have a per-task sum without much change in performance and without invoking such roundabout storage. In general state can be arbitrarily expensive, for example a hash table used in dictionary encoding. (I can write a parallel dict encode example too, if that'd be of interest.)\r\n   \r\n   Whenever construction/maintenance of state is expensive, we'd prefer to reuse it and keep the number of instances to a minimum\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-04T14:45:17.498+0000",
                    "updated": "2021-05-04T14:45:17.498+0000",
                    "started": "2021-05-04T14:45:17.497+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "592778",
                    "issueId": "13376444"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/worklog/592785",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #10233:\nURL: https://github.com/apache/arrow/pull/10233#discussion_r625868623\n\n\n\n##########\nFile path: cpp/src/arrow/util/thread_pool_test.cc\n##########\n@@ -512,6 +512,98 @@ TEST_F(TestThreadPool, Submit) {\n   }\n }\n \n+TEST_F(TestThreadPool, GetCurrentThreadPool) {\n+  ASSERT_EQ(ThreadPool::GetCurrentThreadPool(), nullptr);\n+\n+  auto pool = this->MakeThreadPool(5);\n+\n+  std::vector<Future<>> futures(1000);\n+\n+  for (size_t i = 0; i < futures.size(); ++i) {\n+    ASSERT_OK_AND_ASSIGN(futures[i], pool->Submit([i, pool] {\n+      if (ThreadPool::GetCurrentThreadPool() == pool.get()) {\n+        return Status::OK();\n+      }\n+      return Status::Invalid(\"Task #\", i, \" did not point to the associated ThreadPool\");\n+    }));\n+  }\n+\n+  ASSERT_OK(AllComplete(futures).status());\n+  ASSERT_OK(pool->Shutdown());\n+}\n+\n+TEST_F(TestThreadPool, GetCurrentThreadIndex) {\n+  ASSERT_EQ(ThreadPool::GetCurrentThreadIndex(), 0);\n+\n+  constexpr int capacity = 5;\n+\n+  auto pool = this->MakeThreadPool(capacity);\n+\n+  std::vector<Future<>> futures(1000);\n+  std::vector<util::optional<std::thread::id>> std_ids(capacity);\n+\n+  for (size_t i = 0; i < futures.size(); ++i) {\n+    ASSERT_OK_AND_ASSIGN(futures[i], pool->Submit([&std_ids, i] {\n+      auto id = ThreadPool::GetCurrentThreadIndex();\n+      if (!std_ids[id].has_value()) {\n+        std_ids[id] = std::this_thread::get_id();\n+        return Status::OK();\n+      }\n+\n+      if (std_ids[id] == std::this_thread::get_id()) {\n+        return Status::OK();\n+      }\n+\n+      return Status::Invalid(\"Task #\", i, \" did not point to the associated ThreadPool\");\n+    }));\n+  }\n+\n+  ASSERT_OK(AllComplete(futures).status());\n+  ASSERT_OK(pool->Shutdown());\n+}\n+\n+TEST_F(TestThreadPool, ParallelSummationWithThreadLocalState) {\n+  // Sum all integers in [0, 1000000) in parallel using thread local sums.\n+  constexpr int kThreadPoolCapacity = 5;\n+  constexpr int kBatchSize = 1000;\n+  constexpr int kBatchCount = 1000;\n+\n+  auto pool = this->MakeThreadPool(kThreadPoolCapacity);\n+\n+  std::vector<std::unique_ptr<int64_t>> local_sums(kThreadPoolCapacity);\n\nReview comment:\n       It would be nice if this test exercised an unknown capacity (which is the same as a changing capacity, I think).\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-04T15:12:28.492+0000",
                    "updated": "2021-05-04T15:12:28.492+0000",
                    "started": "2021-05-04T15:12:28.492+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "592785",
                    "issueId": "13376444"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/worklog/593974",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #10233:\nURL: https://github.com/apache/arrow/pull/10233#discussion_r629371400\n\n\n\n##########\nFile path: cpp/src/arrow/util/borrowed.h\n##########\n@@ -0,0 +1,165 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+#pragma once\n+\n+#include <functional>\n+#include <memory>\n+#include <utility>\n+#include <vector>\n+\n+#include \"arrow/util/macros.h\"\n+#include \"arrow/util/mutex.h\"\n+#include \"arrow/util/thread_pool.h\"\n+\n+namespace arrow {\n+namespace internal {\n+\n+/// A thread safe set of values which can be borrowed (for example by tasks running in a\n+/// ThreadPool). Borrowing a value will either lazily construct it or pop from a cache.\n+/// Calls to the constructor and destructor are not synchronized.\n+template <typename T>\n+class BorrowSet : public std::enable_shared_from_this<BorrowSet<T>> {\n\nReview comment:\n       Is there precedent in calling this \"borrow set\"? I would call this a free list, or free list allocator. Or perhaps a \"reuse pool\".\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-10T13:44:45.091+0000",
                    "updated": "2021-05-10T13:44:45.091+0000",
                    "started": "2021-05-10T13:44:45.091+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "593974",
                    "issueId": "13376444"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/worklog/593979",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #10233:\nURL: https://github.com/apache/arrow/pull/10233#discussion_r629378247\n\n\n\n##########\nFile path: cpp/src/arrow/util/thread_pool_test.cc\n##########\n@@ -512,6 +514,74 @@ TEST_F(TestThreadPool, Submit) {\n   }\n }\n \n+TEST_F(TestThreadPool, ParallelSummationWithPerThreadState) {\n+  // Sum all integers in [0, 1000000) in parallel.\n+  struct {\n+    void WriteInto(std::vector<int64_t>* addends) {\n+      constexpr int kBatchSize = 1000;\n+\n+      addends->resize(kBatchSize);\n+      std::iota(addends->begin(), addends->end(), begin_.fetch_add(kBatchSize));\n+\n+      expected_sum_ += (addends->front() + addends->back()) * kBatchSize / 2;\n+    }\n+\n+    std::atomic<int64_t> begin_{0}, expected_sum_{0};\n+  } addend_source;\n+\n+  constexpr int kThreadPoolCapacity = 5;\n+  constexpr int kBatchCount = 1000;\n+\n+  auto pool = this->MakeThreadPool(kThreadPoolCapacity);\n+\n+  // Each thread will have a unique local sum\n+  auto local_sums = BorrowSet<int64_t>::Make(pool.get());\n+\n+  // Each task needs a vector into which addends can be written by a source.\n+  // Instead of allocating a vector in each task, we can provide a BorrowSet\n+  // to allow reuse of a vector.\n+  auto local_addend_batches = BorrowSet<std::vector<int64_t>>::Make(pool.get());\n+\n+  std::atomic<int64_t> sum{0}, state_count{0};\n+  local_sums->OnDone([&](int64_t&& local_sum) {\n+    // When we're done with a local sum, add it into the global sum.\n+    sum += local_sum;\n+\n+    // Track the total number of constructed states; should == thread count\n+    ++state_count;\n+  });\n+\n+  std::vector<Future<>> futures(kBatchCount);\n+\n+  for (int i = 0; i < kBatchCount; ++i) {\n+    ASSERT_OK_AND_ASSIGN(futures[i], pool->Submit([&, local_sums, local_addend_batches] {\n+      // Acquire thread local state. Each task may safely mutate since tasks\n+      // running in another thread will acquire a different local_sum\n+      auto local_sum = local_sums->BorrowOne();\n+\n+      auto addends = local_addend_batches->BorrowOne();\n+      addend_source.WriteInto(addends.get());\n\nReview comment:\n       I must admit I don't understand why this is creating a chunk of addends in each thread. I understand it's a test so it doesn't matter much, but it still looks a bit gratuitous.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-10T13:52:59.362+0000",
                    "updated": "2021-05-10T13:52:59.362+0000",
                    "started": "2021-05-10T13:52:59.362+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "593979",
                    "issueId": "13376444"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/worklog/593980",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #10233:\nURL: https://github.com/apache/arrow/pull/10233#discussion_r629378984\n\n\n\n##########\nFile path: cpp/src/arrow/util/thread_pool_test.cc\n##########\n@@ -512,6 +514,74 @@ TEST_F(TestThreadPool, Submit) {\n   }\n }\n \n+TEST_F(TestThreadPool, ParallelSummationWithPerThreadState) {\n+  // Sum all integers in [0, 1000000) in parallel.\n+  struct {\n+    void WriteInto(std::vector<int64_t>* addends) {\n+      constexpr int kBatchSize = 1000;\n+\n+      addends->resize(kBatchSize);\n+      std::iota(addends->begin(), addends->end(), begin_.fetch_add(kBatchSize));\n+\n+      expected_sum_ += (addends->front() + addends->back()) * kBatchSize / 2;\n+    }\n+\n+    std::atomic<int64_t> begin_{0}, expected_sum_{0};\n+  } addend_source;\n+\n+  constexpr int kThreadPoolCapacity = 5;\n+  constexpr int kBatchCount = 1000;\n+\n+  auto pool = this->MakeThreadPool(kThreadPoolCapacity);\n+\n+  // Each thread will have a unique local sum\n+  auto local_sums = BorrowSet<int64_t>::Make(pool.get());\n+\n+  // Each task needs a vector into which addends can be written by a source.\n+  // Instead of allocating a vector in each task, we can provide a BorrowSet\n+  // to allow reuse of a vector.\n+  auto local_addend_batches = BorrowSet<std::vector<int64_t>>::Make(pool.get());\n+\n+  std::atomic<int64_t> sum{0}, state_count{0};\n+  local_sums->OnDone([&](int64_t&& local_sum) {\n+    // When we're done with a local sum, add it into the global sum.\n+    sum += local_sum;\n+\n+    // Track the total number of constructed states; should == thread count\n+    ++state_count;\n+  });\n+\n+  std::vector<Future<>> futures(kBatchCount);\n+\n+  for (int i = 0; i < kBatchCount; ++i) {\n+    ASSERT_OK_AND_ASSIGN(futures[i], pool->Submit([&, local_sums, local_addend_batches] {\n+      // Acquire thread local state. Each task may safely mutate since tasks\n+      // running in another thread will acquire a different local_sum\n+      auto local_sum = local_sums->BorrowOne();\n+\n+      auto addends = local_addend_batches->BorrowOne();\n+      addend_source.WriteInto(addends.get());\n+\n+      for (int64_t addend : *addends) {\n+        *local_sum += addend;\n+      }\n+\n+      // decrease the thread pool capacity halfway through:\n+      if (i == kBatchCount / 2) {\n\nReview comment:\n       `i` is captured by reference, so chances are it will be equal to `kBatchCount` here?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-10T13:53:36.718+0000",
                    "updated": "2021-05-10T13:53:36.718+0000",
                    "started": "2021-05-10T13:53:36.717+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "593980",
                    "issueId": "13376444"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/worklog/623520",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #10233:\nURL: https://github.com/apache/arrow/pull/10233#issuecomment-881342861\n\n\n   Closing for now\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-16T10:22:56.031+0000",
                    "updated": "2021-07-16T10:22:56.031+0000",
                    "started": "2021-07-16T10:22:56.031+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "623520",
                    "issueId": "13376444"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/worklog/623521",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz closed pull request #10233:\nURL: https://github.com/apache/arrow/pull/10233\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-16T10:22:59.172+0000",
                    "updated": "2021-07-16T10:22:59.172+0000",
                    "started": "2021-07-16T10:22:59.171+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "623521",
                    "issueId": "13376444"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 8400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@3aeedc15[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3c1ae225[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2965296d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@4205fdae[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2467e148[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@7be2b063[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7b4cc033[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@1649aa79[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@d3f7459[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@63b0ac35[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7ee0b528[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@2521c2ef[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 8400,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Jul 12 14:04:29 UTC 2022",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": null,
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12641/watchers",
            "watchCount": 2,
            "isWatching": true
        },
        "created": "2021-05-03T20:43:57.000+0000",
        "updated": "2022-07-12T14:04:29.000+0000",
        "timeoriginalestimate": null,
        "description": "Sometimes, a worker thread must identify its thread id within a ThreadPool (for example, to support safe concurrent access to per-thread state). We could use {{std::this_thread::get_id()}} for this, but this is less convenient for indexing into a container of per-thread state.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 8400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Provide thread id accessors",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13376444/comment/17565650",
                    "id": "17565650",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=toddfarmer",
                        "name": "toddfarmer",
                        "key": "JIRAUSER288796",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39935",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39935",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39935",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39935"
                        },
                        "displayName": "Todd Farmer",
                        "active": true,
                        "timeZone": "America/Boise"
                    },
                    "body": "This issue was last updated over 90 days ago, which may be an indication it is no longer being actively worked. To better reflect the current state, the issue is being unassigned. Please feel free to re-take assignment of the issue if it is being actively worked, or if you plan to start that work soon.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=toddfarmer",
                        "name": "toddfarmer",
                        "key": "JIRAUSER288796",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39935",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39935",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39935",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39935"
                        },
                        "displayName": "Todd Farmer",
                        "active": true,
                        "timeZone": "America/Boise"
                    },
                    "created": "2022-07-12T14:04:29.377+0000",
                    "updated": "2022-07-12T14:04:29.377+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0qou0:",
        "customfield_12314139": null
    }
}