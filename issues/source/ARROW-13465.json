{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13392185",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185",
    "key": "ARROW-13465",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12350323",
                "id": "12350323",
                "description": "",
                "name": "6.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-10-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12620092",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12620092",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13377290",
                    "key": "ARROW-12688",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377290",
                    "fields": {
                        "summary": "[R] Use DuckDB to query an Arrow Dataset",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
                            "id": "2",
                            "description": "A new feature of the product, which has yet to be developed.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
                            "name": "New Feature",
                            "subtask": false,
                            "avatarId": 21141
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
            "name": "jonkeane",
            "key": "jonkeane",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
            },
            "displayName": "Jonathan Keane",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
            "name": "jonkeane",
            "key": "jonkeane",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
            },
            "displayName": "Jonathan Keane",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
            "name": "jonkeane",
            "key": "jonkeane",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
            },
            "displayName": "Jonathan Keane",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 33600,
            "total": 33600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 33600,
            "total": 33600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-13465/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 56,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/643646",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#issuecomment-908575601\n\n\n   https://issues.apache.org/jira/browse/ARROW-13465\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-30T18:18:31.815+0000",
                    "updated": "2021-08-30T18:18:31.815+0000",
                    "started": "2021-08-30T18:18:31.815+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "643646",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/643649",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r698705820\n\n\n\n##########\nFile path: r/R/duckdb.R\n##########\n@@ -124,3 +122,9 @@ duckdb_disconnector <- function(con, tbl_name) {\n   })\n   environment()\n }\n+\n+to_arrow <- function(.data) {\n+  res <- DBI::dbSendQuery(dbplyr::remote_con(.data), dbplyr::remote_query(.data), arrow = TRUE)\n+\n+  duckdb::duckdb_fetch_record_batch(res)$read_table()\n\nReview comment:\n       We shouldn't need to read the full table here, though I haven't (yet) found a simple way to create a Dataset from a RecordBatchReader without materializing here.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-30T18:20:31.900+0000",
                    "updated": "2021-08-30T18:20:31.900+0000",
                    "started": "2021-08-30T18:20:31.899+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "643649",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/643653",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r698713332\n\n\n\n##########\nFile path: r/R/duckdb.R\n##########\n@@ -124,3 +122,9 @@ duckdb_disconnector <- function(con, tbl_name) {\n   })\n   environment()\n }\n+\n+to_arrow <- function(.data) {\n+  res <- DBI::dbSendQuery(dbplyr::remote_con(.data), dbplyr::remote_query(.data), arrow = TRUE)\n+\n+  duckdb::duckdb_fetch_record_batch(res)$read_table()\n\nReview comment:\n       Would either of these InMemoryDataset constructors work maybe? https://github.com/apache/arrow/blob/master/cpp/src/arrow/dataset/dataset.h#L211-L216 cc @bkietz \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-30T18:31:53.253+0000",
                    "updated": "2021-08-30T18:31:53.253+0000",
                    "started": "2021-08-30T18:31:53.253+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "643653",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/644231",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r698705820\n\n\n\n##########\nFile path: r/R/duckdb.R\n##########\n@@ -124,3 +122,9 @@ duckdb_disconnector <- function(con, tbl_name) {\n   })\n   environment()\n }\n+\n+to_arrow <- function(.data) {\n+  res <- DBI::dbSendQuery(dbplyr::remote_con(.data), dbplyr::remote_query(.data), arrow = TRUE)\n+\n+  duckdb::duckdb_fetch_record_batch(res)$read_table()\n\nReview comment:\n       We shouldn't need to read the full table here, though I haven't (yet) found a simple way to create a Dataset from a RecordBatchReader without materializing here.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-31T15:01:30.112+0000",
                    "updated": "2021-08-31T15:01:30.112+0000",
                    "started": "2021-08-31T15:01:30.111+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "644231",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/644286",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#issuecomment-908575601\n\n\n   https://issues.apache.org/jira/browse/ARROW-13465\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-31T15:07:04.371+0000",
                    "updated": "2021-08-31T15:07:04.371+0000",
                    "started": "2021-08-31T15:07:04.371+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "644286",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/644325",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r698713332\n\n\n\n##########\nFile path: r/R/duckdb.R\n##########\n@@ -124,3 +122,9 @@ duckdb_disconnector <- function(con, tbl_name) {\n   })\n   environment()\n }\n+\n+to_arrow <- function(.data) {\n+  res <- DBI::dbSendQuery(dbplyr::remote_con(.data), dbplyr::remote_query(.data), arrow = TRUE)\n+\n+  duckdb::duckdb_fetch_record_batch(res)$read_table()\n\nReview comment:\n       Would either of these InMemoryDataset constructors work maybe? https://github.com/apache/arrow/blob/master/cpp/src/arrow/dataset/dataset.h#L211-L216 cc @bkietz \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-31T15:11:52.909+0000",
                    "updated": "2021-08-31T15:11:52.909+0000",
                    "started": "2021-08-31T15:11:52.909+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "644325",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/654601",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#issuecomment-925971897\n\n\n   :warning: Ticket **has not been started in JIRA**, please click 'Start Progress'.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-23T16:30:51.611+0000",
                    "updated": "2021-09-23T16:30:51.611+0000",
                    "started": "2021-09-23T16:30:51.611+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "654601",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/660371",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r722326796\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec/plan_test.cc\n##########\n@@ -840,6 +841,7 @@ TEST(ExecPlanExecution, ScalarSourceScalarAggSink) {\n       }))));\n }\n \n+<<<<<<< HEAD\n\nReview comment:\n       Looks like you have a merge issue here\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-05T14:55:07.339+0000",
                    "updated": "2021-10-05T14:55:07.339+0000",
                    "started": "2021-10-05T14:55:07.338+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660371",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/660373",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r722328000\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec/plan_test.cc\n##########\n@@ -840,6 +841,7 @@ TEST(ExecPlanExecution, ScalarSourceScalarAggSink) {\n       }))));\n }\n \n+<<<<<<< HEAD\n\nReview comment:\n       I'm working on this again this morning \u2014 I think I'm close to constructing the proper `arrow_dplyr_query` object \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-05T14:56:24.336+0000",
                    "updated": "2021-10-05T14:56:24.336+0000",
                    "started": "2021-10-05T14:56:24.336+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660373",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/660374",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r722330403\n\n\n\n##########\nFile path: r/R/duckdb.R\n##########\n@@ -111,3 +111,18 @@ duckdb_disconnector <- function(con, tbl_name) {\n   })\n   environment()\n }\n+\n+to_arrow <- function(.data) {\n+  res <- DBI::dbSendQuery(dbplyr::remote_con(.data), dbplyr::remote_query(.data), arrow = TRUE)\n+\n+  # transform the source ExecNode we get below into something dataset-like that we can\n+  # make arrow_dplyr_querys/datasets from\n+  # Should be able to:\n+  # * get the record batch reader from duckdb\n+  # * produce the SourceNode\n+  # * build an ExecPlan with that in place of the ScanNode you would have gotten from ExecNode_Scan\n+  plan <- ExecPlan$create()\n\nReview comment:\n       I don't think this will work because you're making this node with an ExecPlan here, but I think you'll be creating a different ExecPlan in `collect()`. \r\n   \r\n   Why not return the RecordBatchReader from duckdb::duckdb_fetch_record_batch(res)? Then do the wrapping of that inside `plan$Build` (or even `plan$Scan`)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-05T14:58:37.750+0000",
                    "updated": "2021-10-05T14:58:37.750+0000",
                    "started": "2021-10-05T14:58:37.750+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660374",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/660377",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r722337689\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec/plan_test.cc\n##########\n@@ -840,6 +841,7 @@ TEST(ExecPlanExecution, ScalarSourceScalarAggSink) {\n       }))));\n }\n \n+<<<<<<< HEAD\n\nReview comment:\n       Weird, this wasn't showing up in vscode, but was definitely there \u2014 should be fixed now regardless.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-05T15:06:23.544+0000",
                    "updated": "2021-10-05T15:06:23.544+0000",
                    "started": "2021-10-05T15:06:23.544+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660377",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/660391",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r722358010\n\n\n\n##########\nFile path: r/R/duckdb.R\n##########\n@@ -111,3 +111,18 @@ duckdb_disconnector <- function(con, tbl_name) {\n   })\n   environment()\n }\n+\n+to_arrow <- function(.data) {\n+  res <- DBI::dbSendQuery(dbplyr::remote_con(.data), dbplyr::remote_query(.data), arrow = TRUE)\n+\n+  # transform the source ExecNode we get below into something dataset-like that we can\n+  # make arrow_dplyr_querys/datasets from\n+  # Should be able to:\n+  # * get the record batch reader from duckdb\n+  # * produce the SourceNode\n+  # * build an ExecPlan with that in place of the ScanNode you would have gotten from ExecNode_Scan\n+  plan <- ExecPlan$create()\n\nReview comment:\n       Oh that's an interesting idea. Let me explore that. AFAIU we can't _simply_ return the RecordBatchReader, since we want to be able to continue building an `arrow_dplyr_query` here (unless we make all the dplyr methods available for RecordBatchReaders too)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-05T15:27:29.668+0000",
                    "updated": "2021-10-05T15:27:29.668+0000",
                    "started": "2021-10-05T15:27:29.668+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660391",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/660416",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r722402531\n\n\n\n##########\nFile path: r/R/duckdb.R\n##########\n@@ -111,3 +111,18 @@ duckdb_disconnector <- function(con, tbl_name) {\n   })\n   environment()\n }\n+\n+to_arrow <- function(.data) {\n+  res <- DBI::dbSendQuery(dbplyr::remote_con(.data), dbplyr::remote_query(.data), arrow = TRUE)\n+\n+  # transform the source ExecNode we get below into something dataset-like that we can\n+  # make arrow_dplyr_querys/datasets from\n+  # Should be able to:\n+  # * get the record batch reader from duckdb\n+  # * produce the SourceNode\n+  # * build an ExecPlan with that in place of the ScanNode you would have gotten from ExecNode_Scan\n+  plan <- ExecPlan$create()\n\nReview comment:\n       Right. So to restate: allow an arrow_dplyr_query to hold a RecordBatchReader in .data (similar to how I extended it recently to allow holding an arrow_dplyr_query itself, in collapse). So you'd return an arrow_dplyr_query here, containing a RecordBatchReader.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-05T16:16:36.889+0000",
                    "updated": "2021-10-05T16:16:36.889+0000",
                    "started": "2021-10-05T16:16:36.888+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660416",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/660490",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r722478141\n\n\n\n##########\nFile path: r/R/query-engine.R\n##########\n@@ -59,6 +59,10 @@ ExecPlan <- R6Class(\"ExecPlan\",\n     Scan = function(dataset) {\n       # Handle arrow_dplyr_query\n       if (inherits(dataset, \"arrow_dplyr_query\")) {\n+        if(inherits(dataset$.data, \"RecordBatchReader\")) {\n+          return(ExecNode_ReadFromRecordBatchReader(self, dataset$.data))\n+        }\n\nReview comment:\n       This doesn't (yet) work, I'm getting a segfault\r\n   \r\n   ```\r\n   Warning: stack imbalance in '[[', 215 then 216\r\n   Warning: stack imbalance in 'is.null', 213 then 220\r\n   Warning: stack imbalance in '!', 212 then 219\r\n   Warning: stack imbalance in '&&', 210 then 217\r\n   Error: C stack usage  17587191479824 is too close to the limit\r\n   Warning: stack imbalance in '&&', 208 then 215\r\n   Warning: stack imbalance in '(', 207 then 214\r\n   Warning: stack imbalance in '||', 205 then 212\r\n   Warning: stack imbalance in 'if', 203 then 210\r\n   Warning: stack imbalance in '{', 199 then 218\r\n   Warning: stack imbalance in '{', 192 then 211\r\n   Warning: stack imbalance in 'is.null', 187 then 206\r\n   Warning: stack imbalance in '!', 186 then 205\r\n   Warning: stack imbalance in '&&', 184 then 203\r\n   Warning: stack imbalance in '&&', 182 then 201\r\n   Warning: stack imbalance in '(', 181 then 200\r\n   Warning: stack imbalance in '||', 179 then 198\r\n   Warning: stack imbalance in 'if', 177 then 196\r\n   Warning: stack imbalance in '{', 173 then 192\r\n   Warning: stack imbalance in '<-', 168 then 187\r\n   Warning: stack imbalance in '{', 164 then 183\r\n   Warning: stack imbalance in 'if', 162 then 181\r\n   \r\n    *** caught segfault ***\r\n   address 0x0, cause 'memory not mapped'\r\n   Warning: stack imbalance in '>', 183 then 187\r\n   ```\r\n   \r\n   I'm digging into this now\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-05T17:55:20.969+0000",
                    "updated": "2021-10-05T17:55:20.969+0000",
                    "started": "2021-10-05T17:55:20.969+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660490",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/660492",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r722480266\n\n\n\n##########\nFile path: r/R/duckdb.R\n##########\n@@ -111,3 +111,42 @@ duckdb_disconnector <- function(con, tbl_name) {\n   })\n   environment()\n }\n+\n+to_arrow <- function(.data) {\n+  res <- DBI::dbSendQuery(dbplyr::remote_con(.data), dbplyr::remote_query(.data), arrow = TRUE)\n+\n+  # transform the source ExecNode we get below into something dataset-like that we can\n+  # make arrow_dplyr_querys/datasets from\n+  # Should be able to:\n+  # * get the record batch reader from duckdb\n+  # * produce the SourceNode\n+  # * build an ExecPlan with that in place of the ScanNode you would have gotten from ExecNode_Scan\n+  # source_node <- ExecNode_ReadFromRecordBatchReader(plan, RBR)\n+  .data <- duckdb::duckdb_fetch_record_batch(res)\n+  structure(\n\nReview comment:\n       You shouldn't have to copy this from `arrow_dplyr_query()` should you?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-05T17:58:21.736+0000",
                    "updated": "2021-10-05T17:58:21.736+0000",
                    "started": "2021-10-05T17:58:21.736+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660492",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/660494",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r722481349\n\n\n\n##########\nFile path: r/R/duckdb.R\n##########\n@@ -111,3 +111,42 @@ duckdb_disconnector <- function(con, tbl_name) {\n   })\n   environment()\n }\n+\n+to_arrow <- function(.data) {\n+  res <- DBI::dbSendQuery(dbplyr::remote_con(.data), dbplyr::remote_query(.data), arrow = TRUE)\n+\n+  # transform the source ExecNode we get below into something dataset-like that we can\n+  # make arrow_dplyr_querys/datasets from\n+  # Should be able to:\n+  # * get the record batch reader from duckdb\n+  # * produce the SourceNode\n+  # * build an ExecPlan with that in place of the ScanNode you would have gotten from ExecNode_Scan\n+  # source_node <- ExecNode_ReadFromRecordBatchReader(plan, RBR)\n+  .data <- duckdb::duckdb_fetch_record_batch(res)\n+  structure(\n\nReview comment:\n       Right, I did out of expedience, but will come back and clean this up to do the right thing later.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-05T17:59:40.737+0000",
                    "updated": "2021-10-05T17:59:40.737+0000",
                    "started": "2021-10-05T17:59:40.737+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660494",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/660498",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r722483615\n\n\n\n##########\nFile path: r/R/duckdb.R\n##########\n@@ -111,3 +111,42 @@ duckdb_disconnector <- function(con, tbl_name) {\n   })\n   environment()\n }\n+\n+to_arrow <- function(.data) {\n+  res <- DBI::dbSendQuery(dbplyr::remote_con(.data), dbplyr::remote_query(.data), arrow = TRUE)\n+\n+  # transform the source ExecNode we get below into something dataset-like that we can\n+  # make arrow_dplyr_querys/datasets from\n+  # Should be able to:\n+  # * get the record batch reader from duckdb\n+  # * produce the SourceNode\n+  # * build an ExecPlan with that in place of the ScanNode you would have gotten from ExecNode_Scan\n+  # source_node <- ExecNode_ReadFromRecordBatchReader(plan, RBR)\n+  .data <- duckdb::duckdb_fetch_record_batch(res)\n+  structure(\n\nReview comment:\n       You might need to `collapse()` this further, judging from how you're handling this case in `plan$Scan`: you don't want any filter/projection at this level of nesting\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-05T18:02:42.504+0000",
                    "updated": "2021-10-05T18:02:42.504+0000",
                    "started": "2021-10-05T18:02:42.503+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660498",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/660510",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#issuecomment-934664486\n\n\n   Ok, this is getting closer. I've added a test using our own recordbatchreader export and then wrapping that with `arrow_dplyr_query`, which works \ud83c\udf89 \r\n   \r\n   With the DuckDB reader, I'm getting a number of segfaults. The messages / where is reported as a fault varies, each of the following are errors I've seen so far (on separate runs):\r\n   \r\n   ```\r\n   ...Error: no more error handlers available (recursive errors?); invoking 'abort' restart\r\n   Error: SET_VECTOR_ELT() can only be applied to a 'list', not a 'double'\r\n   Warning: stack imbalance in '{', 70 then 64\r\n   ```\r\n   \r\n   ```\r\n   ...Warning: stack imbalance in '$', 224 then 215\r\n   Warning: stack imbalance in 'is.null', 223 then 213\r\n   \r\n    *** caught bus error ***\r\n   address 0x7fbf1b470b00, cause 'non-existent physical address'\r\n   An irrecoverable exception occurred. R is aborting now ...\r\n   \r\n    *** caught segfault ***\r\n   address 0x0, cause 'memory not mapped'\r\n   ```\r\n   \r\n   ```\r\n   ...Warning: stack imbalance in '&&', 201 then 202\r\n   Warning: stack imbalance in '(', 200 then 206\r\n   Error: C stack usage  17587432755568 is too close to the limit\r\n   Warning: stack imbalance in '||', 198 then 204\r\n   Warning: stack imbalance in 'if', 196 then 202\r\n   Warning: stack imbalance in '!', 205 then 63\r\n   Warning: stack imbalance in '[', 202 then 62\r\n   Warning: stack imbalance in '{', 192 then 63\r\n   Warning: stack imbalance in '{', 185 then 61\r\n   Warning: stack imbalance in 'is.null', 180 then 59\r\n   Warning: stack imbalance in '!', 179 then 58\r\n   Warning: stack imbalance in '&&', 177 then 59\r\n   Warning: stack imbalance in '&&', 175 then 57\r\n   Warning: stack imbalance in '(', 174 then 56\r\n   Warning: stack imbalance in 'is.null', 63 then 65\r\n   Warning: stack imbalance in '!', 62 then 68\r\n   Warning: stack imbalance in '&&', 60 then 66\r\n   Warning: stack imbalance in '&&', 58 then 67\r\n   Warning: stack imbalance in '(', 57 then 66\r\n   Warning: stack imbalance in '||', 172 then 66\r\n   Warning: stack imbalance in 'if', 170 then 64\r\n   Warning: stack imbalance in '<-', 66 then 67\r\n   Warning: stack imbalance in '{', 166 then 63\r\n   Warning: stack imbalance in '<-', 161 then 58\r\n   Warning: stack imbalance in '{', 157 then 54\r\n   Warning: stack imbalance in 'if', 155 then 53\r\n   Warning: stack imbalance in 'is.null', 81 then 82\r\n   Warning: stack imbalance in 'if', 78 then 81\r\n   \r\n    *** caught segfault ***\r\n   address 0x1fb3eed17820, cause 'memory not mapped'\r\n   Error: no more error handlers available (recursive errors?); invoking 'abort' restart\r\n   \r\n    *** caught segfault ***\r\n   address 0x0, cause 'memory not mapped'\r\n   ```\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-05T18:34:03.904+0000",
                    "updated": "2021-10-05T18:34:03.904+0000",
                    "started": "2021-10-05T18:34:03.904+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660510",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/660914",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r723267014\n\n\n\n##########\nFile path: r/R/duckdb.R\n##########\n@@ -118,3 +118,38 @@ duckdb_disconnector <- function(con, tbl_name) {\n   })\n   environment()\n }\n+\n+#' Create an Arrow object from others\n+#'\n+#' This can be used in pipelines that pass data back and forth between Arrow and\n+#' other processes (like DuckDB).\n+#'\n+#' @param .data the object to be converted\n+#' @param as_table should the results be materialized as a table? (default: TRUE)\n+#'\n+#' @return an `arrow_dplyr_query` object, to be used in dplyr pipelines.\n+#' @export\n+#'\n+#' @examplesIf getFromNamespace(\"run_duckdb_examples\", \"arrow\")()\n+#' library(dplyr)\n+#'\n+#' ds <- InMemoryDataset$create(mtcars)\n+#'\n+#' ds %>%\n+#'   filter(mpg < 30) %>%\n+#'   to_duckdb() %>%\n+#'   group_by(cyl) %>%\n+#'   summarize(mean_mpg = mean(mpg, na.rm = TRUE)) %>%\n+#'   to_arrow() %>%\n+#'   collect()\n+to_arrow <- function(.data, as_table = TRUE) {\n\nReview comment:\n       Ultimately, I don't believe we want to have `as_table = TRUE`, but I've added it _for now_ to show that `arrow_dplyr_query(duckdb::duckdb_fetch_record_batch(res)$read_table())` (the default, `as_table = TRUE`)  works just fine, but when we `arrow_dplyr_query(duckdb::duckdb_fetch_record_batch(res))` we get a segfault. \r\n   \r\n   We might need (or want) to release with the `$read_table()` version this time, and then upgrade to the version that doesn't convert to a table in 7.0.0 (after duckdb resolves the issue + releases, presuming the issue is on their side)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-06T13:28:22.059+0000",
                    "updated": "2021-10-06T13:28:22.059+0000",
                    "started": "2021-10-06T13:28:22.059+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660914",
                    "issueId": "13392185"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/worklog/660915",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11032:\nURL: https://github.com/apache/arrow/pull/11032#discussion_r723271478\n\n\n\n##########\nFile path: r/R/duckdb.R\n##########\n@@ -118,3 +118,38 @@ duckdb_disconnector <- function(con, tbl_name) {\n   })\n   environment()\n }\n+\n+#' Create an Arrow object from others\n+#'\n+#' This can be used in pipelines that pass data back and forth between Arrow and\n+#' other processes (like DuckDB).\n+#'\n+#' @param .data the object to be converted\n+#' @param as_table should the results be materialized as a table? (default: TRUE)\n+#'\n+#' @return an `arrow_dplyr_query` object, to be used in dplyr pipelines.\n+#' @export\n+#'\n+#' @examplesIf getFromNamespace(\"run_duckdb_examples\", \"arrow\")()\n+#' library(dplyr)\n+#'\n+#' ds <- InMemoryDataset$create(mtcars)\n+#'\n+#' ds %>%\n+#'   filter(mpg < 30) %>%\n+#'   to_duckdb() %>%\n+#'   group_by(cyl) %>%\n+#'   summarize(mean_mpg = mean(mpg, na.rm = TRUE)) %>%\n+#'   to_arrow() %>%\n+#'   collect()\n+to_arrow <- function(.data, as_table = TRUE) {\n+  # TODO: figure out WTAF .data is before just doing stuff\n\nReview comment:\n       I will also do this, since at the very least we should gate this to `tbl`s that are backed by duckdb connections. \r\n   \r\n   There might be a few other options for things we could accept here too, in principle we could accept a `DBIResult` (again, backed by duckdb) which would make it easier to send SQL and avoid dbplyr totally.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-06T13:31:30.112+0000",
                    "updated": "2021-10-06T13:31:30.112+0000",
                    "started": "2021-10-06T13:31:30.112+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660915",
                    "issueId": "13392185"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 33600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@47d00bf4[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5c5cbdb9[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@18d56ca2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@21ddbb74[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@42dba4b1[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@776b8a57[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@44e84864[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@8225d96[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@17439e0f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3c519782[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3afc5304[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@20a87720[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 33600,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Oct 15 13:11:14 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-10-15T13:11:14.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-13465/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2021-07-27T17:56:00.000+0000",
        "updated": "2021-10-22T01:42:30.000+0000",
        "timeoriginalestimate": null,
        "description": "With https://github.com/duckdb/duckdb/pull/2054 duckdb will have functionality to emit Arrow tables (and ideally record batches).\r\n\r\nWe should document the workflow (and possibly write thin wrappers around these to make them consistent with other Arrow functions).\r\n\r\nThis might be an opportunity to make a larger `to_arrow()` generic that can take either a duckdb query/table/reference or a pyarrow object (wrapping `py_to_r()`) so there's a unified interface for the purposes of getting arrow data out of known sources.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "9h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 33600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] to_arrow() from duckdb",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/comment/17428874",
                    "id": "17428874",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "If the PR is not ready yet perhaps this should be postponed to 7.0?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-10-14T15:31:21.115+0000",
                    "updated": "2021-10-14T15:31:21.115+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392185/comment/17429271",
                    "id": "17429271",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
                        "name": "jonkeane",
                        "key": "jonkeane",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
                        },
                        "displayName": "Jonathan Keane",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Issue resolved by pull request 11032\n[https://github.com/apache/arrow/pull/11032]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
                        "name": "jonkeane",
                        "key": "jonkeane",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
                        },
                        "displayName": "Jonathan Keane",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2021-10-15T13:11:14.709+0000",
                    "updated": "2021-10-15T13:11:14.709+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z0tds8:",
        "customfield_12314139": null
    }
}