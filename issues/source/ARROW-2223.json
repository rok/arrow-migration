{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13141050",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13141050",
    "key": "ARROW-2223",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12341707",
                "id": "12341707",
                "description": "",
                "name": "0.9.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-03-19"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=paul.e.taylor",
            "name": "paul.e.taylor",
            "key": "paul.e.taylor",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Paul Taylor",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12332552",
                "id": "12332552",
                "name": "JavaScript"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bhulette",
            "name": "bhulette",
            "key": "bhulette",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Brian Hulette",
            "active": true,
            "timeZone": "America/Vancouver"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bhulette",
            "name": "bhulette",
            "key": "bhulette",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Brian Hulette",
            "active": true,
            "timeZone": "America/Vancouver"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2223/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@1a288363[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@64d45219[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5081d308[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@1603079b[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@51b9454d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@3c69e0c5[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@622e6dd3[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6c9f81d2[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@77172221[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@40b9bce[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@155a3e69[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@5dbac01[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Feb 27 15:57:45 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-02-27T15:57:42.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2223/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2018-02-26T21:24:38.000+0000",
        "updated": "2018-02-27T15:57:45.000+0000",
        "timeoriginalestimate": null,
        "description": "\r\n{code:sh}\r\n$ npm install @apache-arrow/es5-umd\r\nnpm WARN airspace-summary@1.0.0 No repository field.\r\n\r\nnpm ERR! path /home/ubuntu/working_dir/airspace-summary/node_modules/@apache-arrow/es5-umd/bin/arrow2csv.js\r\nnpm ERR! code ENOENT\r\nnpm ERR! errno -2\r\nnpm ERR! syscall chmod\r\nnpm ERR! enoent ENOENT: no such file or directory, chmod '/home/ubuntu/working_dir/airspace-summary/node_modules/@apache-arrow/es5-umd/bin/arrow2csv.js'\r\nnpm ERR! enoent This is related to npm not being able to find a file.\r\nnpm ERR! enoent \r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /home/ubuntu/.npm/_logs/2018-02-26T21_22_42_518Z-debug.log\r\n{code}",
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[JS] installing umd release throws an error",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13141050/comment/16377678",
                    "id": "16377678",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "trxcllnt opened a new pull request #1669: ARROW-2223: [JS] compile src/bin as es5-cjs to all output targets\nURL: https://github.com/apache/arrow/pull/1669\n \n \n   This ensures the `bin` files are uniformly es5/commonjs for all target modules. Now this works:\r\n   ```sh\r\n   npm i @apache-arrow/esnext-esm\r\n   npx arrow2csv -f some-file.arrow\r\n   ```\r\n   \r\n   Resolves https://issues.apache.org/jira/browse/ARROW-2223\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-02-26T22:09:29.839+0000",
                    "updated": "2018-02-26T22:09:29.839+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13141050/comment/16377743",
                    "id": "16377743",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "TheNeuralBit commented on issue #1669: ARROW-2223: [JS] compile src/bin as es5-cjs to all output targets\nURL: https://github.com/apache/arrow/pull/1669#issuecomment-368680349\n \n \n   Tested locally with all the umd builds, looks good!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-02-26T22:53:44.153+0000",
                    "updated": "2018-02-26T22:53:44.153+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13141050/comment/16378830",
                    "id": "16378830",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 1669\n[https://github.com/apache/arrow/pull/1669]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-02-27T15:57:42.428+0000",
                    "updated": "2018-02-27T15:57:42.428+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13141050/comment/16378831",
                    "id": "16378831",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm closed pull request #1669: ARROW-2223: [JS] compile src/bin as es5-cjs to all output targets\nURL: https://github.com/apache/arrow/pull/1669\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/js/gulp/arrow-task.js b/js/gulp/arrow-task.js\nindex d1e8046e6..eb83a6da3 100644\n--- a/js/gulp/arrow-task.js\n+++ b/js/gulp/arrow-task.js\n@@ -31,10 +31,10 @@ const arrowTask = ((cache) => memoizeTask(cache, function copyMain(target, forma\n     const dtsGlob = `${targetDir(`es2015`, `cjs`)}/**/*.ts`;\n     const cjsGlob = `${targetDir(`es2015`, `cjs`)}/**/*.js`;\n     const esmGlob = `${targetDir(`es2015`, `esm`)}/**/*.js`;\n-    const es5UmdGlob = `${targetDir(`es5`, `umd`)}/**/*.js`;\n-    const es5UmdMaps = `${targetDir(`es5`, `umd`)}/**/*.map`;\n-    const es2015UmdGlob = `${targetDir(`es2015`, `umd`)}/**/*.js`;\n-    const es2015UmdMaps = `${targetDir(`es2015`, `umd`)}/**/*.map`;\n+    const es5UmdGlob = `${targetDir(`es5`, `umd`)}/*.js`;\n+    const es5UmdMaps = `${targetDir(`es5`, `umd`)}/*.map`;\n+    const es2015UmdGlob = `${targetDir(`es2015`, `umd`)}/*.js`;\n+    const es2015UmdMaps = `${targetDir(`es2015`, `umd`)}/*.map`;\n     const ch_ext = (ext) => gulpRename((p) => { p.extname = ext; });\n     const append = (ap) => gulpRename((p) => { p.basename += ap; });\n     return Observable.forkJoin(\ndiff --git a/js/gulp/closure-task.js b/js/gulp/closure-task.js\nindex 0b2ef1b84..8833c2c22 100644\n--- a/js/gulp/closure-task.js\n+++ b/js/gulp/closure-task.js\n@@ -27,6 +27,7 @@ const gulp = require('gulp');\n const path = require('path');\n const sourcemaps = require('gulp-sourcemaps');\n const { memoizeTask } = require('./memoize-task');\n+const { compileBinFiles } = require('./typescript-task');\n const ASTBuilders = require('ast-types').builders;\n const transformAST = require('gulp-transform-js-ast');\n const { Observable, ReplaySubject } = require('rxjs');\n@@ -55,7 +56,10 @@ const closureTask = ((cache) => memoizeTask(cache, function closure(target, form\n         // rename the sourcemaps from *.js.map files to *.min.js.map\n         sourcemaps.write(`.`, { mapFile: (mapPath) => mapPath.replace(`.js.map`, `.${target}.min.js.map`) }),\n         gulp.dest(out)\n-    ).publish(new ReplaySubject()).refCount();\n+    )\n+    .merge(compileBinFiles(target, format))\n+    .takeLast(1)\n+    .publish(new ReplaySubject()).refCount();\n }))({});\n \n const createClosureArgs = (entry, externs) => ({\ndiff --git a/js/gulp/typescript-task.js b/js/gulp/typescript-task.js\nindex c42357adb..0fdd1c732 100644\n--- a/js/gulp/typescript-task.js\n+++ b/js/gulp/typescript-task.js\n@@ -30,22 +30,33 @@ const { Observable, ReplaySubject } = require('rxjs');\n \n const typescriptTask = ((cache) => memoizeTask(cache, function typescript(target, format) {\n     const out = targetDir(target, format);\n-    const tsconfigFile = `tsconfig.${tsconfigName(target, format)}.json`;\n-    const tsProject = ts.createProject(path.join(`tsconfig`, tsconfigFile), { typescript: require(`typescript`) });\n+    const tsconfigPath = path.join(`tsconfig`, `tsconfig.${tsconfigName(target, format)}.json`);\n+    return compileTypescript(out, tsconfigPath)\n+        .merge(compileBinFiles(target, format)).takeLast(1)\n+        .concat(maybeCopyRawJSArrowFormatFiles(target, format))\n+        .publish(new ReplaySubject()).refCount();\n+}))({});\n+\n+function compileBinFiles(target, format) {\n+    const out = targetDir(target, format);\n+    const tsconfigPath = path.join(`tsconfig`, `tsconfig.${tsconfigName('bin', 'cjs')}.json`);\n+    return compileTypescript(path.join(out, 'bin'), tsconfigPath);\n+}\n+\n+function compileTypescript(out, tsconfigPath) {\n+    const tsProject = ts.createProject(tsconfigPath, { typescript: require(`typescript`) });\n     const { stream: { js, dts } } = observableFromStreams(\n       tsProject.src(), sourcemaps.init(),\n       tsProject(ts.reporter.defaultReporter())\n     );\n     const writeDTypes = observableFromStreams(dts, gulp.dest(out));\n     const writeJS = observableFromStreams(js, sourcemaps.write(), gulp.dest(out));\n-    return Observable\n-        .forkJoin(writeDTypes, writeJS)\n-        .concat(maybeCopyRawJSArrowFormatFiles(target, format))\n-        .publish(new ReplaySubject()).refCount();\n-}))({});\n+    return Observable.forkJoin(writeDTypes, writeJS);\n+}\n \n module.exports = typescriptTask;\n module.exports.typescriptTask = typescriptTask;\n+module.exports.compileBinFiles = compileBinFiles;\n \n function maybeCopyRawJSArrowFormatFiles(target, format) {\n     if (target !== `es5` || format !== `cls`) {\ndiff --git a/js/gulp/uglify-task.js b/js/gulp/uglify-task.js\nindex 9ba3e41a1..f8dc123ca 100644\n--- a/js/gulp/uglify-task.js\n+++ b/js/gulp/uglify-task.js\n@@ -27,6 +27,7 @@ const {\n const path = require('path');\n const webpack = require(`webpack`);\n const { memoizeTask } = require('./memoize-task');\n+const { compileBinFiles } = require('./typescript-task');\n const { Observable, ReplaySubject } = require('rxjs');\n const UglifyJSPlugin = require(`uglifyjs-webpack-plugin`);\n const esmRequire = require(`@std/esm`)(module, { cjs: true, esm: `js`, warnings: false });\n@@ -73,6 +74,7 @@ const uglifyTask = ((cache, commonConfig) => memoizeTask(cache, function uglifyJ\n     const compilers = webpack(webpackConfigs);\n     return Observable\n             .bindNodeCallback(compilers.run.bind(compilers))()\n+            .merge(compileBinFiles(target, format)).takeLast(1)\n             .multicast(new ReplaySubject()).refCount();\n }))({}, {\n     resolve: { mainFields: [`module`, `main`] },\ndiff --git a/js/gulpfile.js b/js/gulpfile.js\nindex 7b8296203..891d6c79b 100644\n--- a/js/gulpfile.js\n+++ b/js/gulpfile.js\n@@ -58,15 +58,15 @@ knownTargets.forEach((target) =>\n     )\n );\n \n-// The main \"apache-arrow\" module builds the es5/cjs, es5/umd,\n-// es2015/esm, es2015/umd, and ts targets, then copies and\n-// renames the compiled output into the apache-arrow folder\n+// The main \"apache-arrow\" module builds the es5/umd, es2015/cjs,\n+// es2015/esm, and es2015/umd targets, then copies and renames the\n+// compiled output into the apache-arrow folder\n gulp.task(`build:${npmPkgName}`,\n     gulp.series(\n         cleanTask(npmPkgName),\n         gulp.parallel(\n-            `build:${taskName(`es5`, `cjs`)}`,\n             `build:${taskName(`es5`, `umd`)}`,\n+            `build:${taskName(`es2015`, `cjs`)}`,\n             `build:${taskName(`es2015`, `esm`)}`,\n             `build:${taskName(`es2015`, `umd`)}`\n         ),\ndiff --git a/js/src/bin/arrow2csv.ts b/js/src/bin/arrow2csv.ts\nindex ee9561323..6d197c7b6 100644\n--- a/js/src/bin/arrow2csv.ts\n+++ b/js/src/bin/arrow2csv.ts\n@@ -84,12 +84,10 @@ if (!files.length) {\n }\n \n files.forEach((source) => {\n-    debugger;\n     let table: Arrow.Table, input = fs.readFileSync(source);\n     try {\n         table = Arrow.Table.from(input);\n     } catch (e) {\n-        debugger;\n         table = Arrow.Table.from(parse(input + ''));\n     }\n     if (argv.schema && argv.schema.length) {\ndiff --git a/js/tsconfig/tsconfig.base.json b/js/tsconfig/tsconfig.base.json\nindex 8b8210198..d0b813ef3 100644\n--- a/js/tsconfig/tsconfig.base.json\n+++ b/js/tsconfig/tsconfig.base.json\n@@ -1,5 +1,5 @@\n {\n-  \"exclude\": [\"../node_modules\"],\n+  \"exclude\": [\"../node_modules\", \"../src/bin/*.ts\"],\n   \"include\": [\"../src/**/*.ts\"],\n   \"compileOnSave\": false,\n   \"compilerOptions\": {\ndiff --git a/js/tsconfig/tsconfig.bin.cjs.json b/js/tsconfig/tsconfig.bin.cjs.json\nnew file mode 100644\nindex 000000000..e17c1b589\n--- /dev/null\n+++ b/js/tsconfig/tsconfig.bin.cjs.json\n@@ -0,0 +1,12 @@\n+//Compiler configuaration to build the ES5 CommonJS bin files\n+{\n+    \"extends\": \"./tsconfig.base.json\",\n+    \"exclude\": [\"../node_modules\"],\n+    \"include\": [\"../src/bin/*.ts\"],\n+      \"compilerOptions\": {\n+      \"target\": \"ES5\",\n+      \"module\": \"commonjs\",\n+      \"declaration\": false\n+    }\n+  }\n+  \n\\ No newline at end of file\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-02-27T15:57:45.952+0000",
                    "updated": "2018-02-27T15:57:45.952+0000"
                }
            ],
            "maxResults": 4,
            "total": 4,
            "startAt": 0
        },
        "customfield_12311820": "0|i3qm7j:",
        "customfield_12314139": null
    }
}