{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13360461",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461",
    "key": "ARROW-11755",
    "fields": {
        "fixVersions": [],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/2",
            "id": "2",
            "description": "The problem described is an issue which will never be fixed.",
            "name": "Won't Fix"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "dplyr",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
            "name": "Closed",
            "id": "6",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 26400,
            "total": 26400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 26400,
            "total": 26400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11755/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 44,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/581078",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese opened a new pull request #9998:\nURL: https://github.com/apache/arrow/pull/9998\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-12T15:20:16.762+0000",
                    "updated": "2021-04-12T15:20:16.762+0000",
                    "started": "2021-04-12T15:20:16.762+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "581078",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/581079",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese closed pull request #9998:\nURL: https://github.com/apache/arrow/pull/9998\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-12T15:20:40.427+0000",
                    "updated": "2021-04-12T15:20:40.427+0000",
                    "started": "2021-04-12T15:20:40.426+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "581079",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/581086",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese opened a new pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999\n\n\n   1st version\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-12T15:28:59.497+0000",
                    "updated": "2021-04-12T15:28:59.497+0000",
                    "started": "2021-04-12T15:28:59.497+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "581086",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/581319",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9998:\nURL: https://github.com/apache/arrow/pull/9998#issuecomment-818143767\n\n\n   https://issues.apache.org/jira/browse/ARROW-11755\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-12T20:12:13.409+0000",
                    "updated": "2021-04-12T20:12:13.409+0000",
                    "started": "2021-04-12T20:12:13.408+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "581319",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/581324",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999#issuecomment-818159524\n\n\n   https://issues.apache.org/jira/browse/ARROW-11755\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-12T20:19:32.778+0000",
                    "updated": "2021-04-12T20:19:32.778+0000",
                    "started": "2021-04-12T20:19:32.778+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "581324",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/583528",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999#discussion_r614183416\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-mutate.R\n##########\n@@ -415,3 +415,160 @@ test_that(\"mutate and write_dataset\", {\n       summarize(mean = mean(integer))\n   )\n })\n+\n+# PACHA ADDITIONS ----\n+# READ THIS CAREFULLY PLEASE, IT'S MY 1ST DAY WRITING THIS KIND OF SENSITIVE TESTS\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L1-L10\n+# the rest of that test belongs in L55-62 here\n\nReview comment:\n       Please delete the existing test at L55-62 and another line in this test to check empty `%>% mutate()` on `tbl`\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-15T15:42:54.595+0000",
                    "updated": "2021-04-15T15:42:54.595+0000",
                    "started": "2021-04-15T15:42:54.595+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "583528",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/583530",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999#discussion_r614183416\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-mutate.R\n##########\n@@ -415,3 +415,160 @@ test_that(\"mutate and write_dataset\", {\n       summarize(mean = mean(integer))\n   )\n })\n+\n+# PACHA ADDITIONS ----\n+# READ THIS CAREFULLY PLEASE, IT'S MY 1ST DAY WRITING THIS KIND OF SENSITIVE TESTS\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L1-L10\n+# the rest of that test belongs in L55-62 here\n\nReview comment:\n       Please delete the existing test at L55-62 and add another line in this test to check empty `%>% mutate()` on `tbl`\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-15T15:43:20.321+0000",
                    "updated": "2021-04-15T15:43:20.321+0000",
                    "started": "2021-04-15T15:43:20.321+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "583530",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/583541",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999#discussion_r614190740\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-mutate.R\n##########\n@@ -415,3 +415,160 @@ test_that(\"mutate and write_dataset\", {\n       summarize(mean = mean(integer))\n   )\n })\n+\n+# PACHA ADDITIONS ----\n+# READ THIS CAREFULLY PLEASE, IT'S MY 1ST DAY WRITING THIS KIND OF SENSITIVE TESTS\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L1-L10\n+# the rest of that test belongs in L55-62 here\n+test_that(\"empty mutate returns input\", {\n+  # dbl2 = 5, so I'm grouping by a constant\n+  gtbl <- group_by(tbl, dbl2)\n+\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), tbl)\n+\n+  expect_dplyr_equal(input %>% mutate() %>% collect(), gtbl)\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), gtbl)\n+})\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L12-L6\n+# THIS WON'T WORK\n\nReview comment:\n       Could you please uncomment this test and add `skip(\"Row names are not preserved\")` as the first line?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-15T15:52:02.308+0000",
                    "updated": "2021-04-15T15:52:02.308+0000",
                    "started": "2021-04-15T15:52:02.307+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "583541",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/583577",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999#discussion_r614237603\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-mutate.R\n##########\n@@ -415,3 +415,160 @@ test_that(\"mutate and write_dataset\", {\n       summarize(mean = mean(integer))\n   )\n })\n+\n+# PACHA ADDITIONS ----\n+# READ THIS CAREFULLY PLEASE, IT'S MY 1ST DAY WRITING THIS KIND OF SENSITIVE TESTS\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L1-L10\n+# the rest of that test belongs in L55-62 here\n+test_that(\"empty mutate returns input\", {\n+  # dbl2 = 5, so I'm grouping by a constant\n+  gtbl <- group_by(tbl, dbl2)\n+\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), tbl)\n+\n+  expect_dplyr_equal(input %>% mutate() %>% collect(), gtbl)\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), gtbl)\n+})\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L12-L6\n+# THIS WON'T WORK\n+# test_that(\"rownames preserved\", {\n+#   df <- data.frame(x = c(1, 2), row.names = c(\"a\", \"b\"))\n+#   expect_dplyr_equal(input %>% mutate(y = 2) %>% collect(), df)\n+# })\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L18-L29\n+test_that(\"mutations applied progressively\", {\n+  df <- tibble(x = 1)\n\nReview comment:\n       This tibble is assigned but not used\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-15T16:51:58.156+0000",
                    "updated": "2021-04-15T16:51:58.156+0000",
                    "started": "2021-04-15T16:51:58.156+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "583577",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/583579",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999#discussion_r614239998\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-mutate.R\n##########\n@@ -415,3 +415,160 @@ test_that(\"mutate and write_dataset\", {\n       summarize(mean = mean(integer))\n   )\n })\n+\n+# PACHA ADDITIONS ----\n+# READ THIS CAREFULLY PLEASE, IT'S MY 1ST DAY WRITING THIS KIND OF SENSITIVE TESTS\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L1-L10\n+# the rest of that test belongs in L55-62 here\n+test_that(\"empty mutate returns input\", {\n+  # dbl2 = 5, so I'm grouping by a constant\n+  gtbl <- group_by(tbl, dbl2)\n+\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), tbl)\n+\n+  expect_dplyr_equal(input %>% mutate() %>% collect(), gtbl)\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), gtbl)\n+})\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L12-L6\n+# THIS WON'T WORK\n+# test_that(\"rownames preserved\", {\n+#   df <- data.frame(x = c(1, 2), row.names = c(\"a\", \"b\"))\n+#   expect_dplyr_equal(input %>% mutate(y = 2) %>% collect(), df)\n+# })\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L18-L29\n+test_that(\"mutations applied progressively\", {\n\nReview comment:\n       In these examples, `expect_dplyr_equal()` is not used correctly.\r\n   \r\n   The second argument should be the _input_, not the expected output.\r\n   \r\n   The `expect_dplyr_equal()` function does not take expected output as one of its arguments. Instead, it just checks for consistent results when the dplyr functions are applied to an Arrow `Table`, an Arrow `RecordBatch`, and an R `data.frame`.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-15T16:55:30.894+0000",
                    "updated": "2021-04-15T16:55:30.894+0000",
                    "started": "2021-04-15T16:55:30.894+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "583579",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/583733",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999#discussion_r614340728\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-mutate.R\n##########\n@@ -415,3 +415,160 @@ test_that(\"mutate and write_dataset\", {\n       summarize(mean = mean(integer))\n   )\n })\n+\n+# PACHA ADDITIONS ----\n+# READ THIS CAREFULLY PLEASE, IT'S MY 1ST DAY WRITING THIS KIND OF SENSITIVE TESTS\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L1-L10\n+# the rest of that test belongs in L55-62 here\n+test_that(\"empty mutate returns input\", {\n+  # dbl2 = 5, so I'm grouping by a constant\n+  gtbl <- group_by(tbl, dbl2)\n+\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), tbl)\n+\n+  expect_dplyr_equal(input %>% mutate() %>% collect(), gtbl)\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), gtbl)\n+})\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L12-L6\n+# THIS WON'T WORK\n+# test_that(\"rownames preserved\", {\n+#   df <- data.frame(x = c(1, 2), row.names = c(\"a\", \"b\"))\n+#   expect_dplyr_equal(input %>% mutate(y = 2) %>% collect(), df)\n+# })\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L18-L29\n+test_that(\"mutations applied progressively\", {\n+  df <- tibble(x = 1)\n+\n+  expect_dplyr_equal(\n+    input %>% mutate(y = x + 1, z = y + 1) %>% collect(),\n+    tibble(x = 1, y = 2, z = 3)\n\nReview comment:\n       ```suggestion\r\n       df\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-15T19:36:00.280+0000",
                    "updated": "2021-04-15T19:36:00.280+0000",
                    "started": "2021-04-15T19:36:00.280+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "583733",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/583754",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999#discussion_r614349300\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-mutate.R\n##########\n@@ -415,3 +415,160 @@ test_that(\"mutate and write_dataset\", {\n       summarize(mean = mean(integer))\n   )\n })\n+\n+# PACHA ADDITIONS ----\n+# READ THIS CAREFULLY PLEASE, IT'S MY 1ST DAY WRITING THIS KIND OF SENSITIVE TESTS\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L1-L10\n+# the rest of that test belongs in L55-62 here\n+test_that(\"empty mutate returns input\", {\n+  # dbl2 = 5, so I'm grouping by a constant\n+  gtbl <- group_by(tbl, dbl2)\n+\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), tbl)\n+\n+  expect_dplyr_equal(input %>% mutate() %>% collect(), gtbl)\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), gtbl)\n+})\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L12-L6\n+# THIS WON'T WORK\n+# test_that(\"rownames preserved\", {\n+#   df <- data.frame(x = c(1, 2), row.names = c(\"a\", \"b\"))\n+#   expect_dplyr_equal(input %>% mutate(y = 2) %>% collect(), df)\n+# })\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L18-L29\n+test_that(\"mutations applied progressively\", {\n+  df <- tibble(x = 1)\n+\n+  expect_dplyr_equal(\n+    input %>% mutate(y = x + 1, z = y + 1) %>% collect(),\n+    tibble(x = 1, y = 2, z = 3)\n\nReview comment:\n       Please change all the other tests to work in this way (like we discussed). Thanks!\n\n##########\nFile path: r/tests/testthat/test-dplyr-mutate.R\n##########\n@@ -415,3 +415,160 @@ test_that(\"mutate and write_dataset\", {\n       summarize(mean = mean(integer))\n   )\n })\n+\n+# PACHA ADDITIONS ----\n+# READ THIS CAREFULLY PLEASE, IT'S MY 1ST DAY WRITING THIS KIND OF SENSITIVE TESTS\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L1-L10\n+# the rest of that test belongs in L55-62 here\n+test_that(\"empty mutate returns input\", {\n+  # dbl2 = 5, so I'm grouping by a constant\n+  gtbl <- group_by(tbl, dbl2)\n+\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), tbl)\n+\n+  expect_dplyr_equal(input %>% mutate() %>% collect(), gtbl)\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), gtbl)\n+})\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L12-L6\n+# THIS WON'T WORK\n+# test_that(\"rownames preserved\", {\n+#   df <- data.frame(x = c(1, 2), row.names = c(\"a\", \"b\"))\n+#   expect_dplyr_equal(input %>% mutate(y = 2) %>% collect(), df)\n+# })\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L18-L29\n+test_that(\"mutations applied progressively\", {\n+  df <- tibble(x = 1)\n+\n+  expect_dplyr_equal(\n+    input %>% mutate(y = x + 1, z = y + 1) %>% collect(),\n+    tibble(x = 1, y = 2, z = 3)\n\nReview comment:\n       Please change all the other `expect_dplyr_equal()` tests in this PR to work in this way (like we discussed). Thanks!\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-15T19:50:54.006+0000",
                    "updated": "2021-04-15T19:50:54.006+0000",
                    "started": "2021-04-15T19:50:54.005+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "583754",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/587070",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese closed pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-22T05:58:34.224+0000",
                    "updated": "2021-04-22T05:58:34.224+0000",
                    "started": "2021-04-22T05:58:34.223+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "587070",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/587071",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese opened a new pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999\n\n\n   1st version\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-22T06:05:21.499+0000",
                    "updated": "2021-04-22T06:05:21.499+0000",
                    "started": "2021-04-22T06:05:21.499+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "587071",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/587620",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999#issuecomment-825373762\n\n\n   pending: why it fails on windows\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-23T04:17:57.852+0000",
                    "updated": "2021-04-23T04:17:57.852+0000",
                    "started": "2021-04-23T04:17:57.852+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "587620",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/587883",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999#discussion_r619285308\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-mutate.R\n##########\n@@ -415,3 +406,160 @@ test_that(\"mutate and write_dataset\", {\n       summarize(mean = mean(integer))\n   )\n })\n+\n+# PACHA ADDITIONS ----\n+# READ THIS CAREFULLY PLEASE, IT'S MY 1ST DAY WRITING THIS KIND OF SENSITIVE TESTS\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L1-L10\n+# the rest of that test belongs in L55-62 here\n+test_that(\"empty mutate returns input\", {\n+  # dbl2 = 5, so I'm grouping by a constant\n+  gtbl <- group_by(tbl, dbl2)\n+\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), tbl)\n+\n\nReview comment:\n       Add a test equivalent to the one you deleted at L55-62:\r\n   ```suggestion\r\n     expect_dplyr_equal(input %>% mutate() %>% collect(), tbl)\r\n     expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), tbl)\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-23T14:55:06.517+0000",
                    "updated": "2021-04-23T14:55:06.517+0000",
                    "started": "2021-04-23T14:55:06.517+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "587883",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/587893",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999#discussion_r619291340\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-mutate.R\n##########\n@@ -415,3 +406,160 @@ test_that(\"mutate and write_dataset\", {\n       summarize(mean = mean(integer))\n   )\n })\n+\n+# PACHA ADDITIONS ----\n+# READ THIS CAREFULLY PLEASE, IT'S MY 1ST DAY WRITING THIS KIND OF SENSITIVE TESTS\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L1-L10\n+# the rest of that test belongs in L55-62 here\n+test_that(\"empty mutate returns input\", {\n+  # dbl2 = 5, so I'm grouping by a constant\n+  gtbl <- group_by(tbl, dbl2)\n+\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), tbl)\n+\n+  expect_dplyr_equal(input %>% mutate() %>% collect(), gtbl)\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), gtbl)\n+})\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L12-L6\n+test_that(\"rownames preserved\", {\n+  skip(\"Row names are not preserved\")\n+  df <- data.frame(x = c(1, 2), row.names = c(\"a\", \"b\"))\n+  expect_dplyr_equal(input %>% mutate(y = 2) %>% collect(), df)\n+})\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L18-L29\n+test_that(\"mutations applied progressively\", {\n+  df <- tibble(x = 1)\n+\n+  expect_dplyr_equal(\n+    input %>% mutate(y = x + 1, z = y + 1) %>% collect(),\n+    df\n+  )\n+  expect_dplyr_equal(\n+    input %>% mutate(x = x + 1, x = x + 1) %>% collect(),\n+    df\n+  )\n+  expect_dplyr_equal(\n+    input %>% mutate(y = x + 1, z = y + 1) %>% collect(),\n+    df\n+  )\n+\n+  df <- data.frame(x = 1, y = 2)\n+  expect_dplyr_equal(\n+    input %>% mutate(x2 = x, x3 = x2 + 1) %>% collect(),\n+    df\n+  )\n+})\n+\n+# similar to # similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L31-L35\n+# SEE LINE 175 IN THIS SCRIPT!\n+# THIS WON'T WORK\n+# https://issues.apache.org/jira/browse/ARROW-11705\n+#  Error in UseMethod(\"mutate\") :\n+# no applicable method for 'mutate' applied to an object of class \"c('double', 'numeric')\"\n+# test_that(\"length-1 vectors are recycled (#152)\", {\n+#   df <- tibble(x = 1:4)\n+#\n+#   expect_dplyr_equal(\n+#     collect(mutate(input, y = 1))$y,\n+#     rep(1, 4)\n+#   )\n+# })\n\nReview comment:\n       Remove this since there's already a test for scalar value recycling around line 175 as you noted here\r\n   ```suggestion\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-23T15:02:38.155+0000",
                    "updated": "2021-04-23T15:02:38.155+0000",
                    "started": "2021-04-23T15:02:38.154+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "587893",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/587899",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999#discussion_r619294602\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-mutate.R\n##########\n@@ -415,3 +406,160 @@ test_that(\"mutate and write_dataset\", {\n       summarize(mean = mean(integer))\n   )\n })\n+\n+# PACHA ADDITIONS ----\n+# READ THIS CAREFULLY PLEASE, IT'S MY 1ST DAY WRITING THIS KIND OF SENSITIVE TESTS\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L1-L10\n+# the rest of that test belongs in L55-62 here\n+test_that(\"empty mutate returns input\", {\n+  # dbl2 = 5, so I'm grouping by a constant\n+  gtbl <- group_by(tbl, dbl2)\n+\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), tbl)\n+\n+  expect_dplyr_equal(input %>% mutate() %>% collect(), gtbl)\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), gtbl)\n+})\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L12-L6\n+test_that(\"rownames preserved\", {\n+  skip(\"Row names are not preserved\")\n+  df <- data.frame(x = c(1, 2), row.names = c(\"a\", \"b\"))\n+  expect_dplyr_equal(input %>% mutate(y = 2) %>% collect(), df)\n+})\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L18-L29\n+test_that(\"mutations applied progressively\", {\n+  df <- tibble(x = 1)\n+\n+  expect_dplyr_equal(\n+    input %>% mutate(y = x + 1, z = y + 1) %>% collect(),\n+    df\n+  )\n+  expect_dplyr_equal(\n+    input %>% mutate(x = x + 1, x = x + 1) %>% collect(),\n+    df\n+  )\n+  expect_dplyr_equal(\n+    input %>% mutate(y = x + 1, z = y + 1) %>% collect(),\n+    df\n+  )\n+\n+  df <- data.frame(x = 1, y = 2)\n+  expect_dplyr_equal(\n+    input %>% mutate(x2 = x, x3 = x2 + 1) %>% collect(),\n+    df\n+  )\n+})\n+\n+# similar to # similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L31-L35\n+# SEE LINE 175 IN THIS SCRIPT!\n+# THIS WON'T WORK\n+# https://issues.apache.org/jira/browse/ARROW-11705\n+#  Error in UseMethod(\"mutate\") :\n+# no applicable method for 'mutate' applied to an object of class \"c('double', 'numeric')\"\n+# test_that(\"length-1 vectors are recycled (#152)\", {\n+#   df <- tibble(x = 1:4)\n+#\n+#   expect_dplyr_equal(\n+#     collect(mutate(input, y = 1))$y,\n+#     rep(1, 4)\n+#   )\n+# })\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L37-L54\n\nReview comment:\n       Looks good; please remove the existing test at line 46 (`\"mutate() with NULL inputs\"`) because this one is better and duplicates it.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-23T15:07:03.276+0000",
                    "updated": "2021-04-23T15:07:03.276+0000",
                    "started": "2021-04-23T15:07:03.276+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "587899",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/587926",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999#discussion_r619319730\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-mutate.R\n##########\n@@ -415,3 +406,160 @@ test_that(\"mutate and write_dataset\", {\n       summarize(mean = mean(integer))\n   )\n })\n+\n+# PACHA ADDITIONS ----\n+# READ THIS CAREFULLY PLEASE, IT'S MY 1ST DAY WRITING THIS KIND OF SENSITIVE TESTS\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L1-L10\n+# the rest of that test belongs in L55-62 here\n+test_that(\"empty mutate returns input\", {\n+  # dbl2 = 5, so I'm grouping by a constant\n+  gtbl <- group_by(tbl, dbl2)\n+\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), tbl)\n+\n+  expect_dplyr_equal(input %>% mutate() %>% collect(), gtbl)\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), gtbl)\n+})\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L12-L6\n+test_that(\"rownames preserved\", {\n+  skip(\"Row names are not preserved\")\n+  df <- data.frame(x = c(1, 2), row.names = c(\"a\", \"b\"))\n+  expect_dplyr_equal(input %>% mutate(y = 2) %>% collect(), df)\n+})\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L18-L29\n+test_that(\"mutations applied progressively\", {\n+  df <- tibble(x = 1)\n+\n+  expect_dplyr_equal(\n+    input %>% mutate(y = x + 1, z = y + 1) %>% collect(),\n+    df\n+  )\n+  expect_dplyr_equal(\n+    input %>% mutate(x = x + 1, x = x + 1) %>% collect(),\n+    df\n+  )\n+  expect_dplyr_equal(\n+    input %>% mutate(y = x + 1, z = y + 1) %>% collect(),\n+    df\n+  )\n+\n+  df <- data.frame(x = 1, y = 2)\n+  expect_dplyr_equal(\n+    input %>% mutate(x2 = x, x3 = x2 + 1) %>% collect(),\n+    df\n+  )\n+})\n+\n+# similar to # similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L31-L35\n+# SEE LINE 175 IN THIS SCRIPT!\n+# THIS WON'T WORK\n+# https://issues.apache.org/jira/browse/ARROW-11705\n+#  Error in UseMethod(\"mutate\") :\n+# no applicable method for 'mutate' applied to an object of class \"c('double', 'numeric')\"\n+# test_that(\"length-1 vectors are recycled (#152)\", {\n+#   df <- tibble(x = 1:4)\n+#\n+#   expect_dplyr_equal(\n+#     collect(mutate(input, y = 1))$y,\n+#     rep(1, 4)\n+#   )\n+# })\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L37-L54\n+test_that(\"can remove variables with NULL (dplyr #462)\", {\n+  df <- tibble(x = 1:3, y = 1:3)\n+  gf <- group_by(df, x)\n+\n+  expect_dplyr_equal(input %>% mutate(y = NULL) %>% collect(), df[1])\n+  expect_dplyr_equal(input %>% mutate(y = NULL) %>% collect(), gf[1])\n\nReview comment:\n       Need to remove the `[1]` after `df` and `gf`:\r\n   ```suggestion\r\n     expect_dplyr_equal(input %>% mutate(y = NULL) %>% collect(), df)\r\n     expect_dplyr_equal(input %>% mutate(y = NULL) %>% collect(), gf)\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-23T15:41:48.251+0000",
                    "updated": "2021-04-23T15:41:48.251+0000",
                    "started": "2021-04-23T15:41:48.251+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "587926",
                    "issueId": "13360461"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/worklog/587927",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9999:\nURL: https://github.com/apache/arrow/pull/9999#discussion_r619324040\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-mutate.R\n##########\n@@ -415,3 +406,160 @@ test_that(\"mutate and write_dataset\", {\n       summarize(mean = mean(integer))\n   )\n })\n+\n+# PACHA ADDITIONS ----\n+# READ THIS CAREFULLY PLEASE, IT'S MY 1ST DAY WRITING THIS KIND OF SENSITIVE TESTS\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L1-L10\n+# the rest of that test belongs in L55-62 here\n+test_that(\"empty mutate returns input\", {\n+  # dbl2 = 5, so I'm grouping by a constant\n+  gtbl <- group_by(tbl, dbl2)\n+\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), tbl)\n+\n+  expect_dplyr_equal(input %>% mutate() %>% collect(), gtbl)\n+  expect_dplyr_equal(input %>% mutate(!!!list()) %>% collect(), gtbl)\n+})\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L12-L6\n+test_that(\"rownames preserved\", {\n+  skip(\"Row names are not preserved\")\n+  df <- data.frame(x = c(1, 2), row.names = c(\"a\", \"b\"))\n+  expect_dplyr_equal(input %>% mutate(y = 2) %>% collect(), df)\n+})\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L18-L29\n+test_that(\"mutations applied progressively\", {\n+  df <- tibble(x = 1)\n+\n+  expect_dplyr_equal(\n+    input %>% mutate(y = x + 1, z = y + 1) %>% collect(),\n+    df\n+  )\n+  expect_dplyr_equal(\n+    input %>% mutate(x = x + 1, x = x + 1) %>% collect(),\n+    df\n+  )\n+  expect_dplyr_equal(\n+    input %>% mutate(y = x + 1, z = y + 1) %>% collect(),\n+    df\n+  )\n+\n+  df <- data.frame(x = 1, y = 2)\n+  expect_dplyr_equal(\n+    input %>% mutate(x2 = x, x3 = x2 + 1) %>% collect(),\n+    df\n+  )\n+})\n+\n+# similar to # similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L31-L35\n+# SEE LINE 175 IN THIS SCRIPT!\n+# THIS WON'T WORK\n+# https://issues.apache.org/jira/browse/ARROW-11705\n+#  Error in UseMethod(\"mutate\") :\n+# no applicable method for 'mutate' applied to an object of class \"c('double', 'numeric')\"\n+# test_that(\"length-1 vectors are recycled (#152)\", {\n+#   df <- tibble(x = 1:4)\n+#\n+#   expect_dplyr_equal(\n+#     collect(mutate(input, y = 1))$y,\n+#     rep(1, 4)\n+#   )\n+# })\n+\n+# similar to https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r#L37-L54\n+test_that(\"can remove variables with NULL (dplyr #462)\", {\n+  df <- tibble(x = 1:3, y = 1:3)\n+  gf <- group_by(df, x)\n+\n+  expect_dplyr_equal(input %>% mutate(y = NULL) %>% collect(), df[1])\n+  expect_dplyr_equal(input %>% mutate(y = NULL) %>% collect(), gf[1])\n+\n+  # even if it doesn't exist\n+  expect_dplyr_equal(input %>% mutate(z = NULL) %>% collect(), df)\n+  # or was just created\n+  expect_dplyr_equal(input %>% mutate(z = 1, z = NULL) %>% collect(), df)\n\nReview comment:\n       This would trigger the scalar recycling issue if `z` weren't removed. Fix it like this: \r\n   ```suggestion\r\n     expect_dplyr_equal(input %>% mutate(z = rep(1, nrow(input)), z = NULL) %>% collect(), df)\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-23T15:48:13.874+0000",
                    "updated": "2021-04-23T15:48:13.874+0000",
                    "started": "2021-04-23T15:48:13.874+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "587927",
                    "issueId": "13360461"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 26400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@aa2eb02[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6f6579d0[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@78c5463e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@3c2a1b0f[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@78a73b61[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@fa90e45[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5d0f5d38[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@3191d7f5[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@702c8e95[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@37307df3[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@107110b0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@2f604334[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 26400,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Jul 12 14:04:25 UTC 2022",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2022-10-24T18:21:33.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11755/watchers",
            "watchCount": 2,
            "isWatching": true
        },
        "created": "2021-02-23T22:58:18.000+0000",
        "updated": "2022-10-24T18:21:33.000+0000",
        "timeoriginalestimate": null,
        "description": "Review https://github.com/tidyverse/dplyr/blob/master/tests/testthat/test-mutate.r and port tests over to arrow as needed to see if there are edge cases we aren't covering appropriately.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "7h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 26400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] Add tests from dplyr/test-mutate.r",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360461/comment/17565601",
                    "id": "17565601",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=toddfarmer",
                        "name": "toddfarmer",
                        "key": "JIRAUSER288796",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39935",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39935",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39935",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39935"
                        },
                        "displayName": "Todd Farmer",
                        "active": true,
                        "timeZone": "America/Boise"
                    },
                    "body": "This issue was last updated over 90 days ago, which may be an indication it is no longer being actively worked. To better reflect the current state, the issue is being unassigned. Please feel free to re-take assignment of the issue if it is being actively worked, or if you plan to start that work soon.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=toddfarmer",
                        "name": "toddfarmer",
                        "key": "JIRAUSER288796",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39935",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39935",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39935",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39935"
                        },
                        "displayName": "Todd Farmer",
                        "active": true,
                        "timeZone": "America/Boise"
                    },
                    "created": "2022-07-12T14:04:25.641+0000",
                    "updated": "2022-07-12T14:04:25.641+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0nzlk:",
        "customfield_12314139": null
    }
}