{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13233592",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592",
    "key": "ARROW-5332",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12344925",
                "id": "12344925",
                "description": "",
                "name": "0.14.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-07-04"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12560999",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12560999",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13225540",
                    "key": "ARROW-5090",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13225540",
                    "fields": {
                        "summary": "Parquet linking fails on MacOS due to @rpath in dylib",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
                            "id": "1",
                            "description": "A problem which impairs or prevents the functions of the product.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
                            "name": "Bug",
                            "subtask": false,
                            "avatarId": 21133
                        }
                    }
                }
            },
            {
                "id": "12560998",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12560998",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13186984",
                    "key": "ARROW-3314",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13186984",
                    "fields": {
                        "summary": "[R] Set -rpath using pkg-config when building",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 24600,
            "total": 24600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 24600,
            "total": 24600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5332/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 43,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/242890",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322\n \n \n   These extra flags got dropped in https://github.com/apache/arrow/commit/a44d1f553a3d1716dfafa7bb02753b8c4ed13d3f#diff-2816240325a8e9e6df50fb7c1faa8113R21. This change resolves the issue for me locally on macOS, and I'll confirm that it fixes the Ubuntu build for sparklyr and that it doesn't break our Travis build.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-15T22:06:22.070+0000",
                    "updated": "2019-05-15T22:06:22.070+0000",
                    "started": "2019-05-15T22:06:22.069+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "242890",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/242944",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-492856336\n \n \n   Confirmed that this fixes the installation on sparklyr too: https://travis-ci.org/nealrichardson/sparklyr/jobs/533045007\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-15T23:06:42.768+0000",
                    "updated": "2019-05-15T23:06:42.768+0000",
                    "started": "2019-05-15T23:06:42.767+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "242944",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/243116",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "javierluraschi commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-492918757\n \n \n   Probably worth waiting for a review from @romainfrancois... Those flags were added for the initial commit from Romain: https://github.com/apache/arrow/commit/ea8940ae8d524b0625bdce194b141315bfa260ea#diff-2816240325a8e9e6df50fb7c1faa8113 and then removed again by Romain with a comment pointing to @jeroen. I don't see other R packages using the path explicitly. So maybe there is some abnormal configuration in Travis and your machine or maybe there is something deeper going on. I did spot this article: https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Unix_002dalikes -- In any case, probably worth getting more eyes on this change.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-16T05:09:20.500+0000",
                    "updated": "2019-05-16T05:09:20.500+0000",
                    "started": "2019-05-16T05:09:20.499+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "243116",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/243283",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jeroen commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-493043112\n \n \n   You shouldn't hardcode your local installation path in the generic makefile. What problem are you trying to solve exactly? This works for me on macos:\r\n   \r\n   ```\r\n   brew install apache-arrow\r\n   ```\r\n   \r\n   And then in R:\r\n   \r\n   ```r\r\n   remotes::install_github(\"apache/arrow/r\")\r\n   ```\r\n   \r\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-16T12:16:36.585+0000",
                    "updated": "2019-05-16T12:16:36.585+0000",
                    "started": "2019-05-16T12:16:36.584+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "243283",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/243468",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-493150685\n \n \n   That works for me, too, but that's not the problem I'm trying to solve here. See https://issues.apache.org/jira/browse/ARROW-5332 for details. Installing the R package using the locally built C++ library is failing, not only on my machine but also on Travis on Ubuntu for the [sparklyr](https://travis-ci.org/rstudio/sparklyr/jobs/523326800) package. \r\n   \r\n   It was not my intention to hardcode _my_ path; I merely bisected git history to find out when this stopped working, and I landed on that line in that diff. \r\n   \r\n   A couple of alternatives that come to mind:\r\n   \r\n   1. Determine that `-rpath` location dynamically and maybe only include it when `pkg-config` is used\r\n   2. Figure out what's different about how https://github.com/apache/arrow/blob/master/ci/travis_before_script_cpp.sh builds and installs and do that since that works. I noticed, for example, that it installs with `-DARROW_INSTALL_NAME_RPATH=OFF`. I tried that and that appeared to work locally for me, but I still got a failure to install on [sparklyr Travis](https://travis-ci.org/nealrichardson/sparklyr/jobs/533410402). Fortunately, arrow's CMake run now prints a build configuration summary so we can look to see what's different; unfortunately, the summary is over 80 lines long because there are so many flags.\r\n   \r\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-16T17:02:08.718+0000",
                    "updated": "2019-05-16T17:02:08.718+0000",
                    "started": "2019-05-16T17:02:08.717+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "243468",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/244003",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jeroen commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-493438659\n \n \n   If it works for the brewed libarrow, and for arrow 0.13, I think this is a problem in the C++ library? Either way I think hardcoding a local path in the r bindings is not the solution.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-17T12:40:04.497+0000",
                    "updated": "2019-05-17T12:40:04.497+0000",
                    "started": "2019-05-17T12:40:04.496+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244003",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/244020",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-493455112\n \n \n   See relevant rpath-related build options\r\n   \r\n   https://github.com/apache/arrow/blob/b199b27646ecf8432d3b6d9a70858a8a875d8283/cpp/cmake_modules/DefineOptions.cmake#L81\r\n   \r\n   Not sure if changing those fixes the issue, but this is the first rpath issue we've seen in quite some time\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-17T13:33:33.298+0000",
                    "updated": "2019-05-17T13:33:33.298+0000",
                    "started": "2019-05-17T13:33:33.297+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244020",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/244021",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-493455929\n \n \n   @nealrichardson is libarrow in your LD_LIBRARY_PATH/DYLD_LIBRARY_PATH for your local install? If the library is in a non-standard location then you need to do that\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-17T13:36:05.713+0000",
                    "updated": "2019-05-17T13:36:05.713+0000",
                    "started": "2019-05-17T13:36:05.712+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244021",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/244076",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-493477783\n \n \n   Like I said, setting `-DARROW_INSTALL_NAME_RPATH=OFF` (specifically, adding it to the `cmake` command given on the [R README](https://github.com/apache/arrow/blob/master/r/README.Rmd#L42-L43)), following what the Arrow Travis build does, resolves the issue for me locally, without hardcoding an rpath in the R makevars. But when I [added that to sparklyr's Travis build script](https://github.com/nealrichardson/sparklyr/commit/a9f4507dc2530e3283f96566808710c9701799de), it still [failed](https://travis-ci.org/nealrichardson/sparklyr/jobs/533410402). I haven't further dug into how its Travis build setup differs from the Arrow build setup.\r\n   \r\n   Stepping back, I wonder if it would make sense for us to provide an installation script that compiles with the appropriate flags that the R package needs (leaving aside this path issue, it seems that R doesn't currently need Gandiva, Flight, et al.). The R README could recommend using it to install from source, and other packages like `sparklyr` (and I expect there will be more) could use it too. That way it would also be something we own and maintain, rather than have others' maintain their own bespoke scripts that drift and cause bug reports like this. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-17T14:38:41.069+0000",
                    "updated": "2019-05-17T14:38:41.069+0000",
                    "started": "2019-05-17T14:38:41.069+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244076",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/244390",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-493617041\n \n \n   For posterity, I came across this discussion around the original hard-coding of the rpath: https://github.com/apache/arrow/pull/2489#discussion_r215664651. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-17T22:28:31.669+0000",
                    "updated": "2019-05-17T22:28:31.669+0000",
                    "started": "2019-05-17T22:28:31.668+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244390",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/244450",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-493634102\n \n \n   `ARROW_INSTALL_NAME_RPATH` is for macOS. So the Travis CI failure is unrelated because it's on Linux.\r\n   \r\n   On Linux, you need to add the directory where your `libarrow.so` to `LD_LIBRARY_PATH`. The following patch will fix the failure:\r\n   \r\n   ```diff\r\n   diff --git a/.travis.yml b/.travis.yml\r\n   index 77574796..62211779 100644\r\n   --- a/.travis.yml\r\n   +++ b/.travis.yml\r\n   @@ -74,6 +74,7 @@ matrix:\r\n            - ARROW_ENABLED=\"true\"\r\n            - ARROW_VERSION=\"devel\"\r\n            - ARROW_SOURCE=\"build\"\r\n   +        - LD_LIBRARY_PATH=\"/usr/local/lib\"\r\n            - JAVA_VERSION=oraclejdk8\r\n        - name: \"Deps Devel (tidyverse, r-lib, forge)\"\r\n          env: R_DEVEL_PACKAGES=\"true\"\r\n   @@ -92,6 +93,7 @@ matrix:\r\n            - ARROW_ENABLED=\"true\"\r\n            - ARROW_VERSION=\"devel\"\r\n            - ARROW_SOURCE=\"build\"\r\n   +        - LD_LIBRARY_PATH=\"/usr/local/lib\"\r\n            - JAVA_VERSION=oraclejdk8\r\n    \r\n    before_install:\r\n   ```\r\n   \r\n   See https://travis-ci.org/kou/sparklyr/builds/534033939 for the result with the change.\r\n   \r\n   Note that R build is broken on the current master because R needs follow changes at https://github.com/apache/arrow/commit/e68ca7f9aed876a1afcad81a417afb87c94ee951 . You need to use https://github.com/apache/arrow/commit/1ed608aa94f0d22cfa69c81687006b4ebaefa258 for now:\r\n   \r\n   ```diff\r\n   diff --git a/ci/arrow-build.sh b/ci/arrow-build.sh\r\n   index 247df096..a6fa4f43 100644\r\n   --- a/ci/arrow-build.sh\r\n   +++ b/ci/arrow-build.sh\r\n   @@ -9,6 +9,7 @@ sudo apt install -y -V autoconf\r\n    if [[ $ARROW_VERSION == \"devel\" ]]; then\r\n      git clone https://github.com/apache/arrow\r\n      cd arrow/cpp\r\n   +  git checkout 1ed608aa94f0d22cfa69c81687006b4ebaefa258\r\n    else\r\n      wget https://arrowlib.rstudio.com/dist/arrow/arrow-$ARROW_VERSION/apache-arrow-$ARROW_VERSION.tar.gz\r\n      tar -xvzf apache-arrow-$ARROW_VERSION.tar.gz\r\n   \r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-18T00:36:18.892+0000",
                    "updated": "2019-05-18T00:36:18.892+0000",
                    "started": "2019-05-18T00:36:18.892+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244450",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/244451",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-493634339\n \n \n   FYI: Setting `LD_LIBRARY_PATH` by users is a general task when users install a library to non `/usr/lib` directory. It's not Arrow specific task.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-18T00:38:26.081+0000",
                    "updated": "2019-05-18T00:38:26.081+0000",
                    "started": "2019-05-18T00:38:26.079+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244451",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/244566",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-493686506\n \n \n   I agree with @kou that this particular issue (making sure your system can \"see\" the installed C++ libraries) is something that developers need to be aware of (which we should document adequately, of course) -- I'm skeptical that a one-size-fits-all and cross-platform solution can be developed. \r\n   \r\n   For Python we modify LD_LIBRARY_PATH to point to the custom install location, as do the GLib and Ruby tests\r\n   \r\n   https://github.com/apache/arrow/blob/d8e4763c4fafce9bb8fa9621d69a2ac4200186ea/ci/travis_script_python.sh#L27\r\n   \r\n   For _development_ it is not recommended to install development libraries into default system locations because it contaminates any packages installed by package managers such as `brew`\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-18T15:44:10.267+0000",
                    "updated": "2019-05-18T15:44:10.267+0000",
                    "started": "2019-05-18T15:44:10.267+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244566",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/244567",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-493686506\n \n \n   I agree with @kou that this particular issue (making sure your system can \"see\" the installed C++ libraries) is something that developers need to be aware of (which we should document adequately, of course) -- I'm skeptical that a one-size-fits-all and cross-platform solution can be developed. \r\n   \r\n   For Python we modify LD_LIBRARY_PATH to point to the custom install location, as do the GLib and Ruby tests\r\n   \r\n   https://github.com/apache/arrow/blob/d8e4763c4fafce9bb8fa9621d69a2ac4200186ea/ci/travis_script_python.sh#L27\r\n   \r\n   For _development_ it is not recommended to install development libraries into default system locations because it contaminates any packages installed by package managers such as `brew`. To motivate why this is a problem, there is no `make uninstall` so if you want to remove the development libraries you have to delete them manually which is error prone\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-18T15:45:25.358+0000",
                    "updated": "2019-05-18T15:45:25.358+0000",
                    "started": "2019-05-18T15:45:25.357+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244567",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/244570",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-493688952\n \n \n   Thanks @kou! I'll rework this patch to just update the R README with appropriate installation guidelines, and I'll take care of submitting the sparklyr Travis patch, unless you beat me to it.\r\n   \r\n   More generally, \r\n   \r\n   1. I wonder if the default for `ARROW_INSTALL_NAME_RPATH` is wrong, because I see lots of places that have to set it to `OFF`\r\n   2. I still think we can do better at collecting our C++ dev installation best practices in one or more scripts that we recommend people to use, or at least start with. Maybe not for Arrow C++ devs who want more control but at least for developers of the Python, Ruby, and R bindings who want to work off of the latest C++ lib and can't just install the published packages, and for those building libraries on top of those bindings (like the `sparklyr` case). It may not be one-size-fits-all, but I think it's a small number of variations we need to care about. We have the core of this already in the scripts in `/ci`. I'll make a Jira ticket and we can discuss there.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-18T16:20:24.022+0000",
                    "updated": "2019-05-18T16:20:24.022+0000",
                    "started": "2019-05-18T16:20:24.021+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244570",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/244710",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-493791691\n \n \n   > I'll take care of submitting the sparklyr Travis patch\r\n   \r\n   Thanks!\r\n   \r\n   > I wonder if the default for `ARROW_INSTALL_NAME_RPATH` is wrong, because I see lots of places that have to set it to `OFF`\r\n   \r\n   `ARROW_INSTALL_NAME_RPATH` changes `install_name` of `libarrow.dylib`.\r\n   \r\n   If `ARROW_INSTALL_NAME_RPATH` is used, the `install_name` is `@rpath/libarryw.dylib`. If we use`@rpath`, we can put `libarrow.dylib` anywhere. Because we can replace `@rpath` by `DYLD_LIBRARY_PATH` environment variable at run-time.\r\n   \r\n   If `ARROW_INSTALL_NAME_RPATH` isn't used, the `install_name` is `${CMAKE_INSTALL_PREFIX}/lib/libarrow.dylib`. If we use the static path, we can put `libarrow.dylib` to only `${CMAKE_INSTALL_PREFIX}/lib`. (`make install` does this.)\r\n   \r\n   If we build, install and use `libarrow.dylib` on the same machine, we can use the static path (we can use `-DARROW_INSTALL_NAME_RPATH=OFF`.) But if we build `libarrow.dylib` on A and install and use `libarrow.dylib` on B, we should use `@rpath`. Because we can't assume where `libarrow.dylib` is installed.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-19T21:06:33.954+0000",
                    "updated": "2019-05-19T21:06:33.954+0000",
                    "started": "2019-05-19T21:06:33.954+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244710",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/244726",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-493805213\n \n \n   This may be an out of scope topic of this but it may be better that we provide an install script for Travis CI.\r\n   I did this for my product Groonga: https://github.com/groonga/groonga/blob/master/data/travis/setup.sh\r\n   Users can install Groonga by `curl --silent --location https://github.com/groonga/groonga/raw/master/data/travis/setup.sh | sh`: https://github.com/pgroonga/pgroonga/blob/master/.travis.yml#L43\r\n   If users want to use master instead of released version, users just define `GROONGA_MASTER=yes` variable:\r\n   * https://github.com/pgroonga/pgroonga/blob/master/.travis.yml#L38\r\n   * https://github.com/groonga/groonga/blob/master/data/travis/setup.sh#L21\r\n   \r\n   We can do the same thing for Apache Arrow.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-20T00:21:19.930+0000",
                    "updated": "2019-05-20T00:21:19.930+0000",
                    "started": "2019-05-20T00:21:19.928+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244726",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/245711",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-494222526\n \n \n   Thanks @kou for the explanation, that's really helpful. \r\n   \r\n   I agree that it would be a good idea to provide and manage an install script, or set of scripts, for use in other projects on Travis and otherwise. I'll make a new Jira for that. I'll limit this ticket to be about the R installation docs/README. \r\n   \r\n   One last thought here: what if `make install` did some version of `export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$ARROW_CPP_INSTALL/lib` at the end? I see some version of that in 5 of our `ci/` scripts and recommended in the docs for several language bindings. For the use case where someone is building/installing the C++ library in order to then build some other project, it would help, and it wouldn't hurt anything else (IIUC). \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-21T03:08:36.403+0000",
                    "updated": "2019-05-21T03:08:36.403+0000",
                    "started": "2019-05-21T03:08:36.403+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "245711",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/245826",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-494283996\n \n \n   > what if `make install` did some version of `export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$ARROW_CPP_INSTALL/lib` at the end?\r\n   \r\n   I'm sorry but I couldn't understand.\r\n   Do you want to know which is recommended, `LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$ARROW_CPP_INSTALL/lib` or `LD_LIBRARY_PATH=$ARROW_CPP_INSTALL/lib:$LD_LIBRARY_PATH`?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-21T08:00:49.576+0000",
                    "updated": "2019-05-21T08:00:49.576+0000",
                    "started": "2019-05-21T08:00:49.576+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "245826",
                    "issueId": "13233592"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/worklog/246393",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on issue #4322: ARROW-5332: [R] Fix for failure to find libarrow on R package installation\nURL: https://github.com/apache/arrow/pull/4322#issuecomment-494566898\n \n \n   I meant, let's assume this workflow for installing, adapted from the [R package README](https://github.com/apache/arrow/blob/master/r/README.Rmd#L38-L52)\r\n   \r\n   ```shell\r\n   git clone https://github.com/apache/arrow.git\r\n   mkdir arrow/cpp/build\r\n   cd !$\r\n   cmake .. -DARROW_PARQUET=ON -DCMAKE_BUILD_TYPE=Release -DARROW_BOOST_USE_SHARED:BOOL=Off\r\n   make install\r\n   cd ../../r\r\n   R CMD INSTALL .\r\n   ```\r\n   \r\n   That will apparently fail unless I do `export LD_LIBRARY_PATH=/usr/local/bin` before I `R CMD INSTALL .`, otherwise it won't find libarrow. So I can add that `export` as a step in the recommended instructions. But why not have `make install` set that env var for me?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-21T21:32:04.997+0000",
                    "updated": "2019-05-21T21:32:04.997+0000",
                    "started": "2019-05-21T21:32:04.997+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "246393",
                    "issueId": "13233592"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 24600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@582fd27b[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@960b028[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7422074b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@78cf0817[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4467ed0f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@5393d52d[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@376f884b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@3760b101[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4c943d77[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1e3b375[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4a854ed2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@78df163a[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 24600,
        "customfield_12312520": null,
        "customfield_12312521": "Fri May 24 22:14:08 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-05-24T22:14:08.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5332/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2019-05-15T20:43:09.000+0000",
        "updated": "2019-05-24T22:28:33.000+0000",
        "timeoriginalestimate": null,
        "description": "Symptoms: R package appears to build but fails to load because it can't find libarrow.14 (with slight name variations per platform). On macOS, I see\u00a0\r\n{code:java}\r\n# compiling compiling\r\ninstalling to /Users/enpiar/R/00LOCK-r/00new/arrow/libs\r\n** R\r\n** byte-compile and prepare package for lazy loading\r\n** help\r\n*** installing help indices\r\n** building package indices\r\n** testing if installed package can be loaded from temporary location\r\nError: package or namespace load failed for \u2018arrow\u2019 in dyn.load(file, DLLpath = DLLpath, ...):\r\nunable to load shared object '/Users/enpiar/R/00LOCK-r/00new/arrow/libs/arrow.so':\r\ndlopen(/Users/enpiar/R/00LOCK-r/00new/arrow/libs/arrow.so, 6): Library not loaded: @rpath/libarrow.14.dylib\r\nReferenced from: /Users/enpiar/R/00LOCK-r/00new/arrow/libs/arrow.so\r\nReason: image not found\r\nError: loading failed\r\nExecution halted\r\nERROR: loading failed\r\n* removing \u2018/Users/enpiar/R/arrow\u2019{code}\r\nThe sparklyr R package has also experienced this on Ubuntu:\u00a0\r\n{code:java}\r\n** testing if installed package can be loaded from temporary location\r\nError: package or namespace load failed for 'arrow' in dyn.load(file, DLLpath = DLLpath, ...):\r\nunable to load shared object '/home/travis/R/Library/00LOCK-arrow/00new/arrow/libs/arrow.so':\r\nlibarrow.so.14: cannot open shared object file: No such file or directory\r\n{code}\r\nThis problem does not occur with the 0.13 release. I can `brew install apache-arrow` and then successfully install the R package; sparklyr on Travis tests 0.11, 0.13, and the latest of master branch of apache/arrow, and only the master branch fails.\u00a0\r\n\r\nAccording to sparklyr's build history on Travis, the last passing build with master branch of arrow was [April 5|https://travis-ci.org/rstudio/sparklyr/builds/516222934]; the next build was on [April 22|https://travis-ci.org/rstudio/sparklyr/jobs/523326800]\u00a0and it failed. So something changed in that window, it seems.\u00a0\r\n\r\nThere's nothing obvious (to me) in the CMake or make output that would indicate an error in the C++ build.\r\n\r\nInterestingly, the R build on arrow's Travis-CI is not failing, so in addition to there apparently being some change that\u00a0broke both [how the R package recommends building|https://github.com/apache/arrow/blob/7a495e7800ed2f184da1d5ffc4efde7d6c4abcac/r/README.Rmd#L38-L43]\u00a0and [how sparklyr is building|https://github.com/rstudio/sparklyr/blob/master/ci/arrow-build.sh], there appears to be some [combination of flags|https://github.com/apache/arrow/blob/master/ci/travis_before_script_cpp.sh]\u00a0that does result in a successful build.\r\n\r\nBrowsing through patches that landed between April 5-22, three seemed like suspects, though I haven't yet tried bisecting the history to find out which commit exactly introduces the relevant change.\r\n\r\n*\u00a0[https://github.com/apache/arrow/commit/f014d76c68a9a977a19f87f7ea77511e4753bb8c]\r\n\r\n*\u00a0[https://github.com/apache/arrow/commit/d9f675328edb1be9fc63a753cf05e3b4e9024707]\r\n\r\n*\u00a0[https://github.com/apache/arrow/commit/76e1bc5dfb9d08e31eddd5cbcc0b1bab934da2c7]\r\n\r\ncc [~romainfrancois] [~javierluraschi]\r\n\r\n\u00a0",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "6h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 24600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] R package fails to build/install: error in dyn.load()",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/comment/16840776",
                    "id": "16840776",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "I've confirmed that\u00a0[https://github.com/apache/arrow/commit/76e1bc5dfb9d08e31eddd5cbcc0b1bab934da2c7]\u00a0introduces the issue; the previous commit\u00a0264dc56c93aeb52cda317a330a1a75234fc1fda5 builds successfully.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2019-05-15T21:20:10.857+0000",
                    "updated": "2019-05-15T21:20:10.857+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/comment/16840809",
                    "id": "16840809",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "I've identified the single line that is the difference between success and failure:\u00a0[https://github.com/apache/arrow/commit/a44d1f553a3d1716dfafa7bb02753b8c4ed13d3f#diff-2816240325a8e9e6df50fb7c1faa8113R21]\r\n\r\nIf I check out\u00a076e1bc5dfb9d08e31eddd5cbcc0b1bab934da2c7 and add `-Wl,-rpath,/usr/local/lib` back to the PKG_LIBS line in Makevars.in, I get a successful installation locally on macOS. I'm not sure why that was removed, but maybe [~romainfrancois] recalls that commit.\u00a0\r\n\r\nI'll push up a branch and see if it breaks our Travis build, and I'll try to get a sparklyr build using my branch to confirm that it fixes the issue there too, and we can take it from there.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2019-05-15T21:55:53.346+0000",
                    "updated": "2019-05-15T21:55:53.346+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233592/comment/16847930",
                    "id": "16847930",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kou",
                        "name": "kou",
                        "key": "kou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kou&avatarId=30762",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kou&avatarId=30762",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kou&avatarId=30762",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kou&avatarId=30762"
                        },
                        "displayName": "Kouhei Sutou",
                        "active": true,
                        "timeZone": "Asia/Tokyo"
                    },
                    "body": "Issue resolved by pull request 4322\n[https://github.com/apache/arrow/pull/4322]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kou",
                        "name": "kou",
                        "key": "kou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kou&avatarId=30762",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kou&avatarId=30762",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kou&avatarId=30762",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kou&avatarId=30762"
                        },
                        "displayName": "Kouhei Sutou",
                        "active": true,
                        "timeZone": "Asia/Tokyo"
                    },
                    "created": "2019-05-24T22:14:08.192+0000",
                    "updated": "2019-05-24T22:14:08.192+0000"
                }
            ],
            "maxResults": 3,
            "total": 3,
            "startAt": 0
        },
        "customfield_12311820": "0|z02qfs:",
        "customfield_12314139": null
    }
}