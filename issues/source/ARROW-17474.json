{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13477568",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13477568",
    "key": "ARROW-17474",
    "fields": {
        "fixVersions": [],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/5",
            "id": "5",
            "description": "All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.",
            "name": "Cannot Reproduce"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
            "name": "Closed",
            "id": "6",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12337837",
                "id": "12337837",
                "name": "Parquet"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=amiraliev",
            "name": "amiraliev",
            "key": "JIRAUSER294648",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER294648&avatarId=51540",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER294648&avatarId=51540",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER294648&avatarId=51540",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER294648&avatarId=51540"
            },
            "displayName": "Amir Aliev",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=amiraliev",
            "name": "amiraliev",
            "key": "JIRAUSER294648",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER294648&avatarId=51540",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER294648&avatarId=51540",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER294648&avatarId=51540",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER294648&avatarId=51540"
            },
            "displayName": "Amir Aliev",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-17474/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@32d1835c[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4d9b7d05[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6394e55f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@7571cf7d[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1508d598[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@42882653[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6f28d40[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@7d83b0c4[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2ef41ef9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@2d4d1fca[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3fc70fae[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@5f229d02[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Oct 19 12:59:00 UTC 2022",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2022-10-19T13:09:37.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-17474/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2022-08-19T09:30:29.000+0000",
        "updated": "2022-10-19T13:09:37.000+0000",
        "timeoriginalestimate": null,
        "description": "When reading any of the set of parquet files in pandas with pyarrow parquet engine I am getting \"terminate called without an active exception | Aborted (core dumped)\" error with a 50% chance. I have run this through gdb for the following backtrace:\r\n\r\n\u00a0\r\n\r\n#0 \u00a00x00007ffff7ad69d5 in raise () from /lib64/libc.so.6\r\n#1 \u00a00x00007ffff7abf8a4 in abort () from /lib64/libc.so.6\r\n#2 \u00a00x00007fffe6c68926 in __gnu_cxx::__verbose_terminate_handler() [clone .cold] () from /lib64/libstdc++.so.6\r\n#3 \u00a00x00007fffe6c741ac in __cxxabiv1::__terminate(void (*)()) () from /lib64/libstdc++.so.6\r\n#4 \u00a00x00007fffe6c74217 in std::terminate() () from /lib64/libstdc++.so.6\r\n#5 \u00a00x00007fffe6c73bcc in __gxx_personality_v0 () from /lib64/libstdc++.so.6\r\n#6 \u00a00x00007ffff497dd94 in _Unwind_ForcedUnwind_Phase2 () from /lib64/libgcc_s.so.1\r\n#7 \u00a00x00007ffff497e482 in _Unwind_ForcedUnwind () from /lib64/libgcc_s.so.1\r\n#8 \u00a00x00007ffff7a89c26 in __pthread_unwind () from /lib64/libpthread.so.0\r\n#9 \u00a00x00007ffff7a816a2 in pthread_exit () from /lib64/libpthread.so.0\r\n#10 0x00007ffff7b1f34a in pthread_exit () from /lib64/libc.so.6\r\n#11 0x00007ffff7e3657b in PyThread_exit_thread () from /lib64/libpython3.9.so.1.0\r\n#12 0x00007ffff7cc5a8d in take_gil.cold () from /lib64/libpython3.9.so.1.0\r\n#13 0x00007ffff7d8f656 in PyEval_RestoreThread () from /lib64/libpython3.9.so.1.0\r\n#14 0x00007ffff7e68480 in PyGILState_Ensure () from /lib64/libpython3.9.so.1.0\r\n#15 0x00007fffe6f000e3 in std::_Sp_counted_ptr<arrow::py::PyBuffer*, (__gnu_cxx::_Lock_policy)2>::_M_dispose() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_python.so.900\r\n#16 0x00007fffe7519c4a in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#17 0x00007fffe751badd in arrow::Future<std::shared_ptr<arrow::Buffer> >::SetResult(arrow::Result<std::shared_ptr<arrow::Buffer> >)::\\{lambda(void*)#1}::_FUN(void*) () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#18 0x00007fffe8085929 in arrow::ConcreteFutureImpl::~ConcreteFutureImpl() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#19 0x00007fffe811da3a in arrow::io::internal::ReadRangeCache::Impl::~Impl() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#20 0x00007fffe6643eda in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libparquet.so.900\r\n#21 0x00007fffe66ec05e in parquet::ParquetFileReader::~ParquetFileReader() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libparquet.so.900\r\n#22 0x00007fffe676b98a in parquet::arrow::(anonymous namespace)::FileReaderImpl::~FileReaderImpl() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libparquet.so.900\r\n#23 0x00007fffe6643eda in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libparquet.so.900\r\n#24 0x00007fffe67c950a in std::_Function_handler<arrow::Future<std::function<arrow::Future<std::shared_ptr<arrow::RecordBatch> > ()> > (), parquet::arrow::RowGroupGenerator>::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libparquet.so.900\r\n#25 0x00007fffe67bbe8e in std::_Sp_counted_ptr_inplace<arrow::MergedGenerator<std::shared_ptr<arrow::RecordBatch> >::State, std::allocator<arrow::MergedGenerator<std::shared_ptr<arrow::RecordBatch> >::State>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libparquet.so.900\r\n#26 0x00007fffe6643eda in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libparquet.so.900\r\n#27 0x00007fffe67ba122 in std::_Function_handler<arrow::Future<std::shared_ptr<arrow::RecordBatch> > (), arrow::MergedGenerator<std::shared_ptr<arrow::RecordBatch> > >::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libparquet.so.900\r\n#28 0x00007fffdf126209 in std::_Sp_counted_ptr_inplace<arrow::dataset::SlicingGenerator::State, std::allocator<arrow::dataset::SlicingGenerator::State>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#29 0x00007fffdf26493a in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/_dataset.cpython-39-x86_64-linux-gnu.so\r\n#30 0x00007fffdf127392 in std::_Function_handler<arrow::Future<std::shared_ptr<arrow::RecordBatch> > (), arrow::dataset::SlicingGenerator>::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#31 0x00007fffdf11b56a in std::_Sp_counted_ptr_inplace<arrow::SerialReadaheadGenerator<std::shared_ptr<arrow::RecordBatch> >::State, std::allocator<arrow::SerialReadaheadGenerator<std::shared_ptr<arrow::RecordBatch> >::State>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#32 0x00007fffdf26493a in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/_dataset.cpython-39-x86_64-linux-gnu.so\r\n#33 0x00007fffdf126732 in std::_Function_handler<arrow::Future<std::shared_ptr<arrow::RecordBatch> > (), arrow::SerialReadaheadGenerator<std::shared_ptr<arrow::RecordBatch> > >::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#34 0x00007fffdf128ae6 in arrow::Future<std::function<arrow::Future<std::shared_ptr<arrow::RecordBatch> > ()> >::SetResult(arrow::Result<std::function<arrow::Future<std::shared_ptr<arrow::RecordBatch> > ()> >)::\\{lambda(void*)#1}::_FUN(void*) ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#35 0x00007fffe8085929 in arrow::ConcreteFutureImpl::~ConcreteFutureImpl() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#36 0x00007fffdf26493a in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/_dataset.cpython-39-x86_64-linux-gnu.so\r\n#37 0x00007fffdf26493a in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/_dataset.cpython-39-x86_64-linux-gnu.so\r\n#38 0x00007fffdf1267e2 in std::_Function_handler<arrow::Future<std::shared_ptr<arrow::RecordBatch> > (), arrow::FutureFirstGenerator<std::shared_ptr<arrow::RecordBatch> > >::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#39 0x00007fffdf1261d9 in std::_Sp_counted_ptr_inplace<arrow::DefaultIfEmptyGenerator<std::shared_ptr<arrow::RecordBatch> >::State, std::allocator<arrow::DefaultIfEmptyGenerator<std::shared_ptr<arrow::RecordBatch> >::State>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#40 0x00007fffdf26493a in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/_dataset.cpython-39-x86_64-linux-gnu.so\r\n#41 0x00007fffdf127232 in std::_Function_handler<arrow::Future<std::shared_ptr<arrow::RecordBatch> > (), arrow::DefaultIfEmptyGenerator<std::shared_ptr<arrow::RecordBatch> > >::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#42 0x00007fffdf1261a9 in std::_Sp_counted_ptr_inplace<arrow::EnumeratingGenerator<std::shared_ptr<arrow::RecordBatch> >::State, std::allocator<arrow::EnumeratingGenerator<std::shared_ptr<arrow::RecordBatch> >::State>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#43 0x00007fffdf26493a in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/_dataset.cpython-39-x86_64-linux-gnu.so\r\n#44 0x00007fffdf127182 in std::_Function_handler<arrow::Future<arrow::Enumerated<std::shared_ptr<arrow::RecordBatch> > > (), arrow::EnumeratingGenerator<std::shared_ptr<arrow::RecordBatch> > >::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#45 0x00007fffdf128a26 in arrow::Future<std::function<arrow::Future<arrow::Enumerated<std::shared_ptr<arrow::RecordBatch> > > ()> >::SetResult(arrow::Result<std::function<arrow::Future<arrow::Enumerated<std::shared_ptr<arrow::RecordBatch> > > ()> >)::\\{lambda(void*)#1}::_FUN(void*) ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#46 0x00007fffe8085929 in arrow::ConcreteFutureImpl::~ConcreteFutureImpl() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#47 0x00007fffdf26493a in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/_dataset.cpython-39-x86_64-linux-gnu.so\r\n#48 0x00007fffdf26493a in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/_dataset.cpython-39-x86_64-linux-gnu.so\r\n#49 0x00007fffdf1270d2 in std::_Function_handler<arrow::Future<arrow::Enumerated<std::shared_ptr<arrow::RecordBatch> > > (), arrow::FutureFirstGenerator<arrow::Enumerated<std::shared_ptr<arrow::RecordBatch> > > >::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#50 0x00007fffdf14a6dd in std::_Sp_counted_ptr_inplace<arrow::MappingGenerator<arrow::Enumerated<std::shared_ptr<arrow::RecordBatch> >, arrow::dataset::EnumeratedRecordBatch>::State, std::allocator<arrow::MappingGenerator<arrow::Enumerated<std::shared_ptr<arrow::RecordBatch> >, arrow::dataset::EnumeratedRecordBatch>::State>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#51 0x00007fffdf26493a in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/_dataset.cpython-39-x86_64-linux-gnu.so\r\n#52 0x00007fffdf127022 in std::_Function_handler<arrow::Future<arrow::dataset::EnumeratedRecordBatch> (), arrow::MappingGenerator<arrow::Enumerated<std::shared_ptr<arrow::RecordBatch> >, arrow::dataset::EnumeratedRecordBatch> >::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#53 0x00007fffdf12cd1e in std::_Sp_counted_ptr_inplace<arrow::MergedGenerator<arrow::dataset::EnumeratedRecordBatch>::State, std::allocator<arrow::MergedGenerator<arrow::dataset::EnumeratedRecordBatch>::State>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#54 0x00007fffdf26493a in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/_dataset.cpython-39-x86_64-linux-gnu.so\r\n#55 0x00007fffdf1269f2 in std::_Function_handler<arrow::Future<arrow::dataset::EnumeratedRecordBatch> (), arrow::MergedGenerator<arrow::dataset::EnumeratedRecordBatch> >::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#56 0x00007fffdf14a5e2 in std::_Sp_counted_ptr_inplace<arrow::ReadaheadGenerator<arrow::dataset::EnumeratedRecordBatch>::State, std::allocator<arrow::ReadaheadGenerator<arrow::dataset::EnumeratedRecordBatch>::State>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#57 0x00007fffdf26493a in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/_dataset.cpython-39-x86_64-linux-gnu.so\r\n#58 0x00007fffdf126942 in std::_Function_handler<arrow::Future<arrow::dataset::EnumeratedRecordBatch> (), arrow::ReadaheadGenerator<arrow::dataset::EnumeratedRecordBatch> >::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#59 0x00007fffdf12ba28 in std::_Sp_counted_ptr_inplace<arrow::MappingGenerator<arrow::dataset::EnumeratedRecordBatch, nonstd::optional_lite::optional<arrow::compute::ExecBatch> >::State, std::allocator<arrow::MappingGenerator<arrow::dataset::EnumeratedRecordBatch, nonstd::optional_lite::optional<arrow::compute::ExecBatch> >::State>, (__gnu_cxx::_Lock_policy)2>::_M_dispose() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#60 0x00007fffdf26493a in std::_Sp_counted_base<(__gnu_cxx::_Lock_policy)2>::_M_release() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/_dataset.cpython-39-x86_64-linux-gnu.so\r\n#61 0x00007fffdf126892 in std::_Function_handler<arrow::Future<nonstd::optional_lite::optional<arrow::compute::ExecBatch> > (), arrow::MappingGenerator<arrow::dataset::EnumeratedRecordBatch, nonstd::optional_lite::optional<arrow::compute::ExecBatch> > >::_M_manager(std::_Any_data&, std::_Any_data const&, std::_Manager_operation) () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#62 0x00007fffe7e805db in arrow::compute::(anonymous namespace)::SourceNode::~SourceNode() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#63 0x00007fffe7f355e3 in arrow::compute::(anonymous namespace)::ExecPlanImpl::~ExecPlanImpl() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#64 0x00007fffe7f35a52 in std::_Sp_counted_ptr<arrow::compute::(anonymous namespace)::ExecPlanImpl*, (__gnu_cxx::_Lock_policy)2>::_M_dispose() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#65 0x00007fffdf0f0a32 in arrow::internal::FnOnce<void (arrow::FutureImpl const&)>::FnImpl<arrow::Future<arrow::internal::Empty>::WrapStatusyOnComplete::Callback<arrow::dataset::(anonymous namespace)::AsyncScanner::ScanBatchesUnorderedAsync(arrow::internal::Executor*, bool, bool)::\\{lambda(...)#1}::operator()(...) const::\\{lambda()#1}::operator()() const::\\{lambda(arrow::Status const&)#1}> >::~FnImpl() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow_dataset.so.900\r\n#66 0x00007fffe808a416 in arrow::ConcreteFutureImpl::DoMarkFinishedOrFailed(arrow::FutureState) () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#67 0x00007fffe75b33ff in void arrow::Future<arrow::internal::Empty>::MarkFinished<arrow::internal::Empty, void>(arrow::Status) () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#68 0x00007fffe7f16f25 in arrow::internal::FnOnce<void (arrow::FutureImpl const&)>::FnImpl<arrow::Future<arrow::internal::Empty>::WrapStatusyOnComplete::Callback<arrow::compute::(anonymous namespace)::ExecPlanImpl::EndTaskGroup()::\\{lambda(arrow::Status const&)#1}> >::invoke(arrow::FutureImpl const&) ()\r\n\u00a0 \u00a0from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#69 0x00007fffe808a408 in arrow::ConcreteFutureImpl::DoMarkFinishedOrFailed(arrow::FutureState) () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#70 0x00007fffe75b33ff in void arrow::Future<arrow::internal::Empty>::MarkFinished<arrow::internal::Empty, void>(arrow::Status) () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#71 0x00007fffe80cf46b in arrow::internal::FnOnce<void (arrow::FutureImpl const&)>::FnImpl<arrow::Future<arrow::internal::Empty>::WrapStatusyOnComplete::Callback<arrow::util::AsyncTaskGroup::AddTaskUnlocked(arrow::Future<arrow::internal::Empty> const&, arrow::util::Mutex::Guard)::\\{lambda(arrow::Status const&)#1}> >::invoke(arrow::FutureImpl const&) () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#72 0x00007fffe808a408 in arrow::ConcreteFutureImpl::DoMarkFinishedOrFailed(arrow::FutureState) () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#73 0x00007fffe75b33ff in void arrow::Future<arrow::internal::Empty>::MarkFinished<arrow::internal::Empty, void>(arrow::Status) () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#74 0x00007fffe7f3a5cd in arrow::internal::FnOnce<void ()>::FnImpl<std::_Bind<arrow::detail::ContinueFuture (arrow::Future<arrow::internal::Empty>, std::function<arrow::Status ()>)> >::invoke() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#75 0x00007fffe8066e7b in std::thread::_State_impl<std::thread::_Invoker<std::tuple<arrow::internal::ThreadPool::LaunchWorkersUnlocked(int)::\\{lambda()#1}> > >::_M_run() () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#76 0x00007fffe8f7d5f0 in execute_native_thread_routine () from /home/inc/.local/lib/python3.9/site-packages/pyarrow/libarrow.so.900\r\n#77 0x00007ffff7a803f9 in start_thread () from /lib64/libpthread.so.0\r\n#78 0x00007ffff7b9ab53 in clone () from /lib64/libc.so.6",
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "Pandas read_parquet failr on pyarrow level",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": "Fedora 33",
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13477568/comment/17620307",
                    "id": "17620307",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=milesgranger",
                        "name": "milesgranger",
                        "key": "JIRAUSER293894",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34052",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34052",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34052",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34052"
                        },
                        "displayName": "Miles Granger",
                        "active": true,
                        "timeZone": "Europe/Oslo"
                    },
                    "body": "Bit hard to debug, do you have any code that can reproduce this or a small sample dataset? Or does it happen with any normal parquet file?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=milesgranger",
                        "name": "milesgranger",
                        "key": "JIRAUSER293894",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34052",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34052",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34052",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34052"
                        },
                        "displayName": "Miles Granger",
                        "active": true,
                        "timeZone": "Europe/Oslo"
                    },
                    "created": "2022-10-19T12:14:19.222+0000",
                    "updated": "2022-10-19T12:14:19.222+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13477568/comment/17620335",
                    "id": "17620335",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=amiraliev",
                        "name": "amiraliev",
                        "key": "JIRAUSER294648",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER294648&avatarId=51540",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER294648&avatarId=51540",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER294648&avatarId=51540",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER294648&avatarId=51540"
                        },
                        "displayName": "Amir Aliev",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "[~milesgranger] This happens randomly, even on the same file. Might depend on filters. The file itself is large (several GB) and proprietary (comes from a third-party financial data vendor), so I won;t be able to share it, unfortunately.\r\n\r\nMy workflow is very simple, essentially get some filtered subset of the parquet file to memory and print out something on the command-line. The program always segfaults after printing correct output, so I suppose this is related to cleanup, not to the file reading itself. Also, now that I think about it, it seems the problem went away once I switched from {{filters=[('field', '=', 'value'), ...]}} filter of {{pandas.read_parquet}} to pyarrow native dataset filtering ({{{}pyarrow.dataset.field.isin(...){}}}). I guess that't the extent of\u00a0 guidance I can provide at the moment.\r\n\r\nAs this never happens with the files I create on my end, I suspect the vendor files might be corrupted. However, no matter how corrupt the file is, I don't believe the library should segfault.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=amiraliev",
                        "name": "amiraliev",
                        "key": "JIRAUSER294648",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER294648&avatarId=51540",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER294648&avatarId=51540",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER294648&avatarId=51540",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER294648&avatarId=51540"
                        },
                        "displayName": "Amir Aliev",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2022-10-19T12:46:17.735+0000",
                    "updated": "2022-10-19T12:46:17.735+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13477568/comment/17620346",
                    "id": "17620346",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=milesgranger",
                        "name": "milesgranger",
                        "key": "JIRAUSER293894",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34052",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34052",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34052",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34052"
                        },
                        "displayName": "Miles Granger",
                        "active": true,
                        "timeZone": "Europe/Oslo"
                    },
                    "body": "Thanks for the response and information. I fully agree pyarrow shouldn't segfault at all, and good to hear that it seems to go away after making that change.\u00a0\r\n\r\nHowever, you might appreciate debugging/reproducing this is helpful in providing a fix first. Should you have availability to supply some script which recreates a file and subsequent operation(s) which causes the segfault it would be greatly helpful and I'd be happy to take it forward to get a fix in.\r\n\r\nIs it okay if we close this for now and maybe re-open should the issue arise again? We could hammer out a test case for it then.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=milesgranger",
                        "name": "milesgranger",
                        "key": "JIRAUSER293894",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34052",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34052",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34052",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34052"
                        },
                        "displayName": "Miles Granger",
                        "active": true,
                        "timeZone": "Europe/Oslo"
                    },
                    "created": "2022-10-19T12:55:32.313+0000",
                    "updated": "2022-10-19T12:55:32.313+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13477568/comment/17620347",
                    "id": "17620347",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=amiraliev",
                        "name": "amiraliev",
                        "key": "JIRAUSER294648",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER294648&avatarId=51540",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER294648&avatarId=51540",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER294648&avatarId=51540",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER294648&avatarId=51540"
                        },
                        "displayName": "Amir Aliev",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Yes that's fine with me, thank you.\n\n\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=amiraliev",
                        "name": "amiraliev",
                        "key": "JIRAUSER294648",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER294648&avatarId=51540",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER294648&avatarId=51540",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER294648&avatarId=51540",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER294648&avatarId=51540"
                        },
                        "displayName": "Amir Aliev",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2022-10-19T12:59:00.014+0000",
                    "updated": "2022-10-19T12:59:00.014+0000"
                }
            ],
            "maxResults": 4,
            "total": 4,
            "startAt": 0
        },
        "customfield_12311820": "0|z17vw0:",
        "customfield_12314139": null
    }
}