{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13183624",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624",
    "key": "ARROW-3187",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343066",
                "id": "12343066",
                "description": "",
                "name": "0.11.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-10-08"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=guoyuhong85",
            "name": "guoyuhong85",
            "key": "guoyuhong85",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=guoyuhong85&avatarId=36251",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=guoyuhong85&avatarId=36251",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=guoyuhong85&avatarId=36251",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=guoyuhong85&avatarId=36251"
            },
            "displayName": "Yuhong Guo",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=guoyuhong85",
            "name": "guoyuhong85",
            "key": "guoyuhong85",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=guoyuhong85&avatarId=36251",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=guoyuhong85&avatarId=36251",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=guoyuhong85&avatarId=36251",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=guoyuhong85&avatarId=36251"
            },
            "displayName": "Yuhong Guo",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=guoyuhong85",
            "name": "guoyuhong85",
            "key": "guoyuhong85",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=guoyuhong85&avatarId=36251",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=guoyuhong85&avatarId=36251",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=guoyuhong85&avatarId=36251",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=guoyuhong85&avatarId=36251"
            },
            "displayName": "Yuhong Guo",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 27600,
            "total": 27600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 27600,
            "total": 27600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3187/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 50,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142170",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "guoyuhong opened a new pull request #2522: [ARROW-3187] [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522\n \n \n   1. `glog` provides richer information.\r\n   2. `glog` can print good call stack while crashing, which is very helpful for debugging.\r\n   3. Make logging pluggable with `glog` or original log using a macro. Users can enable/disable `glog` using the cmake option `ARROW_USE_GLOG`.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-07T12:48:30.133+0000",
                    "updated": "2018-09-07T12:48:30.133+0000",
                    "started": "2018-09-07T12:48:30.133+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142170",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142268",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2522: [ARROW-3187] [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216046306\n \n \n\n ##########\n File path: cpp/cmake_modules/ThirdpartyToolchain.cmake\n ##########\n @@ -1251,3 +1251,43 @@ if (THRIFT_VENDORED)\n endif()\n \n endif()  # ARROW_HIVESERVER2\n+\n+if(ARROW_USE_GLOG)\n+  message(STATUS \"Starting to build glog\")\n+  set(GLOG_VERSION \"0.3.5\")\n \n Review comment:\n   This needs to go in thirdparty/versions.txt. Can you add glog to https://github.com/apache/arrow/blob/master/cpp/thirdparty/download_dependencies.sh and verify that the project can be built offline?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-07T18:25:48.228+0000",
                    "updated": "2018-09-07T18:25:48.228+0000",
                    "started": "2018-09-07T18:25:48.227+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142268",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142269",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2522: [ARROW-3187] [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216047271\n \n \n\n ##########\n File path: cpp/src/arrow/util/logging.cc\n ##########\n @@ -0,0 +1,187 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+#include \"arrow/util/logging.h\"\n+\n+#ifndef _WIN32\n+#include <execinfo.h>\n+#endif\n+#include <cstdlib>\n+#include <iostream>\n+\n+#ifdef ARROW_USE_GLOG\n+#include \"glog/logging.h\"\n+#endif\n+\n+namespace arrow {\n+\n+// This is the default implementation of arrow log,\n+// which is independent of any libs.\n+class CerrLog {\n+ public:\n+  explicit CerrLog(ArrowLogLevel severity) : severity_(severity), has_logged_(false) {}\n+\n+  virtual ~CerrLog() {\n+    if (has_logged_) {\n+      std::cerr << std::endl;\n+    }\n+    if (severity_ == ArrowLogLevel::FATAL) {\n+      PrintBackTrace();\n+      std::abort();\n+    }\n+  }\n+\n+  std::ostream& Stream() {\n+    has_logged_ = true;\n+    return std::cerr;\n+  }\n+\n+  template <class T>\n+  CerrLog& operator<<(const T& t) {\n+    if (severity_ != ArrowLogLevel::DEBUG) {\n+      has_logged_ = true;\n+      std::cerr << t;\n+    }\n+    return *this;\n+  }\n+\n+ protected:\n+  const ArrowLogLevel severity_;\n+  bool has_logged_;\n+\n+  void PrintBackTrace() {\n+#if defined(_EXECINFO_H) || !defined(_WIN32)\n+    void* buffer[255];\n+    const int calls = backtrace(buffer, sizeof(buffer) / sizeof(void*));\n+    backtrace_symbols_fd(buffer, calls, 1);\n+#endif\n+  }\n+};\n+\n+#ifdef ARROW_USE_GLOG\n+typedef google::LogMessage LoggingProvider;\n+#else\n+typedef arrow::CerrLog LoggingProvider;\n+#endif\n+\n+ArrowLogLevel ArrowLog::severity_threshold_ = ArrowLogLevel::INFO;\n+std::unique_ptr<char[]> ArrowLog::app_name_;\n \n Review comment:\n   Is there a preference for `char[]` here over `std::string`?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-07T18:25:48.230+0000",
                    "updated": "2018-09-07T18:25:48.230+0000",
                    "started": "2018-09-07T18:25:48.230+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142269",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142270",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2522: [ARROW-3187] [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216046274\n \n \n\n ##########\n File path: cpp/cmake_modules/ThirdpartyToolchain.cmake\n ##########\n @@ -1251,3 +1251,43 @@ if (THRIFT_VENDORED)\n endif()\n \n endif()  # ARROW_HIVESERVER2\n+\n+if(ARROW_USE_GLOG)\n+  message(STATUS \"Starting to build glog\")\n+  set(GLOG_VERSION \"0.3.5\")\n+  set(GLOG_CMAKE_CXX_FLAGS \"${EP_CXX_FLAGS} -fPIC\")\n+  if(APPLE)\n+    # If we don't set this flag, the binary built with 10.13 cannot be used in 10.12.\n+    set(GLOG_CMAKE_CXX_FLAGS \"${GLOG_CMAKE_CXX_FLAGS} -mmacosx-version-min=10.12\")\n+  endif()\n+\n+  set(GLOG_URL \"https://github.com/google/glog/archive/v${GLOG_VERSION}.tar.gz\")\n \n Review comment:\n   Please use the same convention as the other thirdparty EP's so that glog can also be built in offline mode\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-07T18:25:48.321+0000",
                    "updated": "2018-09-07T18:25:48.321+0000",
                    "started": "2018-09-07T18:25:48.320+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142270",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142271",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2522: [ARROW-3187] [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216046097\n \n \n\n ##########\n File path: cpp/CMakeLists.txt\n ##########\n @@ -255,6 +255,10 @@ Pass multiple labels by dividing with semicolons\")\n     \"If off, 'quiet' flags will be passed to linting tools\"\n     OFF)\n \n+  option(ARROW_USE_GLOG\n+    \"Build the Plasma logging system using glog\"\n \n Review comment:\n   Maybe \"Build libraries with glog support for pluggable logging\"?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-07T18:25:48.321+0000",
                    "updated": "2018-09-07T18:25:48.321+0000",
                    "started": "2018-09-07T18:25:48.320+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142271",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142272",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2522: [ARROW-3187] [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216046958\n \n \n\n ##########\n File path: cpp/src/arrow/util/logging.cc\n ##########\n @@ -0,0 +1,187 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+#include \"arrow/util/logging.h\"\n+\n+#ifndef _WIN32\n+#include <execinfo.h>\n+#endif\n+#include <cstdlib>\n+#include <iostream>\n+\n+#ifdef ARROW_USE_GLOG\n+#include \"glog/logging.h\"\n+#endif\n+\n+namespace arrow {\n+\n+// This is the default implementation of arrow log,\n+// which is independent of any libs.\n+class CerrLog {\n+ public:\n+  explicit CerrLog(ArrowLogLevel severity) : severity_(severity), has_logged_(false) {}\n+\n+  virtual ~CerrLog() {\n+    if (has_logged_) {\n+      std::cerr << std::endl;\n+    }\n+    if (severity_ == ArrowLogLevel::FATAL) {\n+      PrintBackTrace();\n+      std::abort();\n+    }\n+  }\n+\n+  std::ostream& Stream() {\n+    has_logged_ = true;\n+    return std::cerr;\n+  }\n+\n+  template <class T>\n+  CerrLog& operator<<(const T& t) {\n+    if (severity_ != ArrowLogLevel::DEBUG) {\n+      has_logged_ = true;\n+      std::cerr << t;\n+    }\n+    return *this;\n+  }\n+\n+ protected:\n+  const ArrowLogLevel severity_;\n+  bool has_logged_;\n+\n+  void PrintBackTrace() {\n \n Review comment:\n   Is this new code or did it come from somewhere else?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-07T18:25:48.321+0000",
                    "updated": "2018-09-07T18:25:48.321+0000",
                    "started": "2018-09-07T18:25:48.321+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142272",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142273",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2522: [ARROW-3187] [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216046440\n \n \n\n ##########\n File path: cpp/cmake_modules/ThirdpartyToolchain.cmake\n ##########\n @@ -1251,3 +1251,43 @@ if (THRIFT_VENDORED)\n endif()\n \n endif()  # ARROW_HIVESERVER2\n+\n+if(ARROW_USE_GLOG)\n+  message(STATUS \"Starting to build glog\")\n+  set(GLOG_VERSION \"0.3.5\")\n+  set(GLOG_CMAKE_CXX_FLAGS \"${EP_CXX_FLAGS} -fPIC\")\n+  if(APPLE)\n+    # If we don't set this flag, the binary built with 10.13 cannot be used in 10.12.\n+    set(GLOG_CMAKE_CXX_FLAGS \"${GLOG_CMAKE_CXX_FLAGS} -mmacosx-version-min=10.12\")\n+  endif()\n+\n+  set(GLOG_URL \"https://github.com/google/glog/archive/v${GLOG_VERSION}.tar.gz\")\n+  set(GLOG_PREFIX \"${CMAKE_CURRENT_BINARY_DIR}/glog_ep/src/glog_ep-install\")\n+  set(GLOG_HOME \"${GLOG_PREFIX}\")\n+  set(GLOG_INCLUDE_DIR \"${GLOG_PREFIX}/include\")\n+  set(GLOG_STATIC_LIB \"${GLOG_PREFIX}/lib/libglog.a\")\n+\n+  set(GLOG_CMAKE_ARGS -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}\n+                        -DCMAKE_INSTALL_PREFIX=${GLOG_PREFIX}\n+                        -DBUILD_SHARED_LIBS=OFF\n+                        -DBUILD_TESTING=OFF\n+                        -DWITH_GFLAGS=OFF\n+                        -DCMAKE_CXX_FLAGS_${UPPERCASE_BUILD_TYPE}=${GLOG_CMAKE_CXX_FLAGS}\n+                        -DCMAKE_C_FLAGS_${UPPERCASE_BUILD_TYPE}=${EP_C_FLAGS}\n+                        -DCMAKE_CXX_FLAGS=${GLOG_CMAKE_CXX_FLAGS})\n+\n+  ExternalProject_Add(glog_ep\n \n Review comment:\n   Can you add support for toolchain glog (and `$GLOG_HOME` env variable like the other third party libraries)? \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-07T18:25:48.396+0000",
                    "updated": "2018-09-07T18:25:48.396+0000",
                    "started": "2018-09-07T18:25:48.396+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142273",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142274",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2522: [ARROW-3187] [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216045728\n \n \n\n ##########\n File path: cpp/src/arrow/util/logging.h\n ##########\n @@ -62,30 +51,30 @@ namespace arrow {\n #ifdef NDEBUG\n #define ARROW_DFATAL ARROW_WARNING\n \n-#define DCHECK(condition)      \\\n-  ARROW_IGNORE_EXPR(condition) \\\n-  while (false) ::arrow::internal::NullLog()\n-#define DCHECK_OK(status)   \\\n-  ARROW_IGNORE_EXPR(status) \\\n-  while (false) ::arrow::internal::NullLog()\n+#define DCHECK(condition)       \\\n+  ARROW_IGNORE_EXPR(condition); \\\n+  while (false) ::arrow::ArrowLogBase()\n+#define DCHECK_OK(status)    \\\n+  ARROW_IGNORE_EXPR(status); \\\n+  while (false) ::arrow::ArrowLogBase()\n #define DCHECK_EQ(val1, val2) \\\n-  ARROW_IGNORE_EXPR(val1)     \\\n-  while (false) ::arrow::internal::NullLog()\n+  ARROW_IGNORE_EXPR(val1);    \\\n+  while (false) ::arrow::ArrowLogBase()\n #define DCHECK_NE(val1, val2) \\\n-  ARROW_IGNORE_EXPR(val1)     \\\n-  while (false) ::arrow::internal::NullLog()\n+  ARROW_IGNORE_EXPR(val1);    \\\n+  while (false) ::arrow::ArrowLogBase()\n #define DCHECK_LE(val1, val2) \\\n-  ARROW_IGNORE_EXPR(val1)     \\\n-  while (false) ::arrow::internal::NullLog()\n+  ARROW_IGNORE_EXPR(val1);    \\\n+  while (false) ::arrow::ArrowLogBase()\n #define DCHECK_LT(val1, val2) \\\n-  ARROW_IGNORE_EXPR(val1)     \\\n-  while (false) ::arrow::internal::NullLog()\n+  ARROW_IGNORE_EXPR(val1);    \\\n+  while (false) ::arrow::ArrowLogBase()\n #define DCHECK_GE(val1, val2) \\\n-  ARROW_IGNORE_EXPR(val1)     \\\n-  while (false) ::arrow::internal::NullLog()\n+  ARROW_IGNORE_EXPR(val1);    \\\n+  while (false) ::arrow::ArrowLogBase()\n #define DCHECK_GT(val1, val2) \\\n-  ARROW_IGNORE_EXPR(val1)     \\\n-  while (false) ::arrow::internal::NullLog()\n+  ARROW_IGNORE_EXPR(val1);    \\\n+  while (false) ::arrow::ArrowLogBase()\n \n Review comment:\n   Does this get optimized away in release builds? The prior `NullLog` did, so this is important\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-07T18:25:48.489+0000",
                    "updated": "2018-09-07T18:25:48.489+0000",
                    "started": "2018-09-07T18:25:48.488+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142274",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142425",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "guoyuhong commented on a change in pull request #2522: ARROW-3187: [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216126038\n \n \n\n ##########\n File path: cpp/src/arrow/util/logging.cc\n ##########\n @@ -0,0 +1,187 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+#include \"arrow/util/logging.h\"\n+\n+#ifndef _WIN32\n+#include <execinfo.h>\n+#endif\n+#include <cstdlib>\n+#include <iostream>\n+\n+#ifdef ARROW_USE_GLOG\n+#include \"glog/logging.h\"\n+#endif\n+\n+namespace arrow {\n+\n+// This is the default implementation of arrow log,\n+// which is independent of any libs.\n+class CerrLog {\n+ public:\n+  explicit CerrLog(ArrowLogLevel severity) : severity_(severity), has_logged_(false) {}\n+\n+  virtual ~CerrLog() {\n+    if (has_logged_) {\n+      std::cerr << std::endl;\n+    }\n+    if (severity_ == ArrowLogLevel::FATAL) {\n+      PrintBackTrace();\n+      std::abort();\n+    }\n+  }\n+\n+  std::ostream& Stream() {\n+    has_logged_ = true;\n+    return std::cerr;\n+  }\n+\n+  template <class T>\n+  CerrLog& operator<<(const T& t) {\n+    if (severity_ != ArrowLogLevel::DEBUG) {\n+      has_logged_ = true;\n+      std::cerr << t;\n+    }\n+    return *this;\n+  }\n+\n+ protected:\n+  const ArrowLogLevel severity_;\n+  bool has_logged_;\n+\n+  void PrintBackTrace() {\n \n Review comment:\n   It is used in [ray](https://github.com/ray-project/ray/blob/master/src/ray/util/logging.cc#L47-L50). And it can print out the call stack as following.\r\n   ```\r\n   /Users/yuhguo/git/arrow/cpp/src/arrow/util/logging-test.cc:63:  Check failed: false This is a example of ARROW_CHECK(false)\r\n   0   logging-test                        0x000000010407b614 _ZN5arrow7CerrLog14PrintBackTraceEv + 52\r\n   1   logging-test                        0x000000010407b5b6 _ZN5arrow7CerrLogD2Ev + 118\r\n   2   logging-test                        0x000000010407b505 _ZN5arrow7CerrLogD1Ev + 21\r\n   3   logging-test                        0x000000010407b529 _ZN5arrow7CerrLogD0Ev + 25\r\n   4   logging-test                        0x000000010407b3c0 _ZN5arrow8ArrowLogD2Ev + 80\r\n   5   logging-test                        0x000000010407b3f5 _ZN5arrow8ArrowLogD1Ev + 21\r\n   6   logging-test                        0x0000000104078c15 _ZN5arrow33PrintLogTest_LogTestWithInit_Test8TestBodyEv + 549\r\n   7   logging-test                        0x00000001040e2d7e _ZN7testing8internal38HandleSehExceptionsInMethodIfSupportedINS_4TestEvEET0_PT_MS4_FS3_vEPKc + 126\r\n   8   logging-test                        0x000000010409862b _ZN7testing8internal35HandleExceptionsInMethodIfSupportedINS_4TestEvEET0_PT_MS4_FS3_vEPKc + 123\r\n   9   logging-test                        0x0000000104098556 _ZN7testing4Test3RunEv + 198\r\n   10  logging-test                        0x000000010409a19d _ZN7testing8TestInfo3RunEv + 221\r\n   11  logging-test                        0x000000010409ba3c _ZN7testing8TestCase3RunEv + 236\r\n   12  logging-test                        0x00000001040aaa1c _ZN7testing8internal12UnitTestImpl11RunAllTestsEv + 908\r\n   13  logging-test                        0x00000001040e6fbe _ZN7testing8internal38HandleSehExceptionsInMethodIfSupportedINS0_12UnitTestImplEbEET0_PT_MS4_FS3_vEPKc + 126\r\n   14  logging-test                        0x00000001040aa42b _ZN7testing8internal35HandleExceptionsInMethodIfSupportedINS0_12UnitTestImplEbEET0_PT_MS4_FS3_vEPKc + 123\r\n   15  logging-test                        0x00000001040aa2dc _ZN7testing8UnitTest3RunEv + 412\r\n   16  logging-test                        0x00000001040797a1 _Z13RUN_ALL_TESTSv + 17\r\n   17  logging-test                        0x000000010407977b main + 43\r\n   18  libdyld.dylib                       0x00007fff77d2f015 start + 1\r\n   19  ???                                 0x0000000000000001 0x0 + 1\r\n   Abort trap: 6\r\n   ```\r\n   However, `glog` result is more readable.\r\n   ```\r\n   F0908 17:17:45.827680 2961466240 logging-test.cc:63]  Check failed: false This is a example of ARROW_CHECK(false)\r\n   *** Check failure stack trace: ***\r\n       @        0x10af2b58a  google::LogMessage::Fail()\r\n       @        0x10af2961e  google::LogMessage::SendToLog()\r\n       @        0x10af2a22f  google::LogMessage::Flush()\r\n       @        0x10af2a069  google::LogMessage::~LogMessage()\r\n       @        0x10af2a325  google::LogMessage::~LogMessage()\r\n       @        0x10af23cbc  arrow::ArrowLog::~ArrowLog()\r\n       @        0x10af23d05  arrow::ArrowLog::~ArrowLog()\r\n       @        0x10af20745  arrow::PrintLogTest_LogTestWithInit_Test::TestBody()\r\n       @        0x10afa6a9e  testing::internal::HandleSehExceptionsInMethodIfSupported<>()\r\n       @        0x10af5c47b  testing::internal::HandleExceptionsInMethodIfSupported<>()\r\n       @        0x10af5c3a6  testing::Test::Run()\r\n       @        0x10af5dfed  testing::TestInfo::Run()\r\n       @        0x10af5f88c  testing::TestCase::Run()\r\n       @        0x10af6e86c  testing::internal::UnitTestImpl::RunAllTests()\r\n       @        0x10afaacde  testing::internal::HandleSehExceptionsInMethodIfSupported<>()\r\n       @        0x10af6e27b  testing::internal::HandleExceptionsInMethodIfSupported<>()\r\n       @        0x10af6e12c  testing::UnitTest::Run()\r\n       @        0x10af212d1  RUN_ALL_TESTS()\r\n       @        0x10af212ab  main\r\n   Abort trap: 6\r\n   ```\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-08T09:27:39.402+0000",
                    "updated": "2018-09-08T09:27:39.402+0000",
                    "started": "2018-09-08T09:27:39.401+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142425",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142451",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2522: ARROW-3187: [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216131972\n \n \n\n ##########\n File path: cpp/src/arrow/util/logging.cc\n ##########\n @@ -0,0 +1,187 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+#include \"arrow/util/logging.h\"\n+\n+#ifndef _WIN32\n+#include <execinfo.h>\n+#endif\n+#include <cstdlib>\n+#include <iostream>\n+\n+#ifdef ARROW_USE_GLOG\n+#include \"glog/logging.h\"\n+#endif\n+\n+namespace arrow {\n+\n+// This is the default implementation of arrow log,\n+// which is independent of any libs.\n+class CerrLog {\n+ public:\n+  explicit CerrLog(ArrowLogLevel severity) : severity_(severity), has_logged_(false) {}\n+\n+  virtual ~CerrLog() {\n+    if (has_logged_) {\n+      std::cerr << std::endl;\n+    }\n+    if (severity_ == ArrowLogLevel::FATAL) {\n+      PrintBackTrace();\n+      std::abort();\n+    }\n+  }\n+\n+  std::ostream& Stream() {\n+    has_logged_ = true;\n+    return std::cerr;\n+  }\n+\n+  template <class T>\n+  CerrLog& operator<<(const T& t) {\n+    if (severity_ != ArrowLogLevel::DEBUG) {\n+      has_logged_ = true;\n+      std::cerr << t;\n+    }\n+    return *this;\n+  }\n+\n+ protected:\n+  const ArrowLogLevel severity_;\n+  bool has_logged_;\n+\n+  void PrintBackTrace() {\n \n Review comment:\n   OK, please be careful about copy-pasting code into this project from other projects. IP provenance and licenses must be noted\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-08T14:32:46.906+0000",
                    "updated": "2018-09-08T14:32:46.906+0000",
                    "started": "2018-09-08T14:32:46.906+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142451",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142458",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "guoyuhong commented on a change in pull request #2522: ARROW-3187: [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216132546\n \n \n\n ##########\n File path: cpp/src/arrow/util/logging.cc\n ##########\n @@ -0,0 +1,187 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+#include \"arrow/util/logging.h\"\n+\n+#ifndef _WIN32\n+#include <execinfo.h>\n+#endif\n+#include <cstdlib>\n+#include <iostream>\n+\n+#ifdef ARROW_USE_GLOG\n+#include \"glog/logging.h\"\n+#endif\n+\n+namespace arrow {\n+\n+// This is the default implementation of arrow log,\n+// which is independent of any libs.\n+class CerrLog {\n+ public:\n+  explicit CerrLog(ArrowLogLevel severity) : severity_(severity), has_logged_(false) {}\n+\n+  virtual ~CerrLog() {\n+    if (has_logged_) {\n+      std::cerr << std::endl;\n+    }\n+    if (severity_ == ArrowLogLevel::FATAL) {\n+      PrintBackTrace();\n+      std::abort();\n+    }\n+  }\n+\n+  std::ostream& Stream() {\n+    has_logged_ = true;\n+    return std::cerr;\n+  }\n+\n+  template <class T>\n+  CerrLog& operator<<(const T& t) {\n+    if (severity_ != ArrowLogLevel::DEBUG) {\n+      has_logged_ = true;\n+      std::cerr << t;\n+    }\n+    return *this;\n+  }\n+\n+ protected:\n+  const ArrowLogLevel severity_;\n+  bool has_logged_;\n+\n+  void PrintBackTrace() {\n \n Review comment:\n   OK. Thanks for the reminding. I will work on the rest tomorrow.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-08T14:57:54.651+0000",
                    "updated": "2018-09-08T14:57:54.651+0000",
                    "started": "2018-09-08T14:57:54.650+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142458",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142552",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "guoyuhong commented on a change in pull request #2522: ARROW-3187: [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216188242\n \n \n\n ##########\n File path: cpp/src/arrow/util/logging.cc\n ##########\n @@ -0,0 +1,187 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+#include \"arrow/util/logging.h\"\n+\n+#ifndef _WIN32\n+#include <execinfo.h>\n+#endif\n+#include <cstdlib>\n+#include <iostream>\n+\n+#ifdef ARROW_USE_GLOG\n+#include \"glog/logging.h\"\n+#endif\n+\n+namespace arrow {\n+\n+// This is the default implementation of arrow log,\n+// which is independent of any libs.\n+class CerrLog {\n+ public:\n+  explicit CerrLog(ArrowLogLevel severity) : severity_(severity), has_logged_(false) {}\n+\n+  virtual ~CerrLog() {\n+    if (has_logged_) {\n+      std::cerr << std::endl;\n+    }\n+    if (severity_ == ArrowLogLevel::FATAL) {\n+      PrintBackTrace();\n+      std::abort();\n+    }\n+  }\n+\n+  std::ostream& Stream() {\n+    has_logged_ = true;\n+    return std::cerr;\n+  }\n+\n+  template <class T>\n+  CerrLog& operator<<(const T& t) {\n+    if (severity_ != ArrowLogLevel::DEBUG) {\n+      has_logged_ = true;\n+      std::cerr << t;\n+    }\n+    return *this;\n+  }\n+\n+ protected:\n+  const ArrowLogLevel severity_;\n+  bool has_logged_;\n+\n+  void PrintBackTrace() {\n \n Review comment:\n   Ray's license is also Apache 2.0. Do I need to provide where I copied the code?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T03:05:22.704+0000",
                    "updated": "2018-09-10T03:05:22.704+0000",
                    "started": "2018-09-10T03:05:22.704+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142552",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142554",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "guoyuhong commented on a change in pull request #2522: ARROW-3187: [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216188501\n \n \n\n ##########\n File path: cpp/src/arrow/util/logging.cc\n ##########\n @@ -0,0 +1,187 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+#include \"arrow/util/logging.h\"\n+\n+#ifndef _WIN32\n+#include <execinfo.h>\n+#endif\n+#include <cstdlib>\n+#include <iostream>\n+\n+#ifdef ARROW_USE_GLOG\n+#include \"glog/logging.h\"\n+#endif\n+\n+namespace arrow {\n+\n+// This is the default implementation of arrow log,\n+// which is independent of any libs.\n+class CerrLog {\n+ public:\n+  explicit CerrLog(ArrowLogLevel severity) : severity_(severity), has_logged_(false) {}\n+\n+  virtual ~CerrLog() {\n+    if (has_logged_) {\n+      std::cerr << std::endl;\n+    }\n+    if (severity_ == ArrowLogLevel::FATAL) {\n+      PrintBackTrace();\n+      std::abort();\n+    }\n+  }\n+\n+  std::ostream& Stream() {\n+    has_logged_ = true;\n+    return std::cerr;\n+  }\n+\n+  template <class T>\n+  CerrLog& operator<<(const T& t) {\n+    if (severity_ != ArrowLogLevel::DEBUG) {\n+      has_logged_ = true;\n+      std::cerr << t;\n+    }\n+    return *this;\n+  }\n+\n+ protected:\n+  const ArrowLogLevel severity_;\n+  bool has_logged_;\n+\n+  void PrintBackTrace() {\n \n Review comment:\n   Actually, I treat Ray and Plasma as the same project... Is anything that I need to take care if I want to copy the code?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T03:08:03.263+0000",
                    "updated": "2018-09-10T03:08:03.263+0000",
                    "started": "2018-09-10T03:08:03.262+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142554",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142586",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "guoyuhong commented on a change in pull request #2522: ARROW-3187: [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216203351\n \n \n\n ##########\n File path: cpp/cmake_modules/ThirdpartyToolchain.cmake\n ##########\n @@ -1251,3 +1251,43 @@ if (THRIFT_VENDORED)\n endif()\n \n endif()  # ARROW_HIVESERVER2\n+\n+if(ARROW_USE_GLOG)\n+  message(STATUS \"Starting to build glog\")\n+  set(GLOG_VERSION \"0.3.5\")\n \n Review comment:\n   I can build `glog` offline now.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T05:45:54.297+0000",
                    "updated": "2018-09-10T05:45:54.297+0000",
                    "started": "2018-09-10T05:45:54.296+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142586",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142599",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "guoyuhong commented on a change in pull request #2522: ARROW-3187: [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216211628\n \n \n\n ##########\n File path: cpp/src/arrow/util/logging.h\n ##########\n @@ -62,30 +51,30 @@ namespace arrow {\n #ifdef NDEBUG\n #define ARROW_DFATAL ARROW_WARNING\n \n-#define DCHECK(condition)      \\\n-  ARROW_IGNORE_EXPR(condition) \\\n-  while (false) ::arrow::internal::NullLog()\n-#define DCHECK_OK(status)   \\\n-  ARROW_IGNORE_EXPR(status) \\\n-  while (false) ::arrow::internal::NullLog()\n+#define DCHECK(condition)       \\\n+  ARROW_IGNORE_EXPR(condition); \\\n+  while (false) ::arrow::ArrowLogBase()\n+#define DCHECK_OK(status)    \\\n+  ARROW_IGNORE_EXPR(status); \\\n+  while (false) ::arrow::ArrowLogBase()\n #define DCHECK_EQ(val1, val2) \\\n-  ARROW_IGNORE_EXPR(val1)     \\\n-  while (false) ::arrow::internal::NullLog()\n+  ARROW_IGNORE_EXPR(val1);    \\\n+  while (false) ::arrow::ArrowLogBase()\n #define DCHECK_NE(val1, val2) \\\n-  ARROW_IGNORE_EXPR(val1)     \\\n-  while (false) ::arrow::internal::NullLog()\n+  ARROW_IGNORE_EXPR(val1);    \\\n+  while (false) ::arrow::ArrowLogBase()\n #define DCHECK_LE(val1, val2) \\\n-  ARROW_IGNORE_EXPR(val1)     \\\n-  while (false) ::arrow::internal::NullLog()\n+  ARROW_IGNORE_EXPR(val1);    \\\n+  while (false) ::arrow::ArrowLogBase()\n #define DCHECK_LT(val1, val2) \\\n-  ARROW_IGNORE_EXPR(val1)     \\\n-  while (false) ::arrow::internal::NullLog()\n+  ARROW_IGNORE_EXPR(val1);    \\\n+  while (false) ::arrow::ArrowLogBase()\n #define DCHECK_GE(val1, val2) \\\n-  ARROW_IGNORE_EXPR(val1)     \\\n-  while (false) ::arrow::internal::NullLog()\n+  ARROW_IGNORE_EXPR(val1);    \\\n+  while (false) ::arrow::ArrowLogBase()\n #define DCHECK_GT(val1, val2) \\\n-  ARROW_IGNORE_EXPR(val1)     \\\n-  while (false) ::arrow::internal::NullLog()\n+  ARROW_IGNORE_EXPR(val1);    \\\n+  while (false) ::arrow::ArrowLogBase()\n \n Review comment:\n   Since there is `while (false)` ahead of `::arrow::ArrowLogBase()`, if `NDEBUG` is defined, this statement will not take effect (optimized out by the compiler). Is this the optimization?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T06:39:24.104+0000",
                    "updated": "2018-09-10T06:39:24.104+0000",
                    "started": "2018-09-10T06:39:24.103+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142599",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142668",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "guoyuhong commented on issue #2522: ARROW-3187: [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#issuecomment-419879605\n \n \n   To pass the MSVC compiler, I changed enum `ERROR` to `ARROW_ERROR`.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T11:21:39.349+0000",
                    "updated": "2018-09-10T11:21:39.349+0000",
                    "started": "2018-09-10T11:21:39.349+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142668",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142671",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "guoyuhong commented on issue #2522: ARROW-3187: [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#issuecomment-419880240\n \n \n   [` check_arrow_visibility.sh`](https://api.travis-ci.org/v3/job/426629887/log.txt) gives out an error message:\r\n   ```\r\n   0m00000000002c3dc0 T _fini\r\n   00000000000840e0 T _init\r\n   00000000001cf2cf T void google::MakeCheckOpValueString<signed char>(std::ostream*, signed char const&)\r\n   00000000001cf242 T void google::MakeCheckOpValueString<char>(std::ostream*, char const&)\r\n   00000000001cf35c T void google::MakeCheckOpValueString<unsigned char>(std::ostream*, unsigned char const&)\r\n   ```\r\n   @wesm Do you know how to make the glog functions not exposed to outside users?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T11:24:36.263+0000",
                    "updated": "2018-09-10T11:24:36.263+0000",
                    "started": "2018-09-10T11:24:36.263+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142671",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142713",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2522: ARROW-3187: [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#discussion_r216310174\n \n \n\n ##########\n File path: cpp/src/arrow/util/logging.cc\n ##########\n @@ -0,0 +1,187 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+#include \"arrow/util/logging.h\"\n+\n+#ifndef _WIN32\n+#include <execinfo.h>\n+#endif\n+#include <cstdlib>\n+#include <iostream>\n+\n+#ifdef ARROW_USE_GLOG\n+#include \"glog/logging.h\"\n+#endif\n+\n+namespace arrow {\n+\n+// This is the default implementation of arrow log,\n+// which is independent of any libs.\n+class CerrLog {\n+ public:\n+  explicit CerrLog(ArrowLogLevel severity) : severity_(severity), has_logged_(false) {}\n+\n+  virtual ~CerrLog() {\n+    if (has_logged_) {\n+      std::cerr << std::endl;\n+    }\n+    if (severity_ == ArrowLogLevel::FATAL) {\n+      PrintBackTrace();\n+      std::abort();\n+    }\n+  }\n+\n+  std::ostream& Stream() {\n+    has_logged_ = true;\n+    return std::cerr;\n+  }\n+\n+  template <class T>\n+  CerrLog& operator<<(const T& t) {\n+    if (severity_ != ArrowLogLevel::DEBUG) {\n+      has_logged_ = true;\n+      std::cerr << t;\n+    }\n+    return *this;\n+  }\n+\n+ protected:\n+  const ArrowLogLevel severity_;\n+  bool has_logged_;\n+\n+  void PrintBackTrace() {\n \n Review comment:\n   Ray is not part of the Apache Software Foundation, so you cannot copy-paste code without documenting it. The Ray license can be added to our base LICENSE.txt and please note in a comment when a piece of code came from some other project\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T12:57:10.310+0000",
                    "updated": "2018-09-10T12:57:10.310+0000",
                    "started": "2018-09-10T12:57:10.309+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142713",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142714",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #2522: ARROW-3187: [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#issuecomment-419902899\n \n \n   @guoyuhong see https://github.com/apache/arrow/blob/master/cpp/src/arrow/symbols.map\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T12:58:07.630+0000",
                    "updated": "2018-09-10T12:58:07.630+0000",
                    "started": "2018-09-10T12:58:07.629+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142714",
                    "issueId": "13183624"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/worklog/142772",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "guoyuhong commented on issue #2522: ARROW-3187: [Plasma] Make Plasma Log pluggable with glog\nURL: https://github.com/apache/arrow/pull/2522#issuecomment-419963806\n \n \n   @wesm In [`symbols.map`](https://github.com/apache/arrow/blob/master/cpp/src/arrow/symbols.map#L75), `google::*` is already in. But `check_arrow_visibility.sh` still complains. Do you have any ideas of why this happens? This is the first that I'm doing this thing...\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-10T15:53:53.270+0000",
                    "updated": "2018-09-10T15:53:53.270+0000",
                    "started": "2018-09-10T15:53:53.270+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142772",
                    "issueId": "13183624"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 27600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@2bf68119[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7143a981[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@9aaee11[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@65494104[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3d572879[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@710c33c0[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2f889196[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@66a402[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4f65097[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@14f4e1fa[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7f1bc6d3[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@4a682b86[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 27600,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Sep 19 01:47:11 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-09-19T01:47:11.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3187/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2018-09-07T12:37:15.000+0000",
        "updated": "2018-09-19T02:56:15.000+0000",
        "timeoriginalestimate": null,
        "description": "Make Plasma pluggable with glog using Macro.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "7h 40m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 27600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Plasma] Make Plasma Log pluggable with glog",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": "2018-09-14",
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183624/comment/16619967",
                    "id": "16619967",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 2522\n[https://github.com/apache/arrow/pull/2522]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-09-19T01:47:11.845+0000",
                    "updated": "2018-09-19T01:47:11.845+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|i3xub3:",
        "customfield_12314139": null
    }
}