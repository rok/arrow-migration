{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13113022",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022",
    "key": "ARROW-1753",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12341352",
                "id": "12341352",
                "name": "0.8.0",
                "archived": false,
                "released": true,
                "releaseDate": "2017-12-18"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=dhirschfeld",
            "name": "dhirschfeld",
            "key": "dhirschfeld",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dhirschfeld&avatarId=33438",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dhirschfeld&avatarId=33438",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dhirschfeld&avatarId=33438",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dhirschfeld&avatarId=33438"
            },
            "displayName": "Dave Hirschfeld",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1753/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@392e5ad6[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@22e81732[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@77db722[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@654e6178[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@b9be2d7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@32885d37[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@58a638e3[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@4ef5c72e[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1a2c097d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@6a3d9eea[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3b5c26e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@6319b981[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Oct 31 22:08:15 UTC 2017",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2017-10-31T18:11:26.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1753/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2017-10-30T13:44:41.000+0000",
        "updated": "2017-11-01T01:30:06.000+0000",
        "timeoriginalestimate": null,
        "description": "Copied from https://github.com/apache/arrow/issues/1269\r\n\r\nTo allow factoring out serialization code to a common base class it would be useful if register_type matches all subclasses rather than simply an exact match on the specific type.",
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python] Provide for matching subclasses with register_type in serialization context",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16225987",
                    "id": "16225987",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "dhirschfeld opened a new pull request #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272\n \n \n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-30T23:41:24.749+0000",
                    "updated": "2017-10-30T23:41:24.749+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16225998",
                    "id": "16225998",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "dhirschfeld commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340617592\n \n \n   ***xref:*** https://github.com/apache/arrow/issues/1269\r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-30T23:44:29.355+0000",
                    "updated": "2017-10-30T23:44:29.355+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226004",
                    "id": "16226004",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "dhirschfeld commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340618429\n \n \n   Looking into adding a test...\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-30T23:49:56.549+0000",
                    "updated": "2017-10-30T23:49:56.549+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226296",
                    "id": "16226296",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pcmoritz commented on a change in pull request #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#discussion_r147900299\n \n \n\n ##########\n File path: python/pyarrow/serialization.pxi\n ##########\n @@ -88,17 +88,26 @@ cdef class SerializationContext:\n             self.custom_deserializers[type_id] = custom_deserializer\n \n     def _serialize_callback(self, obj):\n-        if type(obj) not in self.type_to_type_id:\n+        FOUND = False\n \n Review comment:\n   Can you use camel_case naming convention for this? UPPER_CASE is typically constants.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T05:48:25.098+0000",
                    "updated": "2017-10-31T05:48:25.098+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226297",
                    "id": "16226297",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pcmoritz commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340667145\n \n \n   +1 The implementation of the deserialize_callback needs to be a little careful to return the right type for subclasses but I think this a good change and makes it more convenient for people to write serializers/deserializers.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T05:50:42.444+0000",
                    "updated": "2017-10-31T05:50:42.444+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226573",
                    "id": "16226573",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "dhirschfeld commented on a change in pull request #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#discussion_r147948595\n \n \n\n ##########\n File path: python/pyarrow/serialization.pxi\n ##########\n @@ -88,17 +88,26 @@ cdef class SerializationContext:\n             self.custom_deserializers[type_id] = custom_deserializer\n \n     def _serialize_callback(self, obj):\n-        if type(obj) not in self.type_to_type_id:\n+        FOUND = False\n \n Review comment:\n   Fixed and force-pushed\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T10:28:11.646+0000",
                    "updated": "2017-10-31T10:28:11.646+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226587",
                    "id": "16226587",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "dhirschfeld commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340723652\n \n \n   I haven't had any luck building pyarrow so it's a bit hard for me to write a decent test. I pushed what I have so we'll see what travis has to say about it...\r\n   \r\n   Given my difficulty with building I'm happy for a maintainer to take over, add commits and (force) push to this PR.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T10:38:19.963+0000",
                    "updated": "2017-10-31T10:38:19.963+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226603",
                    "id": "16226603",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "dhirschfeld commented on a change in pull request #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#discussion_r147954573\n \n \n\n ##########\n File path: python/pyarrow/tests/test_serialization.py\n ##########\n @@ -416,3 +416,22 @@ class TempClass(object):\n     with pytest.raises(pa.DeserializationCallbackError) as err:\n         serialized_object.deserialize(deserialization_context)\n     assert err.value.type_id == 20*b\"\\x00\"\n+\n+\n+def test_match_subclasses():\n+    # should be able to serialize/deserialize an instance\n+    # if a base class has been registered\n+    serialization_context = pa.SerializationContext()\n+    context.register_type(Foo, \"Foo\")\n+    context.register_type(Bar, \"Bar\")\n+    context.register_type(Baz, \"Baz\")\n+    context.register_type(Qux, \"Quz\")\n+\n+    subqux = SubQux()\n+    # should fallbact to Qux serializer\n+    serialized_object = pa.serialize(subqux, serialization_context)\n+\n+    reconstructed_object = serialized_object.deserialize(\n+        serialization_context\n+    )\n+    assert type(reconstructed_object) == Qux\n \n Review comment:\n   IIUC, without any special handling in [`_deserialize_callback`](https://github.com/dhirschfeld/arrow/blob/1fc2479cdd60493ebf5a8a4a8c556a63d121257f/python/pyarrow/serialization.pxi#L121) you'll lose the information about the particular subclass.\r\n   \r\n   I've punted on this for now because I'm not entirely sure how you could do this robustly in a generic fashion.\r\n   \r\n   In my own code I'm thinking of providing a custom deserializer and storing the subclass information in the serialized object but I'm not sure this is a good *general* solution.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T10:51:41.373+0000",
                    "updated": "2017-10-31T10:51:41.373+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226658",
                    "id": "16226658",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "dhirschfeld commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340738439\n \n \n   *Aside:* It seems to me there's no real need to special-case pickle:\r\n   ```python\r\n       def register_type(self, type_, type_id, pickle=False,\r\n                         custom_serializer=None, custom_deserializer=None):\r\n   ```\r\n   ...as it could easily be supported by simply passing:\r\n   ```python\r\n   custom_serializer = lambda obj: {\"data\": pickle.dumps(obj)}\r\n   custom_deserializer = lambda obj: pickle.loads(obj[\"data\"])\r\n   ```\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T11:46:35.387+0000",
                    "updated": "2017-10-31T11:46:35.387+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226670",
                    "id": "16226670",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "dhirschfeld commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340740645\n \n \n   Hmmm, not sure what's going on there:\r\n   ```\r\n   ____________________________ test_match_subclasses ____________________________\r\n       def test_match_subclasses():\r\n           # should be able to serialize/deserialize an instance\r\n           # if a base class has been registered\r\n           serialization_context = pa.SerializationContext()\r\n           serialization_context.register_type(Foo, \"Foo\")\r\n           serialization_context.register_type(Bar, \"Bar\")\r\n           serialization_context.register_type(Baz, \"Baz\")\r\n           serialization_context.register_type(Qux, \"Quz\")\r\n       \r\n           subqux = SubQux()\r\n           # should fallbact to Qux serializer\r\n   >       serialized_object = pa.serialize(subqux, serialization_context)\r\n   pyarrow\\tests\\test_serialization.py:432: \r\n   _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n   serialization.pxi:235: in pyarrow.lib.serialize\r\n       ???\r\n   _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n   >   ???\r\n   E   pyarrow.lib.SerializationCallbackError: pyarrow does not know how to serialize objects of type <class 'int'>.\r\n   error.pxi:98: SerializationCallbackError\r\n   ```\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T11:56:54.623+0000",
                    "updated": "2017-10-31T11:56:54.623+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226671",
                    "id": "16226671",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pcmoritz commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340740705\n \n \n   Thanks Dave! I think I know what is going on with the test, happy to fix it (basically the empty serialization context cannot serialize numpy arrays with dtype=object, this needs a custom registered callback like found in the default serialization context).\r\n   \r\n   I'm happy to fix it if you give me push access to your fork.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T11:57:14.449+0000",
                    "updated": "2017-10-31T11:57:14.449+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226676",
                    "id": "16226676",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "dhirschfeld commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340742069\n \n \n   @pcmoritz - the allow edits button is ticked:\r\n   ![image](https://user-images.githubusercontent.com/881019/32222957-1a225454-be87-11e7-8a2a-8489ab134483.png)\r\n   ...but I added you as a collaborator on my fork (you should have an invite?) in case that was required too.\r\n   \r\n   Thanks for the review, and taking up the slack on his PR!\r\n   \r\n   \r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T12:03:43.831+0000",
                    "updated": "2017-10-31T12:03:43.831+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226677",
                    "id": "16226677",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pcmoritz commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340742338\n \n \n   JIRA issue for the pickling: https://issues.apache.org/jira/browse/ARROW-1758\r\n   \r\n   Do you want to create a PR for it? I think it is even possible to do\r\n   \r\n   ```\r\n   custom_serializer = pickle.dumps\r\n   custom_deserializer = pickle.loads\r\n   ```\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T12:04:58.663+0000",
                    "updated": "2017-10-31T12:04:58.663+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226688",
                    "id": "16226688",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "dhirschfeld commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340745184\n \n \n   I might try to get it building first (Win64/py36) as it's pretty hard to do any real development if you can't test it. In case it rings any bells the errors I'm seeing are:\r\n   ```\r\n    C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\bin\\x86_amd64\\CL.exe /c \r\n       /I\"C:\\Miniconda3\\conda-bld\\pyarrow_1509440425653\\_h_env\\lib\\site-packages\\numpy\\core\\include\"\r\n       /I\"C:\\Miniconda3\\conda-bld\\pyarrow_1509440425653\\_h_env\\include\"\r\n       /I\"C:\\Miniconda3\\conda-bld\\pyarrow_1509440425653\\work\\python\\src\"\r\n       /I\"C:\\Miniconda3\\conda-bld\\pyarrow_1509440425653\\_h_env\\Library\\include\"\r\n       /nologo /W3 /WX- /O2 /Ob2 /D WIN32 /D _WINDOWS /D NDEBUG /D _CRT_SECURE_NO_WARNINGS /D ARROW_EXPORTING \r\n       /D \"CMAKE_INTDIR=\\\"Release\\\"\" /D lib_EXPORTS /D _WINDLL /D _MBCS /Gm- /EHsc /MD /GS /fp:precise /Zc:wchar_t /Zc:forScope /Zc:inline /GR \r\n       /Fo\"lib.dir\\Release\\\\\" /Fd\"lib.dir\\Release\\vc140.pdb\" /Gd /TP /wd4190 /wd4293 /wd4800\r\n       /errorReport:queue \"C:\\Miniconda3\\conda-bld\\pyarrow_1509440425653\\work\\python\\build\\temp.win-amd64-3.6\\Release\\lib.cxx\"\r\n     lib.cxx\r\n   \r\n   C:\\Miniconda3\\conda-bld\\pyarrow_1509440425653\\work\\python\\build\\temp.win-amd64-3.6\\Release\\lib.cxx(30527): error C2039: 'NdarrayToArrow': is not a member of 'arrow::py'\r\n     [C:\\Miniconda3\\conda-bld\\pyarrow_1509440425653\\work\\python\\build\\temp.win-amd64-3.6\\Release\\lib.vcxproj]\r\n      C:\\Miniconda3\\conda-bld\\pyarrow_1509440425653\\_h_env\\Library\\include\\arrow/python/pandas_to_arrow.h(37): note: see declaration of 'arrow::py'\r\n   \r\n   C:\\Miniconda3\\conda-bld\\pyarrow_1509440425653\\work\\python\\build\\temp.win-amd64-3.6\\Release\\lib.cxx(32515): error C2039: 'allow_time_truncate': is not a member of 'arrow::compute::CastOptions'\r\n     [C:\\Miniconda3\\conda-bld\\pyarrow_1509440425653\\work\\python\\build\\temp.win-amd64-3.6\\Release\\lib.vcxproj]\r\n     C:\\Miniconda3\\conda-bld\\pyarrow_1509440425653\\_h_env\\Library\\include\\arrow/compute/cast.h(36): note: see declaration of 'arrow::compute::CastOptions'\r\n   \r\n   C:\\Miniconda3\\conda-bld\\pyarrow_1509440425653\\work\\python\\build\\temp.win-amd64-3.6\\Release\\lib.cxx(33975): error C2039: 'zero_copy_only': is not a member of 'arrow::py::PandasOptions'\r\n     [C:\\Miniconda3\\conda-bld\\pyarrow_1509440425653\\work\\python\\build\\temp.win-amd64-3.6\\Release\\lib.vcxproj]\r\n     C:\\Miniconda3\\conda-bld\\pyarrow_1509440425653\\_h_env\\Library\\include\\arrow/python/arrow_to_pandas.h(42): note: see declaration of 'arrow::py::PandasOptions'\r\n   ```\r\n   It's bedtime in this neck of the woods however so that'll be a problem for tomorrow...\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T12:18:59.399+0000",
                    "updated": "2017-10-31T12:18:59.399+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226740",
                    "id": "16226740",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340755202\n \n \n   @dhirschfeld you need to work in a conda environment that does not have a conda-installed arrow-cpp installed\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T13:02:32.654+0000",
                    "updated": "2017-10-31T13:02:32.654+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226752",
                    "id": "16226752",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340756805\n \n \n   If you run into problems following these instructions let me know so I can investigate: https://github.com/apache/arrow/blob/master/python/doc/source/development.rst#developing-on-windows\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T13:09:12.811+0000",
                    "updated": "2017-10-31T13:09:12.811+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226801",
                    "id": "16226801",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pcmoritz commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340764058\n \n \n   So to make this also work for the type class, I had to replace .mro() by .__mro__, see https://stackoverflow.com/questions/34358767/why-does-mro-on-a-metaclass-have-a-different-signature-descriptor-mro-of\r\n   \r\n   Due to an issue similar to\r\n   https://github.com/cloudpipe/cloudpickle/issues/65\r\n   the test I added doesn't work in Python 2, which I think is ok.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T13:36:31.264+0000",
                    "updated": "2017-10-31T13:36:31.264+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226810",
                    "id": "16226810",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pcmoritz commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340764058\n \n \n   So to make this also work for the type class, I had to replace `.mro()` by `.__mro__`, see https://stackoverflow.com/questions/34358767/why-does-mro-on-a-metaclass-have-a-different-signature-descriptor-mro-of\r\n   \r\n   Due to an issue similar to\r\n   https://github.com/cloudpipe/cloudpickle/issues/65\r\n   the test I added doesn't work in Python 2, which I think is ok.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T13:45:13.858+0000",
                    "updated": "2017-10-31T13:45:13.858+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226844",
                    "id": "16226844",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pcmoritz commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340764058\n \n \n   So to make this also work for the type class, I had to replace `.mro()` by `.__mro__`, see https://stackoverflow.com/questions/34358767/why-does-mro-on-a-metaclass-have-a-different-signature-descriptor-mro-of\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T14:08:39.629+0000",
                    "updated": "2017-10-31T14:08:39.629+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16226847",
                    "id": "16226847",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pcmoritz commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340764058\n \n \n   So to make this also work for the `type` class, I had to replace `.mro()` by `.__mro__`, see https://stackoverflow.com/questions/34358767/why-does-mro-on-a-metaclass-have-a-different-signature-descriptor-mro-of\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T14:09:46.047+0000",
                    "updated": "2017-10-31T14:09:46.047+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16227144",
                    "id": "16227144",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pcmoritz commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340837300\n \n \n   +1\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T17:21:43.757+0000",
                    "updated": "2017-10-31T17:21:43.757+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16227212",
                    "id": "16227212",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pcmoritz commented on issue #1272: ARROW-1753 [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340837300\n \n \n   +1, will merge once my apache gitbox account is ready\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T17:56:43.029+0000",
                    "updated": "2017-10-31T17:56:43.029+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16227244",
                    "id": "16227244",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1272: ARROW-1753: [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340853239\n \n \n   I got you. Thanks @dhirschfeld! \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T18:11:06.894+0000",
                    "updated": "2017-10-31T18:11:06.894+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16227247",
                    "id": "16227247",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 1272\n[https://github.com/apache/arrow/pull/1272]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2017-10-31T18:11:26.555+0000",
                    "updated": "2017-10-31T18:11:26.555+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16227248",
                    "id": "16227248",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm closed pull request #1272: ARROW-1753: [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/cpp/src/arrow/ipc/metadata-internal.cc b/cpp/src/arrow/ipc/metadata-internal.cc\nindex f04e9b05a..f0f0f6758 100644\n--- a/cpp/src/arrow/ipc/metadata-internal.cc\n+++ b/cpp/src/arrow/ipc/metadata-internal.cc\n@@ -72,7 +72,7 @@ MetadataVersion GetMetadataVersion(flatbuf::MetadataVersion version) {\n     case flatbuf::MetadataVersion_V4:\n       // Arrow >= 0.8\n       return MetadataVersion::V4;\n-      // Add cases as other versions become available\n+    // Add cases as other versions become available\n     default:\n       return MetadataVersion::V4;\n   }\ndiff --git a/python/pyarrow/serialization.pxi b/python/pyarrow/serialization.pxi\nindex 4e9ab8eb3..6b7227797 100644\n--- a/python/pyarrow/serialization.pxi\n+++ b/python/pyarrow/serialization.pxi\n@@ -88,17 +88,26 @@ cdef class SerializationContext:\n             self.custom_deserializers[type_id] = custom_deserializer\n \n     def _serialize_callback(self, obj):\n-        if type(obj) not in self.type_to_type_id:\n+        found = False\n+        for type_ in type(obj).__mro__:\n+            if type_ in self.type_to_type_id:\n+                found = True\n+                break\n+\n+        if not found:\n             raise SerializationCallbackError(\n                 \"pyarrow does not know how to \"\n-                \"serialize objects of type {}.\".format(type(obj)), obj)\n-        type_id = self.type_to_type_id[type(obj)]\n+                \"serialize objects of type {}.\".format(type(obj)), obj\n+            )\n+\n+        # use the closest match to type(obj)\n+        type_id = self.type_to_type_id[type_]\n         if type_id in self.types_to_pickle:\n             serialized_obj = {\"data\": pickle.dumps(obj), \"pickle\": True}\n         elif type_id in self.custom_serializers:\n             serialized_obj = {\"data\": self.custom_serializers[type_id](obj)}\n         else:\n-            if is_named_tuple(type(obj)):\n+            if is_named_tuple(type_):\n                 serialized_obj = {}\n                 serialized_obj[\"_pa_getnewargs_\"] = obj.__getnewargs__()\n             elif hasattr(obj, \"__dict__\"):\ndiff --git a/python/pyarrow/serialization.py b/python/pyarrow/serialization.py\nindex 9dc8ee6de..2b47513fd 100644\n--- a/python/pyarrow/serialization.py\n+++ b/python/pyarrow/serialization.py\n@@ -69,6 +69,8 @@ def _deserialize_default_dict(data):\n         type(lambda: 0), \"function\",\n         pickle=True)\n \n+    serialization_context.register_type(type, \"type\", pickle=True)\n+\n     # ----------------------------------------------------------------------\n     # Set up serialization for numpy with dtype object (primitive types are\n     # handled efficiently with Arrow's Tensor facilities, see\ndiff --git a/python/pyarrow/tests/test_serialization.py b/python/pyarrow/tests/test_serialization.py\nindex 7878a0922..b0c5bc49e 100644\n--- a/python/pyarrow/tests/test_serialization.py\n+++ b/python/pyarrow/tests/test_serialization.py\n@@ -416,3 +416,69 @@ class TempClass(object):\n     with pytest.raises(pa.DeserializationCallbackError) as err:\n         serialized_object.deserialize(deserialization_context)\n     assert err.value.type_id == 20*b\"\\x00\"\n+\n+\n+def test_fallback_to_subclasses():\n+\n+    class SubFoo(Foo):\n+        def __init__(self):\n+            Foo.__init__(self)\n+\n+    # should be able to serialize/deserialize an instance\n+    # if a base class has been registered\n+    serialization_context = pa.SerializationContext()\n+    serialization_context.register_type(Foo, \"Foo\")\n+\n+    subfoo = SubFoo()\n+    # should fallbact to Foo serializer\n+    serialized_object = pa.serialize(subfoo, serialization_context)\n+\n+    reconstructed_object = serialized_object.deserialize(\n+        serialization_context\n+    )\n+    assert type(reconstructed_object) == Foo\n+\n+\n+class Serializable(object):\n+    pass\n+\n+\n+def serialize_serializable(obj):\n+    return {\"type\": type(obj), \"data\": obj.__dict__}\n+\n+\n+def deserialize_serializable(obj):\n+    val = obj[\"type\"].__new__(obj[\"type\"])\n+    val.__dict__.update(obj[\"data\"])\n+    return val\n+\n+\n+class SerializableClass(Serializable):\n+    def __init__(self):\n+        self.value = 3\n+\n+\n+def test_serialize_subclasses():\n+\n+    # This test shows how subclasses can be handled in an idiomatic way\n+    # by having only a serializer for the base class\n+\n+    # This technique should however be used with care, since pickling\n+    # type(obj) with couldpickle will include the full class definition\n+    # in the serialized representation.\n+    # This means the class definition is part of every instance of the\n+    # object, which in general is not desirable; registering all subclasses\n+    # with register_type will result in faster and more memory\n+    # efficient serialization.\n+\n+    serialization_context.register_type(\n+        Serializable, \"Serializable\",\n+        custom_serializer=serialize_serializable,\n+        custom_deserializer=deserialize_serializable)\n+\n+    a = SerializableClass()\n+    serialized = pa.serialize(a)\n+\n+    deserialized = serialized.deserialize()\n+    assert type(deserialized).__name__ == SerializableClass.__name__\n+    assert deserialized.value == 3\ndiff --git a/python/requirements.txt b/python/requirements.txt\nindex d2e28a774..8d0c33afa 100644\n--- a/python/requirements.txt\n+++ b/python/requirements.txt\n@@ -1,4 +1,4 @@\n pytest\n-cloudpickle\n+cloudpickle>=0.4.0\n numpy>=1.10.0\n six\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T18:11:28.368+0000",
                    "updated": "2017-10-31T18:11:28.368+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16227251",
                    "id": "16227251",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1272: ARROW-1753: [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340853518\n \n \n   @dhirschfeld could you create an ASF JIRA account and post your ID here so I can assign you the issue?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T18:12:03.819+0000",
                    "updated": "2017-10-31T18:12:03.819+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113022/comment/16227686",
                    "id": "16227686",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "dhirschfeld commented on issue #1272: ARROW-1753: [Python] Provide for matching subclasses with register_type in serialization context\nURL: https://github.com/apache/arrow/pull/1272#issuecomment-340922254\n \n \n   @wesm - I've created an account on JIRA with the username `dhirschfeld`\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-31T22:08:15.758+0000",
                    "updated": "2017-10-31T22:08:15.758+0000"
                }
            ],
            "maxResults": 27,
            "total": 27,
            "startAt": 0
        },
        "customfield_12311820": "0|i3lv6v:",
        "customfield_12314139": null
    }
}