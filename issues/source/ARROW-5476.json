{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13237029",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029",
    "key": "ARROW-5476",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12344925",
                "id": "12344925",
                "description": "",
                "name": "0.14.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-07-04"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12344925",
                "id": "12344925",
                "description": "",
                "name": "0.14.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-07-04"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=praveenbingo",
            "name": "praveenbingo",
            "key": "praveenbingo",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Praveen Kumar",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=praveenbingo",
            "name": "praveenbingo",
            "key": "praveenbingo",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Praveen Kumar",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=praveenbingo",
            "name": "praveenbingo",
            "key": "praveenbingo",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Praveen Kumar",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 10200,
            "total": 10200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 10200,
            "total": 10200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5476/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 17,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/252851",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "praveenbingo commented on pull request #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf slice.\nURL: https://github.com/apache/arrow/pull/4451\n \n \n   - Fixes the slice to use indexes in netty arrow buf, arrow buffer may not track the right indexes.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-02T18:59:34.354+0000",
                    "updated": "2019-06-02T18:59:34.354+0000",
                    "started": "2019-06-02T18:59:34.353+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "252851",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/252879",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on issue #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf slice.\nURL: https://github.com/apache/arrow/pull/4451#issuecomment-498086047\n \n \n   @praveenbingo Thanks for finding this problem. Would you please provide a unit test for it?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-03T01:39:55.592+0000",
                    "updated": "2019-06-03T01:39:55.592+0000",
                    "started": "2019-06-03T01:39:55.591+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "252879",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/253652",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf slice.\nURL: https://github.com/apache/arrow/pull/4451#issuecomment-498600521\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/4451?src=pr&el=h1) Report\n   > Merging [#4451](https://codecov.io/gh/apache/arrow/pull/4451?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/d78dd07466d8d4fc18d36ef7af9d78f06e7d513d?src=pr&el=desc) will **increase** coverage by `1.25%`.\n   > The diff coverage is `n/a`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/4451/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/4451?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #4451      +/-   ##\n   ==========================================\n   + Coverage    88.2%   89.46%   +1.25%     \n   ==========================================\n     Files         686      645      -41     \n     Lines       79825    89540    +9715     \n     Branches     1253        0    -1253     \n   ==========================================\n   + Hits        70412    80109    +9697     \n   - Misses       9166     9431     +265     \n   + Partials      247        0     -247\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/4451?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [cpp/src/arrow/json/chunked-builder.cc](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9qc29uL2NodW5rZWQtYnVpbGRlci5jYw==) | `79.91% <0%> (-9.63%)` | :arrow_down: |\n   | [cpp/src/arrow/json/converter.cc](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9qc29uL2NvbnZlcnRlci5jYw==) | `90.53% <0%> (-1.78%)` | :arrow_down: |\n   | [cpp/src/parquet/test-util.h](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wYXJxdWV0L3Rlc3QtdXRpbC5o) | `94.38% <0%> (-0.91%)` | :arrow_down: |\n   | [cpp/src/arrow/json/test-common.h](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9qc29uL3Rlc3QtY29tbW9uLmg=) | `100% <0%> (\u00f8)` | :arrow_up: |\n   | [cpp/src/arrow/ipc/json-test.cc](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9pcGMvanNvbi10ZXN0LmNj) | `98.49% <0%> (\u00f8)` | :arrow_up: |\n   | [cpp/src/arrow/buffer-builder.h](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9idWZmZXItYnVpbGRlci5o) | `100% <0%> (\u00f8)` | :arrow_up: |\n   | [cpp/src/gandiva/tests/test\\_util.h](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-Y3BwL3NyYy9nYW5kaXZhL3Rlc3RzL3Rlc3RfdXRpbC5o) | `100% <0%> (\u00f8)` | :arrow_up: |\n   | [cpp/src/parquet/types.h](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wYXJxdWV0L3R5cGVzLmg=) | `100% <0%> (\u00f8)` | :arrow_up: |\n   | [go/arrow/ipc/writer.go](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-Z28vYXJyb3cvaXBjL3dyaXRlci5nbw==) | | |\n   | [go/arrow/math/uint64\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC91aW50NjRfYW1kNjQuZ28=) | | |\n   | ... and [348 more](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/4451?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/4451?src=pr&el=footer). Last update [d78dd07...88acc41](https://codecov.io/gh/apache/arrow/pull/4451?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-04T09:43:01.572+0000",
                    "updated": "2019-06-04T09:43:01.572+0000",
                    "started": "2019-06-04T09:43:01.571+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "253652",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/253746",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf slice.\nURL: https://github.com/apache/arrow/pull/4451#discussion_r290302321\n \n \n\n ##########\n File path: java/memory/src/main/java/io/netty/buffer/NettyArrowBuf.java\n ##########\n @@ -224,17 +224,8 @@ public ByteBuffer nioBuffer() {\n   @Override\n   public ByteBuffer nioBuffer(int index, int length) {\n     chk(index, length);\n-    final ByteBuffer buffer = getDirectBuffer();\n-    buffer.position(index).limit(index + length);\n-    return buffer;\n-  }\n-\n-  /**\n-   * Get this ArrowBuf as a direct {@link ByteBuffer}.\n-   * @return ByteBuffer\n-   */\n-  private ByteBuffer getDirectBuffer() {\n-    return PlatformDependent.directBuffer(address, length);\n+    UnsafeDirectLittleEndian underlying = arrowBuf.getReferenceManager().getUnderlying();\n \n Review comment:\n   this creates another dependency on netty in the ReferenceManager, which we want to avoid.\r\n   \r\n   what's wrong with the getDirectBuffer ?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-04T13:44:03.077+0000",
                    "updated": "2019-06-04T13:44:03.077+0000",
                    "started": "2019-06-04T13:44:03.076+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "253746",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/253747",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf slice.\nURL: https://github.com/apache/arrow/pull/4451#discussion_r290302321\n \n \n\n ##########\n File path: java/memory/src/main/java/io/netty/buffer/NettyArrowBuf.java\n ##########\n @@ -224,17 +224,8 @@ public ByteBuffer nioBuffer() {\n   @Override\n   public ByteBuffer nioBuffer(int index, int length) {\n     chk(index, length);\n-    final ByteBuffer buffer = getDirectBuffer();\n-    buffer.position(index).limit(index + length);\n-    return buffer;\n-  }\n-\n-  /**\n-   * Get this ArrowBuf as a direct {@link ByteBuffer}.\n-   * @return ByteBuffer\n-   */\n-  private ByteBuffer getDirectBuffer() {\n-    return PlatformDependent.directBuffer(address, length);\n+    UnsafeDirectLittleEndian underlying = arrowBuf.getReferenceManager().getUnderlying();\n \n Review comment:\n   this creates another dependency on netty in the ReferenceManager, which we want to avoid.\r\n   \r\n   what's wrong with the earlier implementation of getDirectBuffer ?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-04T13:45:11.801+0000",
                    "updated": "2019-06-04T13:45:11.801+0000",
                    "started": "2019-06-04T13:45:11.800+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "253747",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/255023",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf slice.\nURL: https://github.com/apache/arrow/pull/4451#discussion_r291106799\n \n \n\n ##########\n File path: java/memory/src/main/java/io/netty/buffer/NettyArrowBuf.java\n ##########\n @@ -224,17 +224,17 @@ public ByteBuffer nioBuffer() {\n   @Override\n   public ByteBuffer nioBuffer(int index, int length) {\n     chk(index, length);\n-    final ByteBuffer buffer = getDirectBuffer();\n-    buffer.position(index).limit(index + length);\n+    final ByteBuffer buffer = getDirectBuffer(index);\n+    buffer.limit(length);\n     return buffer;\n   }\n \n   /**\n    * Get this ArrowBuf as a direct {@link ByteBuffer}.\n    * @return ByteBuffer\n    */\n-  private ByteBuffer getDirectBuffer() {\n-    return PlatformDependent.directBuffer(address, length);\n+  private ByteBuffer getDirectBuffer(int index) {\n+    return PlatformDependent.directBuffer(addr(index), length);\n \n Review comment:\n   should this be 'length - index' ?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-06T09:57:49.378+0000",
                    "updated": "2019-06-06T09:57:49.378+0000",
                    "started": "2019-06-06T09:57:49.378+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "255023",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/255024",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "praveenbingo commented on pull request #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf.\nURL: https://github.com/apache/arrow/pull/4451#discussion_r291111514\n \n \n\n ##########\n File path: java/memory/src/main/java/io/netty/buffer/NettyArrowBuf.java\n ##########\n @@ -224,17 +224,17 @@ public ByteBuffer nioBuffer() {\n   @Override\n   public ByteBuffer nioBuffer(int index, int length) {\n     chk(index, length);\n-    final ByteBuffer buffer = getDirectBuffer();\n-    buffer.position(index).limit(index + length);\n+    final ByteBuffer buffer = getDirectBuffer(index);\n+    buffer.limit(length);\n     return buffer;\n   }\n \n   /**\n    * Get this ArrowBuf as a direct {@link ByteBuffer}.\n    * @return ByteBuffer\n    */\n-  private ByteBuffer getDirectBuffer() {\n-    return PlatformDependent.directBuffer(address, length);\n+  private ByteBuffer getDirectBuffer(int index) {\n+    return PlatformDependent.directBuffer(addr(index), length);\n \n Review comment:\n   It should be..fixed and added a test\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-06T10:08:22.614+0000",
                    "updated": "2019-06-06T10:08:22.614+0000",
                    "started": "2019-06-06T10:08:22.613+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "255024",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/256855",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf.\nURL: https://github.com/apache/arrow/pull/4451#issuecomment-498600521\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/4451?src=pr&el=h1) Report\n   > Merging [#4451](https://codecov.io/gh/apache/arrow/pull/4451?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/37e6183d7e17a68d53b3cf4e6d3e4fa3d3016a6c?src=pr&el=desc) will **increase** coverage by `1.19%`.\n   > The diff coverage is `n/a`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/4451/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/4451?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #4451      +/-   ##\n   ==========================================\n   + Coverage   88.27%   89.47%   +1.19%     \n   ==========================================\n     Files         846      645     -201     \n     Lines      103662    89845   -13817     \n     Branches     1253        0    -1253     \n   ==========================================\n   - Hits        91512    80392   -11120     \n   + Misses      11903     9453    -2450     \n   + Partials      247        0     -247\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/4451?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [r/src/recordbatch.cpp](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-ci9zcmMvcmVjb3JkYmF0Y2guY3Bw) | | |\n   | [r/R/Table.R](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-ci9SL1RhYmxlLlI=) | | |\n   | [go/arrow/math/uint64\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC91aW50NjRfYW1kNjQuZ28=) | | |\n   | [r/src/symbols.cpp](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-ci9zcmMvc3ltYm9scy5jcHA=) | | |\n   | [r/R/Column.R](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-ci9SL0NvbHVtbi5S) | | |\n   | [go/arrow/ipc/file\\_reader.go](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-Z28vYXJyb3cvaXBjL2ZpbGVfcmVhZGVyLmdv) | | |\n   | [r/src/arrow\\_types.h](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-ci9zcmMvYXJyb3dfdHlwZXMuaA==) | | |\n   | [js/src/enum.ts](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-anMvc3JjL2VudW0udHM=) | | |\n   | [r/src/array\\_from\\_vector.cpp](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-ci9zcmMvYXJyYXlfZnJvbV92ZWN0b3IuY3Bw) | | |\n   | [go/arrow/array/builder.go](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree#diff-Z28vYXJyb3cvYXJyYXkvYnVpbGRlci5nbw==) | | |\n   | ... and [191 more](https://codecov.io/gh/apache/arrow/pull/4451/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/4451?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/4451?src=pr&el=footer). Last update [37e6183...e8d315d](https://codecov.io/gh/apache/arrow/pull/4451?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-10T13:40:52.031+0000",
                    "updated": "2019-06-10T13:40:52.031+0000",
                    "started": "2019-06-10T13:40:52.031+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "256855",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/257466",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf.\nURL: https://github.com/apache/arrow/pull/4451#discussion_r292298666\n \n \n\n ##########\n File path: java/memory/src/main/java/io/netty/buffer/NettyArrowBuf.java\n ##########\n @@ -203,7 +203,8 @@ public int nioBufferCount() {\n \n   @Override\n   public ByteBuffer internalNioBuffer(int index, int length) {\n-    throw new UnsupportedOperationException(\"operation not supported\");\n+    ByteBuffer nioBuf =  getDirectBuffer(index);\n+    return (ByteBuffer)nioBuf.clear().position(index).limit(index + length);\n \n Review comment:\n   this one is different from nioBuffer(index, length) - position is different, limit is different. is that intentional ?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T07:16:07.253+0000",
                    "updated": "2019-06-11T07:16:07.253+0000",
                    "started": "2019-06-11T07:16:07.252+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257466",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/257467",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf.\nURL: https://github.com/apache/arrow/pull/4451#discussion_r292299720\n \n \n\n ##########\n File path: java/memory/src/main/java/io/netty/buffer/NettyArrowBuf.java\n ##########\n @@ -224,17 +225,17 @@ public ByteBuffer nioBuffer() {\n   @Override\n   public ByteBuffer nioBuffer(int index, int length) {\n     chk(index, length);\n-    final ByteBuffer buffer = getDirectBuffer();\n-    buffer.position(index).limit(index + length);\n+    final ByteBuffer buffer = getDirectBuffer(index);\n+    buffer.limit(length);\n     return buffer;\n   }\n \n   /**\n    * Get this ArrowBuf as a direct {@link ByteBuffer}.\n \n Review comment:\n   can you please add a comment saying that the returned buffer is zero-positioned ?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T07:16:09.021+0000",
                    "updated": "2019-06-11T07:16:09.021+0000",
                    "started": "2019-06-11T07:16:09.020+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257467",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/257470",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "praveenbingo commented on pull request #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf.\nURL: https://github.com/apache/arrow/pull/4451#discussion_r292309011\n \n \n\n ##########\n File path: java/memory/src/main/java/io/netty/buffer/NettyArrowBuf.java\n ##########\n @@ -203,7 +203,8 @@ public int nioBufferCount() {\n \n   @Override\n   public ByteBuffer internalNioBuffer(int index, int length) {\n-    throw new UnsupportedOperationException(\"operation not supported\");\n+    ByteBuffer nioBuf =  getDirectBuffer(index);\n+    return (ByteBuffer)nioBuf.clear().position(index).limit(index + length);\n \n Review comment:\n   Yes, this is the implementation for this API by other ByteBuf classes inside Netty like PooledUnsafeDirectByteBuf. So following the same convention.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T07:21:01.430+0000",
                    "updated": "2019-06-11T07:21:01.430+0000",
                    "started": "2019-06-11T07:21:01.429+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257470",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/257471",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "praveenbingo commented on pull request #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf.\nURL: https://github.com/apache/arrow/pull/4451#discussion_r292309065\n \n \n\n ##########\n File path: java/memory/src/main/java/io/netty/buffer/NettyArrowBuf.java\n ##########\n @@ -224,17 +225,17 @@ public ByteBuffer nioBuffer() {\n   @Override\n   public ByteBuffer nioBuffer(int index, int length) {\n     chk(index, length);\n-    final ByteBuffer buffer = getDirectBuffer();\n-    buffer.position(index).limit(index + length);\n+    final ByteBuffer buffer = getDirectBuffer(index);\n+    buffer.limit(length);\n     return buffer;\n   }\n \n   /**\n    * Get this ArrowBuf as a direct {@link ByteBuffer}.\n \n Review comment:\n   sure will do.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T07:21:09.202+0000",
                    "updated": "2019-06-11T07:21:09.202+0000",
                    "started": "2019-06-11T07:21:09.201+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257471",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/257526",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf.\nURL: https://github.com/apache/arrow/pull/4451#discussion_r292344006\n \n \n\n ##########\n File path: java/memory/src/main/java/io/netty/buffer/NettyArrowBuf.java\n ##########\n @@ -203,7 +203,8 @@ public int nioBufferCount() {\n \n   @Override\n   public ByteBuffer internalNioBuffer(int index, int length) {\n-    throw new UnsupportedOperationException(\"operation not supported\");\n+    ByteBuffer nioBuf =  getDirectBuffer(index);\n+    return (ByteBuffer)nioBuf.clear().position(index).limit(index + length);\n \n Review comment:\n   seems indirect - getDirectBuffer already moves the addr by index. position(index) - will effectively move it to 2 * index\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T08:46:44.686+0000",
                    "updated": "2019-06-11T08:46:44.686+0000",
                    "started": "2019-06-11T08:46:44.685+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257526",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/257529",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf.\nURL: https://github.com/apache/arrow/pull/4451#discussion_r292345917\n \n \n\n ##########\n File path: java/memory/src/test/java/io/netty/buffer/TestNettyArrowBuf.java\n ##########\n @@ -0,0 +1,133 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.netty.buffer;\n+\n+import java.nio.ByteBuffer;\n+\n+import org.apache.arrow.memory.ArrowByteBufAllocator;\n+import org.apache.arrow.memory.BufferAllocator;\n+import org.apache.arrow.memory.RootAllocator;\n+import org.junit.Assert;\n+import org.junit.Test;\n+\n+public class TestNettyArrowBuf {\n+\n+  @Test\n+  public void testSliceWithoutArgs() {\n+    try (BufferAllocator allocator = new RootAllocator(128);\n+         ArrowBuf buf = allocator.buffer(20);\n+    ) {\n+      NettyArrowBuf nettyBuf = buf.asNettyBuffer();\n+      nettyBuf.writerIndex(20);\n+      nettyBuf.readerIndex(10);\n+      NettyArrowBuf slicedBuffer = nettyBuf.slice();\n+      int readableBytes = slicedBuffer.readableBytes();\n+      Assert.assertEquals(10, readableBytes);\n+    }\n+  }\n+\n+  @Test\n+  public void testNioBuffer() {\n+    try (BufferAllocator allocator = new RootAllocator(128);\n+         ArrowBuf buf = allocator.buffer(20);\n+    ) {\n+      NettyArrowBuf nettyBuf = buf.asNettyBuffer();\n+      ByteBuffer byteBuffer = nettyBuf.nioBuffer(4 ,6);\n+      // Nio Buffers should always be 0 indexed\n+      Assert.assertEquals(0, byteBuffer.position());\n+      Assert.assertEquals(6, byteBuffer.limit());\n+      // Underlying buffer has size 32 excluding 4 should have capacity of 28.\n+      Assert.assertEquals(28, byteBuffer.capacity());\n+\n+    }\n+  }\n+\n+  @Test\n+  public void testInternalNioBuffer() {\n+    try (BufferAllocator allocator = new RootAllocator(128);\n+         ArrowBuf buf = allocator.buffer(20);\n+    ) {\n+      NettyArrowBuf nettyBuf = buf.asNettyBuffer();\n+      ByteBuffer byteBuffer = nettyBuf.internalNioBuffer(4, 6);\n+      Assert.assertEquals(4, byteBuffer.position());\n+      Assert.assertEquals(10, byteBuffer.limit());\n+      // Underlying buffer has size 32 excluding 4 should have capacity of 28.\n+      Assert.assertEquals(28, byteBuffer.capacity());\n+\n+    }\n+  }\n+\n+  @Test\n+  public void testSetLEValues() {\n+    try (BufferAllocator allocator = new RootAllocator(128);\n+         ArrowBuf buf = allocator.buffer(20);\n+    ) {\n+      NettyArrowBuf nettyBuf = buf.asNettyBuffer();\n+      int intValue = 1;\n \n Review comment:\n   can you pls add more values ?\r\n   \r\n   for ( intValue : {Integer.MIN_VALUE, Short.MIN_VALUE -1, Short.MIN_VALUE, 0, SHORT.MAX_VALUE, Short.MAX_VALUE + 1, Integer.MAX_VALUE}) { .. }\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T08:51:17.493+0000",
                    "updated": "2019-06-11T08:51:17.493+0000",
                    "started": "2019-06-11T08:51:17.492+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257529",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/257543",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "praveenbingo commented on pull request #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf.\nURL: https://github.com/apache/arrow/pull/4451#discussion_r292355761\n \n \n\n ##########\n File path: java/memory/src/main/java/io/netty/buffer/NettyArrowBuf.java\n ##########\n @@ -203,7 +203,8 @@ public int nioBufferCount() {\n \n   @Override\n   public ByteBuffer internalNioBuffer(int index, int length) {\n-    throw new UnsupportedOperationException(\"operation not supported\");\n+    ByteBuffer nioBuf =  getDirectBuffer(index);\n+    return (ByteBuffer)nioBuf.clear().position(index).limit(index + length);\n \n Review comment:\n   Good catch :( Fixed now.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T09:14:12.006+0000",
                    "updated": "2019-06-11T09:14:12.006+0000",
                    "started": "2019-06-11T09:14:12.005+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257543",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/257544",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "praveenbingo commented on pull request #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf.\nURL: https://github.com/apache/arrow/pull/4451#discussion_r292355870\n \n \n\n ##########\n File path: java/memory/src/test/java/io/netty/buffer/TestNettyArrowBuf.java\n ##########\n @@ -0,0 +1,133 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.netty.buffer;\n+\n+import java.nio.ByteBuffer;\n+\n+import org.apache.arrow.memory.ArrowByteBufAllocator;\n+import org.apache.arrow.memory.BufferAllocator;\n+import org.apache.arrow.memory.RootAllocator;\n+import org.junit.Assert;\n+import org.junit.Test;\n+\n+public class TestNettyArrowBuf {\n+\n+  @Test\n+  public void testSliceWithoutArgs() {\n+    try (BufferAllocator allocator = new RootAllocator(128);\n+         ArrowBuf buf = allocator.buffer(20);\n+    ) {\n+      NettyArrowBuf nettyBuf = buf.asNettyBuffer();\n+      nettyBuf.writerIndex(20);\n+      nettyBuf.readerIndex(10);\n+      NettyArrowBuf slicedBuffer = nettyBuf.slice();\n+      int readableBytes = slicedBuffer.readableBytes();\n+      Assert.assertEquals(10, readableBytes);\n+    }\n+  }\n+\n+  @Test\n+  public void testNioBuffer() {\n+    try (BufferAllocator allocator = new RootAllocator(128);\n+         ArrowBuf buf = allocator.buffer(20);\n+    ) {\n+      NettyArrowBuf nettyBuf = buf.asNettyBuffer();\n+      ByteBuffer byteBuffer = nettyBuf.nioBuffer(4 ,6);\n+      // Nio Buffers should always be 0 indexed\n+      Assert.assertEquals(0, byteBuffer.position());\n+      Assert.assertEquals(6, byteBuffer.limit());\n+      // Underlying buffer has size 32 excluding 4 should have capacity of 28.\n+      Assert.assertEquals(28, byteBuffer.capacity());\n+\n+    }\n+  }\n+\n+  @Test\n+  public void testInternalNioBuffer() {\n+    try (BufferAllocator allocator = new RootAllocator(128);\n+         ArrowBuf buf = allocator.buffer(20);\n+    ) {\n+      NettyArrowBuf nettyBuf = buf.asNettyBuffer();\n+      ByteBuffer byteBuffer = nettyBuf.internalNioBuffer(4, 6);\n+      Assert.assertEquals(4, byteBuffer.position());\n+      Assert.assertEquals(10, byteBuffer.limit());\n+      // Underlying buffer has size 32 excluding 4 should have capacity of 28.\n+      Assert.assertEquals(28, byteBuffer.capacity());\n+\n+    }\n+  }\n+\n+  @Test\n+  public void testSetLEValues() {\n+    try (BufferAllocator allocator = new RootAllocator(128);\n+         ArrowBuf buf = allocator.buffer(20);\n+    ) {\n+      NettyArrowBuf nettyBuf = buf.asNettyBuffer();\n+      int intValue = 1;\n \n Review comment:\n   done\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T09:14:23.926+0000",
                    "updated": "2019-06-11T09:14:23.926+0000",
                    "started": "2019-06-11T09:14:23.926+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257544",
                    "issueId": "13237029"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/worklog/257784",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #4451: ARROW-5476: [Java][Memory] Fix Netty Arrow Buf.\nURL: https://github.com/apache/arrow/pull/4451\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T14:22:48.518+0000",
                    "updated": "2019-06-11T14:22:48.518+0000",
                    "started": "2019-06-11T14:22:48.517+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257784",
                    "issueId": "13237029"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/3",
            "id": "3",
            "description": "A task that needs to be done.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype",
            "name": "Task",
            "subtask": false,
            "avatarId": 21148
        },
        "timespent": 10200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@21857ca5[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@567a70a7[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@54afbc99[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@51d511e3[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2d40fb4e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@5f6a25c5[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@768811c5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@f2b5cfe[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@259b4cde[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@2bd101a5[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1d613b23[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@48f848dd[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 10200,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Jun 11 14:22:44 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-06-11T14:22:44.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5476/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2019-06-01T09:15:58.000+0000",
        "updated": "2019-06-11T14:22:48.000+0000",
        "timeoriginalestimate": null,
        "description": "The slice of netty arrow buf depends on arrow buf reader and writer indexes, but arrow buf is supposed to only track memory addr + length and there are places where the arrow buf indexes are not in sync with netty.\r\n\r\nSo slice should use the indexes in Netty Arrow Buf instead.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 10200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Java][Memory] Fix Netty ArrowBuf Slice",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13237029/comment/16861092",
                    "id": "16861092",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pravindra",
                        "name": "pravindra",
                        "key": "pravindra",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
                        },
                        "displayName": "Pindikura Ravindra",
                        "active": true,
                        "timeZone": "Asia/Kolkata"
                    },
                    "body": "Issue resolved by pull request 4451\n[https://github.com/apache/arrow/pull/4451]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pravindra",
                        "name": "pravindra",
                        "key": "pravindra",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
                        },
                        "displayName": "Pindikura Ravindra",
                        "active": true,
                        "timeZone": "Asia/Kolkata"
                    },
                    "created": "2019-06-11T14:22:44.232+0000",
                    "updated": "2019-06-11T14:22:44.232+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z03bnc:",
        "customfield_12314139": null
    }
}