{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13170426",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13170426",
    "key": "ARROW-2798",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12342562",
                "id": "12342562",
                "description": "",
                "name": "0.10.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-08-06"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "performance",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12341707",
                "id": "12341707",
                "description": "",
                "name": "0.9.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-03-19"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=Songqing",
            "name": "Songqing",
            "key": "songqing",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=songqing&avatarId=35842",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=songqing&avatarId=35842",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=songqing&avatarId=35842",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=songqing&avatarId=35842"
            },
            "displayName": "Songqing Zhang",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12332956",
                "id": "12332956",
                "name": "C++ - Plasma"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=Songqing",
            "name": "Songqing",
            "key": "songqing",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=songqing&avatarId=35842",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=songqing&avatarId=35842",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=songqing&avatarId=35842",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=songqing&avatarId=35842"
            },
            "displayName": "Songqing Zhang",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=Songqing",
            "name": "Songqing",
            "key": "songqing",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=songqing&avatarId=35842",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=songqing&avatarId=35842",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=songqing&avatarId=35842",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=songqing&avatarId=35842"
            },
            "displayName": "Songqing Zhang",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 4200,
            "total": 4200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 4200,
            "total": 4200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2798/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 7,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13170426/worklog/119868",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alendit commented on issue #2220: ARROW-2798: [Plasma] Use hashing function that takes into account all UniqueID bytes\nURL: https://github.com/apache/arrow/pull/2220#issuecomment-403060052\n \n \n   @songqing just our of curiosity: why murmur2a and not 3?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-06T15:01:42.538+0000",
                    "updated": "2018-07-06T15:01:42.538+0000",
                    "started": "2018-07-06T15:01:42.538+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "119868",
                    "issueId": "13170426"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13170426/worklog/119872",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "songqing commented on issue #2220: ARROW-2798: [Plasma] Use hashing function that takes into account all UniqueID bytes\nURL: https://github.com/apache/arrow/pull/2220#issuecomment-403063706\n \n \n   @alendit In fact, reference PR I put above uses murmur2a,  and it works fine, so I adopt it.  I haven't tested the perf between murmur2a and murmur3, maybe I'll have a try.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-06T15:15:11.490+0000",
                    "updated": "2018-07-06T15:15:11.490+0000",
                    "started": "2018-07-06T15:15:11.489+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "119872",
                    "issueId": "13170426"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13170426/worklog/119874",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alendit commented on issue #2220: ARROW-2798: [Plasma] Use hashing function that takes into account all UniqueID bytes\nURL: https://github.com/apache/arrow/pull/2220#issuecomment-403064776\n \n \n   Makes sense to keep it similar to ray, I wondered if there maybe were some problems with murmur3 I wasn't aware of.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-06T15:18:58.883+0000",
                    "updated": "2018-07-06T15:18:58.883+0000",
                    "started": "2018-07-06T15:18:58.883+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "119874",
                    "issueId": "13170426"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13170426/worklog/119880",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2220: ARROW-2798: [Plasma] Use hashing function that takes into account all UniqueID bytes\nURL: https://github.com/apache/arrow/pull/2220#discussion_r200689380\n \n \n\n ##########\n File path: cpp/src/plasma/common.cc\n ##########\n @@ -68,12 +68,57 @@ std::string UniqueID::hex() const {\n   return result;\n }\n \n-size_t UniqueID::hash() const {\n-  size_t result;\n-  std::memcpy(&result, id_, sizeof(size_t));\n-  return result;\n+// This code is from https://sites.google.com/site/murmurhash/\n+// and is public domain.\n+uint64_t MurmurHash64A(const void* key, int len, unsigned int seed) {\n \n Review comment:\n   At some point it may make sense to move this (and other hash functions) to `src/arrow/util`\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-06T15:30:12.619+0000",
                    "updated": "2018-07-06T15:30:12.619+0000",
                    "started": "2018-07-06T15:30:12.619+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "119880",
                    "issueId": "13170426"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13170426/worklog/119894",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "songqing commented on a change in pull request #2220: ARROW-2798: [Plasma] Use hashing function that takes into account all UniqueID bytes\nURL: https://github.com/apache/arrow/pull/2220#discussion_r200700932\n \n \n\n ##########\n File path: cpp/src/plasma/common.cc\n ##########\n @@ -68,12 +68,57 @@ std::string UniqueID::hex() const {\n   return result;\n }\n \n-size_t UniqueID::hash() const {\n-  size_t result;\n-  std::memcpy(&result, id_, sizeof(size_t));\n-  return result;\n+// This code is from https://sites.google.com/site/murmurhash/\n+// and is public domain.\n+uint64_t MurmurHash64A(const void* key, int len, unsigned int seed) {\n \n Review comment:\n   Yes, this is a common method, but I don't know whether there is other place needing this hash method. Besides, this change is a replacement and is small, we may extract all the common methods in plasma to src/arrow/util later.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-06T16:12:05.781+0000",
                    "updated": "2018-07-06T16:12:05.781+0000",
                    "started": "2018-07-06T16:12:05.780+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "119894",
                    "issueId": "13170426"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13170426/worklog/120028",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pcmoritz commented on a change in pull request #2220: ARROW-2798: [Plasma] Use hashing function that takes into account all UniqueID bytes\nURL: https://github.com/apache/arrow/pull/2220#discussion_r200765744\n \n \n\n ##########\n File path: cpp/src/plasma/common.cc\n ##########\n @@ -68,12 +68,57 @@ std::string UniqueID::hex() const {\n   return result;\n }\n \n-size_t UniqueID::hash() const {\n-  size_t result;\n-  std::memcpy(&result, id_, sizeof(size_t));\n-  return result;\n+// This code is from https://sites.google.com/site/murmurhash/\n+// and is public domain.\n+uint64_t MurmurHash64A(const void* key, int len, unsigned int seed) {\n \n Review comment:\n   I created a follow up JIRA for this: https://issues.apache.org/jira/browse/ARROW-2803\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-06T20:49:12.543+0000",
                    "updated": "2018-07-06T20:49:12.543+0000",
                    "started": "2018-07-06T20:49:12.542+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "120028",
                    "issueId": "13170426"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13170426/worklog/120029",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pcmoritz closed pull request #2220: ARROW-2798: [Plasma] Use hashing function that takes into account all UniqueID bytes\nURL: https://github.com/apache/arrow/pull/2220\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/LICENSE.txt b/LICENSE.txt\nindex 30966d36f3..57299c4ff9 100644\n--- a/LICENSE.txt\n+++ b/LICENSE.txt\n@@ -297,6 +297,19 @@ You can contact the author at :\n \n --------------------------------------------------------------------------------\n \n+src/plasma/common.cc (some portions)\n+\n+Copyright (c) Austin Appleby (aappleby (AT) gmail)\n+\n+Some portions of this file are derived from code in the MurmurHash project\n+\n+All code is released to the public domain. For business purposes, Murmurhash is\n+under the MIT license.\n+\n+https://sites.google.com/site/murmurhash/\n+\n+--------------------------------------------------------------------------------\n+\n src/arrow/util (some portions): Apache 2.0, and 3-clause BSD\n \n Some portions of this module are derived from code in the Chromium project,\ndiff --git a/cpp/src/plasma/common.cc b/cpp/src/plasma/common.cc\nindex 2e3899b80a..ae55fb9877 100644\n--- a/cpp/src/plasma/common.cc\n+++ b/cpp/src/plasma/common.cc\n@@ -68,12 +68,57 @@ std::string UniqueID::hex() const {\n   return result;\n }\n \n-size_t UniqueID::hash() const {\n-  size_t result;\n-  std::memcpy(&result, id_, sizeof(size_t));\n-  return result;\n+// This code is from https://sites.google.com/site/murmurhash/\n+// and is public domain.\n+uint64_t MurmurHash64A(const void* key, int len, unsigned int seed) {\n+  const uint64_t m = 0xc6a4a7935bd1e995;\n+  const int r = 47;\n+\n+  uint64_t h = seed ^ (len * m);\n+\n+  const uint64_t* data = reinterpret_cast<const uint64_t*>(key);\n+  const uint64_t* end = data + (len / 8);\n+\n+  while (data != end) {\n+    uint64_t k = *data++;\n+\n+    k *= m;\n+    k ^= k >> r;\n+    k *= m;\n+\n+    h ^= k;\n+    h *= m;\n+  }\n+\n+  const unsigned char* data2 = reinterpret_cast<const unsigned char*>(data);\n+\n+  switch (len & 7) {\n+    case 7:\n+      h ^= uint64_t(data2[6]) << 48;\n+    case 6:\n+      h ^= uint64_t(data2[5]) << 40;\n+    case 5:\n+      h ^= uint64_t(data2[4]) << 32;\n+    case 4:\n+      h ^= uint64_t(data2[3]) << 24;\n+    case 3:\n+      h ^= uint64_t(data2[2]) << 16;\n+    case 2:\n+      h ^= uint64_t(data2[1]) << 8;\n+    case 1:\n+      h ^= uint64_t(data2[0]);\n+      h *= m;\n+  }\n+\n+  h ^= h >> r;\n+  h *= m;\n+  h ^= h >> r;\n+\n+  return h;\n }\n \n+size_t UniqueID::hash() const { return MurmurHash64A(&id_[0], kUniqueIDSize, 0); }\n+\n bool UniqueID::operator==(const UniqueID& rhs) const {\n   return std::memcmp(data(), rhs.data(), kUniqueIDSize) == 0;\n }\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-06T20:51:23.245+0000",
                    "updated": "2018-07-06T20:51:23.245+0000",
                    "started": "2018-07-06T20:51:23.245+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "120029",
                    "issueId": "13170426"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 4200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@5835b151[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7adcadac[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@715e5e29[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@6e703c63[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1f6ace61[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@3d1adf8f[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3eb67113[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@51cad182[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@189a041c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@73174627[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7e249fbf[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@79651738[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 4200,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Jul 06 20:51:30 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-07-06T20:51:30.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2798/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2018-07-06T07:33:47.000+0000",
        "updated": "2018-07-06T20:53:26.000+0000",
        "timeoriginalestimate": null,
        "description": "Now, the hashing of UniqueID in plasma is too simple which has caused a problem. In some cases(for example, in github/ray, UniqueID is composed of a taskID and a index), the UniqueID may be like \"ffffffffffffffffffff00\", \"ffffffffffffffffff01\", \"fffffffffffffffffff02\" ... . The current hashing method is only to copy the first few bytes of a UniqueID and the result is that most of the hashed ids are same, so when the hashed ids put to plasma store, it will become very slow when searching(plasma store uses unordered_map to store the ids, and when the keys are same, it will become slow just like list).\r\n\r\nI have submitted a PR to solve the problem, see [https://github.com/apache/arrow/pull/2220]\u00a0.In fact, the same PR has been merged into ray, see\u00a0[ray-project/ray#2174|https://github.com/ray-project/ray/pull/2174].\r\n\r\nand I have tested the perf between the new hashing method and the original one with putting lots of objects continuously, it seems the new hashing method doesn't cost more time.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 10m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 4200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Plasma] Use hashing function that takes into account all UniqueID bytes",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13170426/comment/16535343",
                    "id": "16535343",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pcmoritz",
                        "name": "pcmoritz",
                        "key": "pcmoritz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Philipp Moritz",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Issue resolved by pull request 2220\n[https://github.com/apache/arrow/pull/2220]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pcmoritz",
                        "name": "pcmoritz",
                        "key": "pcmoritz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Philipp Moritz",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-07-06T20:51:30.109+0000",
                    "updated": "2018-07-06T20:51:30.109+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|i3vlq7:",
        "customfield_12314139": null
    }
}