{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13241365",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365",
    "key": "ARROW-5718",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12344925",
                "id": "12344925",
                "description": "",
                "name": "0.14.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-07-04"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=romainfrancois",
            "name": "romainfrancois",
            "key": "romainfrancois",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=romainfrancois&avatarId=35092",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romainfrancois&avatarId=35092",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romainfrancois&avatarId=35092",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romainfrancois&avatarId=35092"
            },
            "displayName": "Romain Francois",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 10800,
            "total": 10800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 10800,
            "total": 10800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5718/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 18,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/267553",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on pull request #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704\n \n \n   elements of `...` that are unnamed in `record_batch(...)` or `table(...)` are automatically spliced: \r\n   \r\n   ``` r\r\n   library(arrow, warn.conflicts = FALSE)\r\n   library(tibble)\r\n   \r\n   df <- tibble(x = 1:10, y = letters[1:10])\r\n   ```\r\n   \r\n   ``` r\r\n   \r\n   # auto splicing\r\n   batch <- record_batch(df, z = 1:10)\r\n   as_tibble(batch)\r\n   #> # A tibble: 10 x 3\r\n   #>        x y         z\r\n   #>    <int> <chr> <int>\r\n   #>  1     1 a         1\r\n   #>  2     2 b         2\r\n   #>  3     3 c         3\r\n   #>  4     4 d         4\r\n   #>  5     5 e         5\r\n   #>  6     6 f         6\r\n   #>  7     7 g         7\r\n   #>  8     8 h         8\r\n   #>  9     9 i         9\r\n   #> 10    10 j        10\r\n   \r\n   # same as explicit splicing\r\n   batch <- record_batch(!!!df, z = 1:10)\r\n   as_tibble(batch)\r\n   #> # A tibble: 10 x 3\r\n   #>        x y         z\r\n   #>    <int> <chr> <int>\r\n   #>  1     1 a         1\r\n   #>  2     2 b         2\r\n   #>  3     3 c         3\r\n   #>  4     4 d         4\r\n   #>  5     5 e         5\r\n   #>  6     6 f         6\r\n   #>  7     7 g         7\r\n   #>  8     8 h         8\r\n   #>  9     9 i         9\r\n   #> 10    10 j        10\r\n   ```\r\n   \r\n   ``` r\r\n   \r\n   # auto splicing\r\n   tab <- table(df, z = 1:10)\r\n   as_tibble(tab)\r\n   #> # A tibble: 10 x 3\r\n   #>        x y         z\r\n   #>    <int> <chr> <int>\r\n   #>  1     1 a         1\r\n   #>  2     2 b         2\r\n   #>  3     3 c         3\r\n   #>  4     4 d         4\r\n   #>  5     5 e         5\r\n   #>  6     6 f         6\r\n   #>  7     7 g         7\r\n   #>  8     8 h         8\r\n   #>  9     9 i         9\r\n   #> 10    10 j        10\r\n   \r\n   # same as explicit splicing\r\n   tab <- table(!!!df, z = 1:10)\r\n   as_tibble(tab)\r\n   #> # A tibble: 10 x 3\r\n   #>        x y         z\r\n   #>    <int> <chr> <int>\r\n   #>  1     1 a         1\r\n   #>  2     2 b         2\r\n   #>  3     3 c         3\r\n   #>  4     4 d         4\r\n   #>  5     5 e         5\r\n   #>  6     6 f         6\r\n   #>  7     7 g         7\r\n   #>  8     8 h         8\r\n   #>  9     9 i         9\r\n   #> 10    10 j        10\r\n   ```\r\n   \r\n   In particular, this gives us back `record_batch(<data.frame>)` and `table(<data.frame>)` : \r\n   \r\n   ``` r\r\n   library(arrow, warn.conflicts = FALSE)\r\n   library(tibble)\r\n   \r\n   df <- tibble(x = 1:10, y = letters[1:10])\r\n   record_batch(df)\r\n   #> arrow::RecordBatch\r\n   table(df)\r\n   #> arrow::Table\r\n   ```\r\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T12:14:23.372+0000",
                    "updated": "2019-06-26T12:14:23.372+0000",
                    "started": "2019-06-26T12:14:23.372+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267553",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/267635",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#discussion_r297669348\n \n \n\n ##########\n File path: r/src/table.cpp\n ##########\n @@ -117,54 +117,84 @@ std::shared_ptr<arrow::Table> Table__from_dots(SEXP lst, SEXP schema_sxp) {\n     return tab;\n   }\n \n-  R_xlen_t n = XLENGTH(lst);\n-  std::vector<std::shared_ptr<arrow::Column>> columns(n);\n+  int num_fields;\n \n Review comment:\n   I'm curious why the record_batch and table code isn't more shared\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T13:37:35.753+0000",
                    "updated": "2019-06-26T13:37:35.753+0000",
                    "started": "2019-06-26T13:37:35.752+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267635",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/267636",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#discussion_r297667853\n \n \n\n ##########\n File path: r/tests/testthat/test-RecordBatch.R\n ##########\n @@ -170,3 +170,19 @@ test_that(\"record_batch() handles data frame columns with schema spec\", {\n   schema <- schema(a = int32(), b = struct(x = int16(), y = utf8()))\n   expect_error(record_batch(a = 1:10, b = tib, schema = schema))\n })\n+\n+test_that(\"record_batch() auto splices (ARROW-5718)\", {\n+  df <- tibble::tibble(x = 1:10, y = letters[1:10])\n+  batch1 <- record_batch(df)\n+  batch2 <- record_batch(!!!df)\n+  expect_equal(batch1, batch2)\n+  expect_equal(batch1$schema, schema(x = int32(), y = utf8()))\n+  expect_equivalent(as.data.frame(batch1), df)\n+\n+  s <- schema(x = float64(), y = utf8())\n+  batch3 <- record_batch(df, schema = s)\n+  batch4 <- record_batch(!!!df, schema = s)\n+  expect_equal(batch3, batch4)\n+  expect_equal(batch3$schema, s)\n+  expect_equivalent(as.data.frame(batch3), df)\n+})\n \n Review comment:\n   It would be nice also to see a test for the autosplicing with more than one argument like in the PR description, \r\n   \r\n   ```\r\n   df <- tibble(x = 1:10, y = letters[1:10])\r\n   batch <- record_batch(df, z = 1:10)\r\n   ```\r\n   \r\n   and also a test for the error handling when you give an unnamed argument that isn't a data.frame. And while the struct column behavior is tested elsewhere, it might be nice to show here how `batch1 <- record_batch(df)` and `batch1 <- record_batch(x = df)` are different.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T13:37:36.230+0000",
                    "updated": "2019-06-26T13:37:36.230+0000",
                    "started": "2019-06-26T13:37:36.229+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267636",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/267637",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#discussion_r297665546\n \n \n\n ##########\n File path: r/R/RecordBatch.R\n ##########\n @@ -98,6 +98,9 @@\n #' @export\n record_batch <- function(..., schema = NULL){\n   arrays <- list2(...)\n+  if (is.null(names(arrays))) {\n+    names(arrays) <- rep_len(\"\", length(arrays))\n \n Review comment:\n   Add a comment for why this is here?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T13:37:36.375+0000",
                    "updated": "2019-06-26T13:37:36.375+0000",
                    "started": "2019-06-26T13:37:36.375+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267637",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/267662",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on pull request #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#discussion_r297685957\n \n \n\n ##########\n File path: r/src/table.cpp\n ##########\n @@ -117,54 +117,84 @@ std::shared_ptr<arrow::Table> Table__from_dots(SEXP lst, SEXP schema_sxp) {\n     return tab;\n   }\n \n-  R_xlen_t n = XLENGTH(lst);\n-  std::vector<std::shared_ptr<arrow::Column>> columns(n);\n+  int num_fields;\n \n Review comment:\n   It could be. record batch only have to handle arrays, where tables have to handle arrays, chunked arrays, columns. but I agree that the structure of the code is similar. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T14:07:46.762+0000",
                    "updated": "2019-06-26T14:07:46.762+0000",
                    "started": "2019-06-26T14:07:46.761+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267662",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/267674",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#discussion_r297691799\n \n \n\n ##########\n File path: r/R/RecordBatch.R\n ##########\n @@ -98,6 +98,7 @@\n #' @export\n record_batch <- function(..., schema = NULL){\n   arrays <- list2(...)\n+  # making sure there are always names\n \n Review comment:\n   Right but why? IIUC this has to do with how the cpp code distinguishes things to autosplice, switching behavior on `nchar(name)`. That's a subtlety I'll probably forget by Monday so it seems worth explaining.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T14:17:47.369+0000",
                    "updated": "2019-06-26T14:17:47.369+0000",
                    "started": "2019-06-26T14:17:47.368+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267674",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/267682",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on pull request #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#discussion_r297696239\n \n \n\n ##########\n File path: r/R/RecordBatch.R\n ##########\n @@ -98,6 +98,7 @@\n #' @export\n record_batch <- function(..., schema = NULL){\n   arrays <- list2(...)\n+  # making sure there are always names\n \n Review comment:\n   ``` r\r\n   names(list(a = 1, b = 2))\r\n   #> [1] \"a\" \"b\"\r\n   names(list(a = 1, 2))\r\n   #> [1] \"a\" \"\"\r\n   names(list(1, 2))\r\n   #> NULL\r\n   ```\r\n   \r\n   otherwise we'd have to treat the NULL case differently internally as we did before, maybe I could do that instead. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T14:25:43.342+0000",
                    "updated": "2019-06-26T14:25:43.342+0000",
                    "started": "2019-06-26T14:25:43.342+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267682",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/267884",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#discussion_r297825145\n \n \n\n ##########\n File path: r/src/table.cpp\n ##########\n @@ -117,54 +117,84 @@ std::shared_ptr<arrow::Table> Table__from_dots(SEXP lst, SEXP schema_sxp) {\n     return tab;\n   }\n \n-  R_xlen_t n = XLENGTH(lst);\n-  std::vector<std::shared_ptr<arrow::Column>> columns(n);\n+  int num_fields;\n \n Review comment:\n   I think we should refactor the flatten-for loop into a small function if they're all the same.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T19:12:56.666+0000",
                    "updated": "2019-06-26T19:12:56.666+0000",
                    "started": "2019-06-26T19:12:56.666+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267884",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/267885",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#discussion_r297790846\n \n \n\n ##########\n File path: r/src/recordbatch.cpp\n ##########\n @@ -163,30 +166,69 @@ arrow::Status check_consistent_array_size(\n   return arrow::Status::OK();\n }\n \n+Status count_fields(SEXP lst, int* out) {\n+  int res = 0;\n+  R_xlen_t n = XLENGTH(lst);\n+  SEXP names = Rf_getAttrib(lst, R_NamesSymbol);\n+  for (R_xlen_t i = 0; i < n; i++) {\n+    if (LENGTH(STRING_ELT(names, i)) > 0) {\n+      ++res;\n+    } else {\n+      SEXP x = VECTOR_ELT(lst, i);\n+      if (Rf_inherits(x, \"data.frame\")) {\n+        res += XLENGTH(x);\n+      } else {\n+        return Status::RError(\n+            \"only data frames are allowed as unnamed arguments to be auto spliced\");\n+      }\n+    }\n+  }\n+  *out = res;\n+  return Status::OK();\n+}\n+\n+}  // namespace r\n+}  // namespace arrow\n+\n std::shared_ptr<arrow::RecordBatch> RecordBatch__from_arrays__known_schema(\n     const std::shared_ptr<arrow::Schema>& schema, SEXP lst) {\n-  R_xlen_t n_arrays = XLENGTH(lst);\n-  if (schema->num_fields() != n_arrays) {\n+  int num_fields;\n+  STOP_IF_NOT_OK(arrow::r::count_fields(lst, &num_fields));\n+\n+  if (schema->num_fields() != num_fields) {\n     Rcpp::stop(\"incompatible. schema has %d fields, and %d arrays are supplied\",\n-               schema->num_fields(), n_arrays);\n+               schema->num_fields(), num_fields);\n   }\n \n   // convert lst to a vector of arrow::Array\n-  std::vector<std::shared_ptr<arrow::Array>> arrays(n_arrays);\n+  std::vector<std::shared_ptr<arrow::Array>> arrays(num_fields);\n   SEXP names = Rf_getAttrib(lst, R_NamesSymbol);\n-  bool has_names = !Rf_isNull(names);\n \n-  for (R_xlen_t i = 0; i < n_arrays; i++) {\n-    if (has_names && schema->field(i)->name() != CHAR(STRING_ELT(names, i))) {\n-      Rcpp::stop(\"field at index %d has name '%s' != '%s'\", i + 1,\n-                 schema->field(i)->name(), CHAR(STRING_ELT(names, i)));\n+  auto fill_array = [&arrays, &schema](int j, SEXP x, SEXP name) {\n+    if (schema->field(j)->name() != CHAR(name)) {\n+      Rcpp::stop(\"field at index %d has name '%s' != '%s'\", j + 1,\n+                 schema->field(j)->name(), CHAR(name));\n+    }\n+    arrays[j] = arrow::r::Array__from_vector(x, schema->field(j)->type(), false);\n+  };\n+\n+  for (R_xlen_t i = 0, j = 0; j < num_fields; i++) {\n \n Review comment:\n   Can you simplify the loop conditions? Make it only iterate over `i` and XLENGTH(lst) and use an external variable,e.g.\r\n   \r\n   ```\r\n   int out_idx = 0;\r\n   for (R_xlen_t i = 0; i < XLENGHT(lst); i++) {\r\n     ...\r\n     if (..) {\r\n       for (...)\r\n         fill_array(out_idx++, VECTOR_ELT(x_i, k), STRING_ELT(names_x_i, k));\r\n     } else {\r\n       fill_array(out_idx++, x_i, name_i);\r\n     }\r\n   }\r\n   assert(out_idx == num_fields);\r\n   ```\r\n   \r\n   The loop is now invariant on j (out_idx in example) Easier to follow and review/refactor.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T19:12:56.699+0000",
                    "updated": "2019-06-26T19:12:56.699+0000",
                    "started": "2019-06-26T19:12:56.698+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267885",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/267886",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#discussion_r297794177\n \n \n\n ##########\n File path: r/src/recordbatch.cpp\n ##########\n @@ -197,38 +239,45 @@ std::shared_ptr<arrow::RecordBatch> RecordBatch__from_arrays(SEXP schema_sxp, SE\n         arrow::r::extract<arrow::Schema>(schema_sxp), lst);\n   }\n \n-  R_xlen_t n_arrays = XLENGTH(lst);\n+  int num_fields;\n+  STOP_IF_NOT_OK(arrow::r::count_fields(lst, &num_fields));\n \n   // convert lst to a vector of arrow::Array\n-  std::vector<std::shared_ptr<arrow::Array>> arrays(n_arrays);\n-  for (R_xlen_t i = 0; i < n_arrays; i++) {\n-    arrays[i] = Array__from_vector(VECTOR_ELT(lst, i), R_NilValue);\n+  std::vector<std::shared_ptr<arrow::Array>> arrays(num_fields);\n+  std::vector<std::string> arrays_names(num_fields);\n+  SEXP names = Rf_getAttrib(lst, R_NamesSymbol);\n+\n+  auto fill_array = [&arrays, &arrays_names](int j, SEXP x, SEXP name) {\n+    arrays[j] = Array__from_vector(x, R_NilValue);\n+    arrays_names[j] = CHAR(name);\n+  };\n+\n+  for (R_xlen_t i = 0, j = 0; j < num_fields; i++) {\n+    SEXP name_i = STRING_ELT(names, i);\n+    SEXP x_i = VECTOR_ELT(lst, i);\n+    if (LENGTH(name_i) == 0) {\n+      SEXP names_x_i = Rf_getAttrib(x_i, R_NamesSymbol);\n+      for (R_xlen_t k = 0; k < XLENGTH(x_i); k++, j++) {\n+        fill_array(j, VECTOR_ELT(x_i, k), STRING_ELT(names_x_i, k));\n+      }\n+    } else {\n+      fill_array(j, x_i, name_i);\n+      j++;\n+    }\n   }\n \n   // generate schema from the types that have been infered\n   std::shared_ptr<arrow::Schema> schema;\n-  if (Rf_inherits(schema_sxp, \"arrow::Schema\")) {\n-    schema = arrow::r::extract<arrow::Schema>(schema_sxp);\n-  } else {\n-    Rcpp::CharacterVector names(Rf_getAttrib(lst, R_NamesSymbol));\n-    std::vector<std::shared_ptr<arrow::Field>> fields(n_arrays);\n-    for (R_xlen_t i = 0; i < n_arrays; i++) {\n-      fields[i] =\n-          std::make_shared<arrow::Field>(std::string(names[i]), arrays[i]->type());\n-    }\n-    schema = std::make_shared<arrow::Schema>(std::move(fields));\n-  }\n \n-  Rcpp::CharacterVector names(Rf_getAttrib(lst, R_NamesSymbol));\n-  std::vector<std::shared_ptr<arrow::Field>> fields(n_arrays);\n-  for (R_xlen_t i = 0; i < n_arrays; i++) {\n-    fields[i] = std::make_shared<arrow::Field>(std::string(names[i]), arrays[i]->type());\n+  std::vector<std::shared_ptr<arrow::Field>> fields(num_fields);\n \n Review comment:\n   Seems like  `Schema::Make(const std::vector<Array>, const std::vector<string>)` could be a convenient method to have globally.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T19:12:56.780+0000",
                    "updated": "2019-06-26T19:12:56.780+0000",
                    "started": "2019-06-26T19:12:56.779+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267886",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/267887",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#discussion_r297792172\n \n \n\n ##########\n File path: r/src/recordbatch.cpp\n ##########\n @@ -163,30 +166,69 @@ arrow::Status check_consistent_array_size(\n   return arrow::Status::OK();\n }\n \n+Status count_fields(SEXP lst, int* out) {\n+  int res = 0;\n+  R_xlen_t n = XLENGTH(lst);\n+  SEXP names = Rf_getAttrib(lst, R_NamesSymbol);\n+  for (R_xlen_t i = 0; i < n; i++) {\n+    if (LENGTH(STRING_ELT(names, i)) > 0) {\n+      ++res;\n+    } else {\n+      SEXP x = VECTOR_ELT(lst, i);\n+      if (Rf_inherits(x, \"data.frame\")) {\n+        res += XLENGTH(x);\n+      } else {\n+        return Status::RError(\n+            \"only data frames are allowed as unnamed arguments to be auto spliced\");\n+      }\n+    }\n+  }\n+  *out = res;\n+  return Status::OK();\n+}\n+\n+}  // namespace r\n+}  // namespace arrow\n+\n std::shared_ptr<arrow::RecordBatch> RecordBatch__from_arrays__known_schema(\n     const std::shared_ptr<arrow::Schema>& schema, SEXP lst) {\n-  R_xlen_t n_arrays = XLENGTH(lst);\n-  if (schema->num_fields() != n_arrays) {\n+  int num_fields;\n+  STOP_IF_NOT_OK(arrow::r::count_fields(lst, &num_fields));\n+\n+  if (schema->num_fields() != num_fields) {\n     Rcpp::stop(\"incompatible. schema has %d fields, and %d arrays are supplied\",\n-               schema->num_fields(), n_arrays);\n+               schema->num_fields(), num_fields);\n   }\n \n   // convert lst to a vector of arrow::Array\n-  std::vector<std::shared_ptr<arrow::Array>> arrays(n_arrays);\n+  std::vector<std::shared_ptr<arrow::Array>> arrays(num_fields);\n   SEXP names = Rf_getAttrib(lst, R_NamesSymbol);\n-  bool has_names = !Rf_isNull(names);\n \n-  for (R_xlen_t i = 0; i < n_arrays; i++) {\n-    if (has_names && schema->field(i)->name() != CHAR(STRING_ELT(names, i))) {\n-      Rcpp::stop(\"field at index %d has name '%s' != '%s'\", i + 1,\n-                 schema->field(i)->name(), CHAR(STRING_ELT(names, i)));\n+  auto fill_array = [&arrays, &schema](int j, SEXP x, SEXP name) {\n+    if (schema->field(j)->name() != CHAR(name)) {\n+      Rcpp::stop(\"field at index %d has name '%s' != '%s'\", j + 1,\n+                 schema->field(j)->name(), CHAR(name));\n+    }\n+    arrays[j] = arrow::r::Array__from_vector(x, schema->field(j)->type(), false);\n+  };\n+\n+  for (R_xlen_t i = 0, j = 0; j < num_fields; i++) {\n \n Review comment:\n   Bonus point, get rid of all of this and make a C++ iterator over `lst` that will behave as-if \"flattened\".\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T19:13:00.981+0000",
                    "updated": "2019-06-26T19:13:00.981+0000",
                    "started": "2019-06-26T19:13:00.980+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267887",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/268639",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#issuecomment-506430204\n \n \n   What's the status on this? Since we're at the 0.14.0 end game we probably need to get this to merge readiness or defer to next release in the next 12-24 hours\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-27T17:03:14.050+0000",
                    "updated": "2019-06-27T17:03:14.050+0000",
                    "started": "2019-06-27T17:03:14.050+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "268639",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/268663",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on issue #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#issuecomment-506440824\n \n \n   This should go in 0.14, otherwise we'll have to facilitate a sparklyr workaround. Plus it's the right interface to expose.\r\n   \r\n   IMO the feedback from Fran\u00e7ois could be addressed in a followup ticket. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-27T17:34:41.309+0000",
                    "updated": "2019-06-27T17:34:41.309+0000",
                    "started": "2019-06-27T17:34:41.309+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "268663",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/268669",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on issue #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#issuecomment-506441989\n \n \n   I also think it's more important to get this in (seems like a very convenient feature), than have a simplified loop.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-27T17:37:58.104+0000",
                    "updated": "2019-06-27T17:37:58.104+0000",
                    "started": "2019-06-27T17:37:58.103+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "268669",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/268747",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on issue #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#issuecomment-506472766\n \n \n   The appveyor failure was the r-project.org DNS outage from yesterday. I just checked out this PR locally and ran `R CMD check` and it was clean. Created https://issues.apache.org/jira/browse/ARROW-5761 for the followup. @fsaintjacques would you please merge?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-27T19:06:43.219+0000",
                    "updated": "2019-06-27T19:06:43.219+0000",
                    "started": "2019-06-27T19:06:43.218+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "268747",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/268752",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on issue #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#issuecomment-506473939\n \n \n   I will run the docker-compose R image locally, should be completed in 5-10 minutes and will merge if successful.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-27T19:10:17.924+0000",
                    "updated": "2019-06-27T19:10:17.924+0000",
                    "started": "2019-06-27T19:10:17.923+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "268752",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/268788",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on issue #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704#issuecomment-506486437\n \n \n   docker image failed, but unrelated to this change, I'll open a ticket, but merge.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-27T19:51:49.660+0000",
                    "updated": "2019-06-27T19:51:49.660+0000",
                    "started": "2019-06-27T19:51:49.660+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "268788",
                    "issueId": "13241365"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/worklog/268790",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4704: ARROW-5718: [R] auto splice data frames in record_batch() and table()\nURL: https://github.com/apache/arrow/pull/4704\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-27T19:52:35.450+0000",
                    "updated": "2019-06-27T19:52:35.450+0000",
                    "started": "2019-06-27T19:52:35.449+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "268790",
                    "issueId": "13241365"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 10800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@5dbfe6c0[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2dfeeacf[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5c20b215[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@6d283cc[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@526351e5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@72df0509[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2b36a15d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@39688b14[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@714c09a5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@7b31bdc8[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6593d7ba[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@185ec037[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 10800,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Jun 25 16:25:03 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-06-27T19:53:13.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5718/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2019-06-24T23:48:26.000+0000",
        "updated": "2019-06-27T19:53:14.000+0000",
        "timeoriginalestimate": null,
        "description": "ARROW-3814 /\u00a0[https://github.com/apache/arrow/pull/3565/files#diff-95ad459e0128bfecf0d72ebd6d6ee8aaR94]\u00a0changed the API of `record_batch()` and `arrow::table()` such that you could no longer pass in a data.frame to the function, not without [massaging it yourself|https://github.com/apache/arrow/pull/3565/files#diff-09c05d1a6ff41bed094fbccfa76395a6R27]. That broke sparklyr integration tests with an opaque `cannot infer type from data` error, and it's unfortunate that there's no longer a direct way to go from a data.frame to a record batch, which sounds like a common need.\r\n\r\nIn order to follow best practices (cf. the [tibble|https://tibble.tidyverse.org/]\u00a0package, for example), we should\u00a0(1) add an {{as_record_batch}}\u00a0function, which the data.frame method is probably just {{as_record_batch.data.frame <- function(x) record_batch(!!!x)}}; and (2) if a user supplies a single, unnamed data.frame as the argument to {{record_batch()}}, raise an error that says to use {{as_record_batch()}}. We may later decide that we should automatically call as_record_batch(), but in case that is too magical and prevents some legitimate use case, let's hold off for now. It's easier to add magic than remove it.\r\n\r\nOnce this function exists, sparklyr tests can try to use {{as_record_batch}}, and if that function doesn't exist, fall back to {{record_batch}} (because that means it has an older released version of arrow that doesn't have as_record_batch, so record_batch(df) should work).\r\n\r\ncc [~javierluraschi]",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "3h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 10800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] auto splice data frames in record_batch() and table()",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/comment/16871884",
                    "id": "16871884",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Is there a link to the related discussion or some other cross-reference?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-06-24T23:53:25.268+0000",
                    "updated": "2019-06-24T23:53:25.268+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/comment/16872287",
                    "id": "16872287",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=romainfrancois",
                        "name": "romainfrancois",
                        "key": "romainfrancois",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=romainfrancois&avatarId=35092",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romainfrancois&avatarId=35092",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romainfrancois&avatarId=35092",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romainfrancois&avatarId=35092"
                        },
                        "displayName": "Romain Francois",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "I think it's fine if we were to auto splice, i.e.:\u00a0\r\n\r\n{code:r}\r\nrecord_batch(mtcars)\r\n{code}\r\n\r\nwould be the same as \r\n\r\n{code:r}\r\nrecord_batch(!!!mtcars)\r\n{code}\r\n\r\nbecause unnamed, this is the direction we'll take in. dplyr too for e.g. summarise and mutate. \r\n\r\nHowever, something like : \r\n\r\n{code:r}\r\nrecord_batch(x = mtcars)\r\n{code}\r\n\r\nwill create a struct array, aka a data frame column. \r\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=romainfrancois",
                        "name": "romainfrancois",
                        "key": "romainfrancois",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=romainfrancois&avatarId=35092",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romainfrancois&avatarId=35092",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romainfrancois&avatarId=35092",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romainfrancois&avatarId=35092"
                        },
                        "displayName": "Romain Francois",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-25T11:42:54.320+0000",
                    "updated": "2019-06-25T11:42:54.320+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13241365/comment/16872497",
                    "id": "16872497",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Makes sense to me.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2019-06-25T16:25:03.649+0000",
                    "updated": "2019-06-25T16:25:03.649+0000"
                }
            ],
            "maxResults": 3,
            "total": 3,
            "startAt": 0
        },
        "customfield_12311820": "0|z0429s:",
        "customfield_12314139": null
    }
}