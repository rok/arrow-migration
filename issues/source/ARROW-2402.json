{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13150306",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150306",
    "key": "ARROW-2402",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12342562",
                "id": "12342562",
                "description": "",
                "name": "0.10.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-08-06"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12341707",
                "id": "12341707",
                "description": "",
                "name": "0.9.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-03-19"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
            "name": "apitrou",
            "key": "pitrou",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
            },
            "displayName": "Antoine Pitrou",
            "active": true,
            "timeZone": "Europe/Paris"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
            "name": "apitrou",
            "key": "pitrou",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
            },
            "displayName": "Antoine Pitrou",
            "active": true,
            "timeZone": "Europe/Paris"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
            "name": "apitrou",
            "key": "pitrou",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
            },
            "displayName": "Antoine Pitrou",
            "active": true,
            "timeZone": "Europe/Paris"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2402/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@2a42f589[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4e5ffcb2[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4d8f873e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@7c045851[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6c391e0c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@7a235d58[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4ba49355[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@153c8ca0[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@31d13975[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@51786b8a[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3e2964cb[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@4f81b622[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Apr 06 14:03:27 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-04-06T13:41:53.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2402/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2018-04-05T14:01:06.000+0000",
        "updated": "2018-04-06T14:03:27.000+0000",
        "timeoriginalestimate": null,
        "description": "This implies that calling {{FixedSizeBinaryBuilder::Append}} with a \"const char*\" argument currently instantiates a temporary {{std::string}}.",
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] FixedSizeBinaryBuilder::Append lacks \"const char*\" overload",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150306/comment/16426972",
                    "id": "16426972",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pitrou opened a new pull request #1841: ARROW-2402: [C++] Avoid spurious copies with FixedSizeBinaryBuilder\nURL: https://github.com/apache/arrow/pull/1841\n \n \n   The lack of a FixedSizeBinaryBuilder::Append() overload for \"const char*\" implied a temporary conversion to std::string.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-05T14:05:47.311+0000",
                    "updated": "2018-04-05T14:05:47.311+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150306/comment/16426975",
                    "id": "16426975",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pitrou commented on issue #1841: ARROW-2402: [C++] Avoid spurious copies with FixedSizeBinaryBuilder\nURL: https://github.com/apache/arrow/pull/1841#issuecomment-378948242\n \n \n   Before:\r\n   ```\r\n   Benchmark                                              Time           CPU Iterations\r\n   ------------------------------------------------------------------------------------\r\n   BM_BuildFixedSizeBinaryArray/repeats:3             88124 us      88090 us          8    113.52MB/s\r\n   BM_BuildFixedSizeBinaryArray/repeats:3             87680 us      87644 us          8   114.098MB/s\r\n   BM_BuildFixedSizeBinaryArray/repeats:3             88302 us      88262 us          8   113.299MB/s\r\n   BM_BuildFixedSizeBinaryArray/repeats:3_mean        88036 us      87999 us          8   113.639MB/s\r\n   BM_BuildFixedSizeBinaryArray/repeats:3_stddev        262 us        261 us          0   345.013kB/s\r\n   ```\r\n   \r\n   After:\r\n   ```\r\n   Benchmark                                              Time           CPU Iterations\r\n   ------------------------------------------------------------------------------------\r\n   BM_BuildFixedSizeBinaryArray/repeats:3             12534 us      12506 us         56   799.587MB/s\r\n   BM_BuildFixedSizeBinaryArray/repeats:3             12553 us      12524 us         56   798.455MB/s\r\n   BM_BuildFixedSizeBinaryArray/repeats:3             12537 us      12518 us         56    798.85MB/s\r\n   BM_BuildFixedSizeBinaryArray/repeats:3_mean        12541 us      12516 us         56   798.964MB/s\r\n   BM_BuildFixedSizeBinaryArray/repeats:3_stddev          8 us          7 us          0   480.683kB/s\r\n   ```\r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-05T14:06:23.712+0000",
                    "updated": "2018-04-05T14:06:23.712+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150306/comment/16426984",
                    "id": "16426984",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pitrou commented on issue #1841: ARROW-2402: [C++] Avoid spurious copies with FixedSizeBinaryBuilder\nURL: https://github.com/apache/arrow/pull/1841#issuecomment-378949756\n \n \n   Also noticeable in Python (the \"binary10\" row):\r\n   * before:\r\n   ```\r\n   [100.00%] \u00b7\u00b7\u00b7 Running convert_builtins.ConvertPyListToArray.time_convert                                                                                 ok\r\n   [100.00%] \u00b7\u00b7\u00b7\u00b7 \r\n                  ==================== =============\r\n                          type                      \r\n                  -------------------- -------------\r\n                         int32          5.67\u00b10.08ms \r\n                         uint32         5.32\u00b10.06ms \r\n                         int64           5.71\u00b10.1ms \r\n                         uint64          5.44\u00b10.1ms \r\n                        float32         4.77\u00b10.04ms \r\n                        float64         5.04\u00b10.04ms \r\n                          bool          4.13\u00b10.01ms \r\n                        decimal          180\u00b10.3ms  \r\n                         binary          8.77\u00b10.1ms \r\n                        binary10         12.2\u00b10.2ms \r\n                         ascii           10.5\u00b10.2ms \r\n                        unicode          18.4\u00b10.7ms \r\n                       int64 list        52.2\u00b10.6ms \r\n                         struct           32.5\u00b11ms  \r\n                   struct from tuples     32.0\u00b12ms  \r\n                  ==================== =============\r\n   ```\r\n   * after:\r\n   ```\r\n   [100.00%] \u00b7\u00b7\u00b7 Running convert_builtins.ConvertPyListToArray.time_convert                                                                                 ok\r\n   [100.00%] \u00b7\u00b7\u00b7\u00b7 \r\n                  ==================== =============\r\n                          type                      \r\n                  -------------------- -------------\r\n                         int32           5.65\u00b10.1ms \r\n                         uint32          5.26\u00b10.1ms \r\n                         int64           5.90\u00b10.1ms \r\n                         uint64          5.76\u00b10.1ms \r\n                        float32         5.23\u00b10.03ms \r\n                        float64         5.42\u00b10.04ms \r\n                          bool          4.06\u00b10.02ms \r\n                        decimal          183\u00b10.4ms  \r\n                         binary          8.62\u00b10.1ms \r\n                        binary10         5.78\u00b10.1ms \r\n                         ascii           10.4\u00b10.2ms \r\n                        unicode          18.2\u00b10.8ms \r\n                       int64 list        50.6\u00b10.7ms \r\n                         struct           32.5\u00b11ms  \r\n                   struct from tuples     31.7\u00b11ms  \r\n                  ==================== =============\r\n   ```\r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-05T14:10:54.434+0000",
                    "updated": "2018-04-05T14:10:54.434+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150306/comment/16428332",
                    "id": "16428332",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "xhochy commented on a change in pull request #1841: ARROW-2402: [C++] Avoid spurious copies with FixedSizeBinaryBuilder\nURL: https://github.com/apache/arrow/pull/1841#discussion_r179759229\n \n \n\n ##########\n File path: cpp/src/arrow/builder.h\n ##########\n @@ -730,7 +730,14 @@ class ARROW_EXPORT FixedSizeBinaryBuilder : public ArrayBuilder {\n   FixedSizeBinaryBuilder(const std::shared_ptr<DataType>& type,\n                          MemoryPool* pool ARROW_MEMORY_POOL_DEFAULT);\n \n-  Status Append(const uint8_t* value);\n+  Status Append(const uint8_t* value) {\n \n Review comment:\n   I understand the performance benefits of moving this to the header but this also reminds me that we should have a look at our build process. This will inline the code in more places but also makes binaries a bit larger, if we would build using `-fLTO` we should be able to get rid of those duplications while having even a bit better performance at the same time. \r\n   \r\n   The change here is probably not significant at all but all the small ones add up over time.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-06T13:37:36.350+0000",
                    "updated": "2018-04-06T13:37:36.350+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150306/comment/16428336",
                    "id": "16428336",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "xhochy closed pull request #1841: ARROW-2402: [C++] Avoid spurious copies with FixedSizeBinaryBuilder\nURL: https://github.com/apache/arrow/pull/1841\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/cpp/src/arrow/array-test.cc b/cpp/src/arrow/array-test.cc\nindex 0b4342a53..fb1bebfca 100644\n--- a/cpp/src/arrow/array-test.cc\n+++ b/cpp/src/arrow/array-test.cc\n@@ -1412,9 +1412,9 @@ TEST_F(TestFWBinaryArray, ZeroSize) {\n   auto type = fixed_size_binary(0);\n   FixedSizeBinaryBuilder builder(type);\n \n-  ASSERT_OK(builder.Append(nullptr));\n-  ASSERT_OK(builder.Append(nullptr));\n-  ASSERT_OK(builder.Append(nullptr));\n+  ASSERT_OK(builder.Append(\"\"));\n+  ASSERT_OK(builder.Append(std::string()));\n+  ASSERT_OK(builder.Append(static_cast<const uint8_t*>(nullptr)));\n   ASSERT_OK(builder.AppendNull());\n   ASSERT_OK(builder.AppendNull());\n   ASSERT_OK(builder.AppendNull());\ndiff --git a/cpp/src/arrow/builder-benchmark.cc b/cpp/src/arrow/builder-benchmark.cc\nindex 12dfbe817..9ad129577 100644\n--- a/cpp/src/arrow/builder-benchmark.cc\n+++ b/cpp/src/arrow/builder-benchmark.cc\n@@ -131,6 +131,25 @@ static void BM_BuildBinaryArray(benchmark::State& state) {  // NOLINT non-const\n   state.SetBytesProcessed(state.iterations() * iterations * value.size());\n }\n \n+static void BM_BuildFixedSizeBinaryArray(\n+    benchmark::State& state) {  // NOLINT non-const reference\n+  const int64_t iterations = 1 << 20;\n+  const int width = 10;\n+\n+  auto type = fixed_size_binary(width);\n+  const char value[width + 1] = \"1234567890\";\n+\n+  while (state.KeepRunning()) {\n+    FixedSizeBinaryBuilder builder(type);\n+    for (int64_t i = 0; i < iterations; i++) {\n+      ABORT_NOT_OK(builder.Append(value));\n+    }\n+    std::shared_ptr<Array> out;\n+    ABORT_NOT_OK(builder.Finish(&out));\n+  }\n+  state.SetBytesProcessed(state.iterations() * iterations * width);\n+}\n+\n BENCHMARK(BM_BuildPrimitiveArrayNoNulls)->Repetitions(3)->Unit(benchmark::kMicrosecond);\n BENCHMARK(BM_BuildVectorNoNulls)->Repetitions(3)->Unit(benchmark::kMicrosecond);\n BENCHMARK(BM_BuildAdaptiveIntNoNulls)->Repetitions(3)->Unit(benchmark::kMicrosecond);\n@@ -140,5 +159,6 @@ BENCHMARK(BM_BuildAdaptiveIntNoNullsScalarAppend)\n BENCHMARK(BM_BuildAdaptiveUIntNoNulls)->Repetitions(3)->Unit(benchmark::kMicrosecond);\n \n BENCHMARK(BM_BuildBinaryArray)->Repetitions(3)->Unit(benchmark::kMicrosecond);\n+BENCHMARK(BM_BuildFixedSizeBinaryArray)->Repetitions(3)->Unit(benchmark::kMicrosecond);\n \n }  // namespace arrow\ndiff --git a/cpp/src/arrow/builder.cc b/cpp/src/arrow/builder.cc\nindex a502e1fc2..c97253e64 100644\n--- a/cpp/src/arrow/builder.cc\n+++ b/cpp/src/arrow/builder.cc\n@@ -1422,12 +1422,6 @@ FixedSizeBinaryBuilder::FixedSizeBinaryBuilder(const std::shared_ptr<DataType>&\n       byte_width_(static_cast<const FixedSizeBinaryType&>(*type).byte_width()),\n       byte_builder_(pool) {}\n \n-Status FixedSizeBinaryBuilder::Append(const uint8_t* value) {\n-  RETURN_NOT_OK(Reserve(1));\n-  UnsafeAppendToBitmap(true);\n-  return byte_builder_.Append(value, byte_width_);\n-}\n-\n Status FixedSizeBinaryBuilder::Append(const uint8_t* data, int64_t length,\n                                       const uint8_t* valid_bytes) {\n   RETURN_NOT_OK(Reserve(length));\ndiff --git a/cpp/src/arrow/builder.h b/cpp/src/arrow/builder.h\nindex 32cfdd408..b0f77bd98 100644\n--- a/cpp/src/arrow/builder.h\n+++ b/cpp/src/arrow/builder.h\n@@ -730,7 +730,14 @@ class ARROW_EXPORT FixedSizeBinaryBuilder : public ArrayBuilder {\n   FixedSizeBinaryBuilder(const std::shared_ptr<DataType>& type,\n                          MemoryPool* pool ARROW_MEMORY_POOL_DEFAULT);\n \n-  Status Append(const uint8_t* value);\n+  Status Append(const uint8_t* value) {\n+    RETURN_NOT_OK(Reserve(1));\n+    UnsafeAppendToBitmap(true);\n+    return byte_builder_.Append(value, byte_width_);\n+  }\n+  Status Append(const char* value) {\n+    return Append(reinterpret_cast<const uint8_t*>(value));\n+  }\n \n   template <size_t NBYTES>\n   Status Append(const std::array<uint8_t, NBYTES>& value) {\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-06T13:41:26.892+0000",
                    "updated": "2018-04-06T13:41:26.892+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150306/comment/16428339",
                    "id": "16428339",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "body": "Issue resolved by pull request 1841\n[https://github.com/apache/arrow/pull/1841]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "created": "2018-04-06T13:41:53.970+0000",
                    "updated": "2018-04-06T13:41:53.970+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13150306/comment/16428363",
                    "id": "16428363",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "pitrou commented on a change in pull request #1841: ARROW-2402: [C++] Avoid spurious copies with FixedSizeBinaryBuilder\nURL: https://github.com/apache/arrow/pull/1841#discussion_r179767477\n \n \n\n ##########\n File path: cpp/src/arrow/builder.h\n ##########\n @@ -730,7 +730,14 @@ class ARROW_EXPORT FixedSizeBinaryBuilder : public ArrayBuilder {\n   FixedSizeBinaryBuilder(const std::shared_ptr<DataType>& type,\n                          MemoryPool* pool ARROW_MEMORY_POOL_DEFAULT);\n \n-  Status Append(const uint8_t* value);\n+  Status Append(const uint8_t* value) {\n \n Review comment:\n   The downside with LTO is inflated build times (the linking step becomes much longer, and it isn't parallelized). Also IIRC some compilers have various bugs or limitations with LTO.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-06T14:03:27.586+0000",
                    "updated": "2018-04-06T14:03:27.586+0000"
                }
            ],
            "maxResults": 7,
            "total": 7,
            "startAt": 0
        },
        "customfield_12311820": "0|i3s6r3:",
        "customfield_12314139": null
    }
}