{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13360459",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459",
    "key": "ARROW-11754",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349493",
                "id": "12349493",
                "description": "",
                "name": "4.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-04-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12612341",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12612341",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13370112",
                    "key": "ARROW-12258",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13370112",
                    "fields": {
                        "summary": "[R] Never do as.data.frame() on collect(as_data_frame = FALSE)",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
                            "id": "1",
                            "description": "A problem which impairs or prevents the functions of the product.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
                            "name": "Bug",
                            "subtask": false,
                            "avatarId": 21133
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=icook",
            "name": "icook",
            "key": "icook",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=icook&avatarId=29388",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=icook&avatarId=29388",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=icook&avatarId=29388",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=icook&avatarId=29388"
            },
            "displayName": "Ian Cook",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 12000,
            "total": 12000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 12000,
            "total": 12000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11754/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 20,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578381",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook opened a new pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927\n\n\n   This adds support for `dplyr::compute()` which does the same thing as `dplyr::collect(as_data_frame = FALSE)` on Arrow objects. This also fixes ARROW-12258 so that `collect(as_data_frame = FALSE)` will never call `as.data.frame()`.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T14:14:17.324+0000",
                    "updated": "2021-04-07T14:14:17.324+0000",
                    "started": "2021-04-07T14:14:17.324+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578381",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578428",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r608757382\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,23 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) as.data.frame(x, ...) else x\n\nReview comment:\n       Good catch.\r\n   \r\n   I know the inline if...else is legal but I personally find it harder to read than if they're on separate lines:\r\n   \r\n   ```suggestion\r\n     if (as_data_frame) {\r\n       as.data.frame(x, ...) \r\n     } else {\r\n       x\r\n     }\r\n   ```\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,23 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) as.data.frame(x, ...) else x\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n\nReview comment:\n       This is nice and concise. Another way you could do this would be to factor out the `as_data_frame = FALSE` section of `collect()` and call that `compute()`, and then you'd have\r\n   \r\n   ```\r\n   collect <- function(x, as_data_frame = TRUE, ...) {\r\n     tab <- dplyr::compute(x, ...) \r\n       if (as_data_frame) {\r\n         df <- as.data.frame(tab)\r\n         tab$invalidate()\r\n         restore_dplyr_features(df, x)\r\n       } else {\r\n         restore_dplyr_features(tab, x)\r\n       }\r\n   }\r\n   ```\r\n   \r\n   I think this version is slightly better because it lets us have shorter functions that compose together logically. \n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,23 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) as.data.frame(x, ...) else x\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n+  dplyr::collect(arrow_dplyr_query(x), as_data_frame = FALSE, ...)\n+}\n+# for compatibility with dplyr 1.0.5 and earlier (https://github.com/tidyverse/dplyr/pull/5783):\n+if (\"name\" %in% names(formals(dplyr::compute))) {\n\nReview comment:\n       (1) This doesn't seem necessary. The fact that you have `...` in the method signature will handle it fine. To confirm, I have dplyr with \"name\" in the signature locally, and I deleted this `if` block and the tests all pass. \r\n   \r\n   (2) Even if it were necessary, is this correct? This code is evaluated at install-time, so it's not robust to upgrading dplyr.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T15:43:42.402+0000",
                    "updated": "2021-04-07T15:43:42.402+0000",
                    "started": "2021-04-07T15:43:42.402+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578428",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578463",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r608829420\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,23 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) as.data.frame(x, ...) else x\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n+  dplyr::collect(arrow_dplyr_query(x), as_data_frame = FALSE, ...)\n+}\n+# for compatibility with dplyr 1.0.5 and earlier (https://github.com/tidyverse/dplyr/pull/5783):\n+if (\"name\" %in% names(formals(dplyr::compute))) {\n\nReview comment:\n       This is to avoid the dreaded \"S3 generic/method consistency\" warnings from `R CMD check`, which by my recollection can be triggered if the method args do not include _all_ of the generic's formal args (dots or not).\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T16:53:26.097+0000",
                    "updated": "2021-04-07T16:53:26.097+0000",
                    "started": "2021-04-07T16:53:26.097+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578463",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578467",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r608830728\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,23 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) as.data.frame(x, ...) else x\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n\nReview comment:\n       I thought of doing this, but didn't at first because we want `compute()` to call `restore_dplyr_features()` too, and I wasn't sure if that is fast and idempotent. I'll check.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T16:55:13.062+0000",
                    "updated": "2021-04-07T16:55:13.062+0000",
                    "started": "2021-04-07T16:55:13.061+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578467",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578468",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r608830728\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,23 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) as.data.frame(x, ...) else x\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n\nReview comment:\n       I thought of doing this, but didn't at first because we want `compute()` to call `restore_dplyr_features()` too (I think?) and I wasn't sure if that is fast and idempotent. I'll check.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T16:56:07.074+0000",
                    "updated": "2021-04-07T16:56:07.074+0000",
                    "started": "2021-04-07T16:56:07.074+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578468",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578535",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r608895636\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,23 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) as.data.frame(x, ...) else x\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n+  dplyr::collect(arrow_dplyr_query(x), as_data_frame = FALSE, ...)\n+}\n+# for compatibility with dplyr 1.0.5 and earlier (https://github.com/tidyverse/dplyr/pull/5783):\n+if (\"name\" %in% names(formals(dplyr::compute))) {\n\nReview comment:\n       Right, but this technically isn't an S3 method as far as `R CMD check` is concerned because we register it onLoad only. It's not listed as an S3 method in `NAMESPACE`\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T18:30:42.312+0000",
                    "updated": "2021-04-07T18:30:42.312+0000",
                    "started": "2021-04-07T18:30:42.312+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578535",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578538",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r608897792\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,23 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) as.data.frame(x, ...) else x\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n\nReview comment:\n       Not to scope creep, but now that we can project with renaming etc. (`mutate()`), I think all `restore_dplyr_features()` needs to do is keep track of `group_by_vars`. There might be a simpler way to handle that that solves your concern.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T18:32:57.485+0000",
                    "updated": "2021-04-07T18:32:57.485+0000",
                    "started": "2021-04-07T18:32:57.485+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578538",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578551",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r608914908\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,23 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) as.data.frame(x, ...) else x\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n+  dplyr::collect(arrow_dplyr_query(x), as_data_frame = FALSE, ...)\n+}\n+# for compatibility with dplyr 1.0.5 and earlier (https://github.com/tidyverse/dplyr/pull/5783):\n+if (\"name\" %in% names(formals(dplyr::compute))) {\n\nReview comment:\n       Oh, gotcha. Then it should be safe to remove this \ud83d\udc4d \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T18:48:47.204+0000",
                    "updated": "2021-04-07T18:48:47.204+0000",
                    "started": "2021-04-07T18:48:47.204+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578551",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578596",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r608988128\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,23 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) as.data.frame(x, ...) else x\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n\nReview comment:\n       I spent about an hour trying various different things here, such as paring back what `restore_dplyr_features()` does and also factoring out the compute code into a separate internal function and calling it from both `collect` and `compute`, but this caused test failures. Investigating these seems beyond the scope of what we're trying to achieve here and I think my time would be better spent on other work. Can we leave this as is for now and open a Jira for improvement later?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T19:33:45.769+0000",
                    "updated": "2021-04-07T19:33:45.769+0000",
                    "started": "2021-04-07T19:33:45.769+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578596",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578597",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#issuecomment-815171961\n\n\n   https://issues.apache.org/jira/browse/ARROW-11754\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T19:34:18.742+0000",
                    "updated": "2021-04-07T19:34:18.742+0000",
                    "started": "2021-04-07T19:34:18.742+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578597",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578599",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r608989525\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,23 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) as.data.frame(x, ...) else x\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n+  dplyr::collect(arrow_dplyr_query(x), as_data_frame = FALSE, ...)\n+}\n+# for compatibility with dplyr 1.0.5 and earlier (https://github.com/tidyverse/dplyr/pull/5783):\n+if (\"name\" %in% names(formals(dplyr::compute))) {\n\nReview comment:\n       Removed in ec744ecb3dd788051873002784fa061d4ae19223\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T19:34:34.018+0000",
                    "updated": "2021-04-07T19:34:34.018+0000",
                    "started": "2021-04-07T19:34:34.018+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578599",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578602",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r608992868\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,23 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) as.data.frame(x, ...) else x\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n\nReview comment:\n       Sure, sounds like a plan\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T19:36:28.721+0000",
                    "updated": "2021-04-07T19:36:28.721+0000",
                    "started": "2021-04-07T19:36:28.721+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578602",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578607",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r609000615\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,21 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) {\n+    as.data.frame(x, ...)\n+  } else {\n+    x\n+  }\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n+  dplyr::collect(arrow_dplyr_query(x), as_data_frame = FALSE, ...)\n+}\n\nReview comment:\n       ```suggestion\r\n   compute.Dataset <- compute.arrow_dplyr_query\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T19:40:43.593+0000",
                    "updated": "2021-04-07T19:40:43.593+0000",
                    "started": "2021-04-07T19:40:43.593+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578607",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578629",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r609033044\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,21 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) {\n+    as.data.frame(x, ...)\n+  } else {\n+    x\n+  }\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n+  dplyr::collect(arrow_dplyr_query(x), as_data_frame = FALSE, ...)\n+}\n\nReview comment:\n       But don't we need to convert the `Dataset` to an `arrow_dplyr_query` before passing it to `compute()`?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T20:05:30.215+0000",
                    "updated": "2021-04-07T20:05:30.215+0000",
                    "started": "2021-04-07T20:05:30.215+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578629",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578639",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r609038562\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,23 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) as.data.frame(x, ...) else x\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n\nReview comment:\n       ARROW-12282\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T20:14:19.098+0000",
                    "updated": "2021-04-07T20:14:19.098+0000",
                    "started": "2021-04-07T20:14:19.098+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578639",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578644",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r609042659\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,21 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) {\n+    as.data.frame(x, ...)\n+  } else {\n+    x\n+  }\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n+  dplyr::collect(arrow_dplyr_query(x), as_data_frame = FALSE, ...)\n+}\n\nReview comment:\n       I could do this instead:\r\n   ```suggestion\r\n   compute.Dataset <- function(x, ...) dplyr::compute(arrow_dplyr_query(x), ...)\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T20:21:03.710+0000",
                    "updated": "2021-04-07T20:21:03.710+0000",
                    "started": "2021-04-07T20:21:03.710+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578644",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578668",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r609060192\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,21 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) {\n+    as.data.frame(x, ...)\n+  } else {\n+    x\n+  }\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n+  dplyr::collect(arrow_dplyr_query(x), as_data_frame = FALSE, ...)\n+}\n\nReview comment:\n       You don't need that because `collect.Dataset` wraps it for you\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T20:50:38.949+0000",
                    "updated": "2021-04-07T20:50:38.949+0000",
                    "started": "2021-04-07T20:50:38.949+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578668",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578673",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r609065527\n\n\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -619,9 +619,21 @@ collect.arrow_dplyr_query <- function(x, as_data_frame = TRUE, ...) {\n     restore_dplyr_features(tab, x)\n   }\n }\n-collect.ArrowTabular <- as.data.frame.ArrowTabular\n+collect.ArrowTabular <- function(x, as_data_frame = TRUE, ...) {\n+  if (as_data_frame) {\n+    as.data.frame(x, ...)\n+  } else {\n+    x\n+  }\n+}\n collect.Dataset <- function(x, ...) dplyr::collect(arrow_dplyr_query(x), ...)\n \n+compute.arrow_dplyr_query <- function(x, ...) dplyr::collect(x, as_data_frame = FALSE)\n+compute.ArrowTabular <- function(x, ...) x\n+compute.Dataset <- function(x, ...) {\n+  dplyr::collect(arrow_dplyr_query(x), as_data_frame = FALSE, ...)\n+}\n\nReview comment:\n       Ohhh, right, thanks. Fixed in 95ecb18ab87421369f90ae309d423dd84c7ee240\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T20:59:54.534+0000",
                    "updated": "2021-04-07T20:59:54.534+0000",
                    "started": "2021-04-07T20:59:54.534+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578673",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578674",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927#discussion_r609066657\n\n\n\n##########\nFile path: r/tests/testthat/test-dataset.R\n##########\n@@ -1068,6 +1068,59 @@ See $.data for the source Arrow object\",\n   )\n })\n \n+test_that(\"compute()/collect(as_data_frame=FALSE)\", {\n+  skip_if_not_available(\"parquet\")\n+  ds <- open_dataset(dataset_dir)\n+\n+  tab1 <- ds %>% compute()\n+  expect_is(tab1, \"Table\")\n+\n+  tab2 <- ds %>% collect(as_data_frame = FALSE)\n+  expect_is(tab2, \"Table\")\n+\n+  tab3 <-  ds %>%\n+    mutate(negint = -int) %>%\n+    filter(negint > - 100) %>%\n+    arrange(chr) %>%\n+    select(negint) %>%\n+    compute()\n+\n+  expect_is(tab3, \"Table\")\n+\n+  expect_equal(\n+    tab3 %>% collect(),\n+    tibble(negint = -1:-10)\n+  )\n+\n+  tab4 <-  ds %>%\n+    mutate(negint = -int) %>%\n+    filter(negint > - 100) %>%\n+    arrange(chr) %>%\n+    select(negint) %>%\n+    collect(as_data_frame = FALSE)\n+\n+  expect_is(tab3, \"Table\")\n+\n+  expect_equal(\n+    tab4 %>% collect(),\n+    tibble(negint = -1:-10)\n+  )\n+\n+  tab5 <- ds %>%\n+    mutate(negint = -int) %>%\n+    group_by(fct) %>%\n+    compute()\n+\n+  # the group_by() prevents compute() from returning a Table...\n+  expect_is(tab5, \"arrow_dplyr_query\")\n+\n+  # ... but $.data is a Table...\n+  expect_is(tab5$.data, \"Table\")\n+  # ... and the mutate() was evaluated\n+  expect_true(\"negint\" %in% names(tab5$.data))\n+\n+})\n\nReview comment:\n       Dataset tests added in 1c5ee8442175f2e620605edca7a9a328415adfe6. This test is really interesting!\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T21:01:35.732+0000",
                    "updated": "2021-04-07T21:01:35.732+0000",
                    "started": "2021-04-07T21:01:35.732+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578674",
                    "issueId": "13360459"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/worklog/578767",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson closed pull request #9927:\nURL: https://github.com/apache/arrow/pull/9927\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-07T23:14:01.795+0000",
                    "updated": "2021-04-07T23:14:01.795+0000",
                    "started": "2021-04-07T23:14:01.794+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "578767",
                    "issueId": "13360459"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 12000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@286a6e23[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@50d7bebf[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@194c0094[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@74037744[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4913a658[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@48b2ce2f[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@31032f0d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@5e55d73e[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@aa09bca[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@54bdff07[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7c6ec9da[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@c721d4e[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 12000,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Apr 07 23:13:49 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-04-07T23:13:49.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11754/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2021-02-23T22:54:24.000+0000",
        "updated": "2021-04-07T23:14:02.000+0000",
        "timeoriginalestimate": null,
        "description": "Consider using a\u00a0{{compute()}}\u00a0method to force computation of lazy ops, instead of using {{collect(as_data_frame = FALSE)}}.\r\n\r\nSee discussion at [https://github.com/apache/arrow/pull/9521#discussion_r581367505]\r\n\r\nAlso see\u00a0[https://github.com/tidyverse/dplyr/pull/5783]",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "3h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 12000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] Support dplyr::compute()",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360459/comment/17316780",
                    "id": "17316780",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Issue resolved by pull request 9927\n[https://github.com/apache/arrow/pull/9927]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2021-04-07T23:13:49.295+0000",
                    "updated": "2021-04-07T23:13:49.295+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0nzl4:",
        "customfield_12314139": null
    }
}