{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13417860",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860",
    "key": "ARROW-15126",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12350591",
                "id": "12350591",
                "description": "",
                "name": "7.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2022-02-03"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=crystrix",
            "name": "crystrix",
            "key": "crystrix",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=crystrix&avatarId=46009",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=crystrix&avatarId=46009",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=crystrix&avatarId=46009",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=crystrix&avatarId=46009"
            },
            "displayName": "Chenxi Li",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=crystrix",
            "name": "crystrix",
            "key": "crystrix",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=crystrix&avatarId=46009",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=crystrix&avatarId=46009",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=crystrix&avatarId=46009",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=crystrix&avatarId=46009"
            },
            "displayName": "Chenxi Li",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=crystrix",
            "name": "crystrix",
            "key": "crystrix",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=crystrix&avatarId=46009",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=crystrix&avatarId=46009",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=crystrix&avatarId=46009",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=crystrix&avatarId=46009"
            },
            "displayName": "Chenxi Li",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "aggregateprogress": {
            "progress": 18000,
            "total": 18000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 18000,
            "total": 18000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-15126/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 30,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/700380",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#issuecomment-1000014649\n\n\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-23T03:21:34.997+0000",
                    "updated": "2021-12-23T03:21:34.997+0000",
                    "started": "2021-12-23T03:21:34.997+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "700380",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/701969",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "edponce commented on a change in pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#discussion_r776410855\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/hash_aggregate.cc\n##########\n@@ -147,10 +152,13 @@ struct GrouperImpl : Grouper {\n       if (it_success.second) {\n         // new key; update offsets and key_bytes\n         ++num_groups_;\n-        auto next_key_offset = static_cast<int32_t>(key_bytes_.size());\n-        key_bytes_.resize(next_key_offset + key_length);\n-        offsets_.push_back(next_key_offset + key_length);\n-        memcpy(key_bytes_.data() + next_key_offset, key.c_str(), key_length);\n+        if (key_length != 0) {\n\nReview comment:\n       Nit: `key_length > 0` is a bit more representable given that `key_length` is a signed int.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-29T16:56:51.069+0000",
                    "updated": "2021-12-29T16:56:51.069+0000",
                    "started": "2021-12-29T16:56:51.068+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "701969",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/701973",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "edponce commented on a change in pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#discussion_r776423102\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/row_encoder.h\n##########\n@@ -231,6 +231,26 @@ struct VarLengthKeyEncoder : KeyEncoder {\n   std::shared_ptr<DataType> type_;\n };\n \n+struct NullKeyEncoder : KeyEncoder {\n+  void AddLength(const Datum&, int64_t batch_length, int32_t* lengths) override {\n+    return;\n+  }\n\nReview comment:\n       No need to `return` as it is a void method, empty braces will suffice.\n\n##########\nFile path: cpp/src/arrow/compute/kernels/row_encoder.h\n##########\n@@ -231,6 +231,26 @@ struct VarLengthKeyEncoder : KeyEncoder {\n   std::shared_ptr<DataType> type_;\n };\n \n+struct NullKeyEncoder : KeyEncoder {\n+  void AddLength(const Datum&, int64_t batch_length, int32_t* lengths) override {\n+    return;\n+  }\n\nReview comment:\n       Similarly, for `AddLengthNull` and `EncodeNull`.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-29T17:16:17.901+0000",
                    "updated": "2021-12-29T17:16:17.901+0000",
                    "started": "2021-12-29T17:16:17.900+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "701973",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/702361",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#discussion_r776815147\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/hash_aggregate_test.cc\n##########\n@@ -614,6 +616,11 @@ TEST(Grouper, RandomStringInt64DoubleInt32Keys) {\n   }\n }\n \n+TEST(Grouper, NullKeys) {\n+  TestGrouper g({null()});\n+  g.ExpectConsume(\"[[null], [null]]\", \"[0, 0]\");\n\nReview comment:\n       Is it possible to add a test with several keys and where one of them has the null type?\n\n##########\nFile path: cpp/src/arrow/compute/kernels/hash_aggregate.cc\n##########\n@@ -147,10 +152,13 @@ struct GrouperImpl : Grouper {\n       if (it_success.second) {\n         // new key; update offsets and key_bytes\n         ++num_groups_;\n-        auto next_key_offset = static_cast<int32_t>(key_bytes_.size());\n-        key_bytes_.resize(next_key_offset + key_length);\n-        offsets_.push_back(next_key_offset + key_length);\n-        memcpy(key_bytes_.data() + next_key_offset, key.c_str(), key_length);\n+        if (key_length != 0) {\n+          // Skip if there are no keys\n\nReview comment:\n       I'm not sure I understand this comment, do you need to move it up just above the `if`?\n\n##########\nFile path: cpp/src/arrow/compute/kernels/hash_aggregate.cc\n##########\n@@ -197,7 +205,7 @@ struct GrouperFastImpl : Grouper {\n #if ARROW_LITTLE_ENDIAN\n     for (size_t i = 0; i < keys.size(); ++i) {\n       const auto& key = keys[i].type;\n-      if (is_large_binary_like(key->id())) {\n+      if (is_large_binary_like(key->id()) || key->id() == Type::NA) {\n\nReview comment:\n       I'm not sure I understand, why cannot null keys be used here?\r\n   \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-12-30T17:37:07.414+0000",
                    "updated": "2021-12-30T17:37:07.414+0000",
                    "started": "2021-12-30T17:37:07.414+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "702361",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/711883",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Crystrix commented on a change in pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#discussion_r788387466\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/hash_aggregate.cc\n##########\n@@ -147,10 +152,13 @@ struct GrouperImpl : Grouper {\n       if (it_success.second) {\n         // new key; update offsets and key_bytes\n         ++num_groups_;\n-        auto next_key_offset = static_cast<int32_t>(key_bytes_.size());\n-        key_bytes_.resize(next_key_offset + key_length);\n-        offsets_.push_back(next_key_offset + key_length);\n-        memcpy(key_bytes_.data() + next_key_offset, key.c_str(), key_length);\n+        if (key_length != 0) {\n\nReview comment:\n       Fixed\n\n##########\nFile path: cpp/src/arrow/compute/kernels/row_encoder.h\n##########\n@@ -231,6 +231,26 @@ struct VarLengthKeyEncoder : KeyEncoder {\n   std::shared_ptr<DataType> type_;\n };\n \n+struct NullKeyEncoder : KeyEncoder {\n+  void AddLength(const Datum&, int64_t batch_length, int32_t* lengths) override {\n+    return;\n+  }\n\nReview comment:\n       Fixed\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-20T06:26:40.424+0000",
                    "updated": "2022-01-20T06:26:40.424+0000",
                    "started": "2022-01-20T06:26:40.424+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "711883",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/711884",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Crystrix commented on a change in pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#discussion_r788388114\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/hash_aggregate.cc\n##########\n@@ -147,10 +152,13 @@ struct GrouperImpl : Grouper {\n       if (it_success.second) {\n         // new key; update offsets and key_bytes\n         ++num_groups_;\n-        auto next_key_offset = static_cast<int32_t>(key_bytes_.size());\n-        key_bytes_.resize(next_key_offset + key_length);\n-        offsets_.push_back(next_key_offset + key_length);\n-        memcpy(key_bytes_.data() + next_key_offset, key.c_str(), key_length);\n+        if (key_length != 0) {\n+          // Skip if there are no keys\n\nReview comment:\n       The comment is moved up.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-20T06:27:03.813+0000",
                    "updated": "2022-01-20T06:27:03.813+0000",
                    "started": "2022-01-20T06:27:03.813+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "711884",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/711885",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Crystrix commented on a change in pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#discussion_r788389401\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/hash_aggregate_test.cc\n##########\n@@ -614,6 +616,11 @@ TEST(Grouper, RandomStringInt64DoubleInt32Keys) {\n   }\n }\n \n+TEST(Grouper, NullKeys) {\n+  TestGrouper g({null()});\n+  g.ExpectConsume(\"[[null], [null]]\", \"[0, 0]\");\n\nReview comment:\n       More test cases including this one are added.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-20T06:28:09.951+0000",
                    "updated": "2022-01-20T06:28:09.951+0000",
                    "started": "2022-01-20T06:28:09.951+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "711885",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/711894",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Crystrix commented on a change in pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#discussion_r788410508\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/hash_aggregate.cc\n##########\n@@ -197,7 +205,7 @@ struct GrouperFastImpl : Grouper {\n #if ARROW_LITTLE_ENDIAN\n     for (size_t i = 0; i < keys.size(); ++i) {\n       const auto& key = keys[i].type;\n-      if (is_large_binary_like(key->id())) {\n+      if (is_large_binary_like(key->id()) || key->id() == Type::NA) {\n\nReview comment:\n       In the previous commits, GrouperFastImpl for null type is not implemented yet, so null should be skipped for GrouperFastImpl. Now the null type is added to GrouperFastImpl, so the condition is removed.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-20T06:53:52.323+0000",
                    "updated": "2022-01-20T06:53:52.323+0000",
                    "started": "2022-01-20T06:53:52.323+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "711894",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/713566",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Crystrix commented on a change in pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#discussion_r790499334\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec/key_encode.h\n##########\n@@ -53,13 +53,19 @@ class KeyEncoder {\n   /// for the purpose of row encoding.\n   struct KeyColumnMetadata {\n     KeyColumnMetadata() = default;\n-    KeyColumnMetadata(bool is_fixed_length_in, uint32_t fixed_length_in)\n-        : is_fixed_length(is_fixed_length_in), fixed_length(fixed_length_in) {}\n+    KeyColumnMetadata(bool is_fixed_length_in, uint32_t fixed_length_in,\n+                      bool is_null_type_in = false)\n+        : is_fixed_length(is_fixed_length_in),\n+          is_null_type(is_null_type_in),\n+          fixed_length(fixed_length_in) {}\n     /// Is column storing a varying-length binary, using offsets array\n     /// to find a beginning of a value, or is it a fixed-length binary.\n     bool is_fixed_length;\n+    /// Is column null type\n+    bool is_null_type;\n\nReview comment:\n       A flag of null type is added. As the `fixed_length` of a null type column is zero like a bit vector which leads to confusion.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-24T08:19:16.195+0000",
                    "updated": "2022-01-24T08:19:16.195+0000",
                    "started": "2022-01-24T08:19:16.194+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "713566",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/713567",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Crystrix commented on pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#issuecomment-1019831616\n\n\n   @pitrou @edponce, Could you please help to review?\r\n   The main changes are updating based on comments and supporting the null type key in the `GrouperFastImpl`.\r\n   \r\n   \r\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-24T08:20:50.944+0000",
                    "updated": "2022-01-24T08:20:50.944+0000",
                    "started": "2022-01-24T08:20:50.944+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "713567",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/713625",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#discussion_r790574210\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec/key_hash.cc\n##########\n@@ -286,34 +286,40 @@ void Hashing::HashMultiColumn(const std::vector<KeyEncoder::KeyColumnArray>& col\n   bool is_first = true;\n \n   for (size_t icol = 0; icol < cols.size(); ++icol) {\n-    if (cols[icol].metadata().is_fixed_length) {\n-      uint32_t col_width = cols[icol].metadata().fixed_length;\n-      if (col_width == 0) {\n-        util::bit_util::bits_to_bytes(ctx->hardware_flags, num_rows, cols[icol].data(1),\n-                                      byte_temp_buf.mutable_data(),\n-                                      cols[icol].bit_offset(1));\n-      }\n-      Hashing::hash_fixed(\n-          ctx->hardware_flags, num_rows, col_width == 0 ? 1 : col_width,\n-          col_width == 0 ? byte_temp_buf.mutable_data() : cols[icol].data(1),\n-          is_first ? out_hash : hash_temp_buf.mutable_data());\n+    // Set the hash value as zero for a null type col\n+    if (cols[icol].metadata().is_null_type) {\n+      uint32_t* dst_hash = is_first ? out_hash : hash_temp_buf.mutable_data();\n\nReview comment:\n       Can you factor out the `dst_hash` calculation for clarity?\n\n##########\nFile path: cpp/src/arrow/compute/kernels/hash_aggregate.cc\n##########\n@@ -322,14 +333,20 @@ struct GrouperFastImpl : Grouper {\n         group_ids, AllocateBuffer(sizeof(uint32_t) * num_rows, ctx_->memory_pool()));\n \n     for (int icol = 0; icol < num_columns; ++icol) {\n-      const uint8_t* non_nulls = nullptr;\n-      if (batch[icol].array()->buffers[0] != NULLPTR) {\n-        non_nulls = batch[icol].array()->buffers[0]->data();\n-      }\n-      const uint8_t* fixedlen = batch[icol].array()->buffers[1]->data();\n-      const uint8_t* varlen = nullptr;\n-      if (!col_metadata_[icol].is_fixed_length) {\n-        varlen = batch[icol].array()->buffers[2]->data();\n+      const uint8_t* non_nulls = NULLPTR;\n+      const uint8_t* fixedlen = NULLPTR;\n+      const uint8_t* varlen = NULLPTR;\n+\n+      // Skip if the key's type is NULL\n+      if (key_types_[icol]->id() != Type::NA) {\n+        if (batch[icol].array()->buffers[0] != NULLPTR) {\n+          non_nulls = batch[icol].array()->buffers[0]->data();\n+        }\n+        auto array = batch[icol].array();\n\nReview comment:\n       What is this variable for? Did you mean to use it?\n\n##########\nFile path: cpp/src/arrow/compute/kernels/hash_aggregate.cc\n##########\n@@ -322,14 +333,20 @@ struct GrouperFastImpl : Grouper {\n         group_ids, AllocateBuffer(sizeof(uint32_t) * num_rows, ctx_->memory_pool()));\n \n     for (int icol = 0; icol < num_columns; ++icol) {\n-      const uint8_t* non_nulls = nullptr;\n-      if (batch[icol].array()->buffers[0] != NULLPTR) {\n-        non_nulls = batch[icol].array()->buffers[0]->data();\n-      }\n-      const uint8_t* fixedlen = batch[icol].array()->buffers[1]->data();\n-      const uint8_t* varlen = nullptr;\n-      if (!col_metadata_[icol].is_fixed_length) {\n-        varlen = batch[icol].array()->buffers[2]->data();\n+      const uint8_t* non_nulls = NULLPTR;\n+      const uint8_t* fixedlen = NULLPTR;\n+      const uint8_t* varlen = NULLPTR;\n+\n+      // Skip if the key's type is NULL\n+      if (key_types_[icol]->id() != Type::NA) {\n+        if (batch[icol].array()->buffers[0] != NULLPTR) {\n+          non_nulls = batch[icol].array()->buffers[0]->data();\n+        }\n+        auto array = batch[icol].array();\n\nReview comment:\n       What is this variable for? Did you mean to use it?\n\n##########\nFile path: cpp/src/arrow/compute/exec/key_compare.cc\n##########\n@@ -334,6 +334,14 @@ void KeyCompare::CompareColumnsToRows(uint32_t num_rows_to_compare,\n   bool is_first_column = true;\n   for (size_t icol = 0; icol < cols.size(); ++icol) {\n     const KeyEncoder::KeyColumnArray& col = cols[icol];\n+    if (col.metadata().is_null_type) {\n+      // If this null type col is the first column, the match_bytevector_A needs to be\n+      // initialized with 0xFF. Otherwise, the calculation can be skipped\n\nReview comment:\n       Why 0xFF? Can you explain?\n\n##########\nFile path: cpp/src/arrow/compute/kernels/hash_aggregate.cc\n##########\n@@ -237,6 +245,9 @@ struct GrouperFastImpl : Grouper {\n       } else if (is_binary_like(key->id())) {\n         impl->col_metadata_[icol] =\n             arrow::compute::KeyEncoder::KeyColumnMetadata(false, sizeof(uint32_t));\n+      } else if (key->id() == Type::NA) {\n+        impl->col_metadata_[icol] =\n+            arrow::compute::KeyEncoder::KeyColumnMetadata(true, 0, true);\n\nReview comment:\n       Can you please denominate arguments for clarity? Such as:\r\n   ```c++\r\n           impl->col_metadata_[icol] =\r\n               arrow::compute::KeyEncoder::KeyColumnMetadata(/*arg1=*/true, 0, /*arg2=*/true);\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-24T10:10:42.594+0000",
                    "updated": "2022-01-24T10:10:42.594+0000",
                    "started": "2022-01-24T10:10:42.594+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "713625",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/713713",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Crystrix commented on a change in pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#discussion_r790722329\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec/key_compare.cc\n##########\n@@ -334,6 +334,14 @@ void KeyCompare::CompareColumnsToRows(uint32_t num_rows_to_compare,\n   bool is_first_column = true;\n   for (size_t icol = 0; icol < cols.size(); ++icol) {\n     const KeyEncoder::KeyColumnArray& col = cols[icol];\n+    if (col.metadata().is_null_type) {\n+      // If this null type col is the first column, the match_bytevector_A needs to be\n+      // initialized with 0xFF. Otherwise, the calculation can be skipped\n\nReview comment:\n       According to the code here https://github.com/apache/arrow/blob/master/cpp/src/arrow/compute/exec/key_compare.cc#L146\r\n   \r\n   `match_bytevector_A` is used for the first column as the init state of a `match_bytevector`. If two rows are equal, the related byte in the `match_bytevector_A` is set as 0xFF. For a null type column, all rows are equal, so all bytes in the `match_bytevector` should be 0xFF.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-24T13:05:16.454+0000",
                    "updated": "2022-01-24T13:05:16.454+0000",
                    "started": "2022-01-24T13:05:16.454+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "713713",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/713723",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Crystrix commented on a change in pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#discussion_r790738458\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/hash_aggregate.cc\n##########\n@@ -322,14 +333,20 @@ struct GrouperFastImpl : Grouper {\n         group_ids, AllocateBuffer(sizeof(uint32_t) * num_rows, ctx_->memory_pool()));\n \n     for (int icol = 0; icol < num_columns; ++icol) {\n-      const uint8_t* non_nulls = nullptr;\n-      if (batch[icol].array()->buffers[0] != NULLPTR) {\n-        non_nulls = batch[icol].array()->buffers[0]->data();\n-      }\n-      const uint8_t* fixedlen = batch[icol].array()->buffers[1]->data();\n-      const uint8_t* varlen = nullptr;\n-      if (!col_metadata_[icol].is_fixed_length) {\n-        varlen = batch[icol].array()->buffers[2]->data();\n+      const uint8_t* non_nulls = NULLPTR;\n+      const uint8_t* fixedlen = NULLPTR;\n+      const uint8_t* varlen = NULLPTR;\n+\n+      // Skip if the key's type is NULL\n+      if (key_types_[icol]->id() != Type::NA) {\n+        if (batch[icol].array()->buffers[0] != NULLPTR) {\n+          non_nulls = batch[icol].array()->buffers[0]->data();\n+        }\n+        auto array = batch[icol].array();\n\nReview comment:\n       Removed\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-24T13:25:32.081+0000",
                    "updated": "2022-01-24T13:25:32.081+0000",
                    "started": "2022-01-24T13:25:32.081+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "713723",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/713724",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Crystrix commented on a change in pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#discussion_r790738567\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/hash_aggregate.cc\n##########\n@@ -322,14 +333,20 @@ struct GrouperFastImpl : Grouper {\n         group_ids, AllocateBuffer(sizeof(uint32_t) * num_rows, ctx_->memory_pool()));\n \n     for (int icol = 0; icol < num_columns; ++icol) {\n-      const uint8_t* non_nulls = nullptr;\n-      if (batch[icol].array()->buffers[0] != NULLPTR) {\n-        non_nulls = batch[icol].array()->buffers[0]->data();\n-      }\n-      const uint8_t* fixedlen = batch[icol].array()->buffers[1]->data();\n-      const uint8_t* varlen = nullptr;\n-      if (!col_metadata_[icol].is_fixed_length) {\n-        varlen = batch[icol].array()->buffers[2]->data();\n+      const uint8_t* non_nulls = NULLPTR;\n+      const uint8_t* fixedlen = NULLPTR;\n+      const uint8_t* varlen = NULLPTR;\n+\n+      // Skip if the key's type is NULL\n+      if (key_types_[icol]->id() != Type::NA) {\n+        if (batch[icol].array()->buffers[0] != NULLPTR) {\n+          non_nulls = batch[icol].array()->buffers[0]->data();\n+        }\n+        auto array = batch[icol].array();\n\nReview comment:\n       Removed\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-24T13:25:44.782+0000",
                    "updated": "2022-01-24T13:25:44.782+0000",
                    "started": "2022-01-24T13:25:44.782+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "713724",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/713770",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Crystrix commented on a change in pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#discussion_r790772250\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec/key_hash.cc\n##########\n@@ -286,34 +286,40 @@ void Hashing::HashMultiColumn(const std::vector<KeyEncoder::KeyColumnArray>& col\n   bool is_first = true;\n \n   for (size_t icol = 0; icol < cols.size(); ++icol) {\n-    if (cols[icol].metadata().is_fixed_length) {\n-      uint32_t col_width = cols[icol].metadata().fixed_length;\n-      if (col_width == 0) {\n-        util::bit_util::bits_to_bytes(ctx->hardware_flags, num_rows, cols[icol].data(1),\n-                                      byte_temp_buf.mutable_data(),\n-                                      cols[icol].bit_offset(1));\n-      }\n-      Hashing::hash_fixed(\n-          ctx->hardware_flags, num_rows, col_width == 0 ? 1 : col_width,\n-          col_width == 0 ? byte_temp_buf.mutable_data() : cols[icol].data(1),\n-          is_first ? out_hash : hash_temp_buf.mutable_data());\n+    // Set the hash value as zero for a null type col\n+    if (cols[icol].metadata().is_null_type) {\n+      uint32_t* dst_hash = is_first ? out_hash : hash_temp_buf.mutable_data();\n\nReview comment:\n       The calculation of `dst_hash` is moved to the start of each iteration and used in the following steps if my understanding is correct.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-24T14:03:11.700+0000",
                    "updated": "2022-01-24T14:03:11.700+0000",
                    "started": "2022-01-24T14:03:11.700+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "713770",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/713772",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Crystrix commented on a change in pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#discussion_r790772843\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/hash_aggregate.cc\n##########\n@@ -237,6 +245,9 @@ struct GrouperFastImpl : Grouper {\n       } else if (is_binary_like(key->id())) {\n         impl->col_metadata_[icol] =\n             arrow::compute::KeyEncoder::KeyColumnMetadata(false, sizeof(uint32_t));\n+      } else if (key->id() == Type::NA) {\n+        impl->col_metadata_[icol] =\n+            arrow::compute::KeyEncoder::KeyColumnMetadata(true, 0, true);\n\nReview comment:\n       Added\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-24T14:03:50.151+0000",
                    "updated": "2022-01-24T14:03:50.151+0000",
                    "started": "2022-01-24T14:03:50.151+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "713772",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/715189",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#issuecomment-1021469489\n\n\n   @lidavidm Do you want to give this a quick look?\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-25T18:10:32.355+0000",
                    "updated": "2022-01-25T18:10:32.355+0000",
                    "started": "2022-01-25T18:10:32.355+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "715189",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/715928",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#issuecomment-1022519221\n\n\n   @Crystrix sorry, it looks like merging your other PR means this one needs rebasing now\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-26T19:19:51.051+0000",
                    "updated": "2022-01-26T19:19:51.051+0000",
                    "started": "2022-01-26T19:19:51.050+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "715928",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/716445",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Crystrix commented on pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#issuecomment-1023270334\n\n\n   > @Crystrix sorry, it looks like merging your other PR means this one needs rebasing now\r\n   \r\n   @lidavidm, the rebasing is done.\r\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-27T14:31:50.209+0000",
                    "updated": "2022-01-27T14:31:50.209+0000",
                    "started": "2022-01-27T14:31:50.208+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "716445",
                    "issueId": "13417860"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/worklog/716475",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #12032:\nURL: https://github.com/apache/arrow/pull/12032#issuecomment-1023294426\n\n\n   @github-actions autotune\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-27T14:55:46.631+0000",
                    "updated": "2022-01-27T14:55:46.631+0000",
                    "started": "2022-01-27T14:55:46.631+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "716475",
                    "issueId": "13417860"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 18000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@5677021c[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@12ff2f86[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@ecbd5a1[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@652348e1[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2f00c1a0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@5d529063[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@d6430b5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@727f05b8[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5bdbd796[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@12438506[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3e0efe63[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@34567edf[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 18000,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Jan 28 13:56:32 UTC 2022",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2022-01-28T13:56:32.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-15126/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2021-12-16T04:07:19.000+0000",
        "updated": "2022-01-30T05:51:32.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 18000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Support Null type as group keys",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13417860/comment/17483790",
                    "id": "17483790",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 12032\n[https://github.com/apache/arrow/pull/12032]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2022-01-28T13:56:32.483+0000",
                    "updated": "2022-01-28T13:56:32.483+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0xrhs:",
        "customfield_12314139": null
    }
}