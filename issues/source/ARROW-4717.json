{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13218714",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13218714",
    "key": "ARROW-4717",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12344925",
                "id": "12344925",
                "description": "",
                "name": "0.14.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-07-04"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=eerhardt",
            "name": "eerhardt",
            "key": "eerhardt",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=eerhardt&avatarId=37925",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eerhardt&avatarId=37925",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eerhardt&avatarId=37925",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eerhardt&avatarId=37925"
            },
            "displayName": "Eric Erhardt",
            "active": true,
            "timeZone": "America/North_Dakota/New_Salem"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12334712",
                "id": "12334712",
                "name": "C#"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=eerhardt",
            "name": "eerhardt",
            "key": "eerhardt",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=eerhardt&avatarId=37925",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eerhardt&avatarId=37925",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eerhardt&avatarId=37925",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eerhardt&avatarId=37925"
            },
            "displayName": "Eric Erhardt",
            "active": true,
            "timeZone": "America/North_Dakota/New_Salem"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=eerhardt",
            "name": "eerhardt",
            "key": "eerhardt",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=eerhardt&avatarId=37925",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eerhardt&avatarId=37925",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eerhardt&avatarId=37925",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eerhardt&avatarId=37925"
            },
            "displayName": "Eric Erhardt",
            "active": true,
            "timeZone": "America/North_Dakota/New_Salem"
        },
        "aggregateprogress": {
            "progress": 4200,
            "total": 4200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 4200,
            "total": 4200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-4717/votes",
            "votes": 1,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 7,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13218714/worklog/231720",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "eerhardt commented on pull request #4194: ARROW-4717 [C#] Consider exposing ValueTask instead of Task\nURL: https://github.com/apache/arrow/pull/4194\n \n \n   Eliminating allocations in the C# Arrow library:\r\n   \r\n   1. Use ValueTask instead of Task in the public APIs.\r\n   2. Eliminate allocations in ArrayData constructor by taking an array directly instead of calling `ToArray()` every time.\r\n   3. Remove some other minor allocations that provide no benefit.\r\n   4. Also, add a simple `NullCount == 0` check to optimize the case where there are no nulls in the data, but the null bitmap is filled with 0s instead of being empty.\r\n   \r\n   With this change the `ArrowReaderWithMemory` benchmark in the repo goes from:\r\n   \r\n   \r\n   ## Before\r\n   |                      Method |      Allocated Memory/Op |\r\n   |---------------------------- |--------------------:|\r\n   |       ArrowReaderWithMemory |  5.84 KB |\r\n   \r\n   ## After\r\n   |                      Method |      Allocated Memory/Op |\r\n   |---------------------------- |--------------------:|\r\n   |       ArrowReaderWithMemory |  4.48 KB |\r\n   \r\n   \r\n   @stephentoub @pgovind @chutchinson \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-23T21:43:20.646+0000",
                    "updated": "2019-04-23T21:43:20.646+0000",
                    "started": "2019-04-23T21:43:20.645+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "231720",
                    "issueId": "13218714"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13218714/worklog/232473",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "stephentoub commented on pull request #4194: ARROW-4717 [C#] Consider exposing ValueTask instead of Task\nURL: https://github.com/apache/arrow/pull/4194#discussion_r278371957\n \n \n\n ##########\n File path: csharp/src/Apache.Arrow/Ipc/ArrowFileWriter.cs\n ##########\n @@ -101,7 +101,7 @@ private protected override void FinishedWritingRecordBatch(long bodyLength, long\n             _currentRecordBatchOffset = -1;\n         }\n \n-        public async Task WriteFooterAsync(CancellationToken cancellationToken = default)\n+        public async ValueTask WriteFooterAsync(CancellationToken cancellationToken = default)\n \n Review comment:\n   Consider leaving these non-generic ones as Task.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-25T01:33:47.810+0000",
                    "updated": "2019-04-25T01:33:47.810+0000",
                    "started": "2019-04-25T01:33:47.810+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "232473",
                    "issueId": "13218714"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13218714/worklog/232506",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "eerhardt commented on pull request #4194: ARROW-4717 [C#] Consider exposing ValueTask instead of Task\nURL: https://github.com/apache/arrow/pull/4194#discussion_r278383529\n \n \n\n ##########\n File path: csharp/src/Apache.Arrow/Ipc/ArrowFileWriter.cs\n ##########\n @@ -101,7 +101,7 @@ private protected override void FinishedWritingRecordBatch(long bodyLength, long\n             _currentRecordBatchOffset = -1;\n         }\n \n-        public async Task WriteFooterAsync(CancellationToken cancellationToken = default)\n+        public async ValueTask WriteFooterAsync(CancellationToken cancellationToken = default)\n \n Review comment:\n   For my learning, what's the reason? Is it because it will just use `Task.CompletedTask` under the covers and thus not need to allocate?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-25T03:04:54.150+0000",
                    "updated": "2019-04-25T03:04:54.150+0000",
                    "started": "2019-04-25T03:04:54.150+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "232506",
                    "issueId": "13218714"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13218714/worklog/232886",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "stephentoub commented on pull request #4194: ARROW-4717 [C#] Consider exposing ValueTask instead of Task\nURL: https://github.com/apache/arrow/pull/4194#discussion_r278565176\n \n \n\n ##########\n File path: csharp/src/Apache.Arrow/Ipc/ArrowFileWriter.cs\n ##########\n @@ -101,7 +101,7 @@ private protected override void FinishedWritingRecordBatch(long bodyLength, long\n             _currentRecordBatchOffset = -1;\n         }\n \n-        public async Task WriteFooterAsync(CancellationToken cancellationToken = default)\n+        public async ValueTask WriteFooterAsync(CancellationToken cancellationToken = default)\n \n Review comment:\n   https://devblogs.microsoft.com/dotnet/understanding-the-whys-whats-and-whens-of-valuetask/\r\n   \r\n   In this particular case with this implementation, there's zero upside and only potential downside to using ValueTask:\r\n   - For synchronous completions with Task, the implementation would just return a cached successfully completed task, e.g. Task.CompletedTask.\r\n   - ValueTask is (in microbenchmarks) more expensive to await, because it's a struct wrapping a Task, so every operation requires a check to see what state it's in, and today at least the JIT isn't great about structs wrapping other things, in particular structs wrapping other structs, which is the situation you end up in with the struct awaiter wrapping the struct ValueTask.\r\n   - For a generic `ValueTask<T>`, it's generally worth it, because you avoid the allocation for a `Task<T>` assuming you couldn't cache one for every possible `T`.  But for `ValueTask`, for synchronous completions, there's only ever one possible thing.\r\n   - For asynchronous completions, today, async methods just fall back to using a `Task` and wrapping the `ValueTask` around it, so it's only potential overhead on top of using `Task` directly.\r\n   \r\n   The only benefit to using `ValueTask` would be if you believe in the future you might choose to replace this implementation with one that used a pooled `IValueTaskSource` as the backing implementation for asynchronously completing operations and if such asynchronously completing operations were commonplace, on a hot path, and mattered for perf.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-25T14:02:08.020+0000",
                    "updated": "2019-04-25T14:02:08.020+0000",
                    "started": "2019-04-25T14:02:08.019+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "232886",
                    "issueId": "13218714"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13218714/worklog/234889",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "eerhardt commented on pull request #4194: ARROW-4717 [C#] Consider exposing ValueTask instead of Task\nURL: https://github.com/apache/arrow/pull/4194#discussion_r278383529\n \n \n\n ##########\n File path: csharp/src/Apache.Arrow/Ipc/ArrowFileWriter.cs\n ##########\n @@ -101,7 +101,7 @@ private protected override void FinishedWritingRecordBatch(long bodyLength, long\n             _currentRecordBatchOffset = -1;\n         }\n \n-        public async Task WriteFooterAsync(CancellationToken cancellationToken = default)\n+        public async ValueTask WriteFooterAsync(CancellationToken cancellationToken = default)\n \n Review comment:\n   For my learning, what's the reason? Is it because it will just use `Task.CompletedTask` under the covers and thus not need to allocate? #Resolved\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-29T20:33:21.367+0000",
                    "updated": "2019-04-29T20:33:21.367+0000",
                    "started": "2019-04-29T20:33:21.366+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "234889",
                    "issueId": "13218714"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13218714/worklog/235293",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "eerhardt commented on issue #4194: ARROW-4717 [C#] Consider exposing ValueTask instead of Task\nURL: https://github.com/apache/arrow/pull/4194#issuecomment-487965408\n \n \n   @xhochy @wesm @kou - I believe all feedback has been addressed and this is ready to be merged.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-30T14:05:15.140+0000",
                    "updated": "2019-04-30T14:05:15.140+0000",
                    "started": "2019-04-30T14:05:15.139+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "235293",
                    "issueId": "13218714"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13218714/worklog/235311",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #4194: ARROW-4717 [C#] Consider exposing ValueTask instead of Task\nURL: https://github.com/apache/arrow/pull/4194\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-04-30T14:37:55.459+0000",
                    "updated": "2019-04-30T14:37:55.459+0000",
                    "started": "2019-04-30T14:37:55.459+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "235311",
                    "issueId": "13218714"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 4200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@6e648fda[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@46709853[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@644e612f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@263edff5[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5becb63[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@5a74a7d4[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4d24f2ac[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@1db54d8a[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6e23788c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1196389b[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7b4d0997[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@4c23d269[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 4200,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Apr 30 14:37:47 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-04-30T14:37:47.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-4717/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2019-02-28T18:29:33.000+0000",
        "updated": "2019-04-30T14:37:55.000+0000",
        "timeoriginalestimate": null,
        "description": "See [https://github.com/apache/arrow/pull/3736#pullrequestreview-207169204]\u00a0for the discussion and [https://devblogs.microsoft.com/dotnet/understanding-the-whys-whats-and-whens-of-valuetask/]\u00a0for the reasoning.\r\n\r\nUsing `Task<T>` in public API requires that a new Task instance be allocated on every call. When returning synchronously, using ValueTask will allow the method to not allocate.\r\n\r\nIn order to do this, we will need to take a new dependency on\u00a0\u00a0{{System.Threading.Tasks.Extensions}} NuGet package.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 10m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 4200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C#] Consider exposing ValueTask instead of Task",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13218714/comment/16800385",
                    "id": "16800385",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jthelin",
                        "name": "jthelin",
                        "key": "jthelin",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
                        },
                        "displayName": "Jorgen Thelin",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "I took a quick look at this, and mostly it is just a straight-forward s/Task/ValueTask/\r\n\r\nHowever, the biggest impediment to making this change be most impactful is that a \"Span-friendly\" overload for the C# *System.IO.Stream.WriteAsync* method -- which directly handles ReadOnlyMemory<T> (without requiring any copying to intermediate byte[] buffer) and returns ValueTask (no heap alloc) -- is only available in *.NET Core 2.1* and later.\r\n\r\n[Stream.WriteAsync(ReadOnlyMemory<Byte>, CancellationToken)|https://docs.microsoft.com/en-us/dotnet/api/system.io.stream.writeasync?view=netcore-2.1#System_IO_Stream_WriteAsync_System_ReadOnlyMemory_System_Byte__System_Threading_CancellationToken_]\r\n\r\nCurrently the C# Apache.Arrow library here is built for both .NET Core 2.1 and .NET Standard 1.3.\r\n\r\nHow important is it to maintain compatibility with .NET Standard 1.3?\r\n\r\nThe *ArrowStreamWriter.WriteBufferAsync* function is directly on the hot-path for all writes, so switching to using zero-copy memory buffers and zero return object heap allocation (which needs .NET Core 2.1+) should make a big performance improvement.\r\n\r\nThoughts?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jthelin",
                        "name": "jthelin",
                        "key": "jthelin",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
                        },
                        "displayName": "Jorgen Thelin",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2019-03-25T03:55:42.988+0000",
                    "updated": "2019-03-25T03:55:42.988+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13218714/comment/16825532",
                    "id": "16825532",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=ManiGandham",
                        "name": "ManiGandham",
                        "key": "manigandham",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Mani Gandham",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "[~jthelin]\r\n\r\n\u00a0Since this is a performance-focused project, using ValueTask seems like the right call.\r\n\r\n.NET Core 2.0 is already [end of life as of October 2018|https://dotnet.microsoft.com/platform/support/policy/dotnet-core] and .NET Core 2.1 is the current LTS release.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=ManiGandham",
                        "name": "ManiGandham",
                        "key": "manigandham",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Mani Gandham",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-04-24T21:59:28.796+0000",
                    "updated": "2019-04-24T21:59:28.796+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13218714/comment/16830341",
                    "id": "16830341",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=eerhardt",
                        "name": "eerhardt",
                        "key": "eerhardt",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=eerhardt&avatarId=37925",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eerhardt&avatarId=37925",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eerhardt&avatarId=37925",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eerhardt&avatarId=37925"
                        },
                        "displayName": "Eric Erhardt",
                        "active": true,
                        "timeZone": "America/North_Dakota/New_Salem"
                    },
                    "body": "[~jthelin] - Take a look at\u00a0the StreamExtensions class/files under\u00a0[https://github.com/apache/arrow/tree/master/csharp/src/Apache.Arrow/Extensions]. These polyfills/shims allow for the Arrow code to work on netstandard1.3, and if the memory is backed by a .NET array, there are no extra allocations/copies. (However, in the case where the memory is backed by something else, and it is not\u00a0running on .NET Core 2.1 or higher, then it does need to copy the data into an array in order to continue working.)\r\n\r\n>\u00a0How important is it to maintain compatibility with .NET Standard 1.3?\r\n\r\n\u00a0I would say it is fairly important to at least work on netstandard2.0.\u00a0The main project I am using the C# Arrow library is in the .NET for Apache Spark project\u00a0[https://github.com/dotnet/spark], which currently\u00a0targets\u00a0netstandard2.0 and\u00a0is supported on .NET Framework v4.6.1.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=eerhardt",
                        "name": "eerhardt",
                        "key": "eerhardt",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=eerhardt&avatarId=37925",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=eerhardt&avatarId=37925",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=eerhardt&avatarId=37925",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=eerhardt&avatarId=37925"
                        },
                        "displayName": "Eric Erhardt",
                        "active": true,
                        "timeZone": "America/North_Dakota/New_Salem"
                    },
                    "created": "2019-04-30T14:21:56.852+0000",
                    "updated": "2019-04-30T14:21:56.852+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13218714/comment/16830355",
                    "id": "16830355",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 4194\n[https://github.com/apache/arrow/pull/4194]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-04-30T14:37:47.865+0000",
                    "updated": "2019-04-30T14:37:47.865+0000"
                }
            ],
            "maxResults": 4,
            "total": 4,
            "startAt": 0
        },
        "customfield_12311820": "0|z007a8:",
        "customfield_12314139": null
    }
}