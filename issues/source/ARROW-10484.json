{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13338718",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718",
    "key": "ARROW-10484",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12348823",
                "id": "12348823",
                "description": "",
                "name": "3.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-01-25"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12345977",
                "id": "12345977",
                "description": "",
                "name": "2.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-10-19"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
            "name": "bkietz",
            "key": "bkietz",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
            },
            "displayName": "Ben Kietzman",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
            "name": "bkietz",
            "key": "bkietz",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
            },
            "displayName": "Ben Kietzman",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
            "name": "bkietz",
            "key": "bkietz",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
            },
            "displayName": "Ben Kietzman",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 9000,
            "total": 9000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 9000,
            "total": 9000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-10484/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 15,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/507735",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz opened a new pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591\n\n\n   `Future<Status>` and `Future<void>` now support the `result()` member function; their `ValueType` is an empty struct. This will simplify generic code handling `Future<T>` since special cases which avoid `result()` need not be written for statusy futures.\r\n   \r\n   Details:\r\n   - `DeferNotOk` and `ExecuteAndMarkFinished` are no longer members of `Future<>`\r\n   - Constructing finished Futures no longer locks the waiter mutex\r\n   - Future now holds a `shared_ptr<FutureImpl>` directly. `FutureImpl` stores the Future's result in a type erased allocation.\r\n   - `FutureStorage<>` and `FutureStorageBase` are obviated and have been removed\r\n   - deleted `Executor::SubmitAsFuture()` since it isn't used and can be trivially replaced: `ex->SubmitAsFuture(f)` -> `DeferNotOk(ex->Submit(f))`\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-04T19:20:31.708+0000",
                    "updated": "2020-11-04T19:20:31.708+0000",
                    "started": "2020-11-04T19:20:31.707+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "507735",
                    "issueId": "13338718"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/507743",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591#issuecomment-721931117\n\n\n   https://issues.apache.org/jira/browse/ARROW-10484\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-04T19:32:12.915+0000",
                    "updated": "2020-11-04T19:32:12.915+0000",
                    "started": "2020-11-04T19:32:12.915+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "507743",
                    "issueId": "13338718"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/509128",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591#discussion_r519809843\n\n\n\n##########\nFile path: cpp/src/arrow/util/future.h\n##########\n@@ -265,28 +188,24 @@ class Future {\n   }\n \n   /// \\brief Wait for the Future to complete and return its Result\n-  ///\n-  /// This function is not available on Future<void> and Future<Status>.\n-  /// For these specializations, please call status() instead.\n-  template <typename U = T>\n-  const Result<T>& result(EnableResult<U>* = NULLPTR) const& {\n-    CheckValid();\n+  const Result<ValueType>& result() const& {\n     Wait();\n-    return storage_->result_;\n+    return *GetResult();\n   }\n-\n-  template <typename U = T>\n-  Result<T> result(EnableResult<U>* = NULLPTR) && {\n-    CheckValid();\n+  Result<ValueType>&& result() && {\n     Wait();\n-    return std::move(storage_->result_);\n+    return std::move(*GetResult());\n   }\n \n   /// \\brief Wait for the Future to complete and return its Status\n-  Status status() const {\n-    CheckValid();\n-    Wait();\n-    return storage_->status();\n+  const Status& status() const { return result().status(); }\n+\n+  /// \\brief Future<T> is convertible to Future<>, which views only the\n+  /// Status of the original. Marking this Future Finished is not supported.\n\nReview comment:\n       \"this Future\" is the returned future?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-09T13:21:47.624+0000",
                    "updated": "2020-11-09T13:21:47.624+0000",
                    "started": "2020-11-09T13:21:47.623+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "509128",
                    "issueId": "13338718"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/509130",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591#discussion_r519810188\n\n\n\n##########\nFile path: cpp/src/arrow/util/future.h\n##########\n@@ -310,63 +229,66 @@ class Future {\n     return impl_->Wait(seconds);\n   }\n \n-  /// If a Result<Future> holds an error instead of a Future, construct a finished Future\n-  /// holding that error.\n-  static Future DeferNotOk(Result<Future> maybe_future) {\n-    if (ARROW_PREDICT_FALSE(!maybe_future.ok())) {\n-      return MakeFinished(std::move(maybe_future).status());\n-    }\n-    return std::move(maybe_future).MoveValueUnsafe();\n-  }\n-\n   // Producer API\n \n-  /// \\brief Producer API: execute function and mark Future finished\n-  ///\n-  /// The function's return value is used to set the Future's result.\n-  /// The function can have the following return types:\n-  /// - `T`\n-  /// - `Result<T>`, if T is neither `void` nor `Status`\n-  template <typename Func>\n-  void ExecuteAndMarkFinished(Func&& func) {\n-    storage_->ExecuteAndMarkFinished(std::forward<Func>(func));\n-  }\n-\n   /// \\brief Producer API: mark Future finished\n   ///\n-  /// The arguments are used to set the Future's result.\n-  /// This function accepts the following signatures:\n-  /// - `(T val)`, if T is neither `void` nor `Status`\n-  /// - `(Result<T> val)`, if T is neither `void` nor `Status`\n-  /// - `(Status st)`, if T is `void` or `Status`\n-  /// - `()`, if T is `void`\n-  template <typename... Args>\n-  void MarkFinished(Args&&... args) {\n-    storage_->MarkFinished(std::forward<Args>(args)...);\n+  /// The Future's result is set to `res`.\n+  void MarkFinished(Result<ValueType> res) { DoMarkFinished(std::move(res)); }\n+\n+  /// \\brief Mark a Future<> or Future<> completed with the provided Status.\n\nReview comment:\n       \"Future<> or Future<>\" ?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-09T13:22:25.432+0000",
                    "updated": "2020-11-09T13:22:25.432+0000",
                    "started": "2020-11-09T13:22:25.432+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "509130",
                    "issueId": "13338718"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/509138",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591#discussion_r519813747\n\n\n\n##########\nFile path: cpp/src/arrow/util/thread_pool.h\n##########\n@@ -64,14 +64,39 @@ namespace detail {\n // Make sure that both functions returning T and Result<T> can be called\n // through Executor::Submit(), and that a Future<T> is returned for both.\n template <typename T>\n-struct ExecutorResultTraits {\n-  using ValueType = T;\n+struct ExecutorSubmitTraits {\n+  using FutureType = Future<T>;\n };\n-\n template <typename T>\n-struct ExecutorResultTraits<Result<T>> {\n-  using ValueType = T;\n+struct ExecutorSubmitTraits<Result<T>> {\n+  using FutureType = Future<T>;\n+};\n+\n+// Make sure that both functions returning Status and void can be called\n+// through Executor::Submit(), and that a Future<> is returned for both.\n+template <>\n+struct ExecutorSubmitTraits<Status> {\n+  using FutureType = Future<>;\n };\n+template <>\n+struct ExecutorSubmitTraits<void> {\n+  using FutureType = Future<>;\n+};\n+\n+template <typename T, typename F>\n+typename std::enable_if<\n+    !std::is_same<typename std::result_of<F && ()>::type, void>::value>::type\n+ExecuteAndMarkFinished(Future<T>* fut, F&& f) {\n\nReview comment:\n       Is it actually better to define this here rather than inside `Future`?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-09T13:28:12.671+0000",
                    "updated": "2020-11-09T13:28:12.671+0000",
                    "started": "2020-11-09T13:28:12.671+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "509138",
                    "issueId": "13338718"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/509186",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on a change in pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591#discussion_r519864378\n\n\n\n##########\nFile path: cpp/src/arrow/util/future.h\n##########\n@@ -265,28 +188,24 @@ class Future {\n   }\n \n   /// \\brief Wait for the Future to complete and return its Result\n-  ///\n-  /// This function is not available on Future<void> and Future<Status>.\n-  /// For these specializations, please call status() instead.\n-  template <typename U = T>\n-  const Result<T>& result(EnableResult<U>* = NULLPTR) const& {\n-    CheckValid();\n+  const Result<ValueType>& result() const& {\n     Wait();\n-    return storage_->result_;\n+    return *GetResult();\n   }\n-\n-  template <typename U = T>\n-  Result<T> result(EnableResult<U>* = NULLPTR) && {\n-    CheckValid();\n+  Result<ValueType>&& result() && {\n     Wait();\n-    return std::move(storage_->result_);\n+    return std::move(*GetResult());\n   }\n \n   /// \\brief Wait for the Future to complete and return its Status\n-  Status status() const {\n-    CheckValid();\n-    Wait();\n-    return storage_->status();\n+  const Status& status() const { return result().status(); }\n+\n+  /// \\brief Future<T> is convertible to Future<>, which views only the\n+  /// Status of the original. Marking this Future Finished is not supported.\n\nReview comment:\n       That's a good point; I'll clarify the ambiguity\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-09T14:43:00.737+0000",
                    "updated": "2020-11-09T14:43:00.737+0000",
                    "started": "2020-11-09T14:43:00.737+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "509186",
                    "issueId": "13338718"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/509187",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on a change in pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591#discussion_r519864564\n\n\n\n##########\nFile path: cpp/src/arrow/util/future.h\n##########\n@@ -310,63 +229,66 @@ class Future {\n     return impl_->Wait(seconds);\n   }\n \n-  /// If a Result<Future> holds an error instead of a Future, construct a finished Future\n-  /// holding that error.\n-  static Future DeferNotOk(Result<Future> maybe_future) {\n-    if (ARROW_PREDICT_FALSE(!maybe_future.ok())) {\n-      return MakeFinished(std::move(maybe_future).status());\n-    }\n-    return std::move(maybe_future).MoveValueUnsafe();\n-  }\n-\n   // Producer API\n \n-  /// \\brief Producer API: execute function and mark Future finished\n-  ///\n-  /// The function's return value is used to set the Future's result.\n-  /// The function can have the following return types:\n-  /// - `T`\n-  /// - `Result<T>`, if T is neither `void` nor `Status`\n-  template <typename Func>\n-  void ExecuteAndMarkFinished(Func&& func) {\n-    storage_->ExecuteAndMarkFinished(std::forward<Func>(func));\n-  }\n-\n   /// \\brief Producer API: mark Future finished\n   ///\n-  /// The arguments are used to set the Future's result.\n-  /// This function accepts the following signatures:\n-  /// - `(T val)`, if T is neither `void` nor `Status`\n-  /// - `(Result<T> val)`, if T is neither `void` nor `Status`\n-  /// - `(Status st)`, if T is `void` or `Status`\n-  /// - `()`, if T is `void`\n-  template <typename... Args>\n-  void MarkFinished(Args&&... args) {\n-    storage_->MarkFinished(std::forward<Args>(args)...);\n+  /// The Future's result is set to `res`.\n+  void MarkFinished(Result<ValueType> res) { DoMarkFinished(std::move(res)); }\n+\n+  /// \\brief Mark a Future<> or Future<> completed with the provided Status.\n\nReview comment:\n       `fastmod` failure, I'll remove the duplicate\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-09T14:43:14.640+0000",
                    "updated": "2020-11-09T14:43:14.640+0000",
                    "started": "2020-11-09T14:43:14.640+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "509187",
                    "issueId": "13338718"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/509191",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on a change in pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591#discussion_r519870446\n\n\n\n##########\nFile path: cpp/src/arrow/util/thread_pool.h\n##########\n@@ -64,14 +64,39 @@ namespace detail {\n // Make sure that both functions returning T and Result<T> can be called\n // through Executor::Submit(), and that a Future<T> is returned for both.\n template <typename T>\n-struct ExecutorResultTraits {\n-  using ValueType = T;\n+struct ExecutorSubmitTraits {\n+  using FutureType = Future<T>;\n };\n-\n template <typename T>\n-struct ExecutorResultTraits<Result<T>> {\n-  using ValueType = T;\n+struct ExecutorSubmitTraits<Result<T>> {\n+  using FutureType = Future<T>;\n+};\n+\n+// Make sure that both functions returning Status and void can be called\n+// through Executor::Submit(), and that a Future<> is returned for both.\n+template <>\n+struct ExecutorSubmitTraits<Status> {\n+  using FutureType = Future<>;\n };\n+template <>\n+struct ExecutorSubmitTraits<void> {\n+  using FutureType = Future<>;\n+};\n+\n+template <typename T, typename F>\n+typename std::enable_if<\n+    !std::is_same<typename std::result_of<F && ()>::type, void>::value>::type\n+ExecuteAndMarkFinished(Future<T>* fut, F&& f) {\n\nReview comment:\n       Since it's only used in Executor::Submit it seemed preferable to simplify the public interface of `Future` by moving it here. It can certainly be moved back if there's another application for it\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-09T14:50:54.776+0000",
                    "updated": "2020-11-09T14:50:54.776+0000",
                    "started": "2020-11-09T14:50:54.776+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "509191",
                    "issueId": "13338718"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/509197",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591#discussion_r519871842\n\n\n\n##########\nFile path: cpp/src/arrow/util/thread_pool.h\n##########\n@@ -64,14 +64,39 @@ namespace detail {\n // Make sure that both functions returning T and Result<T> can be called\n // through Executor::Submit(), and that a Future<T> is returned for both.\n template <typename T>\n-struct ExecutorResultTraits {\n-  using ValueType = T;\n+struct ExecutorSubmitTraits {\n+  using FutureType = Future<T>;\n };\n-\n template <typename T>\n-struct ExecutorResultTraits<Result<T>> {\n-  using ValueType = T;\n+struct ExecutorSubmitTraits<Result<T>> {\n+  using FutureType = Future<T>;\n+};\n+\n+// Make sure that both functions returning Status and void can be called\n+// through Executor::Submit(), and that a Future<> is returned for both.\n+template <>\n+struct ExecutorSubmitTraits<Status> {\n+  using FutureType = Future<>;\n };\n+template <>\n+struct ExecutorSubmitTraits<void> {\n+  using FutureType = Future<>;\n+};\n+\n+template <typename T, typename F>\n+typename std::enable_if<\n+    !std::is_same<typename std::result_of<F && ()>::type, void>::value>::type\n+ExecuteAndMarkFinished(Future<T>* fut, F&& f) {\n\nReview comment:\n       It seems like this can be a generic primitive on futures (which generally entail the execution of a function-like before being mark finished).\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-09T14:52:52.263+0000",
                    "updated": "2020-11-09T14:52:52.263+0000",
                    "started": "2020-11-09T14:52:52.262+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "509197",
                    "issueId": "13338718"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/509211",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on a change in pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591#discussion_r519888335\n\n\n\n##########\nFile path: cpp/src/arrow/util/thread_pool.h\n##########\n@@ -64,14 +64,39 @@ namespace detail {\n // Make sure that both functions returning T and Result<T> can be called\n // through Executor::Submit(), and that a Future<T> is returned for both.\n template <typename T>\n-struct ExecutorResultTraits {\n-  using ValueType = T;\n+struct ExecutorSubmitTraits {\n+  using FutureType = Future<T>;\n };\n-\n template <typename T>\n-struct ExecutorResultTraits<Result<T>> {\n-  using ValueType = T;\n+struct ExecutorSubmitTraits<Result<T>> {\n+  using FutureType = Future<T>;\n+};\n+\n+// Make sure that both functions returning Status and void can be called\n+// through Executor::Submit(), and that a Future<> is returned for both.\n+template <>\n+struct ExecutorSubmitTraits<Status> {\n+  using FutureType = Future<>;\n };\n+template <>\n+struct ExecutorSubmitTraits<void> {\n+  using FutureType = Future<>;\n+};\n+\n+template <typename T, typename F>\n+typename std::enable_if<\n+    !std::is_same<typename std::result_of<F && ()>::type, void>::value>::type\n+ExecuteAndMarkFinished(Future<T>* fut, F&& f) {\n\nReview comment:\n       > which generally entail the execution of a function-like before being mark finished\r\n   \r\n   The only use of this in our code was in Executor::Submit, so I'm not sure what you're referring to\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-09T15:14:47.350+0000",
                    "updated": "2020-11-09T15:14:47.350+0000",
                    "started": "2020-11-09T15:14:47.349+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "509211",
                    "issueId": "13338718"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/509214",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591#discussion_r519890573\n\n\n\n##########\nFile path: cpp/src/arrow/util/thread_pool.h\n##########\n@@ -64,14 +64,39 @@ namespace detail {\n // Make sure that both functions returning T and Result<T> can be called\n // through Executor::Submit(), and that a Future<T> is returned for both.\n template <typename T>\n-struct ExecutorResultTraits {\n-  using ValueType = T;\n+struct ExecutorSubmitTraits {\n+  using FutureType = Future<T>;\n };\n-\n template <typename T>\n-struct ExecutorResultTraits<Result<T>> {\n-  using ValueType = T;\n+struct ExecutorSubmitTraits<Result<T>> {\n+  using FutureType = Future<T>;\n+};\n+\n+// Make sure that both functions returning Status and void can be called\n+// through Executor::Submit(), and that a Future<> is returned for both.\n+template <>\n+struct ExecutorSubmitTraits<Status> {\n+  using FutureType = Future<>;\n };\n+template <>\n+struct ExecutorSubmitTraits<void> {\n+  using FutureType = Future<>;\n+};\n+\n+template <typename T, typename F>\n+typename std::enable_if<\n+    !std::is_same<typename std::result_of<F && ()>::type, void>::value>::type\n+ExecuteAndMarkFinished(Future<T>* fut, F&& f) {\n\nReview comment:\n       I'm not saying it's required currently to expose it, just that it sounds potentially useful. But, well, we can move it back later...\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-09T15:17:47.484+0000",
                    "updated": "2020-11-09T15:17:47.484+0000",
                    "started": "2020-11-09T15:17:47.484+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "509214",
                    "issueId": "13338718"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/509316",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591#discussion_r520062916\n\n\n\n##########\nFile path: cpp/src/arrow/util/future_test.cc\n##########\n@@ -330,34 +347,58 @@ TEST(FutureSyncTest, MoveOnlyDataType) {\n   }\n }\n \n-TEST(FutureSyncTest, void) {\n+TEST(FutureSyncTest, Empty) {\n\nReview comment:\n       Should we also test MakeFinished here?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-09T19:23:04.380+0000",
                    "updated": "2020-11-09T19:23:04.380+0000",
                    "started": "2020-11-09T19:23:04.379+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "509316",
                    "issueId": "13338718"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/509334",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on a change in pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591#discussion_r520087424\n\n\n\n##########\nFile path: cpp/src/arrow/util/future_test.cc\n##########\n@@ -330,34 +347,58 @@ TEST(FutureSyncTest, MoveOnlyDataType) {\n   }\n }\n \n-TEST(FutureSyncTest, void) {\n+TEST(FutureSyncTest, Empty) {\n\nReview comment:\n       will do\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-09T20:05:45.901+0000",
                    "updated": "2020-11-09T20:05:45.901+0000",
                    "started": "2020-11-09T20:05:45.901+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "509334",
                    "issueId": "13338718"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/510942",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591#issuecomment-726239188\n\n\n   Can you rebase to get a clean ASAN build?\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-12T17:56:05.522+0000",
                    "updated": "2020-11-12T17:56:05.522+0000",
                    "started": "2020-11-12T17:56:05.522+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "510942",
                    "issueId": "13338718"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/worklog/510992",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz closed pull request #8591:\nURL: https://github.com/apache/arrow/pull/8591\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-11-12T19:12:01.425+0000",
                    "updated": "2020-11-12T19:12:01.425+0000",
                    "started": "2020-11-12T19:12:01.425+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "510992",
                    "issueId": "13338718"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 9000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@1681a75[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@511e2a61[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1805a32e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@3868df6d[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@48ba417f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@6c6fa83f[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@59c67a4f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@27ab55ad[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3d80499e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@2c3f3041[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4641338b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@3bba10d3[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 9000,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Nov 12 19:11:51 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-11-12T19:11:51.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-10484/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2020-11-03T20:21:05.000+0000",
        "updated": "2020-11-12T19:12:02.000+0000",
        "timeoriginalestimate": null,
        "description": "The members of {{Future<{void,Status}>}} differ from other instantiations of {{Future<>}} since they contain only a Status and not a value. This is reasonable, however it complicates generic usage of {{Future<>}} since special cases must be added for the different interfaces. IMHO it'd be acceptable to provide an empty \"ValueType\" (or maybe {{std::nullptr_t}} to follow the precedent of Datum's default state) for those specializations to keep the interface generic.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 9000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Future<{void,Status}> could be more generic",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/comment/17225652",
                    "id": "17225652",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
                        "name": "bkietz",
                        "key": "bkietz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
                        },
                        "displayName": "Ben Kietzman",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "[~apitrou]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
                        "name": "bkietz",
                        "key": "bkietz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
                        },
                        "displayName": "Ben Kietzman",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2020-11-03T20:21:16.622+0000",
                    "updated": "2020-11-03T20:21:16.622+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13338718/comment/17230870",
                    "id": "17230870",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
                        "name": "bkietz",
                        "key": "bkietz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
                        },
                        "displayName": "Ben Kietzman",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 8591\n[https://github.com/apache/arrow/pull/8591]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
                        "name": "bkietz",
                        "key": "bkietz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
                        },
                        "displayName": "Ben Kietzman",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2020-11-12T19:11:51.219+0000",
                    "updated": "2020-11-12T19:11:51.219+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z0k9i8:",
        "customfield_12314139": null
    }
}