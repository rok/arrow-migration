{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13244605",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605",
    "key": "ARROW-5924",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12345978",
                "id": "12345978",
                "description": "",
                "name": "0.15.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-10-05"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12344925",
                "id": "12344925",
                "description": "",
                "name": "0.14.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-07-04"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=shengjun.li",
            "name": "shengjun.li",
            "key": "shengjun.li",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "shengjun.li",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12332956",
                "id": "12332956",
                "name": "C++ - Plasma"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=shengjun.li",
            "name": "shengjun.li",
            "key": "shengjun.li",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "shengjun.li",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=shengjun.li",
            "name": "shengjun.li",
            "key": "shengjun.li",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "shengjun.li",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 21000,
            "total": 21000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 21000,
            "total": 21000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5924/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 35,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/275910",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on pull request #4863: [ARROW-5924] [C++][Plasma] Call CudaBuffer::Close manually when release a GPU object\nURL: https://github.com/apache/arrow/pull/4863\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-12T13:17:32.270+0000",
                    "updated": "2019-07-12T13:17:32.270+0000",
                    "started": "2019-07-12T13:17:32.269+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "275910",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/275912",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4863: ARROW-5924: [C++][Plasma] Call CudaBuffer::Close manually when release a GPU object\nURL: https://github.com/apache/arrow/pull/4863#discussion_r302978923\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -661,6 +661,10 @@ Status PlasmaClient::Impl::Release(const ObjectID& object_id) {\n     auto iter = gpu_object_map.find(object_id);\n     ARROW_CHECK(iter != gpu_object_map.end());\n     if (--iter->second->client_count == 0) {\n+      // Some user may not release the share point of CudaBuffer promptly,\n+      // so it is better to call CudaBuffer::Close manually.\n+      ARROW_CHECK_OK(iter->second->ptr->Close());\n \n Review comment:\n   Since the error is not bubbled up, does it make sense to keep the Close() protected and just invoke it in the destructor?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-12T13:22:45.953+0000",
                    "updated": "2019-07-12T13:22:45.953+0000",
                    "started": "2019-07-12T13:22:45.952+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "275912",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/275947",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4863: ARROW-5924: [C++][Plasma] Call CudaBuffer::Close manually when release a GPU object\nURL: https://github.com/apache/arrow/pull/4863#discussion_r302995619\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -661,6 +661,10 @@ Status PlasmaClient::Impl::Release(const ObjectID& object_id) {\n     auto iter = gpu_object_map.find(object_id);\n     ARROW_CHECK(iter != gpu_object_map.end());\n     if (--iter->second->client_count == 0) {\n+      // Some user may not release the share point of CudaBuffer promptly,\n+      // so it is better to call CudaBuffer::Close manually.\n+      ARROW_CHECK_OK(iter->second->ptr->Close());\n \n Review comment:\n   I meant that the the destructor would call Close() and would be automatically reclaimed when the shared_ptr go out of scope.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-12T14:03:01.808+0000",
                    "updated": "2019-07-12T14:03:01.808+0000",
                    "started": "2019-07-12T14:03:01.808+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "275947",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/275948",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on pull request #4863: ARROW-5924: [C++][Plasma] Call CudaBuffer::Close manually when release a GPU object\nURL: https://github.com/apache/arrow/pull/4863#discussion_r302996538\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -661,6 +661,10 @@ Status PlasmaClient::Impl::Release(const ObjectID& object_id) {\n     auto iter = gpu_object_map.find(object_id);\n     ARROW_CHECK(iter != gpu_object_map.end());\n     if (--iter->second->client_count == 0) {\n+      // Some user may not release the share point of CudaBuffer promptly,\n+      // so it is better to call CudaBuffer::Close manually.\n+      ARROW_CHECK_OK(iter->second->ptr->Close());\n \n Review comment:\n   Thank you for your advice. It is modified.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-12T14:05:12.089+0000",
                    "updated": "2019-07-12T14:05:12.089+0000",
                    "started": "2019-07-12T14:05:12.088+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "275948",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/275955",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4863: ARROW-5924: [C++][Plasma] Call CudaBuffer::Close manually when release a GPU object\nURL: https://github.com/apache/arrow/pull/4863#discussion_r303001819\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -661,6 +661,10 @@ Status PlasmaClient::Impl::Release(const ObjectID& object_id) {\n     auto iter = gpu_object_map.find(object_id);\n     ARROW_CHECK(iter != gpu_object_map.end());\n     if (--iter->second->client_count == 0) {\n+      // Some user may not release the share point of CudaBuffer promptly,\n+      // so it is better to call CudaBuffer::Close manually.\n+      ARROW_CHECK_OK(iter->second->ptr->Close());\n \n Review comment:\n   Hum, I think you uncovered a bigger issue. `second`s destructor doesn't get called either, thus the shared_ptr handle will not decrease the ref-counter.\r\n   \r\n   Would you know why `static std::unordered_map<ObjectID, GpuProcessHandle*> gpu_object_map;` use a pointer to the GpuProcessHandle and not the object itself?\r\n   \r\n   Seems like the real fix would be to avoid the usage of the pointer (or wrap in a unique_ptr).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-12T14:16:57.039+0000",
                    "updated": "2019-07-12T14:16:57.039+0000",
                    "started": "2019-07-12T14:16:57.038+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "275955",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/275969",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on pull request #4863: ARROW-5924: [C++][Plasma] Call CudaBuffer::Close manually when release a GPU object\nURL: https://github.com/apache/arrow/pull/4863#discussion_r303002539\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -661,6 +661,10 @@ Status PlasmaClient::Impl::Release(const ObjectID& object_id) {\n     auto iter = gpu_object_map.find(object_id);\n     ARROW_CHECK(iter != gpu_object_map.end());\n     if (--iter->second->client_count == 0) {\n+      // Some user may not release the share point of CudaBuffer promptly,\n+      // so it is better to call CudaBuffer::Close manually.\n+      ARROW_CHECK_OK(iter->second->ptr->Close());\n \n Review comment:\n   The following code will cause error.\r\n   \r\n   thread 1:\r\n   {\r\n       std::shared_ptr<Buffer> buff;    \r\n       plasma_client1.Create(object_id1, size, nullptr, 0, &buff, 1);\r\n       plasma_client1.Seal(object_id);\r\n       // not to set buff nullptr\r\n       plasma_client1.Release(object_id);\r\n       plasma_client1.Delete(object_id);\r\n       // ... do someting else or not to do anything\r\n   }\r\n   // let buff auto release here.\r\n   \r\n   \r\n   thread 2:\r\n   {\r\n       std::shared_ptr<Buffer> buff;    \r\n       plasma_client2.Create(object_id2, size, nullptr, 0, &buff, 1);\r\n       // If the address allocated by the server is just the object_id1 released, error occur!\r\n   }\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-12T14:18:29.318+0000",
                    "updated": "2019-07-12T14:18:29.318+0000",
                    "started": "2019-07-12T14:18:29.317+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "275969",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/275972",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4863: ARROW-5924: [C++][Plasma] Call CudaBuffer::Close manually when release a GPU object\nURL: https://github.com/apache/arrow/pull/4863#discussion_r303004547\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -661,6 +661,10 @@ Status PlasmaClient::Impl::Release(const ObjectID& object_id) {\n     auto iter = gpu_object_map.find(object_id);\n     ARROW_CHECK(iter != gpu_object_map.end());\n     if (--iter->second->client_count == 0) {\n+      // Some user may not release the share point of CudaBuffer promptly,\n+      // so it is better to call CudaBuffer::Close manually.\n+      ARROW_CHECK_OK(iter->second->ptr->Close());\n \n Review comment:\n   That's what I'm saying, you shouldn't call the Buffer explicit destructor. The issue is that GpuProcessHandle destructor doesn't get called with the delete. Thus, the shared_ptr destructor doesn't get called, thus the ref-count doesn't get decremented, and when it (if) reaches zero, the Buffer destructor doesn't get called.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-12T14:22:58.313+0000",
                    "updated": "2019-07-12T14:22:58.313+0000",
                    "started": "2019-07-12T14:22:58.312+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "275972",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/275973",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4863: ARROW-5924: [C++][Plasma] Call CudaBuffer::Close manually when release a GPU object\nURL: https://github.com/apache/arrow/pull/4863#discussion_r303004648\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -661,6 +661,10 @@ Status PlasmaClient::Impl::Release(const ObjectID& object_id) {\n     auto iter = gpu_object_map.find(object_id);\n     ARROW_CHECK(iter != gpu_object_map.end());\n     if (--iter->second->client_count == 0) {\n+      // Some user may not release the share point of CudaBuffer promptly,\n+      // so it is better to call CudaBuffer::Close manually.\n+      ARROW_CHECK_OK(iter->second->ptr->Close());\n \n Review comment:\n   You effectively uncovered a memory leak.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-12T14:23:12.226+0000",
                    "updated": "2019-07-12T14:23:12.226+0000",
                    "started": "2019-07-12T14:23:12.226+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "275973",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/275987",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on pull request #4863: ARROW-5924: [C++][Plasma] Call CudaBuffer::Close manually when release a GPU object\nURL: https://github.com/apache/arrow/pull/4863#discussion_r303017623\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -661,6 +661,10 @@ Status PlasmaClient::Impl::Release(const ObjectID& object_id) {\n     auto iter = gpu_object_map.find(object_id);\n     ARROW_CHECK(iter != gpu_object_map.end());\n     if (--iter->second->client_count == 0) {\n+      // Some user may not release the share point of CudaBuffer promptly,\n+      // so it is better to call CudaBuffer::Close manually.\n+      ARROW_CHECK_OK(iter->second->ptr->Close());\n \n Review comment:\n   I am so sorry that I just get your point now.\r\n   \r\n   >> Would you know why static std::unordered_map<ObjectID, GpuProcessHandle*> gpu_object_map; use a pointer to the GpuProcessHandle and not the object itself?\r\n   >> Seems like the real fix would be to avoid the usage of the pointer (or wrap in a unique_ptr).\r\n   I will try to fix it later.\r\n   Thank you.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-12T14:51:19.458+0000",
                    "updated": "2019-07-12T14:51:19.458+0000",
                    "started": "2019-07-12T14:51:19.457+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "275987",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/275988",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on pull request #4863: ARROW-5924: [C++][Plasma] Call CudaBuffer::Close manually when release a GPU object\nURL: https://github.com/apache/arrow/pull/4863#discussion_r303017623\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -661,6 +661,10 @@ Status PlasmaClient::Impl::Release(const ObjectID& object_id) {\n     auto iter = gpu_object_map.find(object_id);\n     ARROW_CHECK(iter != gpu_object_map.end());\n     if (--iter->second->client_count == 0) {\n+      // Some user may not release the share point of CudaBuffer promptly,\n+      // so it is better to call CudaBuffer::Close manually.\n+      ARROW_CHECK_OK(iter->second->ptr->Close());\n \n Review comment:\n   I am so sorry that I just get your point now.\r\n   \r\n   >> Would you know why static std::unordered_map<ObjectID, GpuProcessHandle*> gpu_object_map; use a pointer to the GpuProcessHandle and not the object itself?\r\n   >> Seems like the real fix would be to avoid the usage of the pointer (or wrap in a unique_ptr).\r\n   \r\n   I will try to fix it later.\r\n   Thank you.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-12T14:51:37.998+0000",
                    "updated": "2019-07-12T14:51:37.998+0000",
                    "started": "2019-07-12T14:51:37.998+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "275988",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/275995",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4863: ARROW-5924: [C++][Plasma] Call CudaBuffer::Close manually when release a GPU object\nURL: https://github.com/apache/arrow/pull/4863#discussion_r303004648\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -661,6 +661,10 @@ Status PlasmaClient::Impl::Release(const ObjectID& object_id) {\n     auto iter = gpu_object_map.find(object_id);\n     ARROW_CHECK(iter != gpu_object_map.end());\n     if (--iter->second->client_count == 0) {\n+      // Some user may not release the share point of CudaBuffer promptly,\n+      // so it is better to call CudaBuffer::Close manually.\n+      ARROW_CHECK_OK(iter->second->ptr->Close());\n \n Review comment:\n   You effectively uncovered a resource leak.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-12T15:00:42.226+0000",
                    "updated": "2019-07-12T15:00:42.226+0000",
                    "started": "2019-07-12T15:00:42.225+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "275995",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/276356",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on issue #4863: ARROW-5924: [C++][Plasma] Call CudaBuffer::Close manually when release a GPU object\nURL: https://github.com/apache/arrow/pull/4863#issuecomment-511179916\n \n \n   I will try to fix it in another way. Close it first.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-14T07:22:34.978+0000",
                    "updated": "2019-07-14T07:22:34.978+0000",
                    "started": "2019-07-14T07:22:34.978+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "276356",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/276357",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on pull request #4863: ARROW-5924: [C++][Plasma] Call CudaBuffer::Close manually when release a GPU object\nURL: https://github.com/apache/arrow/pull/4863\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-14T07:22:36.159+0000",
                    "updated": "2019-07-14T07:22:36.159+0000",
                    "started": "2019-07-14T07:22:36.158+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "276357",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/276382",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on pull request #4877: ARROW-5924:[Plasma] return a replica of GpuProcessHandle::ptr when create or get an object\nURL: https://github.com/apache/arrow/pull/4877\n \n \n   CloseIpc is in the CudaBuffer's destructor.\r\n   If a user doesn't release the buff promptly before he release the object, the CloseIpc will be blocked.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-14T13:45:38.463+0000",
                    "updated": "2019-07-14T13:45:38.463+0000",
                    "started": "2019-07-14T13:45:38.463+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "276382",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/276741",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on issue #4877: ARROW-5924:[Plasma] return a replica of GpuProcessHandle::ptr when create or get an object\nURL: https://github.com/apache/arrow/pull/4877#issuecomment-511417199\n \n \n   @wesm should we ignore the coverage segfault?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-15T14:07:21.939+0000",
                    "updated": "2019-07-15T14:07:21.939+0000",
                    "started": "2019-07-15T14:07:21.939+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "276741",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/276744",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #4877: ARROW-5924:[Plasma] return a replica of GpuProcessHandle::ptr when create or get an object\nURL: https://github.com/apache/arrow/pull/4877#issuecomment-511418099\n \n \n   @kszucs that's ARROW-5930. I'm really interested in seeing how to reproduce this locally / in Docker\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-15T14:09:40.565+0000",
                    "updated": "2019-07-15T14:09:40.565+0000",
                    "started": "2019-07-15T14:09:40.564+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "276744",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/276787",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on issue #4877: ARROW-5924:[Plasma] return a replica of GpuProcessHandle::ptr when create or get an object\nURL: https://github.com/apache/arrow/pull/4877#issuecomment-511453137\n \n \n   See https://github.com/apache/arrow/pull/4865#issuecomment-511441759 but it seems flaky.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-15T15:35:51.803+0000",
                    "updated": "2019-07-15T15:35:51.803+0000",
                    "started": "2019-07-15T15:35:51.802+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "276787",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/277922",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on pull request #4877: ARROW-5924: [Plasma] return a replica of GpuProcessHandle::ptr when create or get an object\nURL: https://github.com/apache/arrow/pull/4877#discussion_r304190951\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -514,7 +515,9 @@ Status PlasmaClient::Impl::GetBuffers(\n         auto iter = gpu_object_map.find(object_ids[i]);\n         ARROW_CHECK(iter != gpu_object_map.end());\n         iter->second->client_count++;\n-        physical_buf = iter->second->ptr;\n+        physical_buf = std::make_shared<CudaBuffer>(iter->second->ptr->mutable_data(),\n \n Review comment:\n   thread 1:\r\n   {\r\n   // assume that obj_id1 is already contained\r\n   \r\n   ObjectBuffer buff1;\r\n   client.Get(&obj_id1, 1, -1, &buff1);\r\n   \r\n   ObjectBuffer buff2;\r\n   client.Get(&obj_id1, 1, -1, &buff2); // here will trigger the logic\r\n   \r\n   // not to set buff1.data, buff2.data nullptr\r\n   client.Release(obj_id1);\r\n   client.Release(obj_id1);\r\n   \r\n   client.Delete(obj_id1);\r\n   }\r\n   // let buff1, buff2 auto release here.\r\n   \r\n   thread 2:\r\n   {\r\n   std::shared_ptr buff;\r\n   plasma_client2.Create(object_id2, size, nullptr, 0, &buff, 1);\r\n   // If the address allocated by the server is just the object_id1 released, error occur!\r\n   }\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-17T01:50:49.607+0000",
                    "updated": "2019-07-17T01:50:49.607+0000",
                    "started": "2019-07-17T01:50:49.606+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "277922",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/277923",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on pull request #4877: ARROW-5924: [Plasma] return a replica of GpuProcessHandle::ptr when create or get an object\nURL: https://github.com/apache/arrow/pull/4877#discussion_r304190951\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -514,7 +515,9 @@ Status PlasmaClient::Impl::GetBuffers(\n         auto iter = gpu_object_map.find(object_ids[i]);\n         ARROW_CHECK(iter != gpu_object_map.end());\n         iter->second->client_count++;\n-        physical_buf = iter->second->ptr;\n+        physical_buf = std::make_shared<CudaBuffer>(iter->second->ptr->mutable_data(),\n \n Review comment:\n   thread 1:\r\n   {\r\n   // assume that obj_id1 is already contained in gpu1\r\n   \r\n   ObjectBuffer buff1;\r\n   client.Get(&obj_id1, 1, -1, &buff1);\r\n   \r\n   ObjectBuffer buff2;\r\n   client.Get(&obj_id1, 1, -1, &buff2); // here will trigger the logic\r\n   \r\n   // not to set buff1.data, buff2.data nullptr\r\n   client.Release(obj_id1);\r\n   client.Release(obj_id1);\r\n   \r\n   client.Delete(obj_id1);\r\n   }\r\n   // let buff1, buff2 auto release here.\r\n   \r\n   thread 2:\r\n   {\r\n   std::shared_ptr buff;\r\n   plasma_client2.Create(object_id2, size, nullptr, 0, &buff, 1);\r\n   // If the address allocated by the server is just the object_id1 released, error occur!\r\n   }\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-17T01:51:24.506+0000",
                    "updated": "2019-07-17T01:51:24.506+0000",
                    "started": "2019-07-17T01:51:24.505+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "277923",
                    "issueId": "13244605"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/worklog/277924",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on pull request #4877: ARROW-5924: [Plasma] return a replica of GpuProcessHandle::ptr when create or get an object\nURL: https://github.com/apache/arrow/pull/4877#discussion_r304190951\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -514,7 +515,9 @@ Status PlasmaClient::Impl::GetBuffers(\n         auto iter = gpu_object_map.find(object_ids[i]);\n         ARROW_CHECK(iter != gpu_object_map.end());\n         iter->second->client_count++;\n-        physical_buf = iter->second->ptr;\n+        physical_buf = std::make_shared<CudaBuffer>(iter->second->ptr->mutable_data(),\n \n Review comment:\n   thread 1:\r\n   {\r\n   // assume that obj_id1 is already contained in gpu1\r\n   \r\n   ObjectBuffer buff1;\r\n   plasma_client1.Get(&obj_id1, 1, -1, &buff1);\r\n   \r\n   ObjectBuffer buff2;\r\n   plasma_client1.Get(&obj_id1, 1, -1, &buff2); // here will trigger the logic\r\n   \r\n   // not to set buff1.data, buff2.data nullptr\r\n   plasma_client1.Release(obj_id1);\r\n   plasma_client1.Release(obj_id1);\r\n   \r\n   plasma_client1.Delete(obj_id1);\r\n   }\r\n   // let buff1, buff2 auto release here.\r\n   \r\n   thread 2:\r\n   {\r\n   std::shared_ptr buff;\r\n   plasma_client2.Create(object_id2, size, nullptr, 0, &buff, 1);\r\n   // If the address allocated by the server is just the object_id1 released, error occur!\r\n   }\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-17T01:52:19.641+0000",
                    "updated": "2019-07-17T01:52:19.641+0000",
                    "started": "2019-07-17T01:52:19.640+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "277924",
                    "issueId": "13244605"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 21000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@7621924c[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@32b83ae6[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7cb8049b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@fa46ee0[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1b720a30[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@17a05aa8[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2b80181b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@77fb0e5[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@c5709b0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@19377788[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@32dce475[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@485e8253[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 21000,
        "customfield_12312520": null,
        "customfield_12312521": "Mon Jul 29 13:44:18 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-07-29T13:44:18.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5924/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2019-07-12T12:38:20.000+0000",
        "updated": "2019-08-01T22:39:34.000+0000",
        "timeoriginalestimate": null,
        "description": "cmake_modules/DefineOptions.cmake\r\n \u00a0 define_option(ARROW_CUDA \"Build the Arrow CUDA extensions (requires CUDA toolkit)\" ON)\r\n \u00a0 define_option(ARROW_PLASMA \"Build the plasma object store along with Arrow\" ON)\r\n\r\nThe corrent sequence is as follow:\r\n (1) plasma_client.Create(object_id, size, nullptr, 0, &buff, 1);\u00a0 // where device_num > 0\r\n (2) plasma_client.Seal(object_id);\r\n (3) buff = nullptr;\r\n (4) plasma_client.Release(object_id);\r\n (5) plasma_client.Delete(object_id);\r\n\r\nTo set buff nullptr (step 3) just before release the object (step 4) because CloseIpcBuffer is in its destructor (class CudaBuffer).\r\nIf a user does not do that promptly, CloseIpcBuffer will be blocked.\r\nThen, the following error may occure when another object created.\r\n \u00a0\u00a0\u00a0 IOError: Cuda Driver API call in /home/zilliz/arrow/cpp/src/arrow/gpu/cuda_context.cc at line 156 failed with code 208: cuIpcOpenMemHandle(&data, *handle, CU_IPC_MEM_LAZY_ENABLE_PEER_ACCESS) (nil)\r\n",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "5h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 21000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++][Plasma] It is not convenient to release a GPU object",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/comment/16886098",
                    "id": "16886098",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kszucs",
                        "name": "kszucs",
                        "key": "kszucs",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Krisztian Szucs",
                        "active": true,
                        "timeZone": "Europe/Budapest"
                    },
                    "body": "[~wesmckinn] may we postpone it to 1.0.0?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kszucs",
                        "name": "kszucs",
                        "key": "kszucs",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Krisztian Szucs",
                        "active": true,
                        "timeZone": "Europe/Budapest"
                    },
                    "created": "2019-07-16T13:01:10.363+0000",
                    "updated": "2019-07-16T13:01:10.363+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/comment/16886101",
                    "id": "16886101",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Yes",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-07-16T13:09:16.736+0000",
                    "updated": "2019-07-16T13:09:16.736+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13244605/comment/16895265",
                    "id": "16895265",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 4877\n[https://github.com/apache/arrow/pull/4877]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-07-29T13:44:18.891+0000",
                    "updated": "2019-07-29T13:44:18.891+0000"
                }
            ],
            "maxResults": 3,
            "total": 3,
            "startAt": 0
        },
        "customfield_12311820": "0|z04m54:",
        "customfield_12314139": null
    }
}