{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13356092",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092",
    "key": "ARROW-11468",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349493",
                "id": "12349493",
                "description": "",
                "name": "4.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-04-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12348823",
                "id": "12348823",
                "description": "",
                "name": "3.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-01-25"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=thisisnic",
            "name": "thisisnic",
            "key": "thisisnic",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39937",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39937",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39937",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39937"
            },
            "displayName": "Nicola Crane",
            "active": true,
            "timeZone": "Africa/Casablanca"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=icook",
            "name": "icook",
            "key": "icook",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=icook&avatarId=29388",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=icook&avatarId=29388",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=icook&avatarId=29388",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=icook&avatarId=29388"
            },
            "displayName": "Ian Cook",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=icook",
            "name": "icook",
            "key": "icook",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=icook&avatarId=29388",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=icook&avatarId=29388",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=icook&avatarId=29388",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=icook&avatarId=29388"
            },
            "displayName": "Ian Cook",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 15600,
            "total": 15600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 15600,
            "total": 15600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11468/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 26,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/579393",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic opened a new pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950\n\n\n   A couple of things I wanted to check are expected behaviour:\r\n   \r\n   1. If I specify in the schema that a numeric column should be a string column, I get the error `Error: Invalid: JSON parse error: Column(/third_col) changed from string to number in row 0`\r\n    (e.g. if I run the following)\r\n   ```\r\n   tf <- tempfile()\r\n   writeLines('\r\n       { \"hello\": 3.5, \"world\": 2, \"third_col\": 99}\r\n       { \"hello\": 3.25, \"world\": 5, \"third_col\": 98}\r\n       { \"hello\": 3.125, \"world\": 8, \"third_col\": 97 }\r\n       { \"hello\": 0.0, \"world\": 10, \"third_col\": 96}\r\n   ', tf)\r\n   read_json_arrow(tf, schema = schema(third_col = float64(), world = float64()))\r\n   ```\r\n   2. As can be seen in the tests output (will delete the `print` statements before this is merged), table columns are returned in the order specified in the schema and then the columns not mentioned in the schema.\r\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-08T17:40:55.258+0000",
                    "updated": "2021-04-08T17:40:55.258+0000",
                    "started": "2021-04-08T17:40:55.258+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "579393",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/579417",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "galipremsagar opened a new pull request #9951:\nURL: https://github.com/apache/arrow/pull/9951\n\n\n   This PR fixes: https://issues.apache.org/jira/browse/ARROW-12300\r\n   \r\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-08T18:01:39.227+0000",
                    "updated": "2021-04-08T18:01:39.227+0000",
                    "started": "2021-04-08T18:01:39.227+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "579417",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/579563",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#issuecomment-816188615\n\n\n   https://issues.apache.org/jira/browse/ARROW-11468\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-08T20:55:45.761+0000",
                    "updated": "2021-04-08T20:55:45.761+0000",
                    "started": "2021-04-08T20:55:45.760+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "579563",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/580030",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#discussion_r610652455\n\n\n\n##########\nFile path: r/src/json.cpp\n##########\n@@ -31,14 +31,24 @@ std::shared_ptr<arrow::json::ReadOptions> json___ReadOptions__initialize(bool us\n }\n \n // [[arrow::export]]\n-std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize(\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize1(\n     bool newlines_in_values) {\n   auto res =\n       std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n   res->newlines_in_values = newlines_in_values;\n   return res;\n }\n \n+// [[arrow::export]]\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize2(\n+    bool newlines_in_values, const std::shared_ptr<arrow::Schema>& explicit_schema) {\n+  auto res =\n+    std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n+  res->newlines_in_values = newlines_in_values;\n+  res->explicit_schema = explicit_schema;\n+  return res;\n+}\n+\n\nReview comment:\n       Possibly silly question because I'm a C++ noob:\r\n   Would it work to keep this as just one function `json___ParseOptions__initialize` with `explicit_schema` defaulting to `nullptr` and then do\r\n   ```cpp\r\n   if (explicit_schema != nullptr) {\r\n     res->explicit_schema = explicit_schema;\r\n   }\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T14:03:47.755+0000",
                    "updated": "2021-04-09T14:03:47.755+0000",
                    "started": "2021-04-09T14:03:47.755+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580030",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/580100",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic commented on a change in pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#discussion_r610738117\n\n\n\n##########\nFile path: r/src/json.cpp\n##########\n@@ -31,14 +31,24 @@ std::shared_ptr<arrow::json::ReadOptions> json___ReadOptions__initialize(bool us\n }\n \n // [[arrow::export]]\n-std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize(\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize1(\n     bool newlines_in_values) {\n   auto res =\n       std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n   res->newlines_in_values = newlines_in_values;\n   return res;\n }\n \n+// [[arrow::export]]\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize2(\n+    bool newlines_in_values, const std::shared_ptr<arrow::Schema>& explicit_schema) {\n+  auto res =\n+    std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n+  res->newlines_in_values = newlines_in_values;\n+  res->explicit_schema = explicit_schema;\n+  return res;\n+}\n+\n\nReview comment:\n       I gave this a try, but when I call `JsonParseOptions$create`, it results in the following error:\r\n   ` Error: Invalid R object for std::shared_ptr<arrow::Schema>, must be an ArrowObject`\u00a0\r\n   \r\n   I am guessing it's because the code below passes in `NULL` as the schema argument, and even with `explicit_schema` defaulting to `nullptr`, that default value is never used?\r\n   ```\r\n   JsonParseOptions$create <- function(newlines_in_values = FALSE, schema = NULL) {\r\n       json___ParseOptions__initialize(newlines_in_values, schema)\r\n   }\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T15:57:24.400+0000",
                    "updated": "2021-04-09T15:57:24.400+0000",
                    "started": "2021-04-09T15:57:24.400+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580100",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/580101",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic commented on a change in pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#discussion_r610738117\n\n\n\n##########\nFile path: r/src/json.cpp\n##########\n@@ -31,14 +31,24 @@ std::shared_ptr<arrow::json::ReadOptions> json___ReadOptions__initialize(bool us\n }\n \n // [[arrow::export]]\n-std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize(\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize1(\n     bool newlines_in_values) {\n   auto res =\n       std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n   res->newlines_in_values = newlines_in_values;\n   return res;\n }\n \n+// [[arrow::export]]\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize2(\n+    bool newlines_in_values, const std::shared_ptr<arrow::Schema>& explicit_schema) {\n+  auto res =\n+    std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n+  res->newlines_in_values = newlines_in_values;\n+  res->explicit_schema = explicit_schema;\n+  return res;\n+}\n+\n\nReview comment:\n       I gave this a try and implemented it as a single function, but when I call `JsonParseOptions$create`, it results in the following error:\r\n   ` Error: Invalid R object for std::shared_ptr<arrow::Schema>, must be an ArrowObject`\u00a0\r\n   \r\n   I am guessing it's because the code below passes in `NULL` as the schema argument, and even with `explicit_schema` defaulting to `nullptr`, that default value is never used?\r\n   ```\r\n   JsonParseOptions$create <- function(newlines_in_values = FALSE, schema = NULL) {\r\n       json___ParseOptions__initialize(newlines_in_values, schema)\r\n   }\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T15:57:37.469+0000",
                    "updated": "2021-04-09T15:57:37.469+0000",
                    "started": "2021-04-09T15:57:37.469+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580101",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/580123",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#discussion_r610768156\n\n\n\n##########\nFile path: r/src/json.cpp\n##########\n@@ -31,14 +31,24 @@ std::shared_ptr<arrow::json::ReadOptions> json___ReadOptions__initialize(bool us\n }\n \n // [[arrow::export]]\n-std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize(\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize1(\n     bool newlines_in_values) {\n   auto res =\n       std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n   res->newlines_in_values = newlines_in_values;\n   return res;\n }\n \n+// [[arrow::export]]\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize2(\n+    bool newlines_in_values, const std::shared_ptr<arrow::Schema>& explicit_schema) {\n+  auto res =\n+    std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n+  res->newlines_in_values = newlines_in_values;\n+  res->explicit_schema = explicit_schema;\n+  return res;\n+}\n+\n\nReview comment:\n       Cool, thanks. I'm confused about why this seems to work in a couple of the `dataset___FileSystemDatasetFactory__Make*` functions in `dataset.cpp` but it doesn't work here.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T16:41:55.283+0000",
                    "updated": "2021-04-09T16:41:55.283+0000",
                    "started": "2021-04-09T16:41:55.283+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580123",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/580142",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic commented on a change in pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#discussion_r610777524\n\n\n\n##########\nFile path: r/src/json.cpp\n##########\n@@ -31,14 +31,24 @@ std::shared_ptr<arrow::json::ReadOptions> json___ReadOptions__initialize(bool us\n }\n \n // [[arrow::export]]\n-std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize(\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize1(\n     bool newlines_in_values) {\n   auto res =\n       std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n   res->newlines_in_values = newlines_in_values;\n   return res;\n }\n \n+// [[arrow::export]]\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize2(\n+    bool newlines_in_values, const std::shared_ptr<arrow::Schema>& explicit_schema) {\n+  auto res =\n+    std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n+  res->newlines_in_values = newlines_in_values;\n+  res->explicit_schema = explicit_schema;\n+  return res;\n+}\n+\n\nReview comment:\n       It might be the way I've implemented it; I'll check there and see how they compare.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T16:57:26.012+0000",
                    "updated": "2021-04-09T16:57:26.012+0000",
                    "started": "2021-04-09T16:57:26.012+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580142",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/580146",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#discussion_r610780626\n\n\n\n##########\nFile path: r/src/json.cpp\n##########\n@@ -31,14 +31,24 @@ std::shared_ptr<arrow::json::ReadOptions> json___ReadOptions__initialize(bool us\n }\n \n // [[arrow::export]]\n-std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize(\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize1(\n     bool newlines_in_values) {\n   auto res =\n       std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n   res->newlines_in_values = newlines_in_values;\n   return res;\n }\n \n+// [[arrow::export]]\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize2(\n+    bool newlines_in_values, const std::shared_ptr<arrow::Schema>& explicit_schema) {\n+  auto res =\n+    std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n+  res->newlines_in_values = newlines_in_values;\n+  res->explicit_schema = explicit_schema;\n+  return res;\n+}\n+\n\nReview comment:\n       R's `NULL` is not the same as `nullptr`. It works in dataset___FileSystemDatasetFactory__Make2 because Make1 calls it with nullptr. (The nullptr check you just added in Make3 will never be nullptr (nor `NULL`) because it only is called from R if the input is a `Partitioning` object.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T17:02:39.631+0000",
                    "updated": "2021-04-09T17:02:39.631+0000",
                    "started": "2021-04-09T17:02:39.631+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580146",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/580197",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#discussion_r610806160\n\n\n\n##########\nFile path: r/src/json.cpp\n##########\n@@ -31,14 +31,24 @@ std::shared_ptr<arrow::json::ReadOptions> json___ReadOptions__initialize(bool us\n }\n \n // [[arrow::export]]\n-std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize(\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize1(\n     bool newlines_in_values) {\n   auto res =\n       std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n   res->newlines_in_values = newlines_in_values;\n   return res;\n }\n \n+// [[arrow::export]]\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize2(\n+    bool newlines_in_values, const std::shared_ptr<arrow::Schema>& explicit_schema) {\n+  auto res =\n+    std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n+  res->newlines_in_values = newlines_in_values;\n+  res->explicit_schema = explicit_schema;\n+  return res;\n+}\n+\n\nReview comment:\n       Gotcha. FTR, I did not add that `nullptr` check in `Make3` \ud83d\ude42\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T17:47:13.989+0000",
                    "updated": "2021-04-09T17:47:13.989+0000",
                    "started": "2021-04-09T17:47:13.988+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580197",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/580201",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#discussion_r610809769\n\n\n\n##########\nFile path: r/src/json.cpp\n##########\n@@ -31,14 +31,24 @@ std::shared_ptr<arrow::json::ReadOptions> json___ReadOptions__initialize(bool us\n }\n \n // [[arrow::export]]\n-std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize(\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize1(\n     bool newlines_in_values) {\n   auto res =\n       std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n   res->newlines_in_values = newlines_in_values;\n   return res;\n }\n \n+// [[arrow::export]]\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize2(\n+    bool newlines_in_values, const std::shared_ptr<arrow::Schema>& explicit_schema) {\n+  auto res =\n+    std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n+  res->newlines_in_values = newlines_in_values;\n+  res->explicit_schema = explicit_schema;\n+  return res;\n+}\n+\n\nReview comment:\n       My bad, I thought I saw that you copied it from the other function (because I noticed the `TODO(fsaintjacques)` duplicated in the diff) but maybe it was just next to what you were doing\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T17:53:39.832+0000",
                    "updated": "2021-04-09T17:53:39.832+0000",
                    "started": "2021-04-09T17:53:39.832+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580201",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/580206",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#issuecomment-816854949\n\n\n   Sorry @thisisnic, I just merged something that means you need to rebase and re-generate `arrowExports.cpp` (which should happen when you install the package and test anyway). Due to the nature of the change I made, you will have a conflict on that file. Don't worry about it, it's autogenerated. Don't bother to resolve that conflict, just close out of whatever diff resolution tool that `git` opens, re-generate `arrowExports.cpp`, and then do `git add r/src/arrowExports.cpp && git rebase --continue` to proceed.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T17:56:36.437+0000",
                    "updated": "2021-04-09T17:56:36.437+0000",
                    "started": "2021-04-09T17:56:36.437+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580206",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/580820",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic commented on a change in pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#discussion_r611408611\n\n\n\n##########\nFile path: r/src/json.cpp\n##########\n@@ -31,14 +31,24 @@ std::shared_ptr<arrow::json::ReadOptions> json___ReadOptions__initialize(bool us\n }\n \n // [[arrow::export]]\n-std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize(\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize1(\n     bool newlines_in_values) {\n   auto res =\n       std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n   res->newlines_in_values = newlines_in_values;\n   return res;\n }\n \n+// [[arrow::export]]\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize2(\n+    bool newlines_in_values, const std::shared_ptr<arrow::Schema>& explicit_schema) {\n+  auto res =\n+    std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n+  res->newlines_in_values = newlines_in_values;\n+  res->explicit_schema = explicit_schema;\n+  return res;\n+}\n+\n\nReview comment:\n       Useful stuff to me to learn, thanks for flagging this up and having this discussion!  Just to check where this is, off the back of the discussion above, it is fine to leave it as it is currently, or shall I make some more changes?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-12T08:00:44.705+0000",
                    "updated": "2021-04-12T08:00:44.705+0000",
                    "started": "2021-04-12T08:00:44.705+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580820",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/580823",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic commented on pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#issuecomment-817591944\n\n\n   > Sorry @thisisnic, I just merged something that means you need to rebase and re-generate `arrowExports.cpp` (which should happen when you install the package and test anyway). Due to the nature of the change I made, you will have a conflict on that file. Don't worry about it, it's autogenerated. Don't bother to resolve that conflict, just close out of whatever diff resolution tool that `git` opens, re-generate `arrowExports.cpp`, and then do `git add r/src/arrowExports.cpp && git rebase --continue` to proceed.\r\n   \r\n   Thanks for the heads up @nealrichardson \r\n   \r\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-12T08:12:55.700+0000",
                    "updated": "2021-04-12T08:12:55.700+0000",
                    "started": "2021-04-12T08:12:55.700+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580823",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/581147",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#discussion_r611804918\n\n\n\n##########\nFile path: r/src/json.cpp\n##########\n@@ -31,14 +31,24 @@ std::shared_ptr<arrow::json::ReadOptions> json___ReadOptions__initialize(bool us\n }\n \n // [[arrow::export]]\n-std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize(\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize1(\n     bool newlines_in_values) {\n   auto res =\n       std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n   res->newlines_in_values = newlines_in_values;\n   return res;\n }\n \n+// [[arrow::export]]\n+std::shared_ptr<arrow::json::ParseOptions> json___ParseOptions__initialize2(\n+    bool newlines_in_values, const std::shared_ptr<arrow::Schema>& explicit_schema) {\n+  auto res =\n+    std::make_shared<arrow::json::ParseOptions>(arrow::json::ParseOptions::Defaults());\n+  res->newlines_in_values = newlines_in_values;\n+  res->explicit_schema = explicit_schema;\n+  return res;\n+}\n+\n\nReview comment:\n       It's good.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-12T17:04:16.251+0000",
                    "updated": "2021-04-12T17:04:16.251+0000",
                    "started": "2021-04-12T17:04:16.251+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "581147",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/581148",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#discussion_r611805539\n\n\n\n##########\nFile path: r/R/json.R\n##########\n@@ -20,6 +20,8 @@\n #' Using [JsonTableReader]\n #'\n #' @inheritParams read_delim_arrow\n+#' @param schema [Schema] that describes the table.  If provided, it will be\n+#' used to satisfy both `col_names` and `col_types`.\n\nReview comment:\n       If this were the right docs to include here, you wouldn't need to add them--`@inheritParams read_delim_arrow` would pull it in for you. But since there are no `col_names` and `col_types` arguments to this function, we should specify something different (which will override what inheritParams brings in).\r\n   \r\n   ```suggestion\r\n   #' @param schema [Schema] that describes the column names and data types in the table.\r\n   ```\n\n##########\nFile path: r/tests/testthat/test-json.R\n##########\n@@ -86,6 +86,89 @@ test_that(\"read_json_arrow() supports col_select=\", {\n   expect_equal(names(tab2), c(\"hello\", \"world\"))\n })\n \n+test_that(\"read_json_arrow(schema=) with empty schema\", {\n+  tf <- tempfile()\n+  writeLines('\n+    { \"hello\": 3.5, \"world\": 2, \"third_col\": 99}\n+    { \"hello\": 3.25, \"world\": 5, \"third_col\": 98}\n+    { \"hello\": 3.125, \"world\": 8, \"third_col\": 97 }\n+    { \"hello\": 0.0, \"world\": 10, \"third_col\": 96}\n+  ', tf)\n+  \n+  tab1 <- read_json_arrow(tf, schema = schema())\n+  \n+  expect_identical(\n+    tab1, \n+    tibble::tibble(\n+      hello = c(3.5, 3.25, 3.125, 0),\n+      world = c(2L, 5L, 8L, 10L),\n+      third_col = c(99L,98L,97L,96L)\n+    )               \n+  )\n+})\n+\n+test_that(\"read_json_arrow(schema=) with partial schema\", {\n+  tf <- tempfile()\n+  writeLines('\n+    { \"hello\": 3.5, \"world\": 2, \"third_col\": 99}\n+    { \"hello\": 3.25, \"world\": 5, \"third_col\": 98}\n+    { \"hello\": 3.125, \"world\": 8, \"third_col\": 97 }\n+    { \"hello\": 0.0, \"world\": 10, \"third_col\": 96}\n+  ', tf)\n+  \n+  tab1 <- read_json_arrow(tf, schema = schema(third_col = float64(), world = float64()))\n+  \n+  print(\"input:\")\n+  print(\"schema:\")\n+  print(schema(third_col = float64(), world = float64()))\n+  print('\n+    { \"hello\": 3.5, \"world\": 2, \"third_col\": 99}\n+    { \"hello\": 3.25, \"world\": 5, \"third_col\": 98}\n+    { \"hello\": 3.125, \"world\": 8, \"third_col\": 97 }\n+    { \"hello\": 0.0, \"world\": 10, \"third_col\": 96}\n+  ')\n+  print(\"output:\")\n+  print(tab1)\n+  \n\nReview comment:\n       This was just for debugging right?\r\n   \r\n   ```suggestion\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-12T17:06:00.025+0000",
                    "updated": "2021-04-12T17:06:00.025+0000",
                    "started": "2021-04-12T17:06:00.025+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "581148",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/581155",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic commented on a change in pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#discussion_r611809776\n\n\n\n##########\nFile path: r/tests/testthat/test-json.R\n##########\n@@ -86,6 +86,89 @@ test_that(\"read_json_arrow() supports col_select=\", {\n   expect_equal(names(tab2), c(\"hello\", \"world\"))\n })\n \n+test_that(\"read_json_arrow(schema=) with empty schema\", {\n+  tf <- tempfile()\n+  writeLines('\n+    { \"hello\": 3.5, \"world\": 2, \"third_col\": 99}\n+    { \"hello\": 3.25, \"world\": 5, \"third_col\": 98}\n+    { \"hello\": 3.125, \"world\": 8, \"third_col\": 97 }\n+    { \"hello\": 0.0, \"world\": 10, \"third_col\": 96}\n+  ', tf)\n+  \n+  tab1 <- read_json_arrow(tf, schema = schema())\n+  \n+  expect_identical(\n+    tab1, \n+    tibble::tibble(\n+      hello = c(3.5, 3.25, 3.125, 0),\n+      world = c(2L, 5L, 8L, 10L),\n+      third_col = c(99L,98L,97L,96L)\n+    )               \n+  )\n+})\n+\n+test_that(\"read_json_arrow(schema=) with partial schema\", {\n+  tf <- tempfile()\n+  writeLines('\n+    { \"hello\": 3.5, \"world\": 2, \"third_col\": 99}\n+    { \"hello\": 3.25, \"world\": 5, \"third_col\": 98}\n+    { \"hello\": 3.125, \"world\": 8, \"third_col\": 97 }\n+    { \"hello\": 0.0, \"world\": 10, \"third_col\": 96}\n+  ', tf)\n+  \n+  tab1 <- read_json_arrow(tf, schema = schema(third_col = float64(), world = float64()))\n+  \n+  print(\"input:\")\n+  print(\"schema:\")\n+  print(schema(third_col = float64(), world = float64()))\n+  print('\n+    { \"hello\": 3.5, \"world\": 2, \"third_col\": 99}\n+    { \"hello\": 3.25, \"world\": 5, \"third_col\": 98}\n+    { \"hello\": 3.125, \"world\": 8, \"third_col\": 97 }\n+    { \"hello\": 0.0, \"world\": 10, \"third_col\": 96}\n+  ')\n+  print(\"output:\")\n+  print(tab1)\n+  \n\nReview comment:\n       Yep, @jonkeane suggested I pop that in there to make it clear to whoever was reviewing what was happening as there was what looked like unusual behaviour when I was writing tests.  @nealrichardson  - to double check, is the column reordering mentioned in the comment at the very top expected behaviour?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-12T17:11:26.359+0000",
                    "updated": "2021-04-12T17:11:26.359+0000",
                    "started": "2021-04-12T17:11:26.359+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "581155",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/581159",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic commented on a change in pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#discussion_r611809776\n\n\n\n##########\nFile path: r/tests/testthat/test-json.R\n##########\n@@ -86,6 +86,89 @@ test_that(\"read_json_arrow() supports col_select=\", {\n   expect_equal(names(tab2), c(\"hello\", \"world\"))\n })\n \n+test_that(\"read_json_arrow(schema=) with empty schema\", {\n+  tf <- tempfile()\n+  writeLines('\n+    { \"hello\": 3.5, \"world\": 2, \"third_col\": 99}\n+    { \"hello\": 3.25, \"world\": 5, \"third_col\": 98}\n+    { \"hello\": 3.125, \"world\": 8, \"third_col\": 97 }\n+    { \"hello\": 0.0, \"world\": 10, \"third_col\": 96}\n+  ', tf)\n+  \n+  tab1 <- read_json_arrow(tf, schema = schema())\n+  \n+  expect_identical(\n+    tab1, \n+    tibble::tibble(\n+      hello = c(3.5, 3.25, 3.125, 0),\n+      world = c(2L, 5L, 8L, 10L),\n+      third_col = c(99L,98L,97L,96L)\n+    )               \n+  )\n+})\n+\n+test_that(\"read_json_arrow(schema=) with partial schema\", {\n+  tf <- tempfile()\n+  writeLines('\n+    { \"hello\": 3.5, \"world\": 2, \"third_col\": 99}\n+    { \"hello\": 3.25, \"world\": 5, \"third_col\": 98}\n+    { \"hello\": 3.125, \"world\": 8, \"third_col\": 97 }\n+    { \"hello\": 0.0, \"world\": 10, \"third_col\": 96}\n+  ', tf)\n+  \n+  tab1 <- read_json_arrow(tf, schema = schema(third_col = float64(), world = float64()))\n+  \n+  print(\"input:\")\n+  print(\"schema:\")\n+  print(schema(third_col = float64(), world = float64()))\n+  print('\n+    { \"hello\": 3.5, \"world\": 2, \"third_col\": 99}\n+    { \"hello\": 3.25, \"world\": 5, \"third_col\": 98}\n+    { \"hello\": 3.125, \"world\": 8, \"third_col\": 97 }\n+    { \"hello\": 0.0, \"world\": 10, \"third_col\": 96}\n+  ')\n+  print(\"output:\")\n+  print(tab1)\n+  \n\nReview comment:\n       Yep, will delete, @jonkeane suggested I pop that in there to make it print out in the CI to make it clear to whoever was reviewing what was happening as there was what looked like unusual behaviour when I was writing tests.  @nealrichardson  - to double check, is the column reordering mentioned in the comment at the very top expected behaviour?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-12T17:12:30.619+0000",
                    "updated": "2021-04-12T17:12:30.619+0000",
                    "started": "2021-04-12T17:12:30.619+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "581159",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/581171",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#issuecomment-817991737\n\n\n   Am I remembering right that we also ran into an issue where attempting to read a float/integer as a string failed with an odd error message?\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-12T17:29:06.273+0000",
                    "updated": "2021-04-12T17:29:06.273+0000",
                    "started": "2021-04-12T17:29:06.272+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "581171",
                    "issueId": "13356092"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/worklog/581225",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9950:\nURL: https://github.com/apache/arrow/pull/9950#discussion_r611857473\n\n\n\n##########\nFile path: r/tests/testthat/test-json.R\n##########\n@@ -86,6 +86,89 @@ test_that(\"read_json_arrow() supports col_select=\", {\n   expect_equal(names(tab2), c(\"hello\", \"world\"))\n })\n \n+test_that(\"read_json_arrow(schema=) with empty schema\", {\n+  tf <- tempfile()\n+  writeLines('\n+    { \"hello\": 3.5, \"world\": 2, \"third_col\": 99}\n+    { \"hello\": 3.25, \"world\": 5, \"third_col\": 98}\n+    { \"hello\": 3.125, \"world\": 8, \"third_col\": 97 }\n+    { \"hello\": 0.0, \"world\": 10, \"third_col\": 96}\n+  ', tf)\n+  \n+  tab1 <- read_json_arrow(tf, schema = schema())\n+  \n+  expect_identical(\n+    tab1, \n+    tibble::tibble(\n+      hello = c(3.5, 3.25, 3.125, 0),\n+      world = c(2L, 5L, 8L, 10L),\n+      third_col = c(99L,98L,97L,96L)\n+    )               \n+  )\n+})\n+\n+test_that(\"read_json_arrow(schema=) with partial schema\", {\n+  tf <- tempfile()\n+  writeLines('\n+    { \"hello\": 3.5, \"world\": 2, \"third_col\": 99}\n+    { \"hello\": 3.25, \"world\": 5, \"third_col\": 98}\n+    { \"hello\": 3.125, \"world\": 8, \"third_col\": 97 }\n+    { \"hello\": 0.0, \"world\": 10, \"third_col\": 96}\n+  ', tf)\n+  \n+  tab1 <- read_json_arrow(tf, schema = schema(third_col = float64(), world = float64()))\n+  \n+  print(\"input:\")\n+  print(\"schema:\")\n+  print(schema(third_col = float64(), world = float64()))\n+  print('\n+    { \"hello\": 3.5, \"world\": 2, \"third_col\": 99}\n+    { \"hello\": 3.25, \"world\": 5, \"third_col\": 98}\n+    { \"hello\": 3.125, \"world\": 8, \"third_col\": 97 }\n+    { \"hello\": 0.0, \"world\": 10, \"third_col\": 96}\n+  ')\n+  print(\"output:\")\n+  print(tab1)\n+  \n\nReview comment:\n       It wasn't the first thing I would expect but (1) IIUC in JSON the `{}` is not ordered, so it's not surprising that providing a schema would mean that the order comes from the schema; and (2) from the perspective of this PR, it doesn't matter much I don't think because you're just adding R bindings to a feature in the C++ library--if we think the C++ library is suboptimal we can open a new JIRA for that, but seems out of scope here.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-12T18:25:09.544+0000",
                    "updated": "2021-04-12T18:25:09.544+0000",
                    "started": "2021-04-12T18:25:09.544+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "581225",
                    "issueId": "13356092"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 15600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@1cb09ffe[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1316e582[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@60beee6d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@44202d0d[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@624e7ac0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@541ec921[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@43449849[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6c99d69[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@17406f0a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3535eb02[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@52d4ab3d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@183c46db[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 15600,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Apr 14 23:32:54 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-04-14T23:32:54.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11468/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2021-02-02T03:09:58.000+0000",
        "updated": "2021-04-14T23:33:00.000+0000",
        "timeoriginalestimate": null,
        "description": "The\u00a0{{read_json_arrow()}}\u00a0function lacks a\u00a0{{schema}} argument, and it is not possible to specify a schema through {{JsonParseOptions}}. PyArrow allows the user to pass a schema to\u00a0{{read_json()}}\u00a0through {{ParseOptions}}\u00a0to\u00a0bypass automatic type inference. Implement this in the R package.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "4h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 15600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] Allow user to pass schema to read_json_arrow()",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/comment/17313959",
                    "id": "17313959",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
                        "name": "jonkeane",
                        "key": "jonkeane",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
                        },
                        "displayName": "Jonathan Keane",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Am I following this that it looks like we need to grow JsonParseOptions in the r package (i.e. https://github.com/apache/arrow/blob/master/r/src/json.cpp#L34-L40), since it looks like schema is supported in the cpp library (https://github.com/apache/arrow/blob/master/cpp/src/arrow/json/options.h#L46)? It looks like JsonParseOptions is the name in R for PraseOptions that will be passed to the json parsing generally, yeah?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
                        "name": "jonkeane",
                        "key": "jonkeane",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
                        },
                        "displayName": "Jonathan Keane",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2021-04-02T16:35:44.481+0000",
                    "updated": "2021-04-02T16:35:44.481+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/comment/17314899",
                    "id": "17314899",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=icook",
                        "name": "icook",
                        "key": "icook",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=icook&avatarId=29388",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=icook&avatarId=29388",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=icook&avatarId=29388",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=icook&avatarId=29388"
                        },
                        "displayName": "Ian Cook",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "I think that's right. It should be relatively straightforward to pass through {{schema}}\u00a0similarly to how\u00a0{{newlines_in_values}}\u00a0is passed through.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=icook",
                        "name": "icook",
                        "key": "icook",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=icook&avatarId=29388",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=icook&avatarId=29388",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=icook&avatarId=29388",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=icook&avatarId=29388"
                        },
                        "displayName": "Ian Cook",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-04-05T14:35:38.789+0000",
                    "updated": "2021-04-05T14:35:50.004+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13356092/comment/17321804",
                    "id": "17321804",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Issue resolved by pull request 9950\n[https://github.com/apache/arrow/pull/9950]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2021-04-14T23:32:54.765+0000",
                    "updated": "2021-04-14T23:32:54.765+0000"
                }
            ],
            "maxResults": 3,
            "total": 3,
            "startAt": 0
        },
        "customfield_12311820": "0|z0n8sw:",
        "customfield_12314139": null
    }
}