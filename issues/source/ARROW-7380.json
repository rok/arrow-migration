{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13274190",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190",
    "key": "ARROW-7380",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12340948",
                "id": "12340948",
                "description": "",
                "name": "0.16.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-02-07"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "dataset",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fsaintjacques",
            "name": "fsaintjacques",
            "key": "fsaintjacques",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=fsaintjacques&avatarId=37276",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fsaintjacques&avatarId=37276",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fsaintjacques&avatarId=37276",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fsaintjacques&avatarId=37276"
            },
            "displayName": "Francois Saint-Jacques",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fsaintjacques",
            "name": "fsaintjacques",
            "key": "fsaintjacques",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=fsaintjacques&avatarId=37276",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fsaintjacques&avatarId=37276",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fsaintjacques&avatarId=37276",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fsaintjacques&avatarId=37276"
            },
            "displayName": "Francois Saint-Jacques",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fsaintjacques",
            "name": "fsaintjacques",
            "key": "fsaintjacques",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=fsaintjacques&avatarId=37276",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fsaintjacques&avatarId=37276",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fsaintjacques&avatarId=37276",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fsaintjacques&avatarId=37276"
            },
            "displayName": "Francois Saint-Jacques",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 15600,
            "total": 15600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 15600,
            "total": 15600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-7380/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 33,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/374703",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-20T19:26:43.737+0000",
                    "updated": "2020-01-20T19:26:43.737+0000",
                    "started": "2020-01-20T19:26:43.737+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "374703",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/374704",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on issue #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#issuecomment-576404714\n \n \n   https://issues.apache.org/jira/browse/ARROW-7380\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-20T19:31:31.926+0000",
                    "updated": "2020-01-20T19:31:31.926+0000",
                    "started": "2020-01-20T19:31:31.925+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "374704",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/375091",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r369132281\n \n \n\n ##########\n File path: cpp/src/arrow/dataset/discovery.cc\n ##########\n @@ -47,6 +46,59 @@ Result<std::shared_ptr<Schema>> SourceFactory::Inspect() {\n   return UnifySchemas(schemas);\n }\n \n+DatasetFactory::DatasetFactory(std::vector<std::shared_ptr<SourceFactory>> sources)\n+    : sources_(std::move(sources)) {}\n+\n+Result<std::shared_ptr<DatasetFactory>> DatasetFactory::Make(\n+    std::vector<std::shared_ptr<SourceFactory>> sources) {\n \n Review comment:\n   Is it confusing that the variable name is `sources` but they're actually `SourceFactories`?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-21T17:17:22.436+0000",
                    "updated": "2020-01-21T17:17:22.436+0000",
                    "started": "2020-01-21T17:17:22.435+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "375091",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/375761",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r369702977\n \n \n\n ##########\n File path: cpp/src/arrow/dataset/discovery.cc\n ##########\n @@ -47,6 +46,59 @@ Result<std::shared_ptr<Schema>> SourceFactory::Inspect() {\n   return UnifySchemas(schemas);\n }\n \n+DatasetFactory::DatasetFactory(std::vector<std::shared_ptr<SourceFactory>> sources)\n+    : sources_(std::move(sources)) {}\n+\n+Result<std::shared_ptr<DatasetFactory>> DatasetFactory::Make(\n+    std::vector<std::shared_ptr<SourceFactory>> sources) {\n \n Review comment:\n   Agreed:\r\n   ```suggestion\r\n       std::vector<std::shared_ptr<SourceFactory>> factories) {\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-22T17:36:18.049+0000",
                    "updated": "2020-01-22T17:36:18.049+0000",
                    "started": "2020-01-22T17:36:18.049+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "375761",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376505",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370316845\n \n \n\n ##########\n File path: cpp/src/arrow/dataset/discovery.h\n ##########\n @@ -82,6 +69,36 @@ class ARROW_DS_EXPORT SourceFactory {\n   std::shared_ptr<Expression> root_partition_;\n };\n \n+/// \\brief DatasetFactory provides a way to inspect/discover a Dataset's\n+/// expected schema before materializing the Dataset and underlying Sources.\n+class ARROW_DS_EXPORT DatasetFactory {\n+ public:\n+  static Result<std::shared_ptr<DatasetFactory>> Make(\n+      std::vector<std::shared_ptr<SourceFactory>> factories);\n+\n+  /// \\brief Return the list of SourceFactory\n+  const std::vector<std::shared_ptr<SourceFactory>> factories() const {\n+    return factories_;\n+  }\n+\n+  /// \\brief Get the schemas of the Sources.\n+  Result<std::vector<std::shared_ptr<Schema>>> InspectSchemas();\n+\n+  /// \\brief Get unified schema for the resulting Dataset.\n+  Result<std::shared_ptr<Schema>> Inspect();\n+\n+  /// \\brief Create a Dataset with the given schema.\n+  Result<std::shared_ptr<Dataset>> Finish(const std::shared_ptr<Schema>& schema);\n+\n+  /// \\brief Create a Dataset using the inspected schema.\n+  Result<std::shared_ptr<Dataset>> Finish();\n+\n+ protected:\n+  explicit DatasetFactory(std::vector<std::shared_ptr<SourceFactory>> schema);\n \n Review comment:\n   ```suggestion\r\n     explicit DatasetFactory(std::vector<std::shared_ptr<SourceFactory>> factories);\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T20:01:31.277+0000",
                    "updated": "2020-01-23T20:01:31.277+0000",
                    "started": "2020-01-23T20:01:31.277+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376505",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376506",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370318171\n \n \n\n ##########\n File path: cpp/src/arrow/dataset/discovery.cc\n ##########\n @@ -47,6 +46,59 @@ Result<std::shared_ptr<Schema>> SourceFactory::Inspect() {\n   return UnifySchemas(schemas);\n }\n \n+DatasetFactory::DatasetFactory(std::vector<std::shared_ptr<SourceFactory>> factories)\n+    : factories_(std::move(factories)) {}\n+\n+Result<std::shared_ptr<DatasetFactory>> DatasetFactory::Make(\n+    std::vector<std::shared_ptr<SourceFactory>> factories) {\n+  for (const auto& factory : factories) {\n+    if (factory == nullptr) {\n+      return Status::Invalid(\"Can't accept nullptr SourceFactory\");\n+    }\n+  }\n+\n+  // DatasetFactory constructor is protected, can't use make_shared.\n+  return std::shared_ptr<DatasetFactory>{new DatasetFactory(std::move(factories))};\n+}\n+\n+Result<std::vector<std::shared_ptr<Schema>>> DatasetFactory::InspectSchemas() {\n+  std::vector<std::shared_ptr<Schema>> schemas;\n+\n+  for (const auto& source_factory : factories_) {\n+    ARROW_ASSIGN_OR_RAISE(auto schema, source_factory->Inspect());\n+    schemas.emplace_back(schema);\n+  }\n+\n+  return schemas;\n+}\n+\n+Result<std::shared_ptr<Schema>> DatasetFactory::Inspect() {\n+  ARROW_ASSIGN_OR_RAISE(auto schemas, InspectSchemas());\n+\n+  if (schemas.empty()) {\n+    schemas.push_back(arrow::schema({}));\n \n Review comment:\n   ```suggestion\r\n       return arrow::schema({});\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T20:01:31.333+0000",
                    "updated": "2020-01-23T20:01:31.333+0000",
                    "started": "2020-01-23T20:01:31.333+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376506",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376507",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370317111\n \n \n\n ##########\n File path: cpp/src/arrow/dataset/discovery.h\n ##########\n @@ -82,6 +69,36 @@ class ARROW_DS_EXPORT SourceFactory {\n   std::shared_ptr<Expression> root_partition_;\n };\n \n+/// \\brief DatasetFactory provides a way to inspect/discover a Dataset's\n+/// expected schema before materializing the Dataset and underlying Sources.\n+class ARROW_DS_EXPORT DatasetFactory {\n+ public:\n+  static Result<std::shared_ptr<DatasetFactory>> Make(\n+      std::vector<std::shared_ptr<SourceFactory>> factories);\n+\n+  /// \\brief Return the list of SourceFactory\n+  const std::vector<std::shared_ptr<SourceFactory>> factories() const {\n \n Review comment:\n   ```suggestion\r\n     const std::vector<std::shared_ptr<SourceFactory>>& factories() const {\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T20:01:31.593+0000",
                    "updated": "2020-01-23T20:01:31.593+0000",
                    "started": "2020-01-23T20:01:31.593+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376507",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376508",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370317494\n \n \n\n ##########\n File path: cpp/src/arrow/dataset/discovery.h\n ##########\n @@ -30,28 +30,15 @@\n #include \"arrow/dataset/visibility.h\"\n #include \"arrow/filesystem/filesystem.h\"\n #include \"arrow/filesystem/path_forest.h\"\n+#include \"arrow/result.h\"\n #include \"arrow/util/macros.h\"\n #include \"arrow/util/variant.h\"\n \n namespace arrow {\n namespace dataset {\n \n-/// \\brief SourceFactory provides a way to inspect/discover a Source potential\n-/// schema before materializing it. Thus, the user can peek the schema for\n-/// sources and decide on a unified schema. The pseudocode would look like\n-///\n-/// def get_dataset(factories):\n-///   schemas = []\n-///   for m in factories:\n-///     schemas.append(m.Inspect())\n-///\n-///   common_schema = UnifySchemas(schemas)\n-///\n-///   sources = []\n-///   for m in factories:\n-///     sources.append(f.Finish(common_schema))\n-///\n-///   return Dataset(sources, common_schema)\n+/// \\brief SourceFactory provides a way to inspect/discover a Source's expected\n+/// schema before materializing said Source.\n \n Review comment:\n   unpsuedo :+1: \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T20:01:31.598+0000",
                    "updated": "2020-01-23T20:01:31.598+0000",
                    "started": "2020-01-23T20:01:31.598+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376508",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376509",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370319177\n \n \n\n ##########\n File path: cpp/src/arrow/dataset/discovery.cc\n ##########\n @@ -190,8 +242,13 @@ Result<std::shared_ptr<Source>> SourceFactory::Finish() {\n \n Result<std::shared_ptr<Source>> FileSystemSourceFactory::Finish(\n     const std::shared_ptr<Schema>& schema) {\n-  ExpressionVector partitions(forest_.size(), scalar(true));\n+  // This validation can be costly, but better safe than sorry.\n \n Review comment:\n   Good call. This seems like something we might want to extract into the superclass (not necessary for now)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T20:01:31.695+0000",
                    "updated": "2020-01-23T20:01:31.695+0000",
                    "started": "2020-01-23T20:01:31.695+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376509",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376510",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370320731\n \n \n\n ##########\n File path: cpp/src/arrow/dataset/discovery_test.cc\n ##########\n @@ -239,9 +246,94 @@ TEST_F(FileSystemSourceFactoryTest, Inspect) {\n   MakeFactory({});\n   AssertInspect({});\n \n+  AssertInspect({});\n+\n   MakeFactory({fs::File(\"test\")});\n   AssertInspect(s->fields());\n }\n \n+TEST_F(FileSystemSourceFactoryTest, FinishWithIncompatibleSchemaShouldFail) {\n+  auto s = schema({field(\"f64\", float64())});\n+  format_ = std::make_shared<DummyFileFormat>(s);\n+\n+  auto broken_s = schema({field(\"f64\", utf8())});\n+  // No files\n+  MakeFactory({});\n+  ASSERT_OK_AND_ASSIGN(auto dataset, factory_->Finish(broken_s));\n+\n+  MakeFactory({fs::File(\"test\")});\n+  ASSERT_RAISES(Invalid, factory_->Finish(broken_s));\n+}\n+\n+std::shared_ptr<SourceFactory> SourceFactoryFromSchemas(\n+    std::vector<std::shared_ptr<Schema>> schemas) {\n+  return std::make_shared<MockSourceFactory>(schemas);\n+}\n+\n+TEST(DatasetFactoryTest, Basic) {\n+  auto f64 = field(\"f64\", float64());\n+  auto i32 = field(\"i32\", int32());\n+  auto i32_req = field(\"i32\", int32(), false /*nullabled*/);\n \n Review comment:\n   ```suggestion\r\n     auto i32_req = field(\"i32\", int32(), /*nullable=*/false);\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T20:01:31.699+0000",
                    "updated": "2020-01-23T20:01:31.699+0000",
                    "started": "2020-01-23T20:01:31.699+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376510",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376511",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370320095\n \n \n\n ##########\n File path: cpp/src/arrow/dataset/discovery_test.cc\n ##########\n @@ -239,9 +246,94 @@ TEST_F(FileSystemSourceFactoryTest, Inspect) {\n   MakeFactory({});\n   AssertInspect({});\n \n+  AssertInspect({});\n \n Review comment:\n   Is this intentional? If so, could we just have `AssertInspect` invoke `Inspect` twice\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T20:01:31.702+0000",
                    "updated": "2020-01-23T20:01:31.702+0000",
                    "started": "2020-01-23T20:01:31.702+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376511",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376512",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370322501\n \n \n\n ##########\n File path: cpp/src/arrow/dataset/discovery_test.cc\n ##########\n @@ -239,9 +246,94 @@ TEST_F(FileSystemSourceFactoryTest, Inspect) {\n   MakeFactory({});\n   AssertInspect({});\n \n+  AssertInspect({});\n+\n   MakeFactory({fs::File(\"test\")});\n   AssertInspect(s->fields());\n }\n \n+TEST_F(FileSystemSourceFactoryTest, FinishWithIncompatibleSchemaShouldFail) {\n+  auto s = schema({field(\"f64\", float64())});\n+  format_ = std::make_shared<DummyFileFormat>(s);\n+\n+  auto broken_s = schema({field(\"f64\", utf8())});\n+  // No files\n+  MakeFactory({});\n+  ASSERT_OK_AND_ASSIGN(auto dataset, factory_->Finish(broken_s));\n+\n+  MakeFactory({fs::File(\"test\")});\n+  ASSERT_RAISES(Invalid, factory_->Finish(broken_s));\n+}\n+\n+std::shared_ptr<SourceFactory> SourceFactoryFromSchemas(\n+    std::vector<std::shared_ptr<Schema>> schemas) {\n+  return std::make_shared<MockSourceFactory>(schemas);\n+}\n+\n+TEST(DatasetFactoryTest, Basic) {\n+  auto f64 = field(\"f64\", float64());\n+  auto i32 = field(\"i32\", int32());\n+  auto i32_req = field(\"i32\", int32(), false /*nullabled*/);\n+  auto str = field(\"str\", utf8());\n+\n+  auto schema_1 = schema({f64, i32_req});\n+  auto schema_2 = schema({f64, i32});\n+  auto schema_3 = schema({str, i32});\n+\n+  auto source_1 = SourceFactoryFromSchemas({schema_1, schema_2});\n+  auto source_2 = SourceFactoryFromSchemas({schema_2});\n+  auto source_3 = SourceFactoryFromSchemas({schema_3});\n+\n+  ASSERT_OK_AND_ASSIGN(auto factory,\n+                       DatasetFactory::Make({source_1, source_2, source_3}));\n+\n+  ASSERT_OK_AND_ASSIGN(auto schemas, factory->InspectSchemas());\n+  AssertSchemasAre(schemas, {schema_2, schema_2, schema_3});\n+\n+  auto expected_schema = schema({f64, i32, str});\n+  ASSERT_OK_AND_ASSIGN(auto inspected, factory->Inspect());\n+  EXPECT_EQ(*inspected, *expected_schema);\n+\n+  ASSERT_OK_AND_ASSIGN(auto dataset, factory->Finish());\n+  EXPECT_EQ(*dataset->schema(), *expected_schema);\n+\n+  auto f64_schema = schema({f64});\n+  ASSERT_OK_AND_ASSIGN(dataset, factory->Finish(f64_schema));\n+  EXPECT_EQ(*dataset->schema(), *f64_schema);\n+}\n+\n+TEST(DatasetFactoryTest, ConflictingSchemas) {\n+  auto f64 = field(\"f64\", float64());\n+  auto i32 = field(\"i32\", int32());\n+  auto i32_req = field(\"i32\", int32(), false /*nullabled*/);\n \n Review comment:\n   ```suggestion\r\n     auto i32_req = field(\"i32\", int32(), /*nullable=*/false);\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T20:01:31.705+0000",
                    "updated": "2020-01-23T20:01:31.705+0000",
                    "started": "2020-01-23T20:01:31.705+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376512",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376513",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370325249\n \n \n\n ##########\n File path: r/tests/testthat/test-dataset.R\n ##########\n @@ -157,6 +157,7 @@ test_that(\"IPC/Arrow format data\", {\n })\n \n test_that(\"Dataset with multiple sources\", {\n+  skip(\"https://issues.apache.org/jira/browse/ARROW-7653\")\n \n Review comment:\n   Instead of skipping is it possible to pass an explicit schema to the sources? We can remove the explicit schemas in the fix for 7653\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T20:01:31.746+0000",
                    "updated": "2020-01-23T20:01:31.746+0000",
                    "started": "2020-01-23T20:01:31.746+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376513",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376520",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370331182\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -15,6 +15,30 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+#' @usage NULL\n+#' @format NULL\n+#' @rdname Source\n+#' @export\n+DatasetFactory <- R6Class(\"DatasetFactory\", inherit = Object,\n+  public = list(\n+    Finish = function(schema = NULL) {\n+      if (is.null(schema)) {\n+        shared_ptr(Dataset, dataset___DFactory__Finish1(self))\n+      } else {\n+        shared_ptr(Dataset, dataset___DFactory__Finish2(self, schema))\n \n Review comment:\n   Before L28 `assert_is(schema, \"Schema\")`\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T20:13:44.368+0000",
                    "updated": "2020-01-23T20:13:44.368+0000",
                    "started": "2020-01-23T20:13:44.368+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376520",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376521",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370330838\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -15,6 +15,30 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+#' @usage NULL\n+#' @format NULL\n+#' @rdname Source\n+#' @export\n+DatasetFactory <- R6Class(\"DatasetFactory\", inherit = Object,\n \n Review comment:\n   Should `DatasetFactory` be the only way to create a dataset? I.e. should `Dataset$create()` be removed, or maybe it should call `DatasetFactory$create()`?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T20:13:44.388+0000",
                    "updated": "2020-01-23T20:13:44.388+0000",
                    "started": "2020-01-23T20:13:44.388+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376521",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376522",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370330158\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -15,6 +15,30 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+#' @usage NULL\n+#' @format NULL\n+#' @rdname Source\n \n Review comment:\n   This should be documented with Dataset, not Source, and it will need some prose added there\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T20:13:44.448+0000",
                    "updated": "2020-01-23T20:13:44.448+0000",
                    "started": "2020-01-23T20:13:44.447+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376522",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376523",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370331596\n \n \n\n ##########\n File path: r/src/dataset.cpp\n ##########\n @@ -92,6 +92,33 @@ std::shared_ptr<arrow::Schema> dataset___SFactory__Inspect(\n   return VALUE_OR_STOP(factory->Inspect());\n }\n \n+// DatasetFactory\n+\n+// [[arrow::export]]\n+std::shared_ptr<ds::DatasetFactory> dataset___DFactory__Make(\n+    const std::vector<std::shared_ptr<ds::SourceFactory>>& sources) {\n+  return VALUE_OR_STOP(ds::DatasetFactory::Make(sources));\n+}\n+\n+// [[arrow::export]]\n+std::shared_ptr<arrow::Schema> dataset___DFactory__Inspect(\n \n Review comment:\n   You don't call Inspect so maybe just remove it?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T20:13:44.529+0000",
                    "updated": "2020-01-23T20:13:44.529+0000",
                    "started": "2020-01-23T20:13:44.528+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376523",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376532",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370344358\n \n \n\n ##########\n File path: r/src/dataset.cpp\n ##########\n @@ -92,6 +92,33 @@ std::shared_ptr<arrow::Schema> dataset___SFactory__Inspect(\n   return VALUE_OR_STOP(factory->Inspect());\n }\n \n+// DatasetFactory\n+\n+// [[arrow::export]]\n+std::shared_ptr<ds::DatasetFactory> dataset___DFactory__Make(\n+    const std::vector<std::shared_ptr<ds::SourceFactory>>& sources) {\n+  return VALUE_OR_STOP(ds::DatasetFactory::Make(sources));\n+}\n+\n+// [[arrow::export]]\n+std::shared_ptr<arrow::Schema> dataset___DFactory__Inspect(\n \n Review comment:\n   `Inspect` is useful for interactive schema reconciliation\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T20:43:37.180+0000",
                    "updated": "2020-01-23T20:43:37.180+0000",
                    "started": "2020-01-23T20:43:37.179+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376532",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376557",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370355856\n \n \n\n ##########\n File path: r/src/dataset.cpp\n ##########\n @@ -92,6 +92,33 @@ std::shared_ptr<arrow::Schema> dataset___SFactory__Inspect(\n   return VALUE_OR_STOP(factory->Inspect());\n }\n \n+// DatasetFactory\n+\n+// [[arrow::export]]\n+std::shared_ptr<ds::DatasetFactory> dataset___DFactory__Make(\n+    const std::vector<std::shared_ptr<ds::SourceFactory>>& sources) {\n+  return VALUE_OR_STOP(ds::DatasetFactory::Make(sources));\n+}\n+\n+// [[arrow::export]]\n+std::shared_ptr<arrow::Schema> dataset___DFactory__Inspect(\n \n Review comment:\n   How so? Doesn't DatasetFactory->Inspect return a schema already reconciled?\r\n   \r\n   Anyway, if it's useful (in R, to be clear), we should write a test showing that it works and how it might be used. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-23T21:10:30.268+0000",
                    "updated": "2020-01-23T21:10:30.268+0000",
                    "started": "2020-01-23T21:10:30.268+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376557",
                    "issueId": "13274190"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/worklog/376686",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #6232: ARROW-7380: [C++][Dataset] Implement DatasetFactory\nURL: https://github.com/apache/arrow/pull/6232#discussion_r370441312\n \n \n\n ##########\n File path: cpp/src/arrow/dataset/discovery.h\n ##########\n @@ -82,6 +69,36 @@ class ARROW_DS_EXPORT SourceFactory {\n   std::shared_ptr<Expression> root_partition_;\n };\n \n+/// \\brief DatasetFactory provides a way to inspect/discover a Dataset's\n+/// expected schema before materializing the Dataset and underlying Sources.\n+class ARROW_DS_EXPORT DatasetFactory {\n+ public:\n+  static Result<std::shared_ptr<DatasetFactory>> Make(\n+      std::vector<std::shared_ptr<SourceFactory>> factories);\n+\n+  /// \\brief Return the list of SourceFactory\n+  const std::vector<std::shared_ptr<SourceFactory>> factories() const {\n+    return factories_;\n+  }\n+\n+  /// \\brief Get the schemas of the Sources.\n+  Result<std::vector<std::shared_ptr<Schema>>> InspectSchemas();\n+\n+  /// \\brief Get unified schema for the resulting Dataset.\n+  Result<std::shared_ptr<Schema>> Inspect();\n+\n+  /// \\brief Create a Dataset with the given schema.\n+  Result<std::shared_ptr<Dataset>> Finish(const std::shared_ptr<Schema>& schema);\n+\n+  /// \\brief Create a Dataset using the inspected schema.\n+  Result<std::shared_ptr<Dataset>> Finish();\n+\n+ protected:\n+  explicit DatasetFactory(std::vector<std::shared_ptr<SourceFactory>> schema);\n \n Review comment:\n   womp womp\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-01-24T01:39:45.960+0000",
                    "updated": "2020-01-24T01:39:45.960+0000",
                    "started": "2020-01-24T01:39:45.960+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "376686",
                    "issueId": "13274190"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 15600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@36c0a033[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@61111329[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@64a7a7df[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@dc66839[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4ae9cc19[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@3760954e[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6e204522[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@50996f7f[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5414e871[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@676dcd58[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@b088dc2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@1071e94b[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 15600,
        "customfield_12312520": null,
        "customfield_12312521": "Sat Jan 25 11:51:39 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-01-25T11:51:39.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-7380/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2019-12-12T16:08:11.000+0000",
        "updated": "2020-04-10T15:32:19.000+0000",
        "timeoriginalestimate": null,
        "description": "Takes a list of DataSourceDiscovery and yields a Dataset.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "4h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 15600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++][Dataset] Implement DatasetFactory",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13274190/comment/17023523",
                    "id": "17023523",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kszucs",
                        "name": "kszucs",
                        "key": "kszucs",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Krisztian Szucs",
                        "active": true,
                        "timeZone": "Europe/Budapest"
                    },
                    "body": "Issue resolved by pull request 6232\n[https://github.com/apache/arrow/pull/6232]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kszucs",
                        "name": "kszucs",
                        "key": "kszucs",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Krisztian Szucs",
                        "active": true,
                        "timeZone": "Europe/Budapest"
                    },
                    "created": "2020-01-25T11:51:39.513+0000",
                    "updated": "2020-01-25T11:51:39.513+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z09mbc:",
        "customfield_12314139": null
    }
}