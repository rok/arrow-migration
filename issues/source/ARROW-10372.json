{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13336771",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771",
    "key": "ARROW-10372",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349493",
                "id": "12349493",
                "description": "",
                "name": "4.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-04-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "dataset",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12602364",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12602364",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13308344",
                    "key": "ARROW-8981",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13308344",
                    "fields": {
                        "summary": "[C++][Dataset] Add support for compressed FileSources",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
                            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
                            "name": "Closed",
                            "id": "6",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
            "name": "Closed",
            "id": "6",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=martindut",
            "name": "martindut",
            "key": "martindut",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Martin du Toit",
            "active": true,
            "timeZone": "Africa/Johannesburg"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=martindut",
            "name": "martindut",
            "key": "martindut",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Martin du Toit",
            "active": true,
            "timeZone": "Africa/Johannesburg"
        },
        "aggregateprogress": {
            "progress": 10200,
            "total": 10200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 10200,
            "total": 10200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-10372/votes",
            "votes": 1,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 17,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/565321",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm opened a new pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685\n\n\n   This adds support for reading compressed CSV datasets in C++/Python/R via an option on CsvFileFormat. It does not autodetect the type of compression (but perhaps this could be added, by inspecting FileSource).\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-12T13:58:37.118+0000",
                    "updated": "2021-03-12T13:58:37.118+0000",
                    "started": "2021-03-12T13:58:37.118+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "565321",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/565322",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#issuecomment-797506844\n\n\n   Leaving as draft for now since I observed the Python tests hang without ARROW-11937/https://github.com/apache/arrow/pull/9680 fixed.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-12T13:59:10.873+0000",
                    "updated": "2021-03-12T13:59:10.873+0000",
                    "started": "2021-03-12T13:59:10.872+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "565322",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/565339",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#issuecomment-797524480\n\n\n   https://issues.apache.org/jira/browse/ARROW-10372\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-12T14:29:35.494+0000",
                    "updated": "2021-03-12T14:29:35.494+0000",
                    "started": "2021-03-12T14:29:35.493+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "565339",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/565384",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on a change in pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#discussion_r593289272\n\n\n\n##########\nFile path: python/pyarrow/_dataset.pyx\n##########\n@@ -1383,8 +1385,22 @@ cdef class CsvFileFormat(FileFormat):\n     def parse_options(self, ParseOptions parse_options not None):\n         self.csv_format.parse_options = parse_options.options\n \n+    @property\n+    def compression(self):\n+        return None\n+\n+    @compression.setter\n+    def compression(self, compression):\n+        if compression is None:\n+            self.csv_format.compression = CCompressionType_UNCOMPRESSED\n+        if isinstance(compression, str):\n+            compression = Codec(compression)\n+        self.csv_format.compression = \\\n+            (<Codec> compression).unwrap().compression_type()\n\nReview comment:\n       ```suggestion\r\n           elif isinstance(compression, str):\r\n               self.csv_format.compression = _ensure_compression(compression)\r\n           elif isinstance(compression, Codec):\r\n               self.csv_format.compression = \\\r\n                   (<Codec> compression).unwrap().compression_type()\r\n           else:\r\n               raise TypeError(f'Cannot set compression with value of type {type(compression)}')\r\n   ``````\n\n##########\nFile path: cpp/src/arrow/dataset/file_csv.cc\n##########\n@@ -105,18 +106,33 @@ static inline Result<std::shared_ptr<csv::StreamingReader>> OpenReader(\n     const FileSource& source, const CsvFileFormat& format,\n     const std::shared_ptr<ScanOptions>& scan_options = nullptr,\n     MemoryPool* pool = default_memory_pool()) {\n-  ARROW_ASSIGN_OR_RAISE(auto input, source.Open());\n-\n   auto reader_options = GetReadOptions(format);\n-  ARROW_ASSIGN_OR_RAISE(auto first_block, input->ReadAt(0, reader_options.block_size));\n-  RETURN_NOT_OK(input->Seek(0));\n \n-  const auto& parse_options = format.parse_options;\n+  std::shared_ptr<io::InputStream> input;\n+  // If applicable, the buffer that backs first_block\n+  std::shared_ptr<Buffer> first_block_buf;\n+  util::string_view first_block;\n+  ARROW_ASSIGN_OR_RAISE(auto file, source.Open());\n+  if (format.compression == Compression::UNCOMPRESSED) {\n+    input = file;\n\nReview comment:\n       (For follow up, maybe ARROW-8981) maybe it'd be more useful to encapsulate compressed FIleSources with an overload of Open()\r\n   ```suggestion\r\n     ARROW_ASSIGN_OR_RAISE(std::shared_ptr<io::InputStream> file, source.Open(format.compression));\r\n   ```\r\n   rather than the (currently ignored) FileSource::compression property\r\n   \n\n##########\nFile path: python/pyarrow/_dataset.pyx\n##########\n@@ -1363,10 +1363,12 @@ cdef class CsvFileFormat(FileFormat):\n     cdef:\n         CCsvFileFormat* csv_format\n \n-    def __init__(self, ParseOptions parse_options=None):\n+    def __init__(self, ParseOptions parse_options=None, compression=None):\n         self.init(shared_ptr[CFileFormat](new CCsvFileFormat()))\n         if parse_options is not None:\n             self.parse_options = parse_options\n+        if compression:\n+            self.compression = compression\n\nReview comment:\n       Nit: is it necessary to check for `None` twice?\r\n   ```suggestion\r\n           self.compression = compression\r\n   ```\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-12T16:27:12.701+0000",
                    "updated": "2021-03-12T16:27:12.701+0000",
                    "started": "2021-03-12T16:27:12.701+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "565384",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/565401",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#discussion_r593318541\n\n\n\n##########\nFile path: r/tests/testthat/test-dataset.R\n##########\n@@ -295,6 +295,29 @@ test_that(\"CSV dataset\", {\n   )\n })\n \n+test_that(\"compressed CSV dataset\", {\n+  skip_if_not_available(\"gzip\")\n+  dst_dir <- make_temp_dir()\n+  dst_file <- file.path(dst_dir, \"data.csv.gz\")\n+  write.csv(df1, gzfile(dst_file), row.names = FALSE, quote = FALSE)\n+  format <- FileFormat$create(\"csv\", compression = CompressionType$GZIP)\n\nReview comment:\n       With the above suggestion, this becomes: \r\n   \r\n   ```suggestion\r\n     format <- FileFormat$create(\"csv\", compression = \"gzip\")\r\n   ```\n\n##########\nFile path: r/R/dataset-format.R\n##########\n@@ -101,8 +101,10 @@ IpcFileFormat <- R6Class(\"IpcFileFormat\", inherit = FileFormat)\n #' @rdname FileFormat\n #' @export\n CsvFileFormat <- R6Class(\"CsvFileFormat\", inherit = FileFormat)\n-CsvFileFormat$create <- function(..., opts = csv_file_format_parse_options(...)) {\n-  dataset___CsvFileFormat__Make(opts)\n+CsvFileFormat$create <- function(...,\n+                                 opts = csv_file_format_parse_options(...),\n+                                 compression = CompressionType$UNCOMPRESSED) {\n+  dataset___CsvFileFormat__Make(opts, compression)\n\nReview comment:\n       We have a helper used in a few places that makes this a little more human-friendly:\r\n   \r\n   ```suggestion\r\n                                    compression = \"uncompressed\") {\r\n     dataset___CsvFileFormat__Make(opts, compression_from_name(compression))\r\n   ```\r\n   \r\n   Should also add a note in the FileFormat$create docs above (around L48) that compression is an option now.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-12T16:54:47.071+0000",
                    "updated": "2021-03-12T16:54:47.071+0000",
                    "started": "2021-03-12T16:54:47.071+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "565401",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/565535",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#issuecomment-797761274\n\n\n   Thanks for the feedback. I've fixed things and opened up the PR (the issue in #9680 apparently only affects my local build, not CI).\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-12T21:19:00.660+0000",
                    "updated": "2021-03-12T21:19:00.660+0000",
                    "started": "2021-03-12T21:19:00.660+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "565535",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/565737",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#discussion_r593767079\n\n\n\n##########\nFile path: r/R/dataset-format.R\n##########\n@@ -33,6 +33,10 @@\n #'   * \"tsv\", equivalent to passing `format = \"text\", delimiter = \"\\t\"`\n #' * `...`: Additional format-specific options\n #'\n+#'   `format = \"csv\"``:\n+#'   * `compression`: Assume CSV files have been compressed with this codec.\n+#'   Any options from [CsvParseOptions] may also be passed.\n+#'\n #'   `format = \"parquet\"``:\n\nReview comment:\n       ```suggestion\r\n   #'   `format = \"parquet\"`:\r\n   ```\r\n   Should fix this while we're here.\n\n##########\nFile path: r/R/dataset-format.R\n##########\n@@ -33,6 +33,10 @@\n #'   * \"tsv\", equivalent to passing `format = \"text\", delimiter = \"\\t\"`\n #' * `...`: Additional format-specific options\n #'\n+#'   `format = \"csv\"``:\n\nReview comment:\n       This should be integrated with the `format = \"text\"` section at L47 below (since \"csv\" actually is for any delimited text file and is an alias for \"text\" in this function). Also can you please add a crossref like `See [Codec] for supported compression libraries`?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-13T15:54:19.790+0000",
                    "updated": "2021-03-13T15:54:19.790+0000",
                    "started": "2021-03-13T15:54:19.789+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "565737",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/565738",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#issuecomment-798552142\n\n\n   Ah thanks for fixing that, I was just about to take a look.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-13T15:59:37.331+0000",
                    "updated": "2021-03-13T15:59:37.331+0000",
                    "started": "2021-03-13T15:59:37.330+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "565738",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/566217",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#discussion_r594360734\n\n\n\n##########\nFile path: cpp/src/arrow/dataset/file_csv_test.cc\n##########\n@@ -190,5 +208,24 @@ N/A,bar\n   }\n }\n \n+INSTANTIATE_TEST_SUITE_P(TestUncompressedCsv, TestCsvFileFormat,\n+                         ::testing::Values(Compression::UNCOMPRESSED));\n+#ifdef ARROW_WITH_BROTLI\n+INSTANTIATE_TEST_SUITE_P(TestBrotliCsv, TestCsvFileFormat,\n+                         ::testing::Values(Compression::BROTLI));\n\nReview comment:\n       Can you also test with bz2 (which is much more likely for compression of CSV files than Brotli)?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T14:01:32.943+0000",
                    "updated": "2021-03-15T14:01:32.943+0000",
                    "started": "2021-03-15T14:01:32.943+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566217",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/566227",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#issuecomment-799452300\n\n\n   > It does not autodetect the type of compression (but perhaps this could be added, by inspecting FileSource).\r\n   \r\n   Small note here: the python API for reading plain CSV files (using `pyarrow.csv`) automatically detects compressed files and doesn't have an explicit option for that. So *ideally*, the dataset CSV reading would work similarly, I think. \r\n   But AFAIK, the decompressing for `pyarrow.csv` currently happens on the python side (and not in C++)? (i.e. `get_input_stream` in the cython code detects compression)\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T14:12:47.602+0000",
                    "updated": "2021-03-15T14:12:47.602+0000",
                    "started": "2021-03-15T14:12:47.601+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566227",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/566233",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#issuecomment-799453681\n\n\n   > > It does not autodetect the type of compression (but perhaps this could be added, by inspecting FileSource).\r\n   > \r\n   > Small note here: the python API for reading plain CSV files (using `pyarrow.csv`) automatically detects compressed files and doesn't have an explicit option for that. So _ideally_, the dataset CSV reading would work similarly, I think.\r\n   > But AFAIK, the decompressing for `pyarrow.csv` currently happens on the python side (and not in C++)? (i.e. `get_input_stream` in the cython code detects compression)\r\n   \r\n   Yeah, we'd have to implement that on the C++ side as well. It could be tackled in ARROW-8981 as part of the refactoring that Ben suggested above for that issue, too.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T14:14:36.879+0000",
                    "updated": "2021-03-15T14:14:36.879+0000",
                    "started": "2021-03-15T14:14:36.878+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566233",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/566260",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#issuecomment-799485312\n\n\n   If we want to support detection of compression then that requires a fairly significant change to this PR. As written, compression is a property of the FileFormat, which is not mutated (even during discovery). Thus we couldn't look at (for example) the `.gz` extension on provided file sources and switch from \"CSV\" to \"gzipped CSV\". Compression-as-FileFormat-property paints us into a corner WRT guessing compression.\r\n   \r\n   Adding discovery of file formats would give us a place to put this functionality, but that's a larger change and definitely out of scope here.\r\n   \r\n   If guessing compression will ever be a priority, I'd recommend removing compression-as-property and instead writing `Result<shared_ptr<InputStream>> FileSource::OpenCompressed(optional<Compression::type> = {})` (without an explicit compression type, it will guess what codec to use). This can replace usage of `FileSource::Open` in `file_csv.cc:OpenReader`\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T14:55:24.777+0000",
                    "updated": "2021-03-15T14:55:24.777+0000",
                    "started": "2021-03-15T14:55:24.776+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566260",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/566269",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#issuecomment-799490271\n\n\n   In that case, we could still keep the property if people wanted to force a certain compression type instead of guessing it, right? (Though maybe that isn't something that's ever done.)\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T15:01:20.074+0000",
                    "updated": "2021-03-15T15:01:20.074+0000",
                    "started": "2021-03-15T15:01:20.074+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566269",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/566273",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#issuecomment-799492366\n\n\n   I'd say forcing a given compression is something we could add later if there's specific demand. IMO, this PR should provide a single clear answer to supporting compressed CSV, be it\r\n   - compression is a property of CsvFileFormat or\r\n   - compression is transparent to CsvFileFormat\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T15:04:07.737+0000",
                    "updated": "2021-03-15T15:04:07.737+0000",
                    "started": "2021-03-15T15:04:07.736+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566273",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/566276",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#issuecomment-799493264\n\n\n   I'll rework this then, since from the original issue, people expect compression to be transparent to CSV.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T15:05:13.684+0000",
                    "updated": "2021-03-15T15:05:13.684+0000",
                    "started": "2021-03-15T15:05:13.684+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566276",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/566387",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on a change in pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685#discussion_r594520833\n\n\n\n##########\nFile path: cpp/src/arrow/dataset/file_base.cc\n##########\n@@ -56,6 +57,32 @@ Result<std::shared_ptr<io::RandomAccessFile>> FileSource::Open() const {\n   return custom_open_();\n }\n \n+Result<std::shared_ptr<io::InputStream>> FileSource::OpenCompressed(\n+    util::optional<Compression::type> compression) const {\n+  ARROW_ASSIGN_OR_RAISE(auto file, Open());\n+  auto actual_compression = Compression::type::UNCOMPRESSED;\n+  if (!compression.has_value()) {\n+    // Guess compression from file extension\n\nReview comment:\n       This can be made more compact with arrow::fs::internal::GetAbstractPathExtension and arrow::util::GetCompressionType\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T17:04:48.478+0000",
                    "updated": "2021-03-15T17:04:48.478+0000",
                    "started": "2021-03-15T17:04:48.478+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566387",
                    "issueId": "13336771"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/worklog/567651",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz closed pull request #9685:\nURL: https://github.com/apache/arrow/pull/9685\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-17T13:29:18.421+0000",
                    "updated": "2021-03-17T13:29:18.421+0000",
                    "started": "2021-03-17T13:29:18.420+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "567651",
                    "issueId": "13336771"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 10200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@605e26e2[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@ab50aeb[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5c113eb2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@7ed19589[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6bcdcca1[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@6d64deb3[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@38d59903[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@4ada3e4d[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4f775b73[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@4ad8568[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1024197f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@b977560[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 10200,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Mar 17 13:28:53 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-03-17T13:28:53.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-10372/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2020-10-22T16:38:52.000+0000",
        "updated": "2022-01-05T09:52:34.000+0000",
        "timeoriginalestimate": null,
        "description": "It would be nice if arrow can read compressed csv files",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 10200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++][Dataset] Read compressed CSVs ",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/comment/17225643",
                    "id": "17225643",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=Hoter11",
                        "name": "Hoter11",
                        "key": "hoter11",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34060",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34060",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34060",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34060"
                        },
                        "displayName": "Roc Granada Verd\u00fa",
                        "active": true,
                        "timeZone": "Europe/Andorra"
                    },
                    "body": "I would also like for this to be implemented.\r\n\r\nWhile the\u00a0_read_csv_arrow_ function automatically detects compression: \"_compression will be detected from the file extension and handled automatically_\", the\u00a0_open_dataset_\u00a0function does not. It breaks when trying to read a gzip csv, and there is not a parameter to specify the compression.\r\n\r\n\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=Hoter11",
                        "name": "Hoter11",
                        "key": "hoter11",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34060",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34060",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34060",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34060"
                        },
                        "displayName": "Roc Granada Verd\u00fa",
                        "active": true,
                        "timeZone": "Europe/Andorra"
                    },
                    "created": "2020-11-03T20:00:38.578+0000",
                    "updated": "2020-11-03T20:00:38.578+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13336771/comment/17303415",
                    "id": "17303415",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
                        "name": "bkietz",
                        "key": "bkietz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
                        },
                        "displayName": "Ben Kietzman",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 9685\n[https://github.com/apache/arrow/pull/9685]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
                        "name": "bkietz",
                        "key": "bkietz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
                        },
                        "displayName": "Ben Kietzman",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-03-17T13:28:53.097+0000",
                    "updated": "2021-03-17T13:28:53.097+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z0jxi8:",
        "customfield_12314139": null
    }
}