{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13363640",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363640",
    "key": "ARROW-11925",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349493",
                "id": "12349493",
                "description": "",
                "name": "4.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-04-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=boshek",
            "name": "boshek",
            "key": "boshek",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Sam Albers",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=boshek",
            "name": "boshek",
            "key": "boshek",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Sam Albers",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=boshek",
            "name": "boshek",
            "key": "boshek",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Sam Albers",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 6600,
            "total": 6600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 6600,
            "total": 6600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11925/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 11,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363640/worklog/564141",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "boshek opened a new pull request #9674:\nURL: https://github.com/apache/arrow/pull/9674\n\n\n   Closes https://issues.apache.org/jira/browse/ARROW-11925\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-10T23:23:44.801+0000",
                    "updated": "2021-03-10T23:23:44.801+0000",
                    "started": "2021-03-10T23:23:44.801+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "564141",
                    "issueId": "13363640"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363640/worklog/564142",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9674:\nURL: https://github.com/apache/arrow/pull/9674#issuecomment-796280212\n\n\n   https://issues.apache.org/jira/browse/ARROW-11925\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-10T23:24:00.787+0000",
                    "updated": "2021-03-10T23:24:00.787+0000",
                    "started": "2021-03-10T23:24:00.787+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "564142",
                    "issueId": "13363640"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363640/worklog/564162",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9674:\nURL: https://github.com/apache/arrow/pull/9674#discussion_r591969663\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-filter.R\n##########\n@@ -155,6 +155,15 @@ test_that(\"filter() with %in%\", {\n   )\n })\n \n+test_that(\"filter() with between()\", {\n+  expect_dplyr_equal(\n+    input %>%\n+      filter(between(dbl, 1, 2)) %>%\n+      collect(),\n+    tbl\n+  )\n+})\n+\n\nReview comment:\n       Should also add a test for the input validation. \r\n   \r\n   When you do, one question: what happens if you remove the input validation and let the Arrow C++ library handle it? Are the error messages clear enough?\r\n   \r\n   Removing the R validation would allow `left` and `right` to be other kinds of objects (such as Arrow objects). It would also support vector-wise comparison (i.e. if `left` and `right` were columns in the data), which might be nice.\n\n##########\nFile path: r/R/dplyr.R\n##########\n@@ -299,6 +299,15 @@ build_function_list <- function(FUN) {\n         both = FUN(\"utf8_trim_whitespace\", string)\n       )\n     },\n+    between = function(x, left, right) {\n+      if (length(left) != 1) {\n+        rlang::abort(\"`left` must be length 1\")\n\nReview comment:\n       We import `abort` from `rlang` so you can drop `rlang::`\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-11T00:06:08.170+0000",
                    "updated": "2021-03-11T00:06:08.170+0000",
                    "started": "2021-03-11T00:06:08.170+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "564162",
                    "issueId": "13363640"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363640/worklog/564782",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "boshek commented on a change in pull request #9674:\nURL: https://github.com/apache/arrow/pull/9674#discussion_r592569210\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-filter.R\n##########\n@@ -155,6 +155,15 @@ test_that(\"filter() with %in%\", {\n   )\n })\n \n+test_that(\"filter() with between()\", {\n+  expect_dplyr_equal(\n+    input %>%\n+      filter(between(dbl, 1, 2)) %>%\n+      collect(),\n+    tbl\n+  )\n+})\n+\n\nReview comment:\n       Great points. In terms of vector-wise comparisons I think that is a great idea. However given the original dplyr method doesn't support that, does it makes sense to add that to arrow? Honest question.\r\n   \r\n   I'm struggling a bit with the input validation for two reasons (aside from my limited understanding). First I am not totally clear how to check the type of a field in a `FileSystemDataset` object. If I add something like this into `between`:\r\n   \r\n   ```r\r\n   if (!is.double(x)) {\r\n           x <- as.numeric(x)\r\n       }\r\n   ```\r\n   I get this error presumably because it is prematurely trying to bring the data into R\r\n   > Error: Filter expression not supported for Arrow Datasets: between(x, 0.5, 1.4)\r\n   Call collect() first to pull data into R.\r\n   \r\n   Is there a way to check for types that I am missing?\r\n   \r\n   Second, `dplyr::between` allows this:\r\n   ```r\r\n   iris %>% \r\n      filter(between(Sepal.Length, 3, \"5\"))\r\n   ```\r\n   That seems.... weird? IMO `arrow` actually handles this better with a more informative error message:\r\n   ```r\r\n   open_dataset(\"foo\") %>% \r\n      filter(between(x, 0.5, \"5\")) %>% \r\n      collect()\r\n   Error: NotImplemented: Function less_equal has no kernel matching input types (array[double], scalar[string])\r\n   ```\r\n   Probably super simple questions but I am struggling with how to enforce the input within the function with `FileSystemDataset` objects, particular with these direct R mapping type ones. Once I have that figured out then I think I can sort out the validation test. \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-11T17:44:13.758+0000",
                    "updated": "2021-03-11T17:44:13.758+0000",
                    "started": "2021-03-11T17:44:13.757+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "564782",
                    "issueId": "13363640"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363640/worklog/565009",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9674:\nURL: https://github.com/apache/arrow/pull/9674#discussion_r592785778\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-filter.R\n##########\n@@ -155,6 +155,15 @@ test_that(\"filter() with %in%\", {\n   )\n })\n \n+test_that(\"filter() with between()\", {\n+  expect_dplyr_equal(\n+    input %>%\n+      filter(between(dbl, 1, 2)) %>%\n+      collect(),\n+    tbl\n+  )\n+})\n+\n\nReview comment:\n       Yeah, that's why I was suggesting that you consider removing the validation code and seeing how the Arrow C++ library handles bad inputs. If the arrow error messages are clear enough (looks like they may be, though they're slightly non-obvious because of how `between` is translated into expressions), it may be worthwhile to let the C++ library handle what it can support and tell us if it can't, rather than try to validate twice.\r\n   \r\n   I believe that a side effect of removing the validation is that it would allow the vector-wise operation--which you're right, it's a fair question as to whether it should be supported, but if we get it for free, it doesn't seem unreasonable to add. But IMO the main reason to remove the validation would be to avoid some of the complexity of type-checking arrow expressions that you experienced. You definitely can't type-check `x` if that's supposed to be a field in the dataset; it would be possible to check its type in the dataset's schema if it exists there (though the usual R functions like `is.numeric` and `as.numeric` etc. won't make sense), but because `x` could be the result of a previous `mutate()` step, we wouldn't know until it's evaluated what type it will be.\r\n   \r\n   I'd suggest adding a bunch of tests with garbage outputs (\"QA engineer walks into a bar and orders a beer. Orders -1 beers. Orders 0.99 beers. Orders NULL beer. etc.\") and see how the C++ library handles them. If it's good enough, I'd drop the R validation.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-11T23:04:52.563+0000",
                    "updated": "2021-03-11T23:04:52.563+0000",
                    "started": "2021-03-11T23:04:52.563+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "565009",
                    "issueId": "13363640"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363640/worklog/565555",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "boshek commented on a change in pull request #9674:\nURL: https://github.com/apache/arrow/pull/9674#discussion_r593477389\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-filter.R\n##########\n@@ -155,6 +155,15 @@ test_that(\"filter() with %in%\", {\n   )\n })\n \n+test_that(\"filter() with between()\", {\n+  expect_dplyr_equal(\n+    input %>%\n+      filter(between(dbl, 1, 2)) %>%\n+      collect(),\n+    tbl\n+  )\n+})\n+\n\nReview comment:\n       I've gone ahead and actually removed all input validation as you suggested. This gives us a vectorized `between` which I've added some tests form. IMO the Arrow C++ error messages are fine here. I had to add another dbl column to the test data to directly test the vectorized operation. Then I just tried to think of some reasonable use cases and test for those. \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-12T22:06:29.072+0000",
                    "updated": "2021-03-12T22:06:29.072+0000",
                    "started": "2021-03-12T22:06:29.071+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "565555",
                    "issueId": "13363640"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363640/worklog/565594",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9674:\nURL: https://github.com/apache/arrow/pull/9674#discussion_r593532623\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-filter.R\n##########\n@@ -155,6 +155,59 @@ test_that(\"filter() with %in%\", {\n   )\n })\n \n+test_that(\"filter() with between()\", {\n+  expect_dplyr_equal(\n+    input %>%\n+      filter(between(dbl, 1, 2)) %>%\n+      collect(),\n+    tbl\n+  )\n+\n+  expect_dplyr_equal(\n+    input %>%\n+      filter(between(dbl, 0.5, 2)) %>%\n+      collect(),\n+    tbl\n+  )\n+\n+  expect_dplyr_equal(\n\nReview comment:\n       This is your failing test: because `dplyr` doesn't support the vector-wise comparison. You can rewrite it without `expect_dplyr_equal`, just do something like:\r\n   \r\n   ```\r\n   expect_identical(\r\n     tbl %>%\r\n       record_batch() %>%\r\n       filter(between(dbl, int, dbl2)) %>%\r\n       collect(),\r\n     tbl %>%\r\n       filter(dbl >= int, dbl <= dbl2)\r\n   )\r\n   ```\r\n   \r\n   or something like that.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-13T01:01:12.421+0000",
                    "updated": "2021-03-13T01:01:12.421+0000",
                    "started": "2021-03-13T01:01:12.420+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "565594",
                    "issueId": "13363640"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363640/worklog/566307",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9674:\nURL: https://github.com/apache/arrow/pull/9674#discussion_r594440421\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-filter.R\n##########\n@@ -155,6 +155,59 @@ test_that(\"filter() with %in%\", {\n   )\n })\n \n+test_that(\"filter() with between()\", {\n+  expect_dplyr_equal(\n+    input %>%\n+      filter(between(dbl, 1, 2)) %>%\n+      collect(),\n+    tbl\n+  )\n+\n+  expect_dplyr_equal(\n+    input %>%\n+      filter(between(dbl, 0.5, 2)) %>%\n+      collect(),\n+    tbl\n+  )\n+\n+  expect_dplyr_equal(\n\nReview comment:\n       Looks like fixing that let the next tests run, and some of them fail too.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T15:31:50.264+0000",
                    "updated": "2021-03-15T15:31:50.264+0000",
                    "started": "2021-03-15T15:31:50.263+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566307",
                    "issueId": "13363640"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363640/worklog/566311",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9674:\nURL: https://github.com/apache/arrow/pull/9674#discussion_r594443332\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-filter.R\n##########\n@@ -155,6 +155,59 @@ test_that(\"filter() with %in%\", {\n   )\n })\n \n+test_that(\"filter() with between()\", {\n+  expect_dplyr_equal(\n+    input %>%\n+      filter(between(dbl, 1, 2)) %>%\n+      collect(),\n+    tbl\n+  )\n+\n+  expect_dplyr_equal(\n+    input %>%\n+      filter(between(dbl, 0.5, 2)) %>%\n+      collect(),\n+    tbl\n+  )\n+\n+  expect_dplyr_equal(\n\nReview comment:\n       You should just use regular `expect_error` here since the arrow version behaves slightly differently (even when the dplyr version and this version both error, they give different validation messages). `expect_dplyr_error` asserts that they give the exact same error message: https://github.com/apache/arrow/blob/master/r/tests/testthat/helper-expectation.R#L98-L124\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T15:35:13.007+0000",
                    "updated": "2021-03-15T15:35:13.007+0000",
                    "started": "2021-03-15T15:35:13.007+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566311",
                    "issueId": "13363640"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363640/worklog/566533",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "boshek commented on a change in pull request #9674:\nURL: https://github.com/apache/arrow/pull/9674#discussion_r594665675\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-filter.R\n##########\n@@ -155,6 +155,59 @@ test_that(\"filter() with %in%\", {\n   )\n })\n \n+test_that(\"filter() with between()\", {\n+  expect_dplyr_equal(\n+    input %>%\n+      filter(between(dbl, 1, 2)) %>%\n+      collect(),\n+    tbl\n+  )\n+\n+  expect_dplyr_equal(\n+    input %>%\n+      filter(between(dbl, 0.5, 2)) %>%\n+      collect(),\n+    tbl\n+  )\n+\n+  expect_dplyr_equal(\n\nReview comment:\n       Ok tests passing now. A few iterations to figure out your test suite \ud83e\udd15 .\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T20:36:50.011+0000",
                    "updated": "2021-03-15T20:36:50.011+0000",
                    "started": "2021-03-15T20:36:50.011+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566533",
                    "issueId": "13363640"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363640/worklog/566535",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson closed pull request #9674:\nURL: https://github.com/apache/arrow/pull/9674\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-15T20:51:44.169+0000",
                    "updated": "2021-03-15T20:51:44.169+0000",
                    "started": "2021-03-15T20:51:44.168+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "566535",
                    "issueId": "13363640"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 6600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@6db19686[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@773f28ec[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1b273622[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@15d115e2[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@78c1176d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@1eb64365[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3c82f0b7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@21619cc0[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@516b9dfe[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@7d6a51dd[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@56c6018f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@7b6c100b[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 6600,
        "customfield_12312520": null,
        "customfield_12312521": "Mon Mar 15 20:51:40 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-03-15T20:51:40.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11925/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2021-03-10T19:24:33.000+0000",
        "updated": "2021-03-15T20:51:45.000+0000",
        "timeoriginalestimate": null,
        "description": "Would you consider a PR to add a between method for `arrow_dplyr_query` objects? Even something implemented directly in R harnesses the arrow speed. Here is what I am thinking:\r\n\r\n\r\n\r\nTypical usage of `between`:\r\n\r\n\u00a0\r\n{code:java}\r\nlibrary(dplyr)\r\nlibrary(arrow)\r\niris %>% filter(between(Petal.Length, 1, 1.1)){code}\r\n\u00a0\r\n\r\n\u00a0Here is a mocked up version of the method:\r\n\r\n\u00a0\r\n{code:java}\r\nbetween_mock <- function(x, left, right) {\r\nif (length(left) != 1) {\r\n rlang::abort(\"`left` must be length 1\")\r\n }\r\n if (length(right) != 1) {\r\n rlang::abort(\"`right` must be length 1\")\r\n }x >= left & x <= right\r\n}{code}\r\nI think because `dplyr` uses C++ to efficiently do this, `between` doesn't work out of the box:\r\n{code:java}\r\nopen_dataset(\"nyc-taxi\", partitioning = \"year\") %>% \r\n filter(year == 2014) %>% \r\n select(year, fare_amount) %>% \r\n filter(between(fare_amount, 10, 11)) %>% \r\n collect() \r\n\r\nError: Filter expression not supported for Arrow Datasets: between(fare_amount, 10, 11)\r\nCall collect() first to pull data into R.\r\nIn addition: Warning message:\r\n between() called on numeric vector with S3 class \r\nBacktrace:\r\n x\r\n1. +-[ `%>%`(...) ]\r\n2. +-[ dplyr::collect(...) ]\r\n3. +-[ dplyr::filter(...) ]\r\n4. \\-arrow:::filter.arrow_dplyr_query(...){code}\r\nBut even my simple implementation works fine:\r\n{code:java}\r\nopen_dataset(\"nyc-taxi\", partitioning = \"year\") %>% \r\n filter(year == 2014) %>% \r\n select(year, fare_amount) %>% \r\n filter(between_mock(fare_amount, 10, 11)) %>% \r\n collect() {code}\r\n\u00a0\r\n\r\n\u00a0\r\n\r\n\u00a0",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 6600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] Add `between` method for arrow_dplyr_query",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363640/comment/17299101",
                    "id": "17299101",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Sure! You'd register the function around here: https://github.com/apache/arrow/blob/master/r/R/dplyr.R#L292\r\n\r\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2021-03-10T19:40:14.064+0000",
                    "updated": "2021-03-10T19:40:14.064+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363640/comment/17301969",
                    "id": "17301969",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Issue resolved by pull request 9674\n[https://github.com/apache/arrow/pull/9674]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2021-03-15T20:51:40.177+0000",
                    "updated": "2021-03-15T20:51:40.177+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z0oipc:",
        "customfield_12314139": null
    }
}