{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13304453",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453",
    "key": "ARROW-8779",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12347769",
                "id": "12347769",
                "description": "",
                "name": "1.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-07-24"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12340948",
                "id": "12340948",
                "description": "",
                "name": "0.16.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-02-07"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12346687",
                "id": "12346687",
                "description": "",
                "name": "0.17.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-04-20"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=romainfrancois",
            "name": "romainfrancois",
            "key": "romainfrancois",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=romainfrancois&avatarId=35092",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=romainfrancois&avatarId=35092",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=romainfrancois&avatarId=35092",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=romainfrancois&avatarId=35092"
            },
            "displayName": "Romain Francois",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=domiden",
            "name": "domiden",
            "key": "domiden",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=domiden&avatarId=43326",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=domiden&avatarId=43326",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=domiden&avatarId=43326",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=domiden&avatarId=43326"
            },
            "displayName": "Dominic Dennenmoser",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=domiden",
            "name": "domiden",
            "key": "domiden",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=domiden&avatarId=43326",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=domiden&avatarId=43326",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=domiden&avatarId=43326",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=domiden&avatarId=43326"
            },
            "displayName": "Dominic Dennenmoser",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 8400,
            "total": 8400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 8400,
            "total": 8400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-8779/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 14,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/worklog/445827",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois opened a new pull request #7435:\nURL: https://github.com/apache/arrow/pull/7435\n\n\n   ``` r\r\n   library(arrow)\r\n   #> \r\n   #> Attaching package: 'arrow'\r\n   #> The following object is masked from 'package:utils':\r\n   #> \r\n   #>     timestamp\r\n   Array$create(list(data.frame(a = 1:3, b = 11:13)))\r\n   #> ListArray\r\n   #> <list<item: struct<a: int32, b: int32>>>\r\n   #> [\r\n   #>   -- is_valid: all not null\r\n   #>   -- child 0 type: int32\r\n   #>     [\r\n   #>       1,\r\n   #>       2,\r\n   #>       3\r\n   #>     ]\r\n   #>   -- child 1 type: int32\r\n   #>     [\r\n   #>       11,\r\n   #>       12,\r\n   #>       13\r\n   #>     ]\r\n   #> ]\r\n   ```\r\n   \r\n   <sup>Created on 2020-06-15 by the [reprex package](https://reprex.tidyverse.org) (v0.3.0)</sup>\r\n   \r\n   However does not yet deal with the original issue: \r\n   \r\n   ``` r\r\n   library(arrow)\r\n   #> \r\n   #> Attaching package: 'arrow'\r\n   #> The following object is masked from 'package:utils':\r\n   #> \r\n   #>     timestamp\r\n   \r\n   nrows <- 1:3\r\n   df <- tibble::tibble(\r\n       id = 1L,\r\n       data = \r\n         list(\r\n           tibble::tibble(\r\n             a = letters[nrows],\r\n             b = as.integer(nrows),\r\n             c = as.factor(a),\r\n             d = b/2\r\n           )\r\n         )\r\n     )\r\n   Table$create(df)\r\n   #> Error in Table__from_dots(dots, schema): NotImplemented: Converting vector to arrow type dictionary<values=string, indices=int8, ordered=0> not implemented\r\n   ```\r\n   \r\n   <sup>Created on 2020-06-15 by the [reprex package](https://reprex.tidyverse.org) (v0.3.0)</sup>\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-15T13:07:31.504+0000",
                    "updated": "2020-06-15T13:07:31.504+0000",
                    "started": "2020-06-15T13:07:31.504+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "445827",
                    "issueId": "13304453"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/worklog/445831",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #7435:\nURL: https://github.com/apache/arrow/pull/7435#issuecomment-644128787\n\n\n   https://issues.apache.org/jira/browse/ARROW-8779\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-15T13:17:06.192+0000",
                    "updated": "2020-06-15T13:17:06.192+0000",
                    "started": "2020-06-15T13:17:06.191+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "445831",
                    "issueId": "13304453"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/worklog/445844",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on pull request #7435:\nURL: https://github.com/apache/arrow/pull/7435#issuecomment-644147517\n\n\n   @github-actions autotune everything\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-15T13:50:50.036+0000",
                    "updated": "2020-06-15T13:50:50.036+0000",
                    "started": "2020-06-15T13:50:50.036+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "445844",
                    "issueId": "13304453"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/worklog/446001",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on a change in pull request #7435:\nURL: https://github.com/apache/arrow/pull/7435#discussion_r440369138\n\n\n\n##########\nFile path: r/src/array_from_vector.cpp\n##########\n@@ -201,6 +201,39 @@ struct VectorToArrayConverter {\n     return Status::OK();\n   }\n \n+  template <typename T>\n+  arrow::enable_if_t<arrow::is_struct_type<T>::value, Status> Visit(const T& type) {\n+    using BuilderType = typename TypeTraits<T>::BuilderType;\n+    ARROW_RETURN_IF(!Rf_inherits(x, \"data.frame\"),\n+                    Status::RError(\"Expecting a data frame\"));\n+\n+    auto* struct_builder = checked_cast<BuilderType*>(builder);\n+\n+    int64_t n = 0;\n+    if (XLENGTH(x) > 0) {\n+      // TODO: need a more generic way to get the vec_size(<data.frame>)\n+      //       perhaps using vctrs::::short_vec_size\n+      n = XLENGTH(VECTOR_ELT(x, 0));\n+    }\n+    RETURN_NOT_OK(struct_builder->Reserve(n));\n+\n+    // TODO: double check but seems fine that no value is NULL\n\nReview comment:\n       You can remove the TODO, this is correct.\n\n##########\nFile path: r/tests/testthat/test-Array.R\n##########\n@@ -445,6 +445,9 @@ test_that(\"Array$create() handles vector -> list arrays (ARROW-7662)\", {\n   expect_array_roundtrip(list(character(0)), list_of(utf8()))\n   expect_array_roundtrip(list(\"itsy\", c(\"bitsy\", \"spider\"), c(\"is\")), list_of(utf8()))\n   expect_array_roundtrip(list(\"itsy\", character(0), c(\"bitsy\", \"spider\", NA_character_), c(\"is\")), list_of(utf8()))\n+\n+  # struct\n+  expect_array_roundtrip(list(tibble::tibble(a = integer(0))), list_of(struct(a = int32())))\n\nReview comment:\n       Add a bit more columns: float, string, bool. Also add a failing case where columns are not of the same size.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-15T18:35:29.390+0000",
                    "updated": "2020-06-15T18:35:29.390+0000",
                    "started": "2020-06-15T18:35:29.390+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "446001",
                    "issueId": "13304453"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/worklog/446005",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #7435:\nURL: https://github.com/apache/arrow/pull/7435#issuecomment-644308992\n\n\n   I also updated ARROW-7798 with comments to avoid builder in the conversion.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-15T18:39:52.963+0000",
                    "updated": "2020-06-15T18:39:52.963+0000",
                    "started": "2020-06-15T18:39:52.963+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "446005",
                    "issueId": "13304453"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/worklog/446389",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on a change in pull request #7435:\nURL: https://github.com/apache/arrow/pull/7435#discussion_r440723407\n\n\n\n##########\nFile path: r/tests/testthat/test-Array.R\n##########\n@@ -445,6 +445,9 @@ test_that(\"Array$create() handles vector -> list arrays (ARROW-7662)\", {\n   expect_array_roundtrip(list(character(0)), list_of(utf8()))\n   expect_array_roundtrip(list(\"itsy\", c(\"bitsy\", \"spider\"), c(\"is\")), list_of(utf8()))\n   expect_array_roundtrip(list(\"itsy\", character(0), c(\"bitsy\", \"spider\", NA_character_), c(\"is\")), list_of(utf8()))\n+\n+  # struct\n+  expect_array_roundtrip(list(tibble::tibble(a = integer(0))), list_of(struct(a = int32())))\n\nReview comment:\n       Thanks. \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-16T09:43:35.614+0000",
                    "updated": "2020-06-16T09:43:35.614+0000",
                    "started": "2020-06-16T09:43:35.614+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "446389",
                    "issueId": "13304453"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/worklog/446423",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on pull request #7435:\nURL: https://github.com/apache/arrow/pull/7435#issuecomment-644690630\n\n\n   I need to add tests for this: \r\n   \r\n   ``` r\r\n   library(arrow, warn.conflicts = FALSE)\r\n   \r\n   nrows <- 1:3\r\n   df <- tibble::tibble(\r\n     id = 1L,\r\n     data = \r\n       list(\r\n         tibble::tibble(\r\n           a = letters[nrows],\r\n           b = as.integer(nrows),\r\n           c = as.factor(a),\r\n           d = b/2\r\n         )\r\n       )\r\n   )\r\n   tab <- Table$create(df)\r\n   tab$schema\r\n   #> Schema\r\n   #> id: int32\r\n   #> data: list<item: struct<a: string, b: int32, c: dictionary<values=string, indices=int8>, d: double>>\r\n   as.data.frame(tab)\r\n   #> # A tibble: 1 x 2\r\n   #>      id data            \r\n   #>   <int> <list>          \r\n   #> 1     1 <tibble [3 \u00d7 4]>\r\n   as.data.frame(tab)$data\r\n   #> [[1]]\r\n   #> # A tibble: 3 x 4\r\n   #>   a         b c         d\r\n   #>   <chr> <int> <fct> <dbl>\r\n   #> 1 a         1 a       0.5\r\n   #> 2 b         2 b       1  \r\n   #> 3 c         3 c       1.5\r\n   ```\r\n   \r\n   <sup>Created on 2020-06-16 by the [reprex package](https://reprex.tidyverse.org) (v0.3.0)</sup>\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-16T10:55:22.618+0000",
                    "updated": "2020-06-16T10:55:22.618+0000",
                    "started": "2020-06-16T10:55:22.618+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "446423",
                    "issueId": "13304453"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/worklog/446544",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on pull request #7435:\nURL: https://github.com/apache/arrow/pull/7435#issuecomment-644800961\n\n\n   also added `VectorToArrayConverter::Visit` for dictionaries to that we can handle things like list(factor()), the implementation is simpler than the original `MakeFactorArray` as it leverages `StringDictionaryBuilder`, but it looks like that does not respect the \"ordered\" property. \r\n   \r\n   ``` r\r\n   library(arrow, warn.conflicts = FALSE)\r\n   \r\n   o <- ordered(c(\"b\", \"a\"), levels = c(\"a\", \"b\", \"c\"))\r\n   \r\n   # this goes trough MakeFactorArray\r\n   Array$create(o)$type\r\n   #> DictionaryType\r\n   #> dictionary<values=string, indices=int8, ordered>\r\n   \r\n   # this goes through VectorToArrayConverter::Visit >> MakeBuilder() ...\r\n   Array$create(list(o))$type$value_type\r\n   #> DictionaryType\r\n   #> dictionary<values=string, indices=int8>\r\n   ```\r\n   \r\n   <sup>Created on 2020-06-16 by the [reprex package](https://reprex.tidyverse.org) (v0.3.0)</sup>\r\n   \r\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-16T14:27:47.554+0000",
                    "updated": "2020-06-16T14:27:47.554+0000",
                    "started": "2020-06-16T14:27:47.553+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "446544",
                    "issueId": "13304453"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/worklog/446802",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on a change in pull request #7435:\nURL: https://github.com/apache/arrow/pull/7435#discussion_r441040428\n\n\n\n##########\nFile path: r/src/array_from_vector.cpp\n##########\n@@ -201,6 +202,67 @@ struct VectorToArrayConverter {\n     return Status::OK();\n   }\n \n+  template <typename T>\n+  arrow::enable_if_t<is_struct_type<T>::value, Status> Visit(const T& type) {\n+    using BuilderType = typename TypeTraits<T>::BuilderType;\n+    ARROW_RETURN_IF(!Rf_inherits(x, \"data.frame\"),\n+                    Status::RError(\"Expecting a data frame\"));\n+\n+    auto* struct_builder = checked_cast<BuilderType*>(builder);\n+\n+    int64_t n = vctrs::short_vec_size(x);\n\nReview comment:\n       Why do you need this?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-16T18:00:52.837+0000",
                    "updated": "2020-06-16T18:00:52.837+0000",
                    "started": "2020-06-16T18:00:52.837+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "446802",
                    "issueId": "13304453"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/worklog/446945",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #7435:\nURL: https://github.com/apache/arrow/pull/7435#discussion_r441170772\n\n\n\n##########\nFile path: r/src/array_from_vector.cpp\n##########\n@@ -201,6 +202,67 @@ struct VectorToArrayConverter {\n     return Status::OK();\n   }\n \n+  template <typename T>\n+  arrow::enable_if_t<is_struct_type<T>::value, Status> Visit(const T& type) {\n+    using BuilderType = typename TypeTraits<T>::BuilderType;\n+    ARROW_RETURN_IF(!Rf_inherits(x, \"data.frame\"),\n+                    Status::RError(\"Expecting a data frame\"));\n+\n+    auto* struct_builder = checked_cast<BuilderType*>(builder);\n+\n+    int64_t n = vctrs::short_vec_size(x);\n\nReview comment:\n       It seems in R it's possible to have data-frame-like tibble columns that are malformed viewed as Arrow-like (as evidenced by the unit test)\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-16T22:11:14.200+0000",
                    "updated": "2020-06-16T22:11:14.200+0000",
                    "started": "2020-06-16T22:11:14.200+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "446945",
                    "issueId": "13304453"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/worklog/446946",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #7435:\nURL: https://github.com/apache/arrow/pull/7435#issuecomment-645037889\n\n\n   thanks @romainfrancois!\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-16T22:11:26.838+0000",
                    "updated": "2020-06-16T22:11:26.838+0000",
                    "started": "2020-06-16T22:11:26.838+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "446946",
                    "issueId": "13304453"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/worklog/446947",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm closed pull request #7435:\nURL: https://github.com/apache/arrow/pull/7435\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-16T22:11:40.892+0000",
                    "updated": "2020-06-16T22:11:40.892+0000",
                    "started": "2020-06-16T22:11:40.892+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "446947",
                    "issueId": "13304453"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/worklog/449067",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "romainfrancois commented on a change in pull request #7435:\nURL: https://github.com/apache/arrow/pull/7435#discussion_r443386121\n\n\n\n##########\nFile path: r/src/array_from_vector.cpp\n##########\n@@ -201,6 +202,67 @@ struct VectorToArrayConverter {\n     return Status::OK();\n   }\n \n+  template <typename T>\n+  arrow::enable_if_t<is_struct_type<T>::value, Status> Visit(const T& type) {\n+    using BuilderType = typename TypeTraits<T>::BuilderType;\n+    ARROW_RETURN_IF(!Rf_inherits(x, \"data.frame\"),\n+                    Status::RError(\"Expecting a data frame\"));\n+\n+    auto* struct_builder = checked_cast<BuilderType*>(builder);\n+\n+    int64_t n = vctrs::short_vec_size(x);\n\nReview comment:\n       `vctrs::short_vec_size()` knows how to get the size of things like data frames with 0 columns, data frames with data frame columns ... \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-22T08:09:59.909+0000",
                    "updated": "2020-06-22T08:09:59.909+0000",
                    "started": "2020-06-22T08:09:59.909+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "449067",
                    "issueId": "13304453"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/worklog/449424",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #7435:\nURL: https://github.com/apache/arrow/pull/7435#discussion_r443735874\n\n\n\n##########\nFile path: r/src/array_from_vector.cpp\n##########\n@@ -201,6 +202,67 @@ struct VectorToArrayConverter {\n     return Status::OK();\n   }\n \n+  template <typename T>\n+  arrow::enable_if_t<is_struct_type<T>::value, Status> Visit(const T& type) {\n+    using BuilderType = typename TypeTraits<T>::BuilderType;\n+    ARROW_RETURN_IF(!Rf_inherits(x, \"data.frame\"),\n+                    Status::RError(\"Expecting a data frame\"));\n+\n+    auto* struct_builder = checked_cast<BuilderType*>(builder);\n+\n+    int64_t n = vctrs::short_vec_size(x);\n\nReview comment:\n       See also https://jira.apache.org/jira/browse/ARROW-9028 and some skipped tests about tables with 0 columns\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-22T18:04:12.432+0000",
                    "updated": "2020-06-22T18:04:12.432+0000",
                    "started": "2020-06-22T18:04:12.432+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "449424",
                    "issueId": "13304453"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 8400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@1cf9e798[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3184fcd1[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@57e5573b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@41115b62[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7828ceb6[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@616a6f4c[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1ccbb0d5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@57ca2265[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@69a90b54[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@5b8b1922[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1a07479e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@1cd887b1[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 8400,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Jun 16 22:11:27 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-06-16T22:11:27.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-8779/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2020-05-12T20:39:14.000+0000",
        "updated": "2020-06-22T18:04:13.000+0000",
        "timeoriginalestimate": null,
        "description": "It seems there is no method implemented to write a StructArrow (within a TableArrow) to file. A common case would be list columns in a dataframe. If I have understood the documentation correctly, the should be\u00a0realisable within the current C++ library framework.\r\n\r\nI tested this with the follow df structure:\r\n{code:none}\r\ndf\r\n|-- id <column: string>\r\n|-- data <column: list>\r\n|   |-- a <column: string>\r\n|   |-- b <column: integer>\r\n|   |-- c <column: factor>\r\n|   |-- d <column: double>{code}\r\n\u00a0I got the follow error message:\r\n{code:none}\r\nError in Table__from_dots(dots, schema) : NotImplemented: Converting vector to arrow type struct<a: string, b: int32, c: dictionary<values=string, indices=int8, ordered=0>, d: double> not implemented{code}\r\n\u00a0I have tried it with {{arrow}} 0.17.0 under {{R}} 3.6.1 .",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 8400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] Implement conversion to List<Struct>",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/comment/17105733",
                    "id": "17105733",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Could you please provide a minimal reproducible example?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2020-05-12T20:49:01.578+0000",
                    "updated": "2020-05-12T20:49:01.578+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/comment/17105742",
                    "id": "17105742",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=domiden",
                        "name": "domiden",
                        "key": "domiden",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=domiden&avatarId=43326",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=domiden&avatarId=43326",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=domiden&avatarId=43326",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=domiden&avatarId=43326"
                        },
                        "displayName": "Dominic Dennenmoser",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "This minimal repex should result in the mentioned error message:\r\n{code:r}\r\nnrows <- 1:3\r\ndf <- \r\n  tibble::tibble(\r\n    id = 1L,\r\n    data = \r\n      list(\r\n        tibble::tibble(\r\n          a = letters[nrows],\r\n          b = as.integer(nrows),\r\n          c = as.factor(a),\r\n          d = b/2\r\n        )\r\n      )\r\n  )\r\narrow::write_parquet(df, \"test.parquet\")\r\n{code}\r\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=domiden",
                        "name": "domiden",
                        "key": "domiden",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=domiden&avatarId=43326",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=domiden&avatarId=43326",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=domiden&avatarId=43326",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=domiden&avatarId=43326"
                        },
                        "displayName": "Dominic Dennenmoser",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2020-05-12T21:10:13.193+0000",
                    "updated": "2020-05-12T21:10:13.193+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/comment/17105751",
                    "id": "17105751",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Here's a more minimal reproducer: \r\n\r\n{code:r}\r\nArray$create(list(data.frame(a = 1)))\r\n\r\nError in Array__from_vector(x, type) : \r\n  NotImplemented: Converting vector to arrow type struct<a: double> not implemented\r\n{code}\r\n\r\nIt seems that we support creating ListArrays and StructArrays from R, but not a List of Structs:\r\n\r\n{code}\r\n> Array$create(list(1))\r\nListArray\r\n<list<item: double>>\r\n[\r\n  [\r\n    1\r\n  ]\r\n]\r\n> Array$create(data.frame(a = 1))\r\nStructArray\r\n<struct<a: double>>\r\n-- is_valid: all not null\r\n-- child 0 type: double\r\n  [\r\n    1\r\n  ]\r\n{code}\r\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2020-05-12T21:21:04.233+0000",
                    "updated": "2020-05-12T21:21:04.233+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304453/comment/17137957",
                    "id": "17137957",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 7435\n[https://github.com/apache/arrow/pull/7435]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2020-06-16T22:11:27.865+0000",
                    "updated": "2020-06-16T22:11:27.865+0000"
                }
            ],
            "maxResults": 4,
            "total": 4,
            "startAt": 0
        },
        "customfield_12311820": "0|z0enm0:",
        "customfield_12314139": null
    }
}