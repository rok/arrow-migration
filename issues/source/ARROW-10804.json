{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13344157",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157",
    "key": "ARROW-10804",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12348823",
                "id": "12348823",
                "description": "",
                "name": "3.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-01-25"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorgecarleitao",
            "name": "jorgecarleitao",
            "key": "jorgecarleitao",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=jorgecarleitao&avatarId=43827",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jorgecarleitao&avatarId=43827",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jorgecarleitao&avatarId=43827",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jorgecarleitao&avatarId=43827"
            },
            "displayName": "Jorge Leit\u00e3o",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333773",
                "id": "12333773",
                "name": "Rust"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorgecarleitao",
            "name": "jorgecarleitao",
            "key": "jorgecarleitao",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=jorgecarleitao&avatarId=43827",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jorgecarleitao&avatarId=43827",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jorgecarleitao&avatarId=43827",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jorgecarleitao&avatarId=43827"
            },
            "displayName": "Jorge Leit\u00e3o",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorgecarleitao",
            "name": "jorgecarleitao",
            "key": "jorgecarleitao",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=jorgecarleitao&avatarId=43827",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jorgecarleitao&avatarId=43827",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jorgecarleitao&avatarId=43827",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jorgecarleitao&avatarId=43827"
            },
            "displayName": "Jorge Leit\u00e3o",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 15600,
            "total": 15600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 15600,
            "total": 15600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-10804/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 26,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/520025",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao opened a new pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829\n\n\n   Creating this PR associated with the issue. More investigations are required here.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T07:00:25.289+0000",
                    "updated": "2020-12-04T07:00:25.289+0000",
                    "started": "2020-12-04T07:00:25.289+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520025",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/520035",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#issuecomment-738614616\n\n\n   https://issues.apache.org/jira/browse/ARROW-10804\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T07:20:27.346+0000",
                    "updated": "2020-12-04T07:20:27.346+0000",
                    "started": "2020-12-04T07:20:27.346+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520035",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/520042",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao closed pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T07:41:24.969+0000",
                    "updated": "2020-12-04T07:41:24.969+0000",
                    "started": "2020-12-04T07:41:24.968+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520042",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/520045",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao opened a new pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829\n\n\n   Creating this PR associated with the issue. More investigations are required here.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-04T07:42:54.432+0000",
                    "updated": "2020-12-04T07:42:54.432+0000",
                    "started": "2020-12-04T07:42:54.432+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "520045",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/521393",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao commented on pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#issuecomment-740192100\n\n\n   @jhorstmann and @Dandandan , I notice that you are quite experienced with these types of problems by your PRs.\r\n   \r\n   I am trying to remove this `FatPtr` with a safe counter part, which is blocking the build of #8796 by making this code `safe` and not use pointers from the buffers, but I am struggling a lot here (as you can see by the red on the CI \ud83d\ude2d), and I am a bit blocked. I would be grateful for your help here.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-07T21:31:51.643+0000",
                    "updated": "2020-12-07T21:31:51.643+0000",
                    "started": "2020-12-07T21:31:51.643+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "521393",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/521409",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Dandandan commented on a change in pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#discussion_r537870768\n\n\n\n##########\nFile path: rust/parquet/src/arrow/record_reader.rs\n##########\n@@ -340,42 +297,41 @@ impl<T: DataType> RecordReader<T> {\n         }\n \n         // Convert mutable buffer spaces to mutable slices\n-        let mut values_buf = FatPtr::<T::T>::with_offset_and_size(\n-            &mut self.records,\n-            self.values_written,\n-            T::get_type_size(),\n-        );\n+        let (prefix, values, suffix) = unsafe { self.records.data_mut().align_to_mut::<T::T>() };\n+        assert!(prefix.is_empty() && suffix.is_empty());\n+        let values = &mut values[self.values_written..];\n \n         let values_written = self.values_written;\n-        let mut def_levels_buf = self\n+        let def_levels = self\n             .def_levels\n             .as_mut()\n-            .map(|buf| FatPtr::<i16>::with_offset(buf, values_written));\n+            .map(|buf| {\n+                let (prefix, values, suffix) = unsafe { buf.data_mut().align_to_mut::<i16>() };\n+                assert!(prefix.is_empty() && suffix.is_empty());\n+                &mut values[values_written..]\n+            });\n \n-        let mut rep_levels_buf = self\n+        let rep_levels = self\n             .rep_levels\n             .as_mut()\n-            .map(|buf| FatPtr::<i16>::with_offset(buf, values_written));\n+            .map(|buf| {\n+                let (prefix, values, suffix) = unsafe { buf.data_mut().align_to_mut::<i16>() };\n+                assert!(prefix.is_empty() && suffix.is_empty());\n+                &mut values[values_written..]\n+            });\n \n         let (values_read, levels_read) =\n             self.column_reader.as_mut().unwrap().read_batch(\n                 batch_size,\n-                def_levels_buf.as_mut().map(|ptr| ptr.to_slice_mut()),\n-                rep_levels_buf.as_mut().map(|ptr| ptr.to_slice_mut()),\n-                values_buf.to_slice_mut(),\n+                def_levels,\n\nReview comment:\n       The error originates from here, the error shows that it is moved here. A clone likely \"solves\" the issue? Usually taking the value by `&` in the function also solves this as it will stop it from taking ownership?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-07T22:10:26.911+0000",
                    "updated": "2020-12-07T22:10:26.911+0000",
                    "started": "2020-12-07T22:10:26.911+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "521409",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/521410",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Dandandan commented on a change in pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#discussion_r537870942\n\n\n\n##########\nFile path: rust/parquet/src/arrow/record_reader.rs\n##########\n@@ -340,42 +297,41 @@ impl<T: DataType> RecordReader<T> {\n         }\n \n         // Convert mutable buffer spaces to mutable slices\n-        let mut values_buf = FatPtr::<T::T>::with_offset_and_size(\n-            &mut self.records,\n-            self.values_written,\n-            T::get_type_size(),\n-        );\n+        let (prefix, values, suffix) = unsafe { self.records.data_mut().align_to_mut::<T::T>() };\n+        assert!(prefix.is_empty() && suffix.is_empty());\n+        let values = &mut values[self.values_written..];\n \n         let values_written = self.values_written;\n-        let mut def_levels_buf = self\n+        let def_levels = self\n             .def_levels\n             .as_mut()\n-            .map(|buf| FatPtr::<i16>::with_offset(buf, values_written));\n+            .map(|buf| {\n+                let (prefix, values, suffix) = unsafe { buf.data_mut().align_to_mut::<i16>() };\n+                assert!(prefix.is_empty() && suffix.is_empty());\n+                &mut values[values_written..]\n+            });\n \n-        let mut rep_levels_buf = self\n+        let rep_levels = self\n             .rep_levels\n             .as_mut()\n-            .map(|buf| FatPtr::<i16>::with_offset(buf, values_written));\n+            .map(|buf| {\n+                let (prefix, values, suffix) = unsafe { buf.data_mut().align_to_mut::<i16>() };\n+                assert!(prefix.is_empty() && suffix.is_empty());\n+                &mut values[values_written..]\n+            });\n \n         let (values_read, levels_read) =\n             self.column_reader.as_mut().unwrap().read_batch(\n                 batch_size,\n-                def_levels_buf.as_mut().map(|ptr| ptr.to_slice_mut()),\n-                rep_levels_buf.as_mut().map(|ptr| ptr.to_slice_mut()),\n-                values_buf.to_slice_mut(),\n+                def_levels,\n\nReview comment:\n       @jorgecarleitao \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-07T22:10:46.761+0000",
                    "updated": "2020-12-07T22:10:46.761+0000",
                    "started": "2020-12-07T22:10:46.761+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "521410",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/521411",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Dandandan commented on a change in pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#discussion_r537871324\n\n\n\n##########\nFile path: rust/parquet/src/arrow/record_reader.rs\n##########\n@@ -340,42 +297,41 @@ impl<T: DataType> RecordReader<T> {\n         }\n \n         // Convert mutable buffer spaces to mutable slices\n-        let mut values_buf = FatPtr::<T::T>::with_offset_and_size(\n-            &mut self.records,\n-            self.values_written,\n-            T::get_type_size(),\n-        );\n+        let (prefix, values, suffix) = unsafe { self.records.data_mut().align_to_mut::<T::T>() };\n+        assert!(prefix.is_empty() && suffix.is_empty());\n+        let values = &mut values[self.values_written..];\n \n         let values_written = self.values_written;\n-        let mut def_levels_buf = self\n+        let def_levels = self\n             .def_levels\n             .as_mut()\n-            .map(|buf| FatPtr::<i16>::with_offset(buf, values_written));\n+            .map(|buf| {\n+                let (prefix, values, suffix) = unsafe { buf.data_mut().align_to_mut::<i16>() };\n+                assert!(prefix.is_empty() && suffix.is_empty());\n+                &mut values[values_written..]\n+            });\n \n-        let mut rep_levels_buf = self\n+        let rep_levels = self\n             .rep_levels\n             .as_mut()\n-            .map(|buf| FatPtr::<i16>::with_offset(buf, values_written));\n+            .map(|buf| {\n+                let (prefix, values, suffix) = unsafe { buf.data_mut().align_to_mut::<i16>() };\n+                assert!(prefix.is_empty() && suffix.is_empty());\n+                &mut values[values_written..]\n+            });\n \n         let (values_read, levels_read) =\n             self.column_reader.as_mut().unwrap().read_batch(\n                 batch_size,\n-                def_levels_buf.as_mut().map(|ptr| ptr.to_slice_mut()),\n-                rep_levels_buf.as_mut().map(|ptr| ptr.to_slice_mut()),\n-                values_buf.to_slice_mut(),\n+                def_levels,\n\nReview comment:\n       I will have some time tomorrow to check out the code to see what can be done about it otherwise\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-07T22:11:26.940+0000",
                    "updated": "2020-12-07T22:11:26.940+0000",
                    "started": "2020-12-07T22:11:26.939+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "521411",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/521570",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Dandandan commented on pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#issuecomment-740440493\n\n\n   @jorgecarleitao  Did not find an easy fix yet. What works, though ugly, is using the `self.def_levels` again in the two `if` branches. \r\n   \r\n   ![image](https://user-images.githubusercontent.com/163737/101453525-c4077000-392f-11eb-9786-647a7ee19ad1.png)\r\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-08T07:35:16.905+0000",
                    "updated": "2020-12-08T07:35:16.905+0000",
                    "started": "2020-12-08T07:35:16.905+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "521570",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/522342",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao commented on pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#issuecomment-741907889\n\n\n   > Did not find an easy fix yet. What works, though ugly, is using the `self.def_levels` again in the two `if` branches.\r\n   > \r\n   > ![image](https://user-images.githubusercontent.com/163737/101453525-c4077000-392f-11eb-9786-647a7ee19ad1.png)\r\n   \r\n   Thanks for the help. I tried that, but it is causing a double mutable borrow on my code. Maybe I am doing something wrong. Could you push to the change to a branch in your repo and share it with me?\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-09T17:02:23.792+0000",
                    "updated": "2020-12-09T17:02:23.792+0000",
                    "started": "2020-12-09T17:02:23.791+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "522342",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/522347",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao commented on pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#issuecomment-741922959\n\n\n   @Dandandan , your tip helped. Thanks a lot! It compiles now. The semantics are still wrong and I need to figure out why.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-09T17:27:25.476+0000",
                    "updated": "2020-12-09T17:27:25.476+0000",
                    "started": "2020-12-09T17:27:25.475+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "522347",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/522355",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Dandandan commented on pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#issuecomment-741929506\n\n\n   @jorgecarleitao great to hear! I saw it depends at least on changing the value of `values_written` but hope it helps in finding a solution :+1: \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-09T17:37:53.906+0000",
                    "updated": "2020-12-09T17:37:53.906+0000",
                    "started": "2020-12-09T17:37:53.906+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "522355",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/523377",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#issuecomment-743716160\n\n\n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/8829?src=pr&el=h1) Report\n   > Merging [#8829](https://codecov.io/gh/apache/arrow/pull/8829?src=pr&el=desc) (1b4bf9f) into [master](https://codecov.io/gh/apache/arrow/commit/2816f37ff01cfd31101b3ee6cc8574cc9246dd1b?el=desc) (2816f37) will **decrease** coverage by `23.01%`.\n   > The diff coverage is `0.00%`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/8829/graphs/tree.svg?width=650&height=150&src=pr&token=LpTCFbqVT1)](https://codecov.io/gh/apache/arrow/pull/8829?src=pr&el=tree)\n   \n   ```diff\n   @@             Coverage Diff             @@\n   ##           master    #8829       +/-   ##\n   ===========================================\n   - Coverage   76.99%   53.97%   -23.02%     \n   ===========================================\n     Files         174      170        -4     \n     Lines       40392    30699     -9693     \n   ===========================================\n   - Hits        31099    16571    -14528     \n   - Misses       9293    14128     +4835     \n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/8829?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [rust/parquet/src/arrow/record\\_reader.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9hcnJvdy9yZWNvcmRfcmVhZGVyLnJz) | `0.00% <0.00%> (-94.54%)` | :arrow_down: |\n   | [rust/parquet/src/column/page.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9jb2x1bW4vcGFnZS5ycw==) | `0.00% <0.00%> (-98.69%)` | :arrow_down: |\n   | [rust/parquet/src/record/api.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9yZWNvcmQvYXBpLnJz) | `0.00% <0.00%> (-98.15%)` | :arrow_down: |\n   | [rust/parquet/src/arrow/arrow\\_writer.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9hcnJvdy9hcnJvd193cml0ZXIucnM=) | `0.00% <0.00%> (-97.34%)` | :arrow_down: |\n   | [rust/parquet/src/basic.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9iYXNpYy5ycw==) | `0.00% <0.00%> (-97.27%)` | :arrow_down: |\n   | [rust/parquet/src/file/properties.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9maWxlL3Byb3BlcnRpZXMucnM=) | `0.00% <0.00%> (-95.73%)` | :arrow_down: |\n   | [rust/parquet/src/file/serialized\\_reader.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9maWxlL3NlcmlhbGl6ZWRfcmVhZGVyLnJz) | `0.00% <0.00%> (-95.62%)` | :arrow_down: |\n   | [rust/parquet/src/file/writer.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9maWxlL3dyaXRlci5ycw==) | `0.00% <0.00%> (-95.11%)` | :arrow_down: |\n   | [rust/parquet/src/file/statistics.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9maWxlL3N0YXRpc3RpY3MucnM=) | `0.00% <0.00%> (-94.41%)` | :arrow_down: |\n   | [rust/parquet/src/column/writer.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9jb2x1bW4vd3JpdGVyLnJz) | `0.00% <0.00%> (-93.90%)` | :arrow_down: |\n   | ... and [52 more](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/8829?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/8829?src=pr&el=footer). Last update [2816f37...1b4bf9f](https://codecov.io/gh/apache/arrow/pull/8829?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-12T07:12:12.773+0000",
                    "updated": "2020-12-12T07:12:12.773+0000",
                    "started": "2020-12-12T07:12:12.773+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "523377",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/523380",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao commented on pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#issuecomment-743720998\n\n\n   @nevi-me , I would really appreciate your help here: there are major problems emerging in the parquet crate when I try to remove an unsafe struct.\r\n   \r\n   The background of this change is that `FatPtr` is using `Buffer::capacity` and `Buffer::raw_data()` which is brittle and difficult to reason because a pointer is only valid within a container's `len`, not `capacity`. This is also causing the error that rust compiler safeguard us against when borrowing a mutable and immutable reference at the same time.\r\n   \r\n   This is blocking #8796 \r\n   \r\n   I verified that in all 4 tests the content passed to `ColumnReaderImpl::read_batch` is the same in master and after this PR, but for some reason the outcome of that call is different, which hints that there is some other assumption on that call beyond what we are telling the compiler about.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-12T08:02:12.769+0000",
                    "updated": "2020-12-12T08:02:12.769+0000",
                    "started": "2020-12-12T08:02:12.769+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "523380",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/523381",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao edited a comment on pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#issuecomment-743720998\n\n\n   @nevi-me , I would really appreciate your help here: there are major problems emerging in the parquet crate when I try to remove an unsafe struct.\r\n   \r\n   The background of this change is that `FatPtr` is using `Buffer::capacity` and `Buffer::raw_data()` which is brittle and difficult to reason because a pointer is only valid within a container's `len`, not `capacity`. This is also causing the error that rust compiler safeguard us against when borrowing a mutable and immutable reference at the same time.\r\n   \r\n   This is blocking #8796 \r\n   \r\n   I verified that in all 4 tests the content passed to `ColumnReaderImpl::read_batch` is the same in master and after this PR, but for some reason the outcome of that call is different, which hints that there is some other invariant beyond the ones that we are telling the compiler about through the typing and lifetime system.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-12T08:02:35.904+0000",
                    "updated": "2020-12-12T08:02:35.904+0000",
                    "started": "2020-12-12T08:02:35.904+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "523381",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/523382",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao edited a comment on pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#issuecomment-743720998\n\n\n   @nevi-me , I would really appreciate your help here: there are major problems emerging in the parquet crate when I try to remove an unsafe struct.\r\n   \r\n   The background of this change is that `FatPtr` is using `Buffer::capacity` and `Buffer::raw_data()` which is brittle and difficult to reason because a pointer is only valid within a container's `len`, not `capacity`. This is also leading to the error that the rust compiler safeguard us against when borrowing a mutable and immutable reference at the same time.\r\n   \r\n   This is blocking #8796 \r\n   \r\n   I verified that in all 4 tests the content passed to `ColumnReaderImpl::read_batch` is the same in master and after this PR, but for some reason the outcome of that call is different, which hints that there is some other invariant beyond the ones that we are telling the compiler about through the typing and lifetime system.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-12T08:04:39.279+0000",
                    "updated": "2020-12-12T08:04:39.279+0000",
                    "started": "2020-12-12T08:04:39.278+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "523382",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/523383",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nevi-me commented on pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#issuecomment-743721311\n\n\n   > @nevi-me , I would really appreciate your help here: there are major problems emerging in the parquet crate when I try to remove an unsafe struct.\r\n   \r\n   Hey Jorge, I've been out of town, got back this morning. I'm going to catch up on PRs this weekend. I'll have a look at this first.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-12T08:05:12.455+0000",
                    "updated": "2020-12-12T08:05:12.455+0000",
                    "started": "2020-12-12T08:05:12.455+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "523383",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/523480",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nevi-me commented on pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#issuecomment-743885020\n\n\n   Hi @jorgecarleitao, I also spent most of today looking into this :( \r\n   \r\n   The problem was a bit vs byte issue on `consume_record_data` and `consume_rep_levels`, so what was mostly needed was a fresh pair of eyes. I opened https://github.com/jorgecarleitao/arrow/pull/22. I didn't address the `rustfmt` lint, so you could see what I changed.\r\n   \r\n   > I verified that in all 4 tests the content passed to `ColumnReaderImpl::read_batch` is the same in master and after this PR, but for some reason the outcome of that call is different, which hints that there is some other invariant beyond the ones that we are telling the compiler about through the typing and lifetime system.\r\n   \r\n   This was hidden away by the way that we compare arrays. Because we only print the first 10 & last 10 values of arrays, the issue wasn't visible, but comparing `ArrayData` surfaced the issue with the failing tests. I had to change the test utilities that generate data to return sequential values instead of randomly generated that. Then I was able to see why `consume_record_data` was filling the first 12 and last 12 slots with data (then the part that we don't print was just 0s).\r\n   \r\n   I also changed the code slightly to rather initialise the buffers with `let new_buffer = MutableBuffer::new(0)` because we always perform an allocation on `new_buffer.resize(num_bytes)` as we never get the initial allocation right anyways.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-12T21:18:43.503+0000",
                    "updated": "2020-12-12T21:18:43.503+0000",
                    "started": "2020-12-12T21:18:43.502+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "523480",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/523481",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nevi-me commented on a change in pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#discussion_r541782467\n\n\n\n##########\nFile path: rust/parquet/src/arrow/record_reader.rs\n##########\n@@ -58,40 +55,6 @@ struct FatPtr<'a, T> {\n     ptr: &'a mut [T],\n\nReview comment:\n       We can also remove this\n\n##########\nFile path: rust/parquet/src/arrow/record_reader.rs\n##########\n@@ -424,13 +389,16 @@ impl<T: DataType> RecordReader<T> {\n     /// Split values into records according repetition definition and returns number of\n     /// records read.\n     fn split_records(&mut self, records_to_read: usize) -> Result<usize> {\n-        let rep_levels_buf = self\n+        let rep_levels = self\n             .rep_levels\n             .as_mut()\n-            .map(|buf| FatPtr::<i16>::with_offset(buf, 0));\n-        let rep_levels_buf = rep_levels_buf.as_ref().map(|x| x.to_slice());\n+            .map(|buf| {\n+                let (prefix, rep_levels, suffix) = unsafe { buf.data_mut().align_to_mut::<i16>() };\n\nReview comment:\n       It looks like this doesn't need to be mutable. Compiles fine if I change to the below (and changing the `as_mut` to `as_ref`\r\n   ```suggestion\r\n                   let (prefix, rep_levels, suffix) = unsafe { buf.data().align_to::<i16>() };\r\n   ```\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-12T21:24:57.050+0000",
                    "updated": "2020-12-12T21:24:57.050+0000",
                    "started": "2020-12-12T21:24:57.050+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "523481",
                    "issueId": "13344157"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/worklog/523490",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io edited a comment on pull request #8829:\nURL: https://github.com/apache/arrow/pull/8829#issuecomment-743716160\n\n\n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/8829?src=pr&el=h1) Report\n   > Merging [#8829](https://codecov.io/gh/apache/arrow/pull/8829?src=pr&el=desc) (e4a727f) into [master](https://codecov.io/gh/apache/arrow/commit/2816f37ff01cfd31101b3ee6cc8574cc9246dd1b?el=desc) (2816f37) will **decrease** coverage by `23.03%`.\n   > The diff coverage is `0.00%`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/8829/graphs/tree.svg?width=650&height=150&src=pr&token=LpTCFbqVT1)](https://codecov.io/gh/apache/arrow/pull/8829?src=pr&el=tree)\n   \n   ```diff\n   @@             Coverage Diff             @@\n   ##           master    #8829       +/-   ##\n   ===========================================\n   - Coverage   76.99%   53.96%   -23.04%     \n   ===========================================\n     Files         174      170        -4     \n     Lines       40392    30710     -9682     \n   ===========================================\n   - Hits        31099    16572    -14527     \n   - Misses       9293    14138     +4845     \n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/8829?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [rust/parquet/src/arrow/record\\_reader.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9hcnJvdy9yZWNvcmRfcmVhZGVyLnJz) | `0.00% <0.00%> (-94.54%)` | :arrow_down: |\n   | [rust/parquet/src/column/page.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9jb2x1bW4vcGFnZS5ycw==) | `0.00% <0.00%> (-98.69%)` | :arrow_down: |\n   | [rust/parquet/src/record/api.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9yZWNvcmQvYXBpLnJz) | `0.00% <0.00%> (-98.15%)` | :arrow_down: |\n   | [rust/parquet/src/arrow/arrow\\_writer.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9hcnJvdy9hcnJvd193cml0ZXIucnM=) | `0.00% <0.00%> (-97.34%)` | :arrow_down: |\n   | [rust/parquet/src/basic.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9iYXNpYy5ycw==) | `0.00% <0.00%> (-97.27%)` | :arrow_down: |\n   | [rust/parquet/src/file/properties.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9maWxlL3Byb3BlcnRpZXMucnM=) | `0.00% <0.00%> (-95.73%)` | :arrow_down: |\n   | [rust/parquet/src/file/serialized\\_reader.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9maWxlL3NlcmlhbGl6ZWRfcmVhZGVyLnJz) | `0.00% <0.00%> (-95.62%)` | :arrow_down: |\n   | [rust/parquet/src/file/writer.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9maWxlL3dyaXRlci5ycw==) | `0.00% <0.00%> (-95.11%)` | :arrow_down: |\n   | [rust/parquet/src/file/statistics.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9maWxlL3N0YXRpc3RpY3MucnM=) | `0.00% <0.00%> (-94.41%)` | :arrow_down: |\n   | [rust/parquet/src/column/writer.rs](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree#diff-cnVzdC9wYXJxdWV0L3NyYy9jb2x1bW4vd3JpdGVyLnJz) | `0.00% <0.00%> (-93.90%)` | :arrow_down: |\n   | ... and [60 more](https://codecov.io/gh/apache/arrow/pull/8829/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/8829?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/8829?src=pr&el=footer). Last update [2816f37...66cfc83](https://codecov.io/gh/apache/arrow/pull/8829?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-12-12T22:12:19.319+0000",
                    "updated": "2020-12-12T22:12:19.319+0000",
                    "started": "2020-12-12T22:12:19.319+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "523490",
                    "issueId": "13344157"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 15600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@2e34d168[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@55fe40eb[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@42b4be63[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@65ea47c6[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2c162533[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@7a0da4b2[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1d2d4a36[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@2aceea22[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@376c6df5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@2053679e[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5758f558[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@a9a8a6b[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 15600,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Dec 16 05:44:36 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-12-16T05:44:35.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-10804/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2020-12-04T06:18:08.000+0000",
        "updated": "2020-12-16T05:44:45.000+0000",
        "timeoriginalestimate": null,
        "description": "While trying to remove the unsafe `FatPtr`, I stumbled upon the borrow checker not allowing the code to compile, which suggests that the `FatPtr` is being used to bypass the borrow checked, which I do not think is intentional.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "4h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 15600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Rust] Remove UB on parquet crate",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13344157/comment/17250114",
                    "id": "17250114",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorgecarleitao",
                        "name": "jorgecarleitao",
                        "key": "jorgecarleitao",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=jorgecarleitao&avatarId=43827",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jorgecarleitao&avatarId=43827",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jorgecarleitao&avatarId=43827",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jorgecarleitao&avatarId=43827"
                        },
                        "displayName": "Jorge Leit\u00e3o",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Issue resolved by pull request 8829\n[https://github.com/apache/arrow/pull/8829]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorgecarleitao",
                        "name": "jorgecarleitao",
                        "key": "jorgecarleitao",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=jorgecarleitao&avatarId=43827",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=jorgecarleitao&avatarId=43827",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=jorgecarleitao&avatarId=43827",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=jorgecarleitao&avatarId=43827"
                        },
                        "displayName": "Jorge Leit\u00e3o",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2020-12-16T05:44:36.011+0000",
                    "updated": "2020-12-16T05:44:36.011+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0l70w:",
        "customfield_12314139": null
    }
}