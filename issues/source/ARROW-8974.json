{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13307899",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307899",
    "key": "ARROW-8974",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12347769",
                "id": "12347769",
                "description": "",
                "name": "1.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-07-24"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12589623",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12589623",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13307842",
                    "key": "ARROW-8970",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307842",
                    "fields": {
                        "summary": "[C++] Reduce shared library / binary code size (umbrella issue)",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=yibocai",
            "name": "yibocai",
            "key": "yibo",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=yibo&avatarId=47542",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yibo&avatarId=47542",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yibo&avatarId=47542",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yibo&avatarId=47542"
            },
            "displayName": "Yibo Cai",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=yibocai",
            "name": "yibocai",
            "key": "yibo",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=yibo&avatarId=47542",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yibo&avatarId=47542",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yibo&avatarId=47542",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yibo&avatarId=47542"
            },
            "displayName": "Yibo Cai",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=yibocai",
            "name": "yibocai",
            "key": "yibo",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=yibo&avatarId=47542",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yibo&avatarId=47542",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yibo&avatarId=47542",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yibo&avatarId=47542"
            },
            "displayName": "Yibo Cai",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 6600,
            "total": 6600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 6600,
            "total": 6600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-8974/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 11,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307899/worklog/442583",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "cyb70289 opened a new pull request #7373:\nURL: https://github.com/apache/arrow/pull/7373\n\n\n   This patch removes \"restore_trailing_bits\" template parameter of\r\n   TransferBitmap class. Trailing bits are now always not clobbered,\r\n   which is no harm. It also refines trailing bits processing to keep\r\n   the performance influence trivial. Besides, this patch replaces\r\n   \"invert_bits\" boolean parameter with enum to allow explicit naming.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-08T07:10:36.361+0000",
                    "updated": "2020-06-08T07:10:36.361+0000",
                    "started": "2020-06-08T07:10:36.361+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "442583",
                    "issueId": "13307899"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307899/worklog/442584",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #7373:\nURL: https://github.com/apache/arrow/pull/7373#issuecomment-640415175\n\n\n   https://issues.apache.org/jira/browse/ARROW-8974\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-08T07:17:04.600+0000",
                    "updated": "2020-06-08T07:17:04.600+0000",
                    "started": "2020-06-08T07:17:04.600+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "442584",
                    "issueId": "13307899"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307899/worklog/442731",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "cyb70289 commented on a change in pull request #7373:\nURL: https://github.com/apache/arrow/pull/7373#discussion_r437098352\n\n\n\n##########\nFile path: cpp/src/arrow/util/bitmap_ops.cc\n##########\n@@ -298,52 +297,52 @@ void TransferBitmap(const uint8_t* data, int64_t offset, int64_t length,\n     auto nwords = reader.words();\n     while (nwords--) {\n       auto word = reader.NextWord();\n-      writer.PutNextWord(invert_bits ? ~word : word);\n+      writer.PutNextWord(mode == TransferMode::Invert ? ~word : word);\n     }\n     auto nbytes = reader.trailing_bytes();\n     while (nbytes--) {\n       int valid_bits;\n       auto byte = reader.NextTrailingByte(valid_bits);\n-      writer.PutNextTrailingByte(invert_bits ? ~byte : byte, valid_bits);\n+      writer.PutNextTrailingByte(mode == TransferMode::Invert ? ~byte : byte, valid_bits);\n     }\n-  } else {\n-    // Shift dest by its byte offset\n-    dest += dest_byte_offset;\n+  } else if (length) {\n+    int64_t num_bytes = BitUtil::BytesForBits(length);\n+\n+    // Shift by its byte offset\n+    data += offset / 8;\n+    dest += dest_offset / 8;\n \n     // Take care of the trailing bits in the last byte\n+    // E.g., if trailing_bits = 5, last byte should be\n+    // - low  3 bits: new bits from last byte of data buffer\n+    // - high 5 bits: old bits from last byte of dest buffer\n     int64_t trailing_bits = num_bytes * 8 - length;\n-    uint8_t trail = 0;\n-    if (trailing_bits && restore_trailing_bits) {\n-      trail = dest[num_bytes - 1];\n-    }\n+    uint8_t trail_mask = (1U << (8 - trailing_bits)) - 1;\n\nReview comment:\n       done\n\n##########\nFile path: cpp/src/arrow/util/bitmap_ops.cc\n##########\n@@ -298,52 +297,52 @@ void TransferBitmap(const uint8_t* data, int64_t offset, int64_t length,\n     auto nwords = reader.words();\n     while (nwords--) {\n       auto word = reader.NextWord();\n-      writer.PutNextWord(invert_bits ? ~word : word);\n+      writer.PutNextWord(mode == TransferMode::Invert ? ~word : word);\n     }\n     auto nbytes = reader.trailing_bytes();\n     while (nbytes--) {\n       int valid_bits;\n       auto byte = reader.NextTrailingByte(valid_bits);\n-      writer.PutNextTrailingByte(invert_bits ? ~byte : byte, valid_bits);\n+      writer.PutNextTrailingByte(mode == TransferMode::Invert ? ~byte : byte, valid_bits);\n     }\n-  } else {\n-    // Shift dest by its byte offset\n-    dest += dest_byte_offset;\n+  } else if (length) {\n+    int64_t num_bytes = BitUtil::BytesForBits(length);\n+\n+    // Shift by its byte offset\n+    data += offset / 8;\n+    dest += dest_offset / 8;\n \n     // Take care of the trailing bits in the last byte\n+    // E.g., if trailing_bits = 5, last byte should be\n+    // - low  3 bits: new bits from last byte of data buffer\n+    // - high 5 bits: old bits from last byte of dest buffer\n     int64_t trailing_bits = num_bytes * 8 - length;\n-    uint8_t trail = 0;\n-    if (trailing_bits && restore_trailing_bits) {\n-      trail = dest[num_bytes - 1];\n-    }\n+    uint8_t kTrailingBitmask = (1U << (8 - trailing_bits)) - 1;\n\nReview comment:\n       Ah, it's a lookup table, cool. Will change.\n\n##########\nFile path: cpp/src/arrow/util/bitmap_ops.cc\n##########\n@@ -298,52 +297,52 @@ void TransferBitmap(const uint8_t* data, int64_t offset, int64_t length,\n     auto nwords = reader.words();\n     while (nwords--) {\n       auto word = reader.NextWord();\n-      writer.PutNextWord(invert_bits ? ~word : word);\n+      writer.PutNextWord(mode == TransferMode::Invert ? ~word : word);\n     }\n     auto nbytes = reader.trailing_bytes();\n     while (nbytes--) {\n       int valid_bits;\n       auto byte = reader.NextTrailingByte(valid_bits);\n-      writer.PutNextTrailingByte(invert_bits ? ~byte : byte, valid_bits);\n+      writer.PutNextTrailingByte(mode == TransferMode::Invert ? ~byte : byte, valid_bits);\n     }\n-  } else {\n-    // Shift dest by its byte offset\n-    dest += dest_byte_offset;\n+  } else if (length) {\n+    int64_t num_bytes = BitUtil::BytesForBits(length);\n+\n+    // Shift by its byte offset\n+    data += offset / 8;\n+    dest += dest_offset / 8;\n \n     // Take care of the trailing bits in the last byte\n+    // E.g., if trailing_bits = 5, last byte should be\n+    // - low  3 bits: new bits from last byte of data buffer\n+    // - high 5 bits: old bits from last byte of dest buffer\n     int64_t trailing_bits = num_bytes * 8 - length;\n-    uint8_t trail = 0;\n-    if (trailing_bits && restore_trailing_bits) {\n-      trail = dest[num_bytes - 1];\n-    }\n+    uint8_t kTrailingBitmask = (1U << (8 - trailing_bits)) - 1;\n\nReview comment:\n       We need a table {255, 127, 63, 31, 15, 7, 3, 1}, looks there's no such lookup table available.\r\n   Shall I add a new table or keep the code as is (revert the naming)?\r\n   https://github.com/apache/arrow/blob/master/cpp/src/arrow/util/bit_util.h#L420\n\n##########\nFile path: cpp/src/arrow/util/bitmap_ops.cc\n##########\n@@ -298,52 +297,52 @@ void TransferBitmap(const uint8_t* data, int64_t offset, int64_t length,\n     auto nwords = reader.words();\n     while (nwords--) {\n       auto word = reader.NextWord();\n-      writer.PutNextWord(invert_bits ? ~word : word);\n+      writer.PutNextWord(mode == TransferMode::Invert ? ~word : word);\n     }\n     auto nbytes = reader.trailing_bytes();\n     while (nbytes--) {\n       int valid_bits;\n       auto byte = reader.NextTrailingByte(valid_bits);\n-      writer.PutNextTrailingByte(invert_bits ? ~byte : byte, valid_bits);\n+      writer.PutNextTrailingByte(mode == TransferMode::Invert ? ~byte : byte, valid_bits);\n     }\n-  } else {\n-    // Shift dest by its byte offset\n-    dest += dest_byte_offset;\n+  } else if (length) {\n+    int64_t num_bytes = BitUtil::BytesForBits(length);\n+\n+    // Shift by its byte offset\n+    data += offset / 8;\n+    dest += dest_offset / 8;\n \n     // Take care of the trailing bits in the last byte\n+    // E.g., if trailing_bits = 5, last byte should be\n+    // - low  3 bits: new bits from last byte of data buffer\n+    // - high 5 bits: old bits from last byte of dest buffer\n     int64_t trailing_bits = num_bytes * 8 - length;\n-    uint8_t trail = 0;\n-    if (trailing_bits && restore_trailing_bits) {\n-      trail = dest[num_bytes - 1];\n-    }\n+    uint8_t kTrailingBitmask = (1U << (8 - trailing_bits)) - 1;\n\nReview comment:\n       We need a table {255, 127, 63, 31, 15, 7, 3, 1}, looks there's no such lookup table available.\r\n   Shall I add a new table or keep the code as is (revert the renaming)?\r\n   https://github.com/apache/arrow/blob/master/cpp/src/arrow/util/bit_util.h#L420\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-09T15:52:35.334+0000",
                    "updated": "2020-06-09T15:52:35.334+0000",
                    "started": "2020-06-09T15:52:35.334+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "442731",
                    "issueId": "13307899"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307899/worklog/443148",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "cyb70289 commented on pull request #7373:\nURL: https://github.com/apache/arrow/pull/7373#issuecomment-640996230\n\n\n   RTools CI failure looks not related\r\n   https://github.com/apache/arrow/pull/7373/checks?check_run_id=752286352#step:7:1077\r\n   `error: failed retrieving file 'mingw-w64-i686-thrift-0.13.0-8000-any.pkg.tar.xz' from dl.bintray.com : Operation too slow. Less than 1 bytes/sec transferred the last 10 seconds`\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-09T16:35:49.785+0000",
                    "updated": "2020-06-09T16:35:49.785+0000",
                    "started": "2020-06-09T16:35:49.785+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "443148",
                    "issueId": "13307899"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307899/worklog/443154",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #7373:\nURL: https://github.com/apache/arrow/pull/7373#discussion_r436733347\n\n\n\n##########\nFile path: cpp/src/arrow/util/bitmap_ops.cc\n##########\n@@ -298,52 +297,52 @@ void TransferBitmap(const uint8_t* data, int64_t offset, int64_t length,\n     auto nwords = reader.words();\n     while (nwords--) {\n       auto word = reader.NextWord();\n-      writer.PutNextWord(invert_bits ? ~word : word);\n+      writer.PutNextWord(mode == TransferMode::Invert ? ~word : word);\n     }\n     auto nbytes = reader.trailing_bytes();\n     while (nbytes--) {\n       int valid_bits;\n       auto byte = reader.NextTrailingByte(valid_bits);\n-      writer.PutNextTrailingByte(invert_bits ? ~byte : byte, valid_bits);\n+      writer.PutNextTrailingByte(mode == TransferMode::Invert ? ~byte : byte, valid_bits);\n     }\n-  } else {\n-    // Shift dest by its byte offset\n-    dest += dest_byte_offset;\n+  } else if (length) {\n+    int64_t num_bytes = BitUtil::BytesForBits(length);\n+\n+    // Shift by its byte offset\n+    data += offset / 8;\n+    dest += dest_offset / 8;\n \n     // Take care of the trailing bits in the last byte\n+    // E.g., if trailing_bits = 5, last byte should be\n+    // - low  3 bits: new bits from last byte of data buffer\n+    // - high 5 bits: old bits from last byte of dest buffer\n     int64_t trailing_bits = num_bytes * 8 - length;\n-    uint8_t trail = 0;\n-    if (trailing_bits && restore_trailing_bits) {\n-      trail = dest[num_bytes - 1];\n-    }\n+    uint8_t trail_mask = (1U << (8 - trailing_bits)) - 1;\n\nReview comment:\n       Can probably use `kTrailingBitmask` or `kPrecedingWrappingBitmask`.\n\n##########\nFile path: cpp/src/arrow/util/bitmap_ops.cc\n##########\n@@ -298,52 +297,52 @@ void TransferBitmap(const uint8_t* data, int64_t offset, int64_t length,\n     auto nwords = reader.words();\n     while (nwords--) {\n       auto word = reader.NextWord();\n-      writer.PutNextWord(invert_bits ? ~word : word);\n+      writer.PutNextWord(mode == TransferMode::Invert ? ~word : word);\n     }\n     auto nbytes = reader.trailing_bytes();\n     while (nbytes--) {\n       int valid_bits;\n       auto byte = reader.NextTrailingByte(valid_bits);\n-      writer.PutNextTrailingByte(invert_bits ? ~byte : byte, valid_bits);\n+      writer.PutNextTrailingByte(mode == TransferMode::Invert ? ~byte : byte, valid_bits);\n     }\n-  } else {\n-    // Shift dest by its byte offset\n-    dest += dest_byte_offset;\n+  } else if (length) {\n+    int64_t num_bytes = BitUtil::BytesForBits(length);\n+\n+    // Shift by its byte offset\n+    data += offset / 8;\n+    dest += dest_offset / 8;\n \n     // Take care of the trailing bits in the last byte\n+    // E.g., if trailing_bits = 5, last byte should be\n+    // - low  3 bits: new bits from last byte of data buffer\n+    // - high 5 bits: old bits from last byte of dest buffer\n     int64_t trailing_bits = num_bytes * 8 - length;\n-    uint8_t trail = 0;\n-    if (trailing_bits && restore_trailing_bits) {\n-      trail = dest[num_bytes - 1];\n-    }\n+    uint8_t kTrailingBitmask = (1U << (8 - trailing_bits)) - 1;\n\nReview comment:\n       I meant use the `kTrailingBitmask` constant array that's exposed in `bit_util.h` :-)\n\n##########\nFile path: cpp/src/arrow/util/bitmap_ops.cc\n##########\n@@ -298,52 +297,52 @@ void TransferBitmap(const uint8_t* data, int64_t offset, int64_t length,\n     auto nwords = reader.words();\n     while (nwords--) {\n       auto word = reader.NextWord();\n-      writer.PutNextWord(invert_bits ? ~word : word);\n+      writer.PutNextWord(mode == TransferMode::Invert ? ~word : word);\n     }\n     auto nbytes = reader.trailing_bytes();\n     while (nbytes--) {\n       int valid_bits;\n       auto byte = reader.NextTrailingByte(valid_bits);\n-      writer.PutNextTrailingByte(invert_bits ? ~byte : byte, valid_bits);\n+      writer.PutNextTrailingByte(mode == TransferMode::Invert ? ~byte : byte, valid_bits);\n     }\n-  } else {\n-    // Shift dest by its byte offset\n-    dest += dest_byte_offset;\n+  } else if (length) {\n+    int64_t num_bytes = BitUtil::BytesForBits(length);\n+\n+    // Shift by its byte offset\n+    data += offset / 8;\n+    dest += dest_offset / 8;\n \n     // Take care of the trailing bits in the last byte\n+    // E.g., if trailing_bits = 5, last byte should be\n+    // - low  3 bits: new bits from last byte of data buffer\n+    // - high 5 bits: old bits from last byte of dest buffer\n     int64_t trailing_bits = num_bytes * 8 - length;\n-    uint8_t trail = 0;\n-    if (trailing_bits && restore_trailing_bits) {\n-      trail = dest[num_bytes - 1];\n-    }\n+    uint8_t kTrailingBitmask = (1U << (8 - trailing_bits)) - 1;\n\nReview comment:\n       Hmm, let's simply revert the renaming then :-)\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-09T16:36:24.457+0000",
                    "updated": "2020-06-09T16:36:24.457+0000",
                    "started": "2020-06-09T16:36:24.457+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "443154",
                    "issueId": "13307899"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307899/worklog/443516",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "cyb70289 commented on a change in pull request #7373:\nURL: https://github.com/apache/arrow/pull/7373#discussion_r437805418\n\n\n\n##########\nFile path: cpp/src/arrow/util/bitmap_ops.cc\n##########\n@@ -298,52 +297,52 @@ void TransferBitmap(const uint8_t* data, int64_t offset, int64_t length,\n     auto nwords = reader.words();\n     while (nwords--) {\n       auto word = reader.NextWord();\n-      writer.PutNextWord(invert_bits ? ~word : word);\n+      writer.PutNextWord(mode == TransferMode::Invert ? ~word : word);\n     }\n     auto nbytes = reader.trailing_bytes();\n     while (nbytes--) {\n       int valid_bits;\n       auto byte = reader.NextTrailingByte(valid_bits);\n-      writer.PutNextTrailingByte(invert_bits ? ~byte : byte, valid_bits);\n+      writer.PutNextTrailingByte(mode == TransferMode::Invert ? ~byte : byte, valid_bits);\n     }\n-  } else {\n-    // Shift dest by its byte offset\n-    dest += dest_byte_offset;\n+  } else if (length) {\n+    int64_t num_bytes = BitUtil::BytesForBits(length);\n+\n+    // Shift by its byte offset\n+    data += offset / 8;\n+    dest += dest_offset / 8;\n \n     // Take care of the trailing bits in the last byte\n+    // E.g., if trailing_bits = 5, last byte should be\n+    // - low  3 bits: new bits from last byte of data buffer\n+    // - high 5 bits: old bits from last byte of dest buffer\n     int64_t trailing_bits = num_bytes * 8 - length;\n-    uint8_t trail = 0;\n-    if (trailing_bits && restore_trailing_bits) {\n-      trail = dest[num_bytes - 1];\n-    }\n+    uint8_t kTrailingBitmask = (1U << (8 - trailing_bits)) - 1;\n\nReview comment:\n       done\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-10T01:12:11.755+0000",
                    "updated": "2020-06-10T01:12:11.755+0000",
                    "started": "2020-06-10T01:12:11.755+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "443516",
                    "issueId": "13307899"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307899/worklog/443531",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "cyb70289 commented on pull request #7373:\nURL: https://github.com/apache/arrow/pull/7373#issuecomment-641675671\n\n\n   s390 ci failure is not related, it says \"no space left on device\".\r\n   appveyor ci failed with many zlib and lz4 runtime errors.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-10T02:06:22.688+0000",
                    "updated": "2020-06-10T02:06:22.688+0000",
                    "started": "2020-06-10T02:06:22.688+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "443531",
                    "issueId": "13307899"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307899/worklog/443536",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #7373:\nURL: https://github.com/apache/arrow/pull/7373#issuecomment-641684149\n\n\n   the Appveyor failures are ARROW-9085\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-10T02:36:56.134+0000",
                    "updated": "2020-06-10T02:36:56.134+0000",
                    "started": "2020-06-10T02:36:56.134+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "443536",
                    "issueId": "13307899"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307899/worklog/443628",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #7373:\nURL: https://github.com/apache/arrow/pull/7373#issuecomment-641869288\n\n\n   Rebased to (hopefully) fix AppVeyor.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-10T09:18:12.366+0000",
                    "updated": "2020-06-10T09:18:12.366+0000",
                    "started": "2020-06-10T09:18:12.366+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "443628",
                    "issueId": "13307899"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307899/worklog/443656",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou closed pull request #7373:\nURL: https://github.com/apache/arrow/pull/7373\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-10T11:01:01.047+0000",
                    "updated": "2020-06-10T11:01:01.047+0000",
                    "started": "2020-06-10T11:01:01.046+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "443656",
                    "issueId": "13307899"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307899/worklog/443657",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #7373:\nURL: https://github.com/apache/arrow/pull/7373#issuecomment-641927363\n\n\n   Thank you @cyb70289 !\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-10T11:01:14.117+0000",
                    "updated": "2020-06-10T11:01:14.117+0000",
                    "started": "2020-06-10T11:01:14.117+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "443657",
                    "issueId": "13307899"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 6600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@77352e6a[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6e7943[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1174edcb[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@62232ac7[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3bda7fd6[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@12fe2953[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@24529472[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@5fdcf72d[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@371007cf[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@54c704cf[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6486fb21[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@5cdb1d03[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 6600,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Jun 10 11:00:52 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-06-10T11:00:52.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-8974/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2020-05-28T03:03:43.000+0000",
        "updated": "2020-06-10T11:01:15.000+0000",
        "timeoriginalestimate": null,
        "description": "[TransferBitmap|https://github.com/apache/arrow/blob/44e723d9ac7c64739d419ad66618d2d56003d1b7/cpp/src/arrow/util/bit_util.cc#L110] has two template parameters of bool type with four combinations.\r\nChange them to function parameters can reduce code size. I think \"restore_trailing_bits\" cannot impact performance. \"invert_bits\" needs benchmark.\r\nAlso, bool parameter is hard to figure out at [caller side|https://github.com/apache/arrow/blob/44e723d9ac7c64739d419ad66618d2d56003d1b7/cpp/src/arrow/util/bit_util.cc#L208], better to use meaningful defines.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 6600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Refine TransferBitmap template parameters",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307899/comment/17118329",
                    "id": "17118329",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=yibocai",
                        "name": "yibocai",
                        "key": "yibo",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=yibo&avatarId=47542",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yibo&avatarId=47542",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yibo&avatarId=47542",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yibo&avatarId=47542"
                        },
                        "displayName": "Yibo Cai",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "See about 2% performance drop if replace template parameter \"invert_bits\" with function parameter. No performance difference for \"restore_trailing_bits\".",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=yibocai",
                        "name": "yibocai",
                        "key": "yibo",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=yibo&avatarId=47542",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=yibo&avatarId=47542",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=yibo&avatarId=47542",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=yibo&avatarId=47542"
                        },
                        "displayName": "Yibo Cai",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2020-05-28T05:42:36.220+0000",
                    "updated": "2020-05-28T05:42:36.220+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13307899/comment/17130512",
                    "id": "17130512",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 7373\n[https://github.com/apache/arrow/pull/7373]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2020-06-10T11:00:52.551+0000",
                    "updated": "2020-06-10T11:00:52.551+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z0f8tk:",
        "customfield_12314139": null
    }
}