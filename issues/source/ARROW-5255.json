{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13231540",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540",
    "key": "ARROW-5255",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12344925",
                "id": "12344925",
                "description": "",
                "name": "0.14.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-07-04"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12560176",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12560176",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "outwardIssue": {
                    "id": "13046512",
                    "key": "ARROW-585",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13046512",
                    "fields": {
                        "summary": "[C++] Define public API for user-defined data types",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
                            "id": "2",
                            "description": "A new feature of the product, which has yet to be developed.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
                            "name": "New Feature",
                            "subtask": false,
                            "avatarId": 21141
                        }
                    }
                }
            },
            {
                "id": "12560853",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12560853",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13233612",
                    "key": "ARROW-5342",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233612",
                    "fields": {
                        "summary": "[Format] Formalize extension type metadata in IPC protocol",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
                            "id": "2",
                            "description": "A new feature of the product, which has yet to be developed.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
                            "name": "New Feature",
                            "subtask": false,
                            "avatarId": 21141
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 16800,
            "total": 16800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 16800,
            "total": 16800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5255/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 28,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/237068",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lihalite commented on pull request #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251\n \n \n   Not quite sure that `ExtensionType` and `ExtensionTypeVector` are correct. \r\n   \r\n   Also, needs a more sophisticated example/more complete unit tests.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-03T21:38:57.014+0000",
                    "updated": "2019-05-03T21:38:57.014+0000",
                    "started": "2019-05-03T21:38:57.013+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "237068",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/237086",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#issuecomment-489258783\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=h1) Report\n   > Merging [#4251](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/25dc4c9587b5823e6346eb0c2f8c452558181126?src=pr&el=desc) will **increase** coverage by `1.17%`.\n   > The diff coverage is `n/a`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/4251/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #4251      +/-   ##\n   ==========================================\n   + Coverage   88.27%   89.45%   +1.17%     \n   ==========================================\n     Files         763      622     -141     \n     Lines       93639    83191   -10448     \n     Branches     1251        0    -1251     \n   ==========================================\n   - Hits        82660    74416    -8244     \n   + Misses      10866     8775    -2091     \n   + Partials      113        0     -113\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [go/arrow/math/uint64\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC91aW50NjRfYW1kNjQuZ28=) | | |\n   | [go/arrow/memory/memory\\_avx2\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWVtb3J5L21lbW9yeV9hdngyX2FtZDY0Lmdv) | | |\n   | [go/arrow/ipc/file\\_reader.go](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-Z28vYXJyb3cvaXBjL2ZpbGVfcmVhZGVyLmdv) | | |\n   | [js/src/enum.ts](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-anMvc3JjL2VudW0udHM=) | | |\n   | [go/arrow/array/builder.go](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-Z28vYXJyb3cvYXJyYXkvYnVpbGRlci5nbw==) | | |\n   | [js/src/Arrow.node.ts](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-anMvc3JjL0Fycm93Lm5vZGUudHM=) | | |\n   | [js/src/schema.ts](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-anMvc3JjL3NjaGVtYS50cw==) | | |\n   | [go/arrow/type\\_traits\\_boolean.go](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-Z28vYXJyb3cvdHlwZV90cmFpdHNfYm9vbGVhbi5nbw==) | | |\n   | [js/src/ipc/node/writer.ts](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-anMvc3JjL2lwYy9ub2RlL3dyaXRlci50cw==) | | |\n   | [js/src/visitor/vectorloader.ts](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-anMvc3JjL3Zpc2l0b3IvdmVjdG9ybG9hZGVyLnRz) | | |\n   | ... and [131 more](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=footer). Last update [25dc4c9...2a37e4a](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-03T22:24:32.920+0000",
                    "updated": "2019-05-03T22:24:32.920+0000",
                    "started": "2019-05-03T22:24:32.919+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "237086",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/245094",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#issuecomment-489258783\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=h1) Report\n   > Merging [#4251](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/445482e04d7e0a5dc5e43b048d6cbaeecc81f0c8?src=pr&el=desc) will **increase** coverage by `0.96%`.\n   > The diff coverage is `n/a`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/4251/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #4251      +/-   ##\n   ==========================================\n   + Coverage   88.19%   89.16%   +0.96%     \n   ==========================================\n     Files         779      634     -145     \n     Lines       97927    86525   -11402     \n     Branches     1251        0    -1251     \n   ==========================================\n   - Hits        86370    77146    -9224     \n   + Misses      11321     9379    -1942     \n   + Partials      236        0     -236\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [cpp/src/plasma/thirdparty/ae/ae.c](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvdGhpcmRwYXJ0eS9hZS9hZS5j) | `70.75% <0%> (-0.95%)` | :arrow_down: |\n   | [go/arrow/ipc/writer.go](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-Z28vYXJyb3cvaXBjL3dyaXRlci5nbw==) | | |\n   | [go/arrow/math/uint64\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC91aW50NjRfYW1kNjQuZ28=) | | |\n   | [go/arrow/memory/memory\\_avx2\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWVtb3J5L21lbW9yeV9hdngyX2FtZDY0Lmdv) | | |\n   | [go/arrow/ipc/file\\_reader.go](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-Z28vYXJyb3cvaXBjL2ZpbGVfcmVhZGVyLmdv) | | |\n   | [js/src/enum.ts](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-anMvc3JjL2VudW0udHM=) | | |\n   | [go/arrow/array/builder.go](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-Z28vYXJyb3cvYXJyYXkvYnVpbGRlci5nbw==) | | |\n   | [js/src/Arrow.node.ts](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-anMvc3JjL0Fycm93Lm5vZGUudHM=) | | |\n   | [js/src/schema.ts](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-anMvc3JjL3NjaGVtYS50cw==) | | |\n   | [go/arrow/type\\_traits\\_boolean.go](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree#diff-Z28vYXJyb3cvdHlwZV90cmFpdHNfYm9vbGVhbi5nbw==) | | |\n   | ... and [136 more](https://codecov.io/gh/apache/arrow/pull/4251/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=footer). Last update [445482e...4ab81fb](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-20T13:25:58.005+0000",
                    "updated": "2019-05-20T13:25:58.005+0000",
                    "started": "2019-05-20T13:25:58.004+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "245094",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/258026",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#issuecomment-500974413\n \n \n   @lihalite do you think this is good enough for a first go round in Java? @emkornfield or @jacques-n can you help review in advance of the extension types vote closing?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T18:48:53.184+0000",
                    "updated": "2019-06-11T18:48:53.184+0000",
                    "started": "2019-06-11T18:48:53.184+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258026",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/258027",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lihalite commented on issue #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#issuecomment-500975121\n \n \n   This is not up-to-date with the proposal, but the general approach should be ready for review.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T18:50:50.191+0000",
                    "updated": "2019-06-11T18:50:50.191+0000",
                    "started": "2019-06-11T18:50:50.190+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258027",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/258379",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#discussion_r292753448\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/types/Types.java\n ##########\n @@ -690,7 +691,23 @@ public FieldVector getNewVector(\n       public FieldWriter getNewFieldWriter(ValueVector vector) {\n         return new TimeStampNanoTZWriterImpl((TimeStampNanoTZVector) vector);\n       }\n-    };\n+    },\n+    EXTENSIONTYPE(null) {\n+      @Override\n+      public FieldVector getNewVector(\n+          String name,\n+          FieldType fieldType,\n+          BufferAllocator allocator,\n+          CallBack schemaChangeCallback) {\n+        return ((ExtensionType) fieldType.getType()).getNewVector(name, fieldType, allocator);\n+      }\n+\n+      @Override\n+      public FieldWriter getNewFieldWriter(ValueVector vector) {\n+        throw new UnsupportedOperationException();\n \n Review comment:\n   this can't be delegated?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-12T05:49:50.975+0000",
                    "updated": "2019-06-12T05:49:50.975+0000",
                    "started": "2019-06-12T05:49:50.974+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258379",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/258380",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#discussion_r292753969\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/types/pojo/Field.java\n ##########\n @@ -111,9 +112,26 @@ public FieldVector createVector(BufferAllocator allocator) {\n    * Constructs a new instance from a flatbuffer representation of the field.\n    */\n   public static Field convertField(org.apache.arrow.flatbuf.Field field) {\n+    Map<String, String> metadata = new HashMap<>();\n+    for (int i = 0; i < field.customMetadataLength(); i++) {\n+      KeyValue kv = field.customMetadata(i);\n+      String key = kv.key();\n+      String value = kv.value();\n+      metadata.put(key == null ? \"\" : key, value == null ? \"\" : value);\n \n Review comment:\n   I think we might shade guava in which case you could use: https://google.github.io/guava/releases/23.0/api/docs/com/google/common/base/Strings.html#nullToEmpty-java.lang.String-\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-12T05:49:51.016+0000",
                    "updated": "2019-06-12T05:49:51.016+0000",
                    "started": "2019-06-12T05:49:51.015+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258380",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/258381",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#discussion_r292753157\n \n \n\n ##########\n File path: java/vector/src/main/codegen/templates/ArrowType.java\n ##########\n @@ -246,6 +251,61 @@ public boolean equals(Object obj) {\n   }\n   </#list>\n \n+  /**\n+   * A user-defined data type that wraps an underlying storage type.\n+   */\n+  public abstract static class ExtensionType extends ComplexType {\n+    /** The on-wire type for this user-defined type. */\n+    public abstract ArrowType storageType();\n+    /** The name of this user-defined type. Used to identify the type during serialization. */\n+    public abstract String extensionName();\n+    /** Check equality of this type to another user-defined type. */\n+    public abstract boolean extensionEquals(ExtensionType other);\n+    /** Save any metadata for this type. */\n+    public abstract String serialize();\n+    /** Given saved metadata and the underlying storage type, construct a new instance of the user type. */\n+    public abstract ArrowType deserialize(ArrowType storageType, String serializedData);\n+    /** Construct a vector for the user type. */\n+    public abstract FieldVector getNewVector(String name, FieldType fieldType, BufferAllocator allocator);\n+\n+    /** The field metadata key storing the name of the extension type. */\n+    public static final String METADATA_KEY_NAME = \"arrow_extension_name\";\n \n Review comment:\n   i think this is what you mentioned was out of date?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-12T05:49:53.523+0000",
                    "updated": "2019-06-12T05:49:53.523+0000",
                    "started": "2019-06-12T05:49:53.523+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258381",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/258382",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#discussion_r292753059\n \n \n\n ##########\n File path: java/vector/src/main/codegen/templates/ArrowType.java\n ##########\n @@ -246,6 +251,61 @@ public boolean equals(Object obj) {\n   }\n   </#list>\n \n+  /**\n+   * A user-defined data type that wraps an underlying storage type.\n+   */\n+  public abstract static class ExtensionType extends ComplexType {\n+    /** The on-wire type for this user-defined type. */\n+    public abstract ArrowType storageType();\n+    /** The name of this user-defined type. Used to identify the type during serialization. */\n+    public abstract String extensionName();\n+    /** Check equality of this type to another user-defined type. */\n+    public abstract boolean extensionEquals(ExtensionType other);\n+    /** Save any metadata for this type. */\n+    public abstract String serialize();\n \n Review comment:\n   it seems like it should be bytes, but I'm not sure what is exposed in the flatbuffer interface.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-12T05:49:55.278+0000",
                    "updated": "2019-06-12T05:49:55.278+0000",
                    "started": "2019-06-12T05:49:55.277+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258382",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/258383",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#discussion_r292753553\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/types/pojo/ExtensionTypeRegistry.java\n ##########\n @@ -0,0 +1,38 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.arrow.vector.types.pojo;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import org.apache.arrow.vector.types.pojo.ArrowType.ExtensionType;\n+\n+/**\n+ * A registry of recognized extension types.\n+ */\n+public final class ExtensionTypeRegistry {\n+  private static final Map<String, ExtensionType> registry = new HashMap<>();\n \n Review comment:\n   you might want to ensure thread-safety here.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-12T05:49:55.411+0000",
                    "updated": "2019-06-12T05:49:55.411+0000",
                    "started": "2019-06-12T05:49:55.410+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258383",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/258651",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lihalite commented on pull request #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#discussion_r292870854\n \n \n\n ##########\n File path: java/vector/src/main/codegen/templates/ArrowType.java\n ##########\n @@ -246,6 +251,61 @@ public boolean equals(Object obj) {\n   }\n   </#list>\n \n+  /**\n+   * A user-defined data type that wraps an underlying storage type.\n+   */\n+  public abstract static class ExtensionType extends ComplexType {\n+    /** The on-wire type for this user-defined type. */\n+    public abstract ArrowType storageType();\n+    /** The name of this user-defined type. Used to identify the type during serialization. */\n+    public abstract String extensionName();\n+    /** Check equality of this type to another user-defined type. */\n+    public abstract boolean extensionEquals(ExtensionType other);\n+    /** Save any metadata for this type. */\n+    public abstract String serialize();\n+    /** Given saved metadata and the underlying storage type, construct a new instance of the user type. */\n+    public abstract ArrowType deserialize(ArrowType storageType, String serializedData);\n+    /** Construct a vector for the user type. */\n+    public abstract FieldVector getNewVector(String name, FieldType fieldType, BufferAllocator allocator);\n+\n+    /** The field metadata key storing the name of the extension type. */\n+    public static final String METADATA_KEY_NAME = \"arrow_extension_name\";\n \n Review comment:\n   Yes, the constants need updating...\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-12T11:49:17.484+0000",
                    "updated": "2019-06-12T11:49:17.484+0000",
                    "started": "2019-06-12T11:49:17.483+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258651",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/258688",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lihalite commented on pull request #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#discussion_r292895072\n \n \n\n ##########\n File path: java/vector/src/main/codegen/templates/ArrowType.java\n ##########\n @@ -246,6 +251,61 @@ public boolean equals(Object obj) {\n   }\n   </#list>\n \n+  /**\n+   * A user-defined data type that wraps an underlying storage type.\n+   */\n+  public abstract static class ExtensionType extends ComplexType {\n+    /** The on-wire type for this user-defined type. */\n+    public abstract ArrowType storageType();\n+    /** The name of this user-defined type. Used to identify the type during serialization. */\n+    public abstract String extensionName();\n+    /** Check equality of this type to another user-defined type. */\n+    public abstract boolean extensionEquals(ExtensionType other);\n+    /** Save any metadata for this type. */\n+    public abstract String serialize();\n \n Review comment:\n   The metadata is a string-string map, so String is expected here (even though it does feel weird).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-12T12:50:50.148+0000",
                    "updated": "2019-06-12T12:50:50.148+0000",
                    "started": "2019-06-12T12:50:50.147+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258688",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/258695",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lihalite commented on issue #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#issuecomment-501262524\n \n \n   Rebased & addressed feedback.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-12T13:01:44.067+0000",
                    "updated": "2019-06-12T13:01:44.067+0000",
                    "started": "2019-06-12T13:01:44.067+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258695",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/258696",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lihalite commented on issue #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#issuecomment-501262524\n \n \n   Rebased & addressed feedback; updated the metadata field names to match the latest proposal.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-12T13:02:03.763+0000",
                    "updated": "2019-06-12T13:02:03.763+0000",
                    "started": "2019-06-12T13:02:03.762+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258696",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/258697",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lihalite commented on pull request #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#discussion_r292900448\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/types/pojo/Field.java\n ##########\n @@ -111,9 +112,26 @@ public FieldVector createVector(BufferAllocator allocator) {\n    * Constructs a new instance from a flatbuffer representation of the field.\n    */\n   public static Field convertField(org.apache.arrow.flatbuf.Field field) {\n+    Map<String, String> metadata = new HashMap<>();\n+    for (int i = 0; i < field.customMetadataLength(); i++) {\n+      KeyValue kv = field.customMetadata(i);\n+      String key = kv.key();\n+      String value = kv.value();\n+      metadata.put(key == null ? \"\" : key, value == null ? \"\" : value);\n \n Review comment:\n   We don't seem to include it inside arrow-vector, do we want to do that? (Don't think it's worth it for one method...)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-12T13:02:32.807+0000",
                    "updated": "2019-06-12T13:02:32.807+0000",
                    "started": "2019-06-12T13:02:32.806+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258697",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/258859",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4251: [WIP] ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#discussion_r292996145\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/types/pojo/Field.java\n ##########\n @@ -111,9 +112,26 @@ public FieldVector createVector(BufferAllocator allocator) {\n    * Constructs a new instance from a flatbuffer representation of the field.\n    */\n   public static Field convertField(org.apache.arrow.flatbuf.Field field) {\n+    Map<String, String> metadata = new HashMap<>();\n+    for (int i = 0; i < field.customMetadataLength(); i++) {\n+      KeyValue kv = field.customMetadata(i);\n+      String key = kv.key();\n+      String value = kv.value();\n+      metadata.put(key == null ? \"\" : key, value == null ? \"\" : value);\n \n Review comment:\n   No, I we might have just copied the methods we needed instead of shading it.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-12T16:03:15.989+0000",
                    "updated": "2019-06-12T16:03:15.989+0000",
                    "started": "2019-06-12T16:03:15.988+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258859",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/260427",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #4251: ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#issuecomment-502110603\n \n \n   Just rebased. @emkornfield can you give this a final review, and if there is follow up work for any missing items or questions, let's open some JIRA issues? \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-14T13:32:50.375+0000",
                    "updated": "2019-06-14T13:32:50.375+0000",
                    "started": "2019-06-14T13:32:50.374+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "260427",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/260502",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #4251: ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#issuecomment-489258783\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=h1) Report\n   > :exclamation: No coverage uploaded for pull request base (`master@6fb850c`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n   > The diff coverage is `n/a`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/4251/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff            @@\n   ##             master    #4251   +/-   ##\n   =========================================\n     Coverage          ?   89.47%           \n   =========================================\n     Files             ?      651           \n     Lines             ?    92018           \n     Branches          ?        0           \n   =========================================\n     Hits              ?    82334           \n     Misses            ?     9684           \n     Partials          ?        0\n   ```\n   \n   \n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=footer). Last update [6fb850c...f32aa47](https://codecov.io/gh/apache/arrow/pull/4251?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-14T15:16:00.895+0000",
                    "updated": "2019-06-14T15:16:00.895+0000",
                    "started": "2019-06-14T15:16:00.895+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "260502",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/261360",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on issue #4251: ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#issuecomment-502695560\n \n \n   Should be able to review by tomorrow.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-17T14:02:59.955+0000",
                    "updated": "2019-06-17T14:02:59.955+0000",
                    "started": "2019-06-17T14:02:59.954+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "261360",
                    "issueId": "13231540"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/worklog/261365",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4251: ARROW-5255: [Java] Proof-of-concept of Java extension types\nURL: https://github.com/apache/arrow/pull/4251#discussion_r294314813\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/ExtensionTypeVector.java\n ##########\n @@ -0,0 +1,231 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.arrow.vector;\n+\n+import java.util.Iterator;\n+import java.util.List;\n+\n+import org.apache.arrow.memory.BufferAllocator;\n+import org.apache.arrow.memory.OutOfMemoryException;\n+import org.apache.arrow.vector.complex.reader.FieldReader;\n+import org.apache.arrow.vector.ipc.message.ArrowFieldNode;\n+import org.apache.arrow.vector.types.Types.MinorType;\n+import org.apache.arrow.vector.types.pojo.Field;\n+import org.apache.arrow.vector.util.CallBack;\n+import org.apache.arrow.vector.util.TransferPair;\n+\n+import io.netty.buffer.ArrowBuf;\n+\n+/**\n+ * A vector that wraps an underlying vector, used to help implement extension types.\n+ * @param <T> The wrapped vector type.\n+ */\n+public abstract class ExtensionTypeVector<T extends BaseValueVector & FieldVector> extends BaseValueVector implements\n+    FieldVector {\n+\n+  private final T underlyingVector;\n+\n+  public ExtensionTypeVector(String name, BufferAllocator allocator, T underlyingVector) {\n+    super(name, allocator);\n+    this.underlyingVector = underlyingVector;\n+  }\n+\n+  /** Get the underlying vector. */\n+  public T getUnderlyingVector() {\n+    return underlyingVector;\n+  }\n+\n+  @Override\n+  public void allocateNew() throws OutOfMemoryException {\n+    this.underlyingVector.allocateNew();\n+  }\n+\n+  @Override\n+  public boolean allocateNewSafe() {\n+    return this.underlyingVector.allocateNewSafe();\n+  }\n+\n+  @Override\n+  public void reAlloc() {\n+    this.underlyingVector.reAlloc();\n+  }\n+\n+  @Override\n+  public void setInitialCapacity(int numRecords) {\n+    this.underlyingVector.setInitialCapacity(numRecords);\n+  }\n+\n+  @Override\n+  public int getValueCapacity() {\n+    return this.underlyingVector.getValueCapacity();\n+  }\n+\n+  @Override\n+  public void reset() {\n+    this.underlyingVector.reset();\n+  }\n+\n+  @Override\n+  public Field getField() {\n+    return this.underlyingVector.getField();\n+  }\n+\n+  @Override\n+  public MinorType getMinorType() {\n+    return MinorType.EXTENSIONTYPE;\n+  }\n+\n+  @Override\n+  public TransferPair getTransferPair(String ref, BufferAllocator allocator) {\n+    return underlyingVector.getTransferPair(ref, allocator);\n+  }\n+\n+  @Override\n+  public TransferPair getTransferPair(String ref, BufferAllocator allocator, CallBack callBack) {\n+    return underlyingVector.getTransferPair(ref, allocator, callBack);\n+  }\n+\n+  @Override\n+  public TransferPair makeTransferPair(ValueVector target) {\n+    return underlyingVector.makeTransferPair(target);\n+  }\n+\n+  @Override\n+  public FieldReader getReader() {\n+    return underlyingVector.getReader();\n+  }\n+\n+  @Override\n+  public int getBufferSize() {\n+    return underlyingVector.getBufferSize();\n+  }\n+\n+  @Override\n+  public int getBufferSizeFor(int valueCount) {\n+    return underlyingVector.getBufferSizeFor(valueCount);\n+  }\n+\n+  @Override\n+  public ArrowBuf[] getBuffers(boolean clear) {\n+    return underlyingVector.getBuffers(clear);\n+  }\n+\n+  @Override\n+  public ArrowBuf getValidityBuffer() {\n+    return underlyingVector.getValidityBuffer();\n+  }\n+\n+  @Override\n+  public ArrowBuf getDataBuffer() {\n+    return underlyingVector.getDataBuffer();\n+  }\n+\n+  @Override\n+  public ArrowBuf getOffsetBuffer() {\n+    return underlyingVector.getOffsetBuffer();\n+  }\n+\n+  @Override\n+  public int getValueCount() {\n+    return underlyingVector.getValueCount();\n+  }\n+\n+  @Override\n+  public void setValueCount(int valueCount) {\n+    underlyingVector.setValueCount(valueCount);\n+  }\n+\n+  /** Get the object at the specified index. */\n \n Review comment:\n   Might be worth mentioned something like Gets the \"extension object\" or something else to make it more obvious why this method doesn't delegate like the rest of them.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-17T14:06:15.815+0000",
                    "updated": "2019-06-17T14:06:15.815+0000",
                    "started": "2019-06-17T14:06:15.814+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "261365",
                    "issueId": "13231540"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 16800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@3dbbb8f3[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@b3723c6[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7258f15b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@4043d5c5[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@56c08c03[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@61cd93a4[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@542a64ef[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@a197e52[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@586b5b86[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@5536b39c[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@523ca8c9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@1396a732[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 16800,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Jun 19 05:00:49 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-06-19T05:00:49.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5255/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2019-05-03T21:34:38.000+0000",
        "updated": "2019-06-19T05:00:58.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "4h 40m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 16800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Java] Implement user-defined data types API",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13231540/comment/16867220",
                    "id": "16867220",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=emkornfield%40gmail.com",
                        "name": "emkornfield@gmail.com",
                        "key": "emkornfield@gmail.com",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Micah Kornfield",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Issue resolved by pull request 4251\n[https://github.com/apache/arrow/pull/4251]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=emkornfield%40gmail.com",
                        "name": "emkornfield@gmail.com",
                        "key": "emkornfield@gmail.com",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Micah Kornfield",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-19T05:00:49.580+0000",
                    "updated": "2019-06-19T05:00:49.580+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z02dtk:",
        "customfield_12314139": null
    }
}