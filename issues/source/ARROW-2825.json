{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13171161",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13171161",
    "key": "ARROW-2825",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12342562",
                "id": "12342562",
                "description": "",
                "name": "0.10.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-08-06"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12341707",
                "id": "12341707",
                "description": "",
                "name": "0.9.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-03-19"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
            "name": "apitrou",
            "key": "pitrou",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
            },
            "displayName": "Antoine Pitrou",
            "active": true,
            "timeZone": "Europe/Paris"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
            "name": "apitrou",
            "key": "pitrou",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
            },
            "displayName": "Antoine Pitrou",
            "active": true,
            "timeZone": "Europe/Paris"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
            "name": "apitrou",
            "key": "pitrou",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
            },
            "displayName": "Antoine Pitrou",
            "active": true,
            "timeZone": "Europe/Paris"
        },
        "aggregateprogress": {
            "progress": 3000,
            "total": 3000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 3000,
            "total": 3000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2825/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 5,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13171161/worklog/122354",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou opened a new pull request #2257: ARROW-2825: [C++] Add AllocateBuffer / AllocateResizableBuffer variants with default memory pool\nURL: https://github.com/apache/arrow/pull/2257\n \n \n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-12T13:02:46.697+0000",
                    "updated": "2018-07-12T13:02:46.697+0000",
                    "started": "2018-07-12T13:02:46.697+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "122354",
                    "issueId": "13171161"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13171161/worklog/122356",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #2257: ARROW-2825: [C++] Add AllocateBuffer / AllocateResizableBuffer variants with default memory pool\nURL: https://github.com/apache/arrow/pull/2257#issuecomment-404505891\n \n \n   @alendit \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-12T13:07:34.030+0000",
                    "updated": "2018-07-12T13:07:34.030+0000",
                    "started": "2018-07-12T13:07:34.029+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "122356",
                    "issueId": "13171161"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13171161/worklog/122912",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #2257: ARROW-2825: [C++] Add AllocateBuffer / AllocateResizableBuffer variants with default memory pool\nURL: https://github.com/apache/arrow/pull/2257#issuecomment-404871420\n \n \n   @xhochy The manylinux job failure looks unrelated, is it tracked somewhere?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-13T15:42:06.596+0000",
                    "updated": "2018-07-13T15:42:06.596+0000",
                    "started": "2018-07-13T15:42:06.595+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "122912",
                    "issueId": "13171161"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13171161/worklog/123319",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy commented on issue #2257: ARROW-2825: [C++] Add AllocateBuffer / AllocateResizableBuffer variants with default memory pool\nURL: https://github.com/apache/arrow/pull/2257#issuecomment-405025637\n \n \n   I opened https://issues.apache.org/jira/browse/ARROW-2850 and am looking into it. Sadly adding the flag does not suffice as it is not correctly picked up by `parquet-cpp`.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-14T14:02:50.629+0000",
                    "updated": "2018-07-14T14:02:50.629+0000",
                    "started": "2018-07-14T14:02:50.629+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "123319",
                    "issueId": "13171161"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13171161/worklog/123343",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy closed pull request #2257: ARROW-2825: [C++] Add AllocateBuffer / AllocateResizableBuffer variants with default memory pool\nURL: https://github.com/apache/arrow/pull/2257\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/cpp/src/arrow/buffer-test.cc b/cpp/src/arrow/buffer-test.cc\nindex a24384a383..cb9399e0aa 100644\n--- a/cpp/src/arrow/buffer-test.cc\n+++ b/cpp/src/arrow/buffer-test.cc\n@@ -199,7 +199,7 @@ TEST(TestBuffer, SliceMutableBuffer) {\n   auto data = reinterpret_cast<const uint8_t*>(data_str.c_str());\n \n   std::shared_ptr<Buffer> buffer;\n-  ASSERT_OK(AllocateBuffer(default_memory_pool(), 50, &buffer));\n+  ASSERT_OK(AllocateBuffer(50, &buffer));\n \n   memcpy(buffer->mutable_data(), data, data_str.size());\n \ndiff --git a/cpp/src/arrow/buffer.cc b/cpp/src/arrow/buffer.cc\nindex 60dd154e4e..b87aa4072f 100644\n--- a/cpp/src/arrow/buffer.cc\n+++ b/cpp/src/arrow/buffer.cc\n@@ -146,6 +146,10 @@ Status AllocateBuffer(MemoryPool* pool, const int64_t size,\n   return Status::OK();\n }\n \n+Status AllocateBuffer(const int64_t size, std::shared_ptr<Buffer>* out) {\n+  return AllocateBuffer(default_memory_pool(), size, out);\n+}\n+\n Status AllocateResizableBuffer(MemoryPool* pool, const int64_t size,\n                                std::shared_ptr<ResizableBuffer>* out) {\n   auto buffer = std::make_shared<PoolBuffer>(pool);\n@@ -154,4 +158,9 @@ Status AllocateResizableBuffer(MemoryPool* pool, const int64_t size,\n   return Status::OK();\n }\n \n+Status AllocateResizableBuffer(const int64_t size,\n+                               std::shared_ptr<ResizableBuffer>* out) {\n+  return AllocateResizableBuffer(default_memory_pool(), size, out);\n+}\n+\n }  // namespace arrow\ndiff --git a/cpp/src/arrow/buffer.h b/cpp/src/arrow/buffer.h\nindex 73db8b1f20..f7fee061c5 100644\n--- a/cpp/src/arrow/buffer.h\n+++ b/cpp/src/arrow/buffer.h\n@@ -365,7 +365,7 @@ class ARROW_EXPORT TypedBufferBuilder : public BufferBuilder {\n   int64_t capacity() const { return capacity_ / sizeof(T); }\n };\n \n-/// \\brief Allocate a fixed size mutable buffer from a memory pool\n+/// \\brief Allocate a fixed-size mutable buffer from a memory pool\n ///\n /// \\param[in] pool a memory pool\n /// \\param[in] size size of buffer to allocate\n@@ -375,7 +375,16 @@ class ARROW_EXPORT TypedBufferBuilder : public BufferBuilder {\n ARROW_EXPORT\n Status AllocateBuffer(MemoryPool* pool, const int64_t size, std::shared_ptr<Buffer>* out);\n \n-/// Allocate resizeable buffer from a memory pool\n+/// \\brief Allocate a fixed-size mutable buffer from the default memory pool\n+///\n+/// \\param[in] size size of buffer to allocate\n+/// \\param[out] out the allocated buffer (contains padding)\n+///\n+/// \\return Status message\n+ARROW_EXPORT\n+Status AllocateBuffer(const int64_t size, std::shared_ptr<Buffer>* out);\n+\n+/// \\brief Allocate a resizeable buffer from a memory pool\n ///\n /// \\param[in] pool a memory pool\n /// \\param[in] size size of buffer to allocate\n@@ -386,6 +395,15 @@ ARROW_EXPORT\n Status AllocateResizableBuffer(MemoryPool* pool, const int64_t size,\n                                std::shared_ptr<ResizableBuffer>* out);\n \n+/// \\brief Allocate a resizeable buffer from the default memory pool\n+///\n+/// \\param[in] size size of buffer to allocate\n+/// \\param[out] out the allocated buffer\n+///\n+/// \\return Status message\n+ARROW_EXPORT\n+Status AllocateResizableBuffer(const int64_t size, std::shared_ptr<ResizableBuffer>* out);\n+\n }  // namespace arrow\n \n #endif  // ARROW_BUFFER_H\ndiff --git a/cpp/src/arrow/io/io-memory-test.cc b/cpp/src/arrow/io/io-memory-test.cc\nindex 0652fe77c9..7cb796a7bf 100644\n--- a/cpp/src/arrow/io/io-memory-test.cc\n+++ b/cpp/src/arrow/io/io-memory-test.cc\n@@ -84,7 +84,7 @@ TEST_F(TestBufferOutputStream, WriteAfterFinish) {\n \n TEST(TestFixedSizeBufferWriter, Basics) {\n   std::shared_ptr<Buffer> buffer;\n-  ASSERT_OK(AllocateBuffer(default_memory_pool(), 1024, &buffer));\n+  ASSERT_OK(AllocateBuffer(1024, &buffer));\n \n   FixedSizeBufferWriter writer(buffer);\n \ndiff --git a/cpp/src/arrow/ipc/test-common.h b/cpp/src/arrow/ipc/test-common.h\nindex 87d826f806..2f0237ed26 100644\n--- a/cpp/src/arrow/ipc/test-common.h\n+++ b/cpp/src/arrow/ipc/test-common.h\n@@ -703,7 +703,7 @@ Status MakeDecimal(std::shared_ptr<RecordBatch>* out) {\n   std::shared_ptr<Buffer> data, is_valid;\n   std::vector<uint8_t> is_valid_bytes(length);\n \n-  RETURN_NOT_OK(AllocateBuffer(default_memory_pool(), kDecimalSize * length, &data));\n+  RETURN_NOT_OK(AllocateBuffer(kDecimalSize * length, &data));\n \n   test::random_decimals(length, 1, kDecimalPrecision, data->mutable_data());\n   test::random_null_bytes(length, 0.1, is_valid_bytes.data());\ndiff --git a/cpp/src/arrow/ipc/writer.cc b/cpp/src/arrow/ipc/writer.cc\nindex 71a33d8017..d62f14839e 100644\n--- a/cpp/src/arrow/ipc/writer.cc\n+++ b/cpp/src/arrow/ipc/writer.cc\n@@ -599,11 +599,8 @@ Status GetContiguousTensor(const Tensor& tensor, MemoryPool* pool,\n   const auto& type = checked_cast<const FixedWidthType&>(*tensor.type());\n   const int elem_size = type.bit_width() / 8;\n \n-  // TODO(wesm): Do we care enough about this temporary allocation to pass in\n-  // a MemoryPool to this function?\n   std::shared_ptr<Buffer> scratch_space;\n-  RETURN_NOT_OK(AllocateBuffer(default_memory_pool(),\n-                               tensor.shape()[tensor.ndim() - 1] * elem_size,\n+  RETURN_NOT_OK(AllocateBuffer(pool, tensor.shape()[tensor.ndim() - 1] * elem_size,\n                                &scratch_space));\n \n   std::shared_ptr<ResizableBuffer> contiguous_data;\n@@ -651,9 +648,8 @@ Status WriteTensor(const Tensor& tensor, io::OutputStream* dst, int32_t* metadat\n     // TODO(wesm): Do we care enough about this temporary allocation to pass in\n     // a MemoryPool to this function?\n     std::shared_ptr<Buffer> scratch_space;\n-    RETURN_NOT_OK(AllocateBuffer(default_memory_pool(),\n-                                 tensor.shape()[tensor.ndim() - 1] * elem_size,\n-                                 &scratch_space));\n+    RETURN_NOT_OK(\n+        AllocateBuffer(tensor.shape()[tensor.ndim() - 1] * elem_size, &scratch_space));\n \n     return WriteStridedTensorData(0, 0, elem_size, tensor, scratch_space->mutable_data(),\n                                   dst);\ndiff --git a/cpp/src/arrow/tensor-test.cc b/cpp/src/arrow/tensor-test.cc\nindex 06815761b5..196841cfd2 100644\n--- a/cpp/src/arrow/tensor-test.cc\n+++ b/cpp/src/arrow/tensor-test.cc\n@@ -39,7 +39,7 @@ TEST(TestTensor, ZeroDim) {\n   using T = int64_t;\n \n   std::shared_ptr<Buffer> buffer;\n-  ASSERT_OK(AllocateBuffer(default_memory_pool(), values * sizeof(T), &buffer));\n+  ASSERT_OK(AllocateBuffer(values * sizeof(T), &buffer));\n \n   Tensor t0(int64(), buffer, shape);\n \n@@ -55,7 +55,7 @@ TEST(TestTensor, BasicCtors) {\n   using T = int64_t;\n \n   std::shared_ptr<Buffer> buffer;\n-  ASSERT_OK(AllocateBuffer(default_memory_pool(), values * sizeof(T), &buffer));\n+  ASSERT_OK(AllocateBuffer(values * sizeof(T), &buffer));\n \n   Tensor t1(int64(), buffer, shape);\n   Tensor t2(int64(), buffer, shape, strides);\n@@ -81,7 +81,7 @@ TEST(TestTensor, IsContiguous) {\n   using T = int64_t;\n \n   std::shared_ptr<Buffer> buffer;\n-  ASSERT_OK(AllocateBuffer(default_memory_pool(), values * sizeof(T), &buffer));\n+  ASSERT_OK(AllocateBuffer(values * sizeof(T), &buffer));\n \n   std::vector<int64_t> c_strides = {48, 8};\n   std::vector<int64_t> f_strides = {8, 32};\n@@ -99,7 +99,7 @@ TEST(TestTensor, ZeroDimensionalTensor) {\n   std::vector<int64_t> shape = {0};\n \n   std::shared_ptr<Buffer> buffer;\n-  ASSERT_OK(AllocateBuffer(default_memory_pool(), 0, &buffer));\n+  ASSERT_OK(AllocateBuffer(0, &buffer));\n \n   Tensor t(int64(), buffer, shape);\n   ASSERT_EQ(t.strides().size(), 1);\ndiff --git a/cpp/src/arrow/util/bit-util-benchmark.cc b/cpp/src/arrow/util/bit-util-benchmark.cc\nindex 183e43f432..305a9d2abd 100644\n--- a/cpp/src/arrow/util/bit-util-benchmark.cc\n+++ b/cpp/src/arrow/util/bit-util-benchmark.cc\n@@ -84,7 +84,7 @@ class NaiveBitmapWriter {\n \n static std::shared_ptr<Buffer> CreateRandomBuffer(int64_t nbytes) {\n   std::shared_ptr<Buffer> buffer;\n-  ABORT_NOT_OK(AllocateBuffer(default_memory_pool(), nbytes, &buffer));\n+  ABORT_NOT_OK(AllocateBuffer(nbytes, &buffer));\n   memset(buffer->mutable_data(), 0, nbytes);\n   test::random_bytes(nbytes, 0, buffer->mutable_data());\n   return buffer;\ndiff --git a/cpp/src/arrow/util/bit-util-test.cc b/cpp/src/arrow/util/bit-util-test.cc\nindex ae8923d668..e13902b709 100644\n--- a/cpp/src/arrow/util/bit-util-test.cc\n+++ b/cpp/src/arrow/util/bit-util-test.cc\n@@ -434,7 +434,7 @@ TEST(BitUtilTests, TestCopyBitmap) {\n   const int kBufferSize = 1000;\n \n   std::shared_ptr<Buffer> buffer;\n-  ASSERT_OK(AllocateBuffer(default_memory_pool(), kBufferSize, &buffer));\n+  ASSERT_OK(AllocateBuffer(kBufferSize, &buffer));\n   memset(buffer->mutable_data(), 0, kBufferSize);\n   test::random_bytes(kBufferSize, 0, buffer->mutable_data());\n \n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-14T17:55:31.311+0000",
                    "updated": "2018-07-14T17:55:31.311+0000",
                    "started": "2018-07-14T17:55:31.311+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "123343",
                    "issueId": "13171161"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/5",
            "id": "5",
            "description": "General wishlist item.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Wish",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 3000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@4db49015[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2ee6c43c[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@12c7ad51[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@a984c11[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2bc95df4[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@50df4d4[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2a8f7c01[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@623f4585[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@37892cb[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@69b96d24[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@38877b66[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@200c029e[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 3000,
        "customfield_12312520": null,
        "customfield_12312521": "Sat Jul 14 17:55:41 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-07-14T17:55:41.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2825/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2018-07-10T14:13:53.000+0000",
        "updated": "2018-07-14T17:55:49.000+0000",
        "timeoriginalestimate": null,
        "description": "It's not very practical that you have to pass the default memory pool explicitly to {{AllocateBuffer}}.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 3000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Need AllocateBuffer / AllocateResizableBuffer variant with default memory pool",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13171161/comment/16538698",
                    "id": "16538698",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "See also ARROW-1470, there's some possible API improvements around buffer allocation generally that could be made ",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-07-10T14:37:50.056+0000",
                    "updated": "2018-07-10T14:37:50.056+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13171161/comment/16544293",
                    "id": "16544293",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "body": "Issue resolved by pull request 2257\n[https://github.com/apache/arrow/pull/2257]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "created": "2018-07-14T17:55:41.929+0000",
                    "updated": "2018-07-14T17:55:41.929+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|i3vq6n:",
        "customfield_12314139": null
    }
}