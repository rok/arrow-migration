{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13433165",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165",
    "key": "ARROW-15906",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12351550",
                "id": "12351550",
                "name": "9.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2022-08-03"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12350591",
                "id": "12350591",
                "description": "",
                "name": "7.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2022-02-03"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12635385",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12635385",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13432895",
                    "key": "ARROW-15892",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13432895",
                    "fields": {
                        "summary": "[C++] Dataset APIs require s3:ListBucket Permissions",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
                            "name": "Minor",
                            "id": "4"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
                            "id": "1",
                            "description": "A problem which impairs or prevents the functions of the product.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
                            "name": "Bug",
                            "subtask": false,
                            "avatarId": 21133
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=willjones127",
            "name": "willjones127",
            "key": "willjones127",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
            },
            "displayName": "Will Jones",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=willjones127",
            "name": "willjones127",
            "key": "willjones127",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
            },
            "displayName": "Will Jones",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=willjones127",
            "name": "willjones127",
            "key": "willjones127",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
            },
            "displayName": "Will Jones",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 14400,
            "total": 14400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 14400,
            "total": 14400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-15906/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 24,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/772998",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 opened a new pull request, #13206:\nURL: https://github.com/apache/arrow/pull/13206\n\n   BREAKING CHANGE: modifies `S3FileSystem` to not allow creating or deleting buckets by default. A new option is added `allow_create_buckets`, which enables creating and deleting buckets.\r\n   \r\n   Outside of tests, most use cases will not want to create or delete buckets, and doing so accidentally is not desirable either. Buckets have governance controls like permissions and cost-tracking tags.\n\n\n",
                    "created": "2022-05-20T19:36:32.201+0000",
                    "updated": "2022-05-20T19:36:32.201+0000",
                    "started": "2022-05-20T19:36:32.200+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "772998",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/772999",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#issuecomment-1133258853\n\n   https://issues.apache.org/jira/browse/ARROW-15906\n\n\n",
                    "created": "2022-05-20T19:36:54.373+0000",
                    "updated": "2022-05-20T19:36:54.373+0000",
                    "started": "2022-05-20T19:36:54.372+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "772999",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/773144",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r878756026\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.h:\n##########\n@@ -130,6 +130,9 @@ struct ARROW_EXPORT S3Options {\n   /// Whether OutputStream writes will be issued in the background, without blocking.\n   bool background_writes = true;\n \n+  /// Whether to allow creation of new buckets\n+  bool allow_create_buckets = false;\n\nReview Comment:\n   Could you also update `S3Options::FromUri()` to support this?\n\n\n\n",
                    "created": "2022-05-21T20:13:34.047+0000",
                    "updated": "2022-05-21T20:13:34.047+0000",
                    "started": "2022-05-21T20:13:34.047+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "773144",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/773594",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r879687343\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.h:\n##########\n@@ -130,6 +130,9 @@ struct ARROW_EXPORT S3Options {\n   /// Whether OutputStream writes will be issued in the background, without blocking.\n   bool background_writes = true;\n \n+  /// Whether to allow creation of new buckets\n+  bool allow_create_buckets = false;\n\nReview Comment:\n   Good idea. I've added that.\n\n\n\n",
                    "created": "2022-05-23T16:55:41.470+0000",
                    "updated": "2022-05-23T16:55:41.470+0000",
                    "started": "2022-05-23T16:55:41.470+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "773594",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/774232",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r880951359\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.h:\n##########\n@@ -130,6 +130,14 @@ struct ARROW_EXPORT S3Options {\n   /// Whether OutputStream writes will be issued in the background, without blocking.\n   bool background_writes = true;\n \n+  /// Whether to allow creation or deletion of buckets\n\nReview Comment:\n   It seems that \"deletion\" depends on `allow_create_buckets` confuses users. How about renaming `allow_create_buckets` or create one more option?\r\n   \r\n   BTW, why should we disable \"deletion\" by default?\n\n\n\n",
                    "created": "2022-05-24T21:13:03.198+0000",
                    "updated": "2022-05-24T21:13:03.198+0000",
                    "started": "2022-05-24T21:13:03.198+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "774232",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/774269",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#issuecomment-1136497947\n\n   > Could you send an e-mail to dev@ to confirm whether this default behavior change is acceptable? I can't decide this because I haven't used Apache Arrow to access S3 yet.\r\n   \r\n   Sure, I've done that here: https://lists.apache.org/thread/2wnmq72trrtcxyvxzw261gq0t6grq18g\n\n\n",
                    "created": "2022-05-24T22:42:48.641+0000",
                    "updated": "2022-05-24T22:42:48.641+0000",
                    "started": "2022-05-24T22:42:48.640+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "774269",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/774270",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r881037233\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.h:\n##########\n@@ -130,6 +130,14 @@ struct ARROW_EXPORT S3Options {\n   /// Whether OutputStream writes will be issued in the background, without blocking.\n   bool background_writes = true;\n \n+  /// Whether to allow creation or deletion of buckets\n\nReview Comment:\n   We probably don't have to. Buckets can only be deleted if already empty, so hard to accidentally delete an important one I suppose. \n\n\n\n",
                    "created": "2022-05-24T22:48:14.937+0000",
                    "updated": "2022-05-24T22:48:14.937+0000",
                    "started": "2022-05-24T22:48:14.937+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "774270",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/774390",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r881325065\n\n\n##########\npython/pyarrow/tests/test_dataset.py:\n##########\n@@ -4505,9 +4507,21 @@ def test_write_dataset_s3_put_only(s3_server):\n     ).to_table()\n     assert result.equals(table)\n \n-    with pytest.raises(OSError, match=\"Access Denied\"):\n+    # Passing create_dir is fine if the bucket already exists\n+    ds.write_dataset(\n+        table, \"existing-bucket\", filesystem=fs,\n+        format=\"feather\", create_dir=True, partitioning=part,\n+        existing_data_behavior='overwrite_or_ignore'\n+    )\n+    # check roundtrip\n+    result = ds.dataset(\n+        \"existing-bucket\", filesystem=fs, format=\"ipc\", partitioning=\"hive\"\n+    ).to_table()\n+    assert result.equals(table)\n+\n+    with pytest.raises(OSError, match=\"Bucket does not exist\"):\n         ds.write_dataset(\n-            table, \"existing-bucket\", filesystem=fs,\n+            table, \"non-existing-bucket\", filesystem=fs,\n\nReview Comment:\n   To retain the original purpose of the test, should we use an `fs` with allow_create_bucket set to True? So that it raises the original error? (even if the user sets this parameter to True, we still need to honor the limitations / the create_dir keyword)\n\n\n\n",
                    "created": "2022-05-25T07:42:58.036+0000",
                    "updated": "2022-05-25T07:42:58.036+0000",
                    "started": "2022-05-25T07:42:58.036+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "774390",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/774696",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r881906038\n\n\n##########\npython/pyarrow/tests/test_dataset.py:\n##########\n@@ -4505,9 +4507,21 @@ def test_write_dataset_s3_put_only(s3_server):\n     ).to_table()\n     assert result.equals(table)\n \n-    with pytest.raises(OSError, match=\"Access Denied\"):\n+    # Passing create_dir is fine if the bucket already exists\n+    ds.write_dataset(\n+        table, \"existing-bucket\", filesystem=fs,\n+        format=\"feather\", create_dir=True, partitioning=part,\n+        existing_data_behavior='overwrite_or_ignore'\n+    )\n+    # check roundtrip\n+    result = ds.dataset(\n+        \"existing-bucket\", filesystem=fs, format=\"ipc\", partitioning=\"hive\"\n+    ).to_table()\n+    assert result.equals(table)\n+\n+    with pytest.raises(OSError, match=\"Bucket does not exist\"):\n         ds.write_dataset(\n-            table, \"existing-bucket\", filesystem=fs,\n+            table, \"non-existing-bucket\", filesystem=fs,\n\nReview Comment:\n   Sure, though I think I want to test both cases.\n\n\n\n",
                    "created": "2022-05-25T17:01:44.363+0000",
                    "updated": "2022-05-25T17:01:44.363+0000",
                    "started": "2022-05-25T17:01:44.363+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "774696",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/775965",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r884945051\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.h:\n##########\n@@ -130,6 +130,9 @@ struct ARROW_EXPORT S3Options {\n   /// Whether OutputStream writes will be issued in the background, without blocking.\n   bool background_writes = true;\n \n+  /// Whether to allow creation of new buckets\n+  bool allow_create_buckets = false;\n\nReview Comment:\n   Let's make it two options for flexibility (creation and deletion).\r\n   \r\n   Also wrt. naming, should this be `allow_bucket_creation`? @lidavidm \n\n\n\n",
                    "created": "2022-05-30T15:39:46.222+0000",
                    "updated": "2022-05-30T15:39:46.222+0000",
                    "started": "2022-05-30T15:39:46.221+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "775965",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/776262",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r885543144\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.h:\n##########\n@@ -130,6 +130,9 @@ struct ARROW_EXPORT S3Options {\n   /// Whether OutputStream writes will be issued in the background, without blocking.\n   bool background_writes = true;\n \n+  /// Whether to allow creation of new buckets\n+  bool allow_create_buckets = false;\n\nReview Comment:\n   Perhaps `create_buckets` and `delete_buckets`? That reads more consistently with `background_writes` to me. Or `allow_creating_buckets`\n\n\n\n",
                    "created": "2022-05-31T11:54:06.881+0000",
                    "updated": "2022-05-31T11:54:06.881+0000",
                    "started": "2022-05-31T11:54:06.880+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "776262",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/776588",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r886185955\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.h:\n##########\n@@ -130,6 +130,9 @@ struct ARROW_EXPORT S3Options {\n   /// Whether OutputStream writes will be issued in the background, without blocking.\n   bool background_writes = true;\n \n+  /// Whether to allow creation of new buckets\n+  bool allow_create_buckets = false;\n\nReview Comment:\n   I liked `create_buckets` but since there is a setter method and I want it named the same thing as the property (for clear error hints), I felt like `allow_bucket_creation` was the better choice.\n\n\n\n",
                    "created": "2022-05-31T22:47:49.289+0000",
                    "updated": "2022-05-31T22:47:49.289+0000",
                    "started": "2022-05-31T22:47:49.288+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "776588",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/776761",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r886614745\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.h:\n##########\n@@ -218,6 +229,12 @@ class ARROW_EXPORT S3FileSystem : public FileSystem {\n   /// Return the actual region this filesystem connects to\n   std::string region() const;\n \n+  /// Set create_buckets property of options\n\nReview Comment:\n   These trivial setters are not needed as people can access the attributes directly.\n\n\n\n##########\nr/R/filesystem.R:\n##########\n@@ -180,6 +184,11 @@ FileSelector$create <- function(base_dir, allow_not_found = FALSE, recursive = F\n #' - `$OpenAppendStream(path)`: Open an [output stream][OutputStream] for\n #'    appending.\n #'\n+#' `S3FileSystem` also has methods:\n+#'\n+#' - `$allow_bucket_creation()` which can set the corresponding option above.\n+#' - `$allow_bucket_deletion()` which can set the corresponding option above.\n\nReview Comment:\n   Why expose these as methods as well? Is it useful?\n\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.cc:\n##########\n@@ -353,6 +354,12 @@ Result<S3Options> S3Options::FromUri(const Uri& uri, std::string* out_path) {\n       options.scheme = kv.second;\n     } else if (kv.first == \"endpoint_override\") {\n       options.endpoint_override = kv.second;\n+    } else if (kv.first == \"allow_bucket_creation\") {\n+      options.allow_bucket_creation =\n+          ::arrow::internal::AsciiEqualsCaseInsensitive(kv.second, \"true\");\n+    } else if (kv.first == \"allow_bucket_deletion\") {\n+      options.allow_bucket_deletion =\n+          ::arrow::internal::AsciiEqualsCaseInsensitive(kv.second, \"true\");\n\nReview Comment:\n   Hmm, I think we should be a bit stricter and not blindly interpret any other value as \"false\".\r\n   How about allowing the following values:\r\n   * \"0\", \"false\" (case-insensitive) -> boolean false\r\n   * \"1\", \"true\" (case-insensitive) -> boolean true\r\n   * any other value -> raise `Status::Invalid`\r\n   \n\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.h:\n##########\n@@ -130,6 +130,17 @@ struct ARROW_EXPORT S3Options {\n   /// Whether OutputStream writes will be issued in the background, without blocking.\n   bool background_writes = true;\n \n+  /// Whether to allow creation or deletion of buckets\n\nReview Comment:\n   ```suggestion\r\n     /// Whether to allow creation of buckets\r\n   ```\n\n\n\n##########\npython/pyarrow/_s3fs.pyx:\n##########\n@@ -312,3 +328,25 @@ cdef class S3FileSystem(FileSystem):\n         The AWS region this filesystem connects to.\n         \"\"\"\n         return frombytes(self.s3fs.region())\n+\n+    @property\n+    def allow_bucket_creation(self):\n+        \"\"\"\n+        Whether to allow CreateDir at the bucket-level.\n\nReview Comment:\n   We should probably use the same docstring for constructor parameters and the associated properties.\r\n   Personally, I like \"Whether to allow CreateDir at the bucket-level.\"\n\n\n\n##########\npython/pyarrow/includes/libarrow_fs.pxd:\n##########\n@@ -193,6 +195,8 @@ cdef extern from \"arrow/filesystem/api.h\" namespace \"arrow::fs\" nogil:\n         CResult[shared_ptr[CS3FileSystem]] Make(const CS3Options& options)\n         CS3Options options()\n         c_string region()\n+        void allow_bucket_creation(c_bool allow)\n+        void allow_bucket_deletion(c_bool allow)\n\nReview Comment:\n   Not needed?\n\n\n\n",
                    "created": "2022-06-01T10:00:51.208+0000",
                    "updated": "2022-06-01T10:00:51.208+0000",
                    "started": "2022-06-01T10:00:51.208+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "776761",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/776918",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r886897936\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.cc:\n##########\n@@ -353,6 +354,12 @@ Result<S3Options> S3Options::FromUri(const Uri& uri, std::string* out_path) {\n       options.scheme = kv.second;\n     } else if (kv.first == \"endpoint_override\") {\n       options.endpoint_override = kv.second;\n+    } else if (kv.first == \"allow_bucket_creation\") {\n+      options.allow_bucket_creation =\n+          ::arrow::internal::AsciiEqualsCaseInsensitive(kv.second, \"true\");\n+    } else if (kv.first == \"allow_bucket_deletion\") {\n+      options.allow_bucket_deletion =\n+          ::arrow::internal::AsciiEqualsCaseInsensitive(kv.second, \"true\");\n\nReview Comment:\n   Sounds good. I didn't see any existing utility function to do this, so maybe I will create one.\n\n\n\n",
                    "created": "2022-06-01T14:46:56.845+0000",
                    "updated": "2022-06-01T14:46:56.845+0000",
                    "started": "2022-06-01T14:46:56.845+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "776918",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/776921",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r886899734\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.h:\n##########\n@@ -218,6 +229,12 @@ class ARROW_EXPORT S3FileSystem : public FileSystem {\n   /// Return the actual region this filesystem connects to\n   std::string region() const;\n \n+  /// Set create_buckets property of options\n\nReview Comment:\n   `options()` returns a const reference; they could access but I don't think they could mutate right?\r\n   \r\n   Being able to change this setting later felt important when I didn't support in `FromURI`, but maybe it's not as important now. \n\n\n\n",
                    "created": "2022-06-01T14:48:27.062+0000",
                    "updated": "2022-06-01T14:48:27.062+0000",
                    "started": "2022-06-01T14:48:27.061+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "776921",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/777644",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r888083810\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.h:\n##########\n@@ -218,6 +229,12 @@ class ARROW_EXPORT S3FileSystem : public FileSystem {\n   /// Return the actual region this filesystem connects to\n   std::string region() const;\n \n+  /// Set create_buckets property of options\n\nReview Comment:\n   > These trivial setters are not needed as people can access the attributes directly.\r\n   \r\n   I'm not so sure that's true. This fails:\r\n   ```cpp\r\n     auto options = fs_->options();\r\n     options.allow_bucket_creation = true;\r\n     options.allow_bucket_deletion = true;\r\n   \r\n     ASSERT_EQ(fs_->options().allow_bucket_creation, true);\r\n     ASSERT_EQ(fs_->options().allow_bucket_deletion, true);\r\n   ```\n\n\n\n",
                    "created": "2022-06-02T15:28:54.359+0000",
                    "updated": "2022-06-02T15:28:54.359+0000",
                    "started": "2022-06-02T15:28:54.358+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "777644",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/777646",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r888084870\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.h:\n##########\n@@ -218,6 +229,12 @@ class ARROW_EXPORT S3FileSystem : public FileSystem {\n   /// Return the actual region this filesystem connects to\n   std::string region() const;\n \n+  /// Set create_buckets property of options\n\nReview Comment:\n   Hmm, this is not really supported, though. You should set options before creating the filesystem.\n\n\n\n",
                    "created": "2022-06-02T15:29:54.463+0000",
                    "updated": "2022-06-02T15:29:54.463+0000",
                    "started": "2022-06-02T15:29:54.463+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "777646",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/777759",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r888222522\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.h:\n##########\n@@ -218,6 +229,12 @@ class ARROW_EXPORT S3FileSystem : public FileSystem {\n   /// Return the actual region this filesystem connects to\n   std::string region() const;\n \n+  /// Set create_buckets property of options\n\nReview Comment:\n   Okay, I think I'm fine at this point with only allowing setting them during construction, since we've added them to the URI parsing.\n\n\n\n",
                    "created": "2022-06-02T17:45:49.797+0000",
                    "updated": "2022-06-02T17:45:49.797+0000",
                    "started": "2022-06-02T17:45:49.796+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "777759",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/778592",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on code in PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#discussion_r890095199\n\n\n##########\npython/pyarrow/_s3fs.pyx:\n##########\n@@ -253,6 +266,9 @@ cdef class S3FileSystem(FileSystem):\n                     \"'proxy_options': expected 'dict' or 'str', \"\n                     f\"got {type(proxy_options)} instead.\")\n \n+        options.allow_bucket_creation = allow_bucket_creation\n+        options.allow_bucket_deletion = allow_bucket_deletion\n+\n\nReview Comment:\n   You'll also need to update `__reduce__` below.\n\n\n\n##########\npython/pyarrow/tests/test_fs.py:\n##########\n@@ -212,7 +212,9 @@ def s3fs(request, s3_server):\n         access_key=access_key,\n         secret_key=secret_key,\n         endpoint_override='{}:{}'.format(host, port),\n-        scheme='http'\n+        scheme='http',\n+        allow_bucket_creation=True,\n+        allow_bucket_deletion=True\n     )\n     fs.create_dir(bucket)\n\nReview Comment:\n   Can you also add tests in `test_s3_options`?\n\n\n\n##########\ncpp/src/arrow/filesystem/s3fs.cc:\n##########\n@@ -353,6 +354,12 @@ Result<S3Options> S3Options::FromUri(const Uri& uri, std::string* out_path) {\n       options.scheme = kv.second;\n     } else if (kv.first == \"endpoint_override\") {\n       options.endpoint_override = kv.second;\n+    } else if (kv.first == \"allow_bucket_creation\") {\n+      ARROW_ASSIGN_OR_RAISE(options.allow_bucket_creation,\n+                            ::arrow::internal::ParseBoolean(kv.second));\n+    } else if (kv.first == \"allow_bucket_deletion\") {\n+      ARROW_ASSIGN_OR_RAISE(options.allow_bucket_deletion,\n+                            ::arrow::internal::ParseBoolean(kv.second));\n\nReview Comment:\n   Can you also update `S3Options::Equals`?\n\n\n\n##########\npython/pyarrow/tests/test_fs.py:\n##########\n@@ -443,6 +445,12 @@ def test_s3fs_limited_permissions_create_bucket(s3_server):\n     )\n     fs.create_dir('existing-bucket/test')\n \n+    with pytest.raises(pa.ArrowIOError):\n\nReview Comment:\n   Perhaps also add a `match=` argument to also check relevant part of the error message?\n\n\n\n",
                    "created": "2022-06-06T12:25:17.185+0000",
                    "updated": "2022-06-06T12:25:17.185+0000",
                    "started": "2022-06-06T12:25:17.185+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "778592",
                    "issueId": "13433165"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/worklog/778593",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on PR #13206:\nURL: https://github.com/apache/arrow/pull/13206#issuecomment-1147391614\n\n   @thisisnic @dragosmg Can one of you perhaps review the R changes?\n\n\n",
                    "created": "2022-06-06T12:25:19.975+0000",
                    "updated": "2022-06-06T12:25:19.975+0000",
                    "started": "2022-06-06T12:25:19.974+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "778593",
                    "issueId": "13433165"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 14400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@6b5b341b[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@72e0b8f[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6adf2f78[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@1d5a23df[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@60727e65[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@991233d[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1aa67998[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@56aee5c8[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@255c382e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@25d47f73[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@c97a8e8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@2d368c17[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 14400,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Jun 15 10:05:48 UTC 2022",
        "customfield_12314422": null,
        "customfield_12314421": [
            "C++"
        ],
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2022-06-15T10:05:48.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-15906/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2022-03-10T15:54:05.000+0000",
        "updated": "2022-06-15T10:05:48.000+0000",
        "timeoriginalestimate": null,
        "description": "S3 buckets typically have a lot of governance around them (permissions, cost-tracking tags), so they should not be created unless a user explicitly asks.\r\n\r\nWe should add an option to {{S3Options}} to control whether to create buckets, and default to False.\u00a0",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "4h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 14400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] S3Filesystem shouldn't create new buckets by default",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13433165/comment/17554496",
                    "id": "17554496",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 13206\n[https://github.com/apache/arrow/pull/13206]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2022-06-15T10:05:48.148+0000",
                    "updated": "2022-06-15T10:05:48.148+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z10djk:",
        "customfield_12314139": null
    }
}