{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13391947",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947",
    "key": "ARROW-13451",
    "fields": {
        "fixVersions": [],
        "resolution": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/1",
            "description": "The issue is open and ready for the assignee to start work on it.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
            "name": "Open",
            "id": "1",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
                "id": 2,
                "key": "new",
                "colorName": "blue-gray",
                "name": "To Do"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
            "name": "bkietz",
            "key": "bkietz",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
            },
            "displayName": "Ben Kietzman",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
            "name": "bkietz",
            "key": "bkietz",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
            },
            "displayName": "Ben Kietzman",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 7800,
            "total": 7800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 7800,
            "total": 7800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-13451/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 13,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/worklog/628429",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm opened a new pull request #10813:\nURL: https://github.com/apache/arrow/pull/10813\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-27T13:22:46.761+0000",
                    "updated": "2021-07-27T13:22:46.761+0000",
                    "started": "2021-07-27T13:22:46.761+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "628429",
                    "issueId": "13391947"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/worklog/628430",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #10813:\nURL: https://github.com/apache/arrow/pull/10813#issuecomment-887508586\n\n\n   https://issues.apache.org/jira/browse/ARROW-13451\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-27T13:23:06.863+0000",
                    "updated": "2021-07-27T13:23:06.863+0000",
                    "started": "2021-07-27T13:23:06.863+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "628430",
                    "issueId": "13391947"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/worklog/628431",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #10813:\nURL: https://github.com/apache/arrow/pull/10813#issuecomment-887509020\n\n\n   This is just to see how the hash aggregate kernels perform compared to the dedicated scalar aggregation kernels in the case that there is only one group.\r\n   \r\n   Unfortunately, it's rather terrible. For count:\r\n   \r\n   <details>\r\n   \r\n   ```\r\n   ---------------------------------------------------------------------------------------------------\r\n   Benchmark                                         Time             CPU   Iterations UserCounters...\r\n   ---------------------------------------------------------------------------------------------------\r\n   CountKernelBenchInt64/1048576/2                3067 ns         3067 ns       457331 bytes_per_second=318.4G/s null_percent=50 size=1048.58k\r\n   CountKernelBenchInt64Aggregate/1048576/2     412162 ns       412138 ns         3238 bytes_per_second=2.3695G/s null_percent=50 size=1048.58k\r\n   ```\r\n   \r\n   </details>\r\n   \r\n   At 2 orders of magnitude slower, the hash aggregate kernel isn't anywhere near the dedicated scalar one. The scalar kernel essentially just calls CountSetBits, while the hash aggregate kernel must use VisitSetBitRuns and index into a length-1 array of counts. Also, a good amount of time (~10% of the runtime according to perf) is spent just allocating and filling an array of group IDs to use at the start.\r\n   \r\n   For min_max the story is not so clear. The hash aggregate kernel actually wins for floats, but loses badly (not as badly as with Count) for integers.\r\n   \r\n   <details>\r\n   \r\n   ```\r\n   ----------------------------------------------------------------------------------------------------\r\n   Benchmark                                          Time             CPU   Iterations UserCounters...\r\n   ----------------------------------------------------------------------------------------------------\r\n   MinMaxKernelFloat/1048576/10000                  981 us          981 us          638 bytes_per_second=1018.91M/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelFloat/1048576/100                   1008 us         1008 us          723 bytes_per_second=992.523M/s null_percent=1 size=1048.58k\r\n   MinMaxKernelFloat/1048576/10                    1062 us         1062 us          561 bytes_per_second=941.703M/s null_percent=10 size=1048.58k\r\n   MinMaxKernelFloat/1048576/2                     1424 us         1424 us          456 bytes_per_second=702.401M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelFloat/1048576/1                     6.92 us         6.92 us       105816 bytes_per_second=141.155G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelFloat/1048576/0                      900 us          900 us          815 bytes_per_second=1111.18M/s null_percent=0 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/10000         667 us          667 us         1103 bytes_per_second=1.46325G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/100           654 us          654 us          924 bytes_per_second=1.49389G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/10            765 us          765 us          965 bytes_per_second=1.27599G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/2            1267 us         1267 us          585 bytes_per_second=789.267M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/1             421 us          421 us         1693 bytes_per_second=2.32129G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/0             668 us          668 us         1107 bytes_per_second=1.46147G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelDouble/1048576/10000                 420 us          420 us         1712 bytes_per_second=2.32776G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelDouble/1048576/100                   465 us          465 us         1412 bytes_per_second=2.10164G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelDouble/1048576/10                    592 us          592 us         1168 bytes_per_second=1.64947G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelDouble/1048576/2                     730 us          730 us         1008 bytes_per_second=1.33826G/s null_percent=50 size=1048.58k\r\n   MinMaxKernelDouble/1048576/1                    4.10 us         4.10 us       177426 bytes_per_second=238.21G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelDouble/1048576/0                     540 us          540 us         1000 bytes_per_second=1.80829G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/10000        342 us          342 us         2106 bytes_per_second=2.85799G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/100          346 us          346 us         2136 bytes_per_second=2.82629G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/10           385 us          385 us         1911 bytes_per_second=2.53959G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/2            631 us          631 us         1163 bytes_per_second=1.54829G/s null_percent=50 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/1            218 us          218 us         3413 bytes_per_second=4.48758G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/0            334 us          334 us         2193 bytes_per_second=2.92247G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt8/1048576/10000                   571 us          571 us         1293 bytes_per_second=1.71088G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt8/1048576/100                     986 us          986 us          742 bytes_per_second=1014.35M/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt8/1048576/10                     1818 us         1818 us          402 bytes_per_second=550.013M/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt8/1048576/2                      4039 us         4039 us          182 bytes_per_second=247.588M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt8/1048576/1                      22.9 us         22.9 us        31922 bytes_per_second=42.701G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt8/1048576/0                       546 us          546 us         1368 bytes_per_second=1.78943G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/10000         2241 us         2241 us          325 bytes_per_second=446.241M/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/100           2497 us         2497 us          299 bytes_per_second=400.494M/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/10            3144 us         3143 us          237 bytes_per_second=318.129M/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/2             5107 us         5107 us          100 bytes_per_second=195.815M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/1             1581 us         1581 us          386 bytes_per_second=632.705M/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/0             2093 us         2093 us          274 bytes_per_second=477.747M/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt16/1048576/10000                  274 us          274 us         2329 bytes_per_second=3.56594G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt16/1048576/100                    459 us          459 us         1429 bytes_per_second=2.12904G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt16/1048576/10                     842 us          842 us          698 bytes_per_second=1.1593G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt16/1048576/2                     1997 us         1997 us          370 bytes_per_second=500.784M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt16/1048576/1                     12.1 us         12.1 us        60436 bytes_per_second=80.6769G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt16/1048576/0                      271 us          271 us         2713 bytes_per_second=3.60785G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/10000        1226 us         1226 us          615 bytes_per_second=815.951M/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/100          1326 us         1326 us          564 bytes_per_second=753.999M/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/10           1608 us         1608 us          462 bytes_per_second=622M/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/2            2700 us         2700 us          275 bytes_per_second=370.316M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/1             867 us          866 us          868 bytes_per_second=1.12704G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/0            1190 us         1190 us          620 bytes_per_second=840.448M/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt32/1048576/10000                  139 us          139 us         4389 bytes_per_second=7.03596G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt32/1048576/100                    238 us          238 us         2483 bytes_per_second=4.10169G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt32/1048576/10                     515 us          515 us         1000 bytes_per_second=1.89702G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt32/1048576/2                     1021 us         1021 us          722 bytes_per_second=979.116M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt32/1048576/1                     6.55 us         6.55 us       109640 bytes_per_second=149.127G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt32/1048576/0                      132 us          132 us         4723 bytes_per_second=7.4224G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/10000         631 us          631 us         1171 bytes_per_second=1.54789G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/100           703 us          703 us         1096 bytes_per_second=1.38954G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/10            808 us          808 us          911 bytes_per_second=1.20892G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/2            1304 us         1304 us          564 bytes_per_second=766.908M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/1             420 us          420 us         1758 bytes_per_second=2.32421G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/0             624 us          624 us         1183 bytes_per_second=1.56476G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt64/1048576/10000                 73.8 us         73.8 us         9720 bytes_per_second=13.2297G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt64/1048576/100                    113 us          113 us         5369 bytes_per_second=8.65305G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt64/1048576/10                     206 us          206 us         3134 bytes_per_second=4.74316G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt64/1048576/2                      516 us          516 us         1000 bytes_per_second=1.89125G/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt64/1048576/1                     3.89 us         3.89 us       187314 bytes_per_second=250.863G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt64/1048576/0                     71.5 us         71.5 us        10264 bytes_per_second=13.6533G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/10000         305 us          305 us         2414 bytes_per_second=3.19811G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/100           334 us          334 us         2210 bytes_per_second=2.92146G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/10            407 us          407 us         1832 bytes_per_second=2.40181G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/2             654 us          654 us         1117 bytes_per_second=1.49329G/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/1             217 us          217 us         3416 bytes_per_second=4.50848G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/0             302 us          302 us         2430 bytes_per_second=3.23243G/s null_percent=0 size=1048.58k\r\n   ```\r\n   \r\n   </details>\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-27T13:23:46.420+0000",
                    "updated": "2021-07-27T13:23:46.420+0000",
                    "started": "2021-07-27T13:23:46.420+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "628431",
                    "issueId": "13391947"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/worklog/628432",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm edited a comment on pull request #10813:\nURL: https://github.com/apache/arrow/pull/10813#issuecomment-887509020\n\n\n   This is just to see how the hash aggregate kernels perform compared to the dedicated scalar aggregation kernels in the case that there is only one group.\r\n   \r\n   I only tested MinMax and Count. I didn't test Sum/Mean since the scalar kernels use pairwise summation and the hash aggregate kernels use naive summation.\r\n   \r\n   Unfortunately, it's rather terrible. For count:\r\n   \r\n   <details>\r\n   \r\n   ```\r\n   ---------------------------------------------------------------------------------------------------\r\n   Benchmark                                         Time             CPU   Iterations UserCounters...\r\n   ---------------------------------------------------------------------------------------------------\r\n   CountKernelBenchInt64/1048576/2                3067 ns         3067 ns       457331 bytes_per_second=318.4G/s null_percent=50 size=1048.58k\r\n   CountKernelBenchInt64Aggregate/1048576/2     412162 ns       412138 ns         3238 bytes_per_second=2.3695G/s null_percent=50 size=1048.58k\r\n   ```\r\n   \r\n   </details>\r\n   \r\n   At 2 orders of magnitude slower, the hash aggregate kernel isn't anywhere near the dedicated scalar one. The scalar kernel essentially just calls CountSetBits, while the hash aggregate kernel must use VisitSetBitRuns and index into a length-1 array of counts. Also, a good amount of time (~10% of the runtime according to perf) is spent just allocating and filling an array of group IDs to use at the start.\r\n   \r\n   For min_max the story is not so clear. The hash aggregate kernel actually wins for floats, but loses badly (not as badly as with Count) for integers.\r\n   \r\n   <details>\r\n   \r\n   ```\r\n   ----------------------------------------------------------------------------------------------------\r\n   Benchmark                                          Time             CPU   Iterations UserCounters...\r\n   ----------------------------------------------------------------------------------------------------\r\n   MinMaxKernelFloat/1048576/10000                  981 us          981 us          638 bytes_per_second=1018.91M/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelFloat/1048576/100                   1008 us         1008 us          723 bytes_per_second=992.523M/s null_percent=1 size=1048.58k\r\n   MinMaxKernelFloat/1048576/10                    1062 us         1062 us          561 bytes_per_second=941.703M/s null_percent=10 size=1048.58k\r\n   MinMaxKernelFloat/1048576/2                     1424 us         1424 us          456 bytes_per_second=702.401M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelFloat/1048576/1                     6.92 us         6.92 us       105816 bytes_per_second=141.155G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelFloat/1048576/0                      900 us          900 us          815 bytes_per_second=1111.18M/s null_percent=0 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/10000         667 us          667 us         1103 bytes_per_second=1.46325G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/100           654 us          654 us          924 bytes_per_second=1.49389G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/10            765 us          765 us          965 bytes_per_second=1.27599G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/2            1267 us         1267 us          585 bytes_per_second=789.267M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/1             421 us          421 us         1693 bytes_per_second=2.32129G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/0             668 us          668 us         1107 bytes_per_second=1.46147G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelDouble/1048576/10000                 420 us          420 us         1712 bytes_per_second=2.32776G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelDouble/1048576/100                   465 us          465 us         1412 bytes_per_second=2.10164G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelDouble/1048576/10                    592 us          592 us         1168 bytes_per_second=1.64947G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelDouble/1048576/2                     730 us          730 us         1008 bytes_per_second=1.33826G/s null_percent=50 size=1048.58k\r\n   MinMaxKernelDouble/1048576/1                    4.10 us         4.10 us       177426 bytes_per_second=238.21G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelDouble/1048576/0                     540 us          540 us         1000 bytes_per_second=1.80829G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/10000        342 us          342 us         2106 bytes_per_second=2.85799G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/100          346 us          346 us         2136 bytes_per_second=2.82629G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/10           385 us          385 us         1911 bytes_per_second=2.53959G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/2            631 us          631 us         1163 bytes_per_second=1.54829G/s null_percent=50 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/1            218 us          218 us         3413 bytes_per_second=4.48758G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/0            334 us          334 us         2193 bytes_per_second=2.92247G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt8/1048576/10000                   571 us          571 us         1293 bytes_per_second=1.71088G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt8/1048576/100                     986 us          986 us          742 bytes_per_second=1014.35M/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt8/1048576/10                     1818 us         1818 us          402 bytes_per_second=550.013M/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt8/1048576/2                      4039 us         4039 us          182 bytes_per_second=247.588M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt8/1048576/1                      22.9 us         22.9 us        31922 bytes_per_second=42.701G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt8/1048576/0                       546 us          546 us         1368 bytes_per_second=1.78943G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/10000         2241 us         2241 us          325 bytes_per_second=446.241M/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/100           2497 us         2497 us          299 bytes_per_second=400.494M/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/10            3144 us         3143 us          237 bytes_per_second=318.129M/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/2             5107 us         5107 us          100 bytes_per_second=195.815M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/1             1581 us         1581 us          386 bytes_per_second=632.705M/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/0             2093 us         2093 us          274 bytes_per_second=477.747M/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt16/1048576/10000                  274 us          274 us         2329 bytes_per_second=3.56594G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt16/1048576/100                    459 us          459 us         1429 bytes_per_second=2.12904G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt16/1048576/10                     842 us          842 us          698 bytes_per_second=1.1593G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt16/1048576/2                     1997 us         1997 us          370 bytes_per_second=500.784M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt16/1048576/1                     12.1 us         12.1 us        60436 bytes_per_second=80.6769G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt16/1048576/0                      271 us          271 us         2713 bytes_per_second=3.60785G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/10000        1226 us         1226 us          615 bytes_per_second=815.951M/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/100          1326 us         1326 us          564 bytes_per_second=753.999M/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/10           1608 us         1608 us          462 bytes_per_second=622M/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/2            2700 us         2700 us          275 bytes_per_second=370.316M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/1             867 us          866 us          868 bytes_per_second=1.12704G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/0            1190 us         1190 us          620 bytes_per_second=840.448M/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt32/1048576/10000                  139 us          139 us         4389 bytes_per_second=7.03596G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt32/1048576/100                    238 us          238 us         2483 bytes_per_second=4.10169G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt32/1048576/10                     515 us          515 us         1000 bytes_per_second=1.89702G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt32/1048576/2                     1021 us         1021 us          722 bytes_per_second=979.116M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt32/1048576/1                     6.55 us         6.55 us       109640 bytes_per_second=149.127G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt32/1048576/0                      132 us          132 us         4723 bytes_per_second=7.4224G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/10000         631 us          631 us         1171 bytes_per_second=1.54789G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/100           703 us          703 us         1096 bytes_per_second=1.38954G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/10            808 us          808 us          911 bytes_per_second=1.20892G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/2            1304 us         1304 us          564 bytes_per_second=766.908M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/1             420 us          420 us         1758 bytes_per_second=2.32421G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/0             624 us          624 us         1183 bytes_per_second=1.56476G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt64/1048576/10000                 73.8 us         73.8 us         9720 bytes_per_second=13.2297G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt64/1048576/100                    113 us          113 us         5369 bytes_per_second=8.65305G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt64/1048576/10                     206 us          206 us         3134 bytes_per_second=4.74316G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt64/1048576/2                      516 us          516 us         1000 bytes_per_second=1.89125G/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt64/1048576/1                     3.89 us         3.89 us       187314 bytes_per_second=250.863G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt64/1048576/0                     71.5 us         71.5 us        10264 bytes_per_second=13.6533G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/10000         305 us          305 us         2414 bytes_per_second=3.19811G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/100           334 us          334 us         2210 bytes_per_second=2.92146G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/10            407 us          407 us         1832 bytes_per_second=2.40181G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/2             654 us          654 us         1117 bytes_per_second=1.49329G/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/1             217 us          217 us         3416 bytes_per_second=4.50848G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/0             302 us          302 us         2430 bytes_per_second=3.23243G/s null_percent=0 size=1048.58k\r\n   ```\r\n   \r\n   </details>\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-27T13:24:12.045+0000",
                    "updated": "2021-07-27T13:24:12.045+0000",
                    "started": "2021-07-27T13:24:12.044+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "628432",
                    "issueId": "13391947"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/worklog/628440",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm edited a comment on pull request #10813:\nURL: https://github.com/apache/arrow/pull/10813#issuecomment-887509020\n\n\n   This is just to see how the hash aggregate kernels perform compared to the dedicated scalar aggregation kernels in the case that there is only one group.\r\n   \r\n   I only tested MinMax and Count. I didn't test Sum/Mean since the scalar kernels use pairwise summation and the hash aggregate kernels use naive summation.\r\n   \r\n   Unfortunately, it's rather terrible. For count:\r\n   \r\n   <details>\r\n   \r\n   ```\r\n   ---------------------------------------------------------------------------------------------------\r\n   Benchmark                                         Time             CPU   Iterations UserCounters...\r\n   ---------------------------------------------------------------------------------------------------\r\n   CountKernelBenchInt64/1048576/2                3067 ns         3067 ns       457331 bytes_per_second=318.4G/s null_percent=50 size=1048.58k\r\n   CountKernelBenchInt64Aggregate/1048576/2     412162 ns       412138 ns         3238 bytes_per_second=2.3695G/s null_percent=50 size=1048.58k\r\n   ```\r\n   \r\n   </details>\r\n   \r\n   At 2 orders of magnitude slower, the hash aggregate kernel isn't anywhere near the dedicated scalar one. The scalar kernel essentially just calls CountSetBits, while the hash aggregate kernel must use VisitSetBitRuns and index into a length-1 array of counts. Also, a good amount of time (~10% of the runtime according to perf) is spent just allocating and filling an array of group IDs to use at the start.\r\n   \r\n   For min_max the story is not so clear. The hash aggregate kernel actually wins for floats, but loses badly (not as badly as with Count) for integers.\r\n   \r\n   <details>\r\n   \r\n   ```\r\n   ----------------------------------------------------------------------------------------------------\r\n   Benchmark                                          Time             CPU   Iterations UserCounters...\r\n   ----------------------------------------------------------------------------------------------------\r\n   MinMaxKernelFloat/1048576/10000                  981 us          981 us          638 bytes_per_second=1018.91M/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelFloat/1048576/100                   1008 us         1008 us          723 bytes_per_second=992.523M/s null_percent=1 size=1048.58k\r\n   MinMaxKernelFloat/1048576/10                    1062 us         1062 us          561 bytes_per_second=941.703M/s null_percent=10 size=1048.58k\r\n   MinMaxKernelFloat/1048576/2                     1424 us         1424 us          456 bytes_per_second=702.401M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelFloat/1048576/1                     6.92 us         6.92 us       105816 bytes_per_second=141.155G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelFloat/1048576/0                      900 us          900 us          815 bytes_per_second=1111.18M/s null_percent=0 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/10000         667 us          667 us         1103 bytes_per_second=1.46325G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/100           654 us          654 us          924 bytes_per_second=1.49389G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/10            765 us          765 us          965 bytes_per_second=1.27599G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/2            1267 us         1267 us          585 bytes_per_second=789.267M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/1             421 us          421 us         1693 bytes_per_second=2.32129G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelFloatAggregate/1048576/0             668 us          668 us         1107 bytes_per_second=1.46147G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelDouble/1048576/10000                 420 us          420 us         1712 bytes_per_second=2.32776G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelDouble/1048576/100                   465 us          465 us         1412 bytes_per_second=2.10164G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelDouble/1048576/10                    592 us          592 us         1168 bytes_per_second=1.64947G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelDouble/1048576/2                     730 us          730 us         1008 bytes_per_second=1.33826G/s null_percent=50 size=1048.58k\r\n   MinMaxKernelDouble/1048576/1                    4.10 us         4.10 us       177426 bytes_per_second=238.21G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelDouble/1048576/0                     540 us          540 us         1000 bytes_per_second=1.80829G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/10000        342 us          342 us         2106 bytes_per_second=2.85799G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/100          346 us          346 us         2136 bytes_per_second=2.82629G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/10           385 us          385 us         1911 bytes_per_second=2.53959G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/2            631 us          631 us         1163 bytes_per_second=1.54829G/s null_percent=50 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/1            218 us          218 us         3413 bytes_per_second=4.48758G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/0            334 us          334 us         2193 bytes_per_second=2.92247G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt8/1048576/10000                   571 us          571 us         1293 bytes_per_second=1.71088G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt8/1048576/100                     986 us          986 us          742 bytes_per_second=1014.35M/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt8/1048576/10                     1818 us         1818 us          402 bytes_per_second=550.013M/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt8/1048576/2                      4039 us         4039 us          182 bytes_per_second=247.588M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt8/1048576/1                      22.9 us         22.9 us        31922 bytes_per_second=42.701G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt8/1048576/0                       546 us          546 us         1368 bytes_per_second=1.78943G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/10000         2241 us         2241 us          325 bytes_per_second=446.241M/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/100           2497 us         2497 us          299 bytes_per_second=400.494M/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/10            3144 us         3143 us          237 bytes_per_second=318.129M/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/2             5107 us         5107 us          100 bytes_per_second=195.815M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/1             1581 us         1581 us          386 bytes_per_second=632.705M/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt8Aggregate/1048576/0             2093 us         2093 us          274 bytes_per_second=477.747M/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt16/1048576/10000                  274 us          274 us         2329 bytes_per_second=3.56594G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt16/1048576/100                    459 us          459 us         1429 bytes_per_second=2.12904G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt16/1048576/10                     842 us          842 us          698 bytes_per_second=1.1593G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt16/1048576/2                     1997 us         1997 us          370 bytes_per_second=500.784M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt16/1048576/1                     12.1 us         12.1 us        60436 bytes_per_second=80.6769G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt16/1048576/0                      271 us          271 us         2713 bytes_per_second=3.60785G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/10000        1226 us         1226 us          615 bytes_per_second=815.951M/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/100          1326 us         1326 us          564 bytes_per_second=753.999M/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/10           1608 us         1608 us          462 bytes_per_second=622M/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/2            2700 us         2700 us          275 bytes_per_second=370.316M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/1             867 us          866 us          868 bytes_per_second=1.12704G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt16Aggregate/1048576/0            1190 us         1190 us          620 bytes_per_second=840.448M/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt32/1048576/10000                  139 us          139 us         4389 bytes_per_second=7.03596G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt32/1048576/100                    238 us          238 us         2483 bytes_per_second=4.10169G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt32/1048576/10                     515 us          515 us         1000 bytes_per_second=1.89702G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt32/1048576/2                     1021 us         1021 us          722 bytes_per_second=979.116M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt32/1048576/1                     6.55 us         6.55 us       109640 bytes_per_second=149.127G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt32/1048576/0                      132 us          132 us         4723 bytes_per_second=7.4224G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/10000         631 us          631 us         1171 bytes_per_second=1.54789G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/100           703 us          703 us         1096 bytes_per_second=1.38954G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/10            808 us          808 us          911 bytes_per_second=1.20892G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/2            1304 us         1304 us          564 bytes_per_second=766.908M/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/1             420 us          420 us         1758 bytes_per_second=2.32421G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt32Aggregate/1048576/0             624 us          624 us         1183 bytes_per_second=1.56476G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt64/1048576/10000                 73.8 us         73.8 us         9720 bytes_per_second=13.2297G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt64/1048576/100                    113 us          113 us         5369 bytes_per_second=8.65305G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt64/1048576/10                     206 us          206 us         3134 bytes_per_second=4.74316G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt64/1048576/2                      516 us          516 us         1000 bytes_per_second=1.89125G/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt64/1048576/1                     3.89 us         3.89 us       187314 bytes_per_second=250.863G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt64/1048576/0                     71.5 us         71.5 us        10264 bytes_per_second=13.6533G/s null_percent=0 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/10000         305 us          305 us         2414 bytes_per_second=3.19811G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/100           334 us          334 us         2210 bytes_per_second=2.92146G/s null_percent=1 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/10            407 us          407 us         1832 bytes_per_second=2.40181G/s null_percent=10 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/2             654 us          654 us         1117 bytes_per_second=1.49329G/s null_percent=50 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/1             217 us          217 us         3416 bytes_per_second=4.50848G/s null_percent=100 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/0             302 us          302 us         2430 bytes_per_second=3.23243G/s null_percent=0 size=1048.58k\r\n   ```\r\n   \r\n   </details>\r\n   \r\n   For integers, the scalar kernel has a SIMD variant that gets leveraged. For doubles, it's unclear to me why the scalar kernel is slower; they both boil down to just min/max calls, though the scalar kernel uses fmin/fmax and the hash kernel uses std::min/std::max.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-27T13:32:35.714+0000",
                    "updated": "2021-07-27T13:32:35.714+0000",
                    "started": "2021-07-27T13:32:35.714+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "628440",
                    "issueId": "13391947"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/worklog/628449",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #10813:\nURL: https://github.com/apache/arrow/pull/10813#issuecomment-887521774\n\n\n   Ah, and for min_max, the scalar kernel becomes much faster if it calls std::max instead of std::fmax:\r\n   \r\n   ```\r\n   ----------------------------------------------------------------------------------------------------\r\n   Benchmark                                          Time             CPU   Iterations UserCounters...\r\n   ----------------------------------------------------------------------------------------------------\r\n   MinMaxKernelDouble/1048576/10000                 192 us          192 us         7333 bytes_per_second=5.09496G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/10000        347 us          347 us         3754 bytes_per_second=2.81357G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt64/1048576/10000                 74.8 us         74.8 us        19546 bytes_per_second=13.0498G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/10000         301 us          301 us         4941 bytes_per_second=3.24722G/s null_percent=0.01 size=1048.58k\r\n   ```\r\n   \r\n   So in all cases the hash aggregate kernel is considerably slower.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-27T13:39:54.423+0000",
                    "updated": "2021-07-27T13:39:54.423+0000",
                    "started": "2021-07-27T13:39:54.423+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "628449",
                    "issueId": "13391947"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/worklog/628502",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #10813:\nURL: https://github.com/apache/arrow/pull/10813#issuecomment-887562791\n\n\n   `std::max` seems to have different than `std::fmax` for NaNs.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-27T14:30:53.451+0000",
                    "updated": "2021-07-27T14:30:53.451+0000",
                    "started": "2021-07-27T14:30:53.451+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "628502",
                    "issueId": "13391947"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/worklog/628503",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou edited a comment on pull request #10813:\nURL: https://github.com/apache/arrow/pull/10813#issuecomment-887562791\n\n\n   `std::max` seems to have different semantics than `std::fmax` for NaNs.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-27T14:31:06.763+0000",
                    "updated": "2021-07-27T14:31:06.763+0000",
                    "started": "2021-07-27T14:31:06.763+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "628503",
                    "issueId": "13391947"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/worklog/628517",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #10813:\nURL: https://github.com/apache/arrow/pull/10813#issuecomment-887576231\n\n\n   Ah indeed. Testing it with std::fmax in both kernels, the hash aggregate kernel is slower in all cases:\r\n   \r\n   ```\r\n   ----------------------------------------------------------------------------------------------------\r\n   Benchmark                                          Time             CPU   Iterations UserCounters...\r\n   ----------------------------------------------------------------------------------------------------\r\n   MinMaxKernelDouble/1048576/10000                 495 us          495 us         2897 bytes_per_second=1.97278G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelDoubleAggregate/1048576/10000        645 us          645 us         2160 bytes_per_second=1.5149G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt64/1048576/10000                 80.1 us         80.1 us        16304 bytes_per_second=12.1949G/s null_percent=0.01 size=1048.58k\r\n   MinMaxKernelInt64Aggregate/1048576/10000         718 us          718 us         1897 bytes_per_second=1.35927G/s null_percent=0.01 size=1048.58k\r\n   ```\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-27T14:47:45.754+0000",
                    "updated": "2021-07-27T14:47:45.754+0000",
                    "started": "2021-07-27T14:47:45.754+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "628517",
                    "issueId": "13391947"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/worklog/628518",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #10813:\nURL: https://github.com/apache/arrow/pull/10813#issuecomment-887576488\n\n\n   Well that's disappointing. I'll rewrite the JIRA some- we could still consolidate to a single compute::Function and decide between scalar and grouped aggregation in Dispatch*\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-27T14:48:09.367+0000",
                    "updated": "2021-07-27T14:48:09.367+0000",
                    "started": "2021-07-27T14:48:09.367+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "628518",
                    "issueId": "13391947"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/worklog/628520",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm closed pull request #10813:\nURL: https://github.com/apache/arrow/pull/10813\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-27T14:49:57.621+0000",
                    "updated": "2021-07-27T14:49:57.621+0000",
                    "started": "2021-07-27T14:49:57.620+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "628520",
                    "issueId": "13391947"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/worklog/628545",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #10813:\nURL: https://github.com/apache/arrow/pull/10813#issuecomment-887603025\n\n\n   Thanks for looking into this, @lidavidm\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-27T15:20:09.979+0000",
                    "updated": "2021-07-27T15:20:09.979+0000",
                    "started": "2021-07-27T15:20:09.979+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "628545",
                    "issueId": "13391947"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/worklog/628550",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #10813:\nURL: https://github.com/apache/arrow/pull/10813#issuecomment-887604936\n\n\n   It would have been nice to maintain half as many aggregate kernels. As you say, we could consolidate the implementations into a single logical function (we'd have to consolidate HashAggregateFunction and ScalarAggregateFunction, though?).\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-07-27T15:22:25.567+0000",
                    "updated": "2021-07-27T15:22:25.567+0000",
                    "started": "2021-07-27T15:22:25.566+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "628550",
                    "issueId": "13391947"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 7800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@497c6531[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@a057aaa[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@182a9b41[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@39db62c4[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@73ac79fb[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@68cc1144[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@24706f8f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@465ff487[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@56ac3e16[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@5e6253b6[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@794943e2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@400b7b80[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 7800,
        "customfield_12312520": null,
        "customfield_12312521": "Mon Aug 09 17:10:41 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": null,
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-13451/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2021-07-26T19:02:17.000+0000",
        "updated": "2021-08-09T17:10:41.000+0000",
        "timeoriginalestimate": null,
        "description": "Scalar aggregation does not incur large memory overhead for the associated KernelState objects, so maybe it'd be acceptable to remove explicit scalar aggregation kernels in favor of reusing grouped aggregation kernels with a single group. This would decrease our maintenance burden significantly, and if the benchmarks don't show a regression for single-group aggregation then there's no reason not to.\r\n\r\nEven if there is a performance regression we could bundle the scalar and grouped aggregate kernels in the same compute::Function and decide between them in Dispatch*, rather than confusingly defining distinct \"sum\" and \"hash_sum\" functions",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 10m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 7800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++][Compute] Consider removing ScalarAggregateKernel",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/comment/17387996",
                    "id": "17387996",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
                        "name": "bkietz",
                        "key": "bkietz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
                        },
                        "displayName": "Ben Kietzman",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "[~wesm]\r\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
                        "name": "bkietz",
                        "key": "bkietz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
                        },
                        "displayName": "Ben Kietzman",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-07-27T11:46:09.383+0000",
                    "updated": "2021-07-27T11:46:09.383+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13391947/comment/17396170",
                    "id": "17396170",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
                        "name": "bkietz",
                        "key": "bkietz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
                        },
                        "displayName": "Ben Kietzman",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "At the same time, it'd be nice to make the helper functions\u00a0{{internal::GetKernels}} etc public and well tested.\r\n\r\nSee also: https://github.com/apache/arrow/pull/10793#discussion_r685358176",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
                        "name": "bkietz",
                        "key": "bkietz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
                        },
                        "displayName": "Ben Kietzman",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-08-09T17:10:41.049+0000",
                    "updated": "2021-08-09T17:10:41.049+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z0tcbc:",
        "customfield_12314139": null
    }
}