{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13213732",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732",
    "key": "ARROW-4473",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12345978",
                "id": "12345978",
                "description": "",
                "name": "0.15.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-10-05"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12332543",
                "id": "12332543",
                "name": "Website"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 20400,
            "total": 20400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 20400,
            "total": 20400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-4473/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 35,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/289087",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #8: ARROW-4473: [Website] Support test site deployment\nURL: https://github.com/apache/arrow-site/pull/8\n \n \n   See https://lists.apache.org/thread.html/73e8a7d2ee667e83371e8bb99c13338144c8af5444f55918994713be@%3Cdev.arrow.apache.org%3E\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-05T17:59:23.302+0000",
                    "updated": "2019-08-05T17:59:23.302+0000",
                    "started": "2019-08-05T17:59:23.302+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "289087",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/289098",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #8: ARROW-4473: [Website] Support test site deployment\nURL: https://github.com/apache/arrow-site/pull/8#discussion_r310727786\n \n \n\n ##########\n File path: build-and-deploy.sh\n ##########\n @@ -0,0 +1,51 @@\n+#!/bin/bash\n+set -ev\n+\n+if [ \"${TRAVIS_BRANCH}\" = \"master\" ] && [ \"${TRAVIS_PULL_REQUEST}\" = \"false\" ]; then\n+\n+    if [ -z \"${GITHUB_PAT}\" ]; then\n+        # Don't build because we can't publish\n+        echo \"To publish the site, you must set a GITHUB_PAT at\"\n+        echo \"https://travis-ci.org/\"${TRAVIS_REPO_SLUG}\"/settings\"\n+        exit 1\n+    fi\n+\n+    # Set git config so that the author of the deployed site commit is the same\n+    # as the author of the commit we're building\n+    export AUTHOR_EMAIL=$(git log -1 --pretty=format:%ae)\n+    export AUTHOR_NAME=$(git log -1 --pretty=format:%an)\n+    git config --global user.email \"${AUTHOR_EMAIL}\"\n+    git config --global user.name \"${AUTHOR_NAME}\"\n+\n+    if [ \"${TRAVIS_REPO_SLUG}\" = \"apache/arrow-site\" ]; then\n+        # Production\n+        export TARGET_BRANCH=asf-site\n+        export BASE_URL=https://arrow.apache.org\n+    else\n+        # On a fork, so we'll deploy to GitHub Pages\n+        export TARGET_BRANCH=gh-pages\n+        # You could supply an alternate BASE_URL, but that's not necessary\n+        # because we can infer it based on GitHub Pages conventions\n+        if [ -z \"${BASE_URL}\" ]; then\n+            export BASE_URL=\"https://\"$(echo $TRAVIS_REPO_SLUG | sed 's@/@.github.io/@')\n+        fi\n+    fi\n+    # Set the site.baseurl\n+    perl -pe 's@^baseurl.*@baseurl: '\"${BASE_URL}\"'@' -i _config.yml\n \n Review comment:\n   Why not sed?\r\n   \r\n   ```\r\n   01:arrow-site/ (master) $ grep -E '^baseurl' _config.yml \r\n   baseurl:\r\n   01:arrow-site/ (master) $ sed -i -e's#^baseurl:.*#baseurl: HI#' _config.yml \r\n   01:arrow-site/ (master\u2717) $ grep -E '^baseurl' _config.yml \r\n   baseurl: HI\r\n   01:arrow-site/ (master\u2717) $ sed -i -e's#^baseurl:.*#baseurl: NOPENOPENOPE#' _config.yml \r\n   01:arrow-site/ (master\u2717) $ grep -E '^baseurl' _config.yml \r\n   baseurl: NOPENOPENOPE\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-05T18:13:50.697+0000",
                    "updated": "2019-08-05T18:13:50.697+0000",
                    "started": "2019-08-05T18:13:50.697+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "289098",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/289099",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #8: ARROW-4473: [Website] Support test site deployment\nURL: https://github.com/apache/arrow-site/pull/8#discussion_r310724697\n \n \n\n ##########\n File path: build-and-deploy.sh\n ##########\n @@ -0,0 +1,51 @@\n+#!/bin/bash\n+set -ev\n+\n+if [ \"${TRAVIS_BRANCH}\" = \"master\" ] && [ \"${TRAVIS_PULL_REQUEST}\" = \"false\" ]; then\n+\n+    if [ -z \"${GITHUB_PAT}\" ]; then\n+        # Don't build because we can't publish\n+        echo \"To publish the site, you must set a GITHUB_PAT at\"\n+        echo \"https://travis-ci.org/\"${TRAVIS_REPO_SLUG}\"/settings\"\n+        exit 1\n+    fi\n+\n+    # Set git config so that the author of the deployed site commit is the same\n+    # as the author of the commit we're building\n+    export AUTHOR_EMAIL=$(git log -1 --pretty=format:%ae)\n+    export AUTHOR_NAME=$(git log -1 --pretty=format:%an)\n+    git config --global user.email \"${AUTHOR_EMAIL}\"\n+    git config --global user.name \"${AUTHOR_NAME}\"\n+\n+    if [ \"${TRAVIS_REPO_SLUG}\" = \"apache/arrow-site\" ]; then\n+        # Production\n+        export TARGET_BRANCH=asf-site\n+        export BASE_URL=https://arrow.apache.org\n+    else\n+        # On a fork, so we'll deploy to GitHub Pages\n+        export TARGET_BRANCH=gh-pages\n+        # You could supply an alternate BASE_URL, but that's not necessary\n+        # because we can infer it based on GitHub Pages conventions\n+        if [ -z \"${BASE_URL}\" ]; then\n+            export BASE_URL=\"https://\"$(echo $TRAVIS_REPO_SLUG | sed 's@/@.github.io/@')\n+        fi\n+    fi\n+    # Set the site.baseurl\n+    perl -pe 's@^baseurl.*@baseurl: '\"${BASE_URL}\"'@' -i _config.yml\n+\n+    # Build\n+    gem install jekyll bundler\n+    bundle install\n+    JEKYLL_ENV=production bundle exec jekyll build\n+\n+    # Publish\n+    git clone -b ${TARGET_BRANCH} https://${GITHUB_PAT}@github.com/$TRAVIS_REPO_SLUG.git OUTPUT\n+    rsync -r build/ OUTPUT/\n+    cd OUTPUT\n+\n+    git add .\n \n Review comment:\n   Wrap the git stuff in a block guarded by a check with `git status --porcelain | wc -l`, otherwise there's a race if git push fails for a real reason, e.g. github being down. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-05T18:13:50.727+0000",
                    "updated": "2019-08-05T18:13:50.727+0000",
                    "started": "2019-08-05T18:13:50.727+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "289099",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/289100",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #8: ARROW-4473: [Website] Support test site deployment\nURL: https://github.com/apache/arrow-site/pull/8#discussion_r310729936\n \n \n\n ##########\n File path: build-and-deploy.sh\n ##########\n @@ -0,0 +1,51 @@\n+#!/bin/bash\n+set -ev\n+\n+if [ \"${TRAVIS_BRANCH}\" = \"master\" ] && [ \"${TRAVIS_PULL_REQUEST}\" = \"false\" ]; then\n+\n+    if [ -z \"${GITHUB_PAT}\" ]; then\n+        # Don't build because we can't publish\n+        echo \"To publish the site, you must set a GITHUB_PAT at\"\n+        echo \"https://travis-ci.org/\"${TRAVIS_REPO_SLUG}\"/settings\"\n+        exit 1\n+    fi\n+\n+    # Set git config so that the author of the deployed site commit is the same\n+    # as the author of the commit we're building\n+    export AUTHOR_EMAIL=$(git log -1 --pretty=format:%ae)\n+    export AUTHOR_NAME=$(git log -1 --pretty=format:%an)\n+    git config --global user.email \"${AUTHOR_EMAIL}\"\n+    git config --global user.name \"${AUTHOR_NAME}\"\n+\n+    if [ \"${TRAVIS_REPO_SLUG}\" = \"apache/arrow-site\" ]; then\n+        # Production\n+        export TARGET_BRANCH=asf-site\n+        export BASE_URL=https://arrow.apache.org\n+    else\n+        # On a fork, so we'll deploy to GitHub Pages\n+        export TARGET_BRANCH=gh-pages\n+        # You could supply an alternate BASE_URL, but that's not necessary\n+        # because we can infer it based on GitHub Pages conventions\n+        if [ -z \"${BASE_URL}\" ]; then\n+            export BASE_URL=\"https://\"$(echo $TRAVIS_REPO_SLUG | sed 's@/@.github.io/@')\n+        fi\n+    fi\n+    # Set the site.baseurl\n+    perl -pe 's@^baseurl.*@baseurl: '\"${BASE_URL}\"'@' -i _config.yml\n+\n+    # Build\n+    gem install jekyll bundler\n+    bundle install\n+    JEKYLL_ENV=production bundle exec jekyll build\n+\n+    # Publish\n+    git clone -b ${TARGET_BRANCH} https://${GITHUB_PAT}@github.com/$TRAVIS_REPO_SLUG.git OUTPUT\n+    rsync -r build/ OUTPUT/\n+    cd OUTPUT\n+\n+    git add .\n \n Review comment:\n   What is the race problem? If `git push` fails because GitHub is down, then the build will complete without pushing. That seems reasonable under the circumstances.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-05T18:16:30.761+0000",
                    "updated": "2019-08-05T18:16:30.761+0000",
                    "started": "2019-08-05T18:16:30.761+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "289100",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/289104",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #8: ARROW-4473: [Website] Support test site deployment\nURL: https://github.com/apache/arrow-site/pull/8#discussion_r310730531\n \n \n\n ##########\n File path: build-and-deploy.sh\n ##########\n @@ -0,0 +1,51 @@\n+#!/bin/bash\n+set -ev\n+\n+if [ \"${TRAVIS_BRANCH}\" = \"master\" ] && [ \"${TRAVIS_PULL_REQUEST}\" = \"false\" ]; then\n+\n+    if [ -z \"${GITHUB_PAT}\" ]; then\n+        # Don't build because we can't publish\n+        echo \"To publish the site, you must set a GITHUB_PAT at\"\n+        echo \"https://travis-ci.org/\"${TRAVIS_REPO_SLUG}\"/settings\"\n+        exit 1\n+    fi\n+\n+    # Set git config so that the author of the deployed site commit is the same\n+    # as the author of the commit we're building\n+    export AUTHOR_EMAIL=$(git log -1 --pretty=format:%ae)\n+    export AUTHOR_NAME=$(git log -1 --pretty=format:%an)\n+    git config --global user.email \"${AUTHOR_EMAIL}\"\n+    git config --global user.name \"${AUTHOR_NAME}\"\n+\n+    if [ \"${TRAVIS_REPO_SLUG}\" = \"apache/arrow-site\" ]; then\n+        # Production\n+        export TARGET_BRANCH=asf-site\n+        export BASE_URL=https://arrow.apache.org\n+    else\n+        # On a fork, so we'll deploy to GitHub Pages\n+        export TARGET_BRANCH=gh-pages\n+        # You could supply an alternate BASE_URL, but that's not necessary\n+        # because we can infer it based on GitHub Pages conventions\n+        if [ -z \"${BASE_URL}\" ]; then\n+            export BASE_URL=\"https://\"$(echo $TRAVIS_REPO_SLUG | sed 's@/@.github.io/@')\n+        fi\n+    fi\n+    # Set the site.baseurl\n+    perl -pe 's@^baseurl.*@baseurl: '\"${BASE_URL}\"'@' -i _config.yml\n+\n+    # Build\n+    gem install jekyll bundler\n+    bundle install\n+    JEKYLL_ENV=production bundle exec jekyll build\n+\n+    # Publish\n+    git clone -b ${TARGET_BRANCH} https://${GITHUB_PAT}@github.com/$TRAVIS_REPO_SLUG.git OUTPUT\n+    rsync -r build/ OUTPUT/\n+    cd OUTPUT\n+\n+    git add .\n \n Review comment:\n   Because it swallows the return code with true, normally such error would bubble up. Makes it easier to chain/re-use the script.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-05T18:18:02.522+0000",
                    "updated": "2019-08-05T18:18:02.522+0000",
                    "started": "2019-08-05T18:18:02.522+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "289104",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/289107",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #8: ARROW-4473: [Website] Support test site deployment\nURL: https://github.com/apache/arrow-site/pull/8\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-05T18:19:33.925+0000",
                    "updated": "2019-08-05T18:19:33.925+0000",
                    "started": "2019-08-05T18:19:33.924+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "289107",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/292151",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #9: ARROW-4473: [Website] Support test site deployment (take 2)\nURL: https://github.com/apache/arrow-site/pull/9\n \n \n   See https://lists.apache.org/thread.html/73e8a7d2ee667e83371e8bb99c13338144c8af5444f55918994713be@%3Cdev.arrow.apache.org%3E\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-09T16:42:33.070+0000",
                    "updated": "2019-08-09T16:42:33.070+0000",
                    "started": "2019-08-09T16:42:33.069+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "292151",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/292187",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on issue #9: ARROW-4473: [Website] Support test site deployment (take 2)\nURL: https://github.com/apache/arrow-site/pull/9#issuecomment-520008197\n \n \n   @fsaintjacques PTAL. I added the `--porcelain` check as you requested on #8. As for the `perl` vs. `sed` comment there, at some previous point doing this on a different site, I had trouble with `sed` and using `perl` resolved it. I don't recall the details, but it seems moot since this script is designed to run on Travis, and Travis has `perl` just fine.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-09T17:52:54.306+0000",
                    "updated": "2019-08-09T17:52:54.306+0000",
                    "started": "2019-08-09T17:52:54.305+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "292187",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/292200",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on issue #9: ARROW-4473: [Website] Support test site deployment (take 2)\nURL: https://github.com/apache/arrow-site/pull/9#issuecomment-520011964\n \n \n   Script looks good to me, I only noted the suggested the perl change since the script was also using sed a bit earlier.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-09T18:04:55.225+0000",
                    "updated": "2019-08-09T18:04:55.225+0000",
                    "started": "2019-08-09T18:04:55.224+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "292200",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/292320",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on pull request #9: ARROW-4473: [Website] Support test site deployment (take 2)\nURL: https://github.com/apache/arrow-site/pull/9#discussion_r312652913\n \n \n\n ##########\n File path: build-and-deploy.sh\n ##########\n @@ -0,0 +1,52 @@\n+#!/bin/bash\n+set -ev\n+\n+if [ \"${TRAVIS_BRANCH}\" = \"master\" ] && [ \"${TRAVIS_PULL_REQUEST}\" = \"false\" ]; then\n+\n+    if [ -z \"${GITHUB_PAT}\" ]; then\n+        # Don't build because we can't publish\n+        echo \"To publish the site, you must set a GITHUB_PAT at\"\n+        echo \"https://travis-ci.org/\"${TRAVIS_REPO_SLUG}\"/settings\"\n \n Review comment:\n   We can simplify this to `\"https://...${TRAVIS_REPO_SLUG}/...\"` (no `\"` around `${TRAVIS_REPO_SLUG}`).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-09T23:07:02.449+0000",
                    "updated": "2019-08-09T23:07:02.449+0000",
                    "started": "2019-08-09T23:07:02.449+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "292320",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/292321",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on pull request #9: ARROW-4473: [Website] Support test site deployment (take 2)\nURL: https://github.com/apache/arrow-site/pull/9#discussion_r312654766\n \n \n\n ##########\n File path: build-and-deploy.sh\n ##########\n @@ -0,0 +1,52 @@\n+#!/bin/bash\n+set -ev\n+\n+if [ \"${TRAVIS_BRANCH}\" = \"master\" ] && [ \"${TRAVIS_PULL_REQUEST}\" = \"false\" ]; then\n+\n+    if [ -z \"${GITHUB_PAT}\" ]; then\n+        # Don't build because we can't publish\n+        echo \"To publish the site, you must set a GITHUB_PAT at\"\n+        echo \"https://travis-ci.org/\"${TRAVIS_REPO_SLUG}\"/settings\"\n+        exit 1\n+    fi\n+\n+    # Set git config so that the author of the deployed site commit is the same\n+    # as the author of the commit we're building\n+    export AUTHOR_EMAIL=$(git log -1 --pretty=format:%ae)\n+    export AUTHOR_NAME=$(git log -1 --pretty=format:%an)\n+    git config --global user.email \"${AUTHOR_EMAIL}\"\n+    git config --global user.name \"${AUTHOR_NAME}\"\n+\n+    if [ \"${TRAVIS_REPO_SLUG}\" = \"apache/arrow-site\" ]; then\n+        # Production\n+        export TARGET_BRANCH=asf-site\n+        export BASE_URL=https://arrow.apache.org\n+    else\n+        # On a fork, so we'll deploy to GitHub Pages\n+        export TARGET_BRANCH=gh-pages\n+        # You could supply an alternate BASE_URL, but that's not necessary\n+        # because we can infer it based on GitHub Pages conventions\n+        if [ -z \"${BASE_URL}\" ]; then\n+            export BASE_URL=\"https://\"$(echo $TRAVIS_REPO_SLUG | sed 's@/@.github.io/@')\n+        fi\n+    fi\n+    # Set the site.baseurl\n+    perl -pe 's@^baseurl.*@baseurl: '\"${BASE_URL}\"'@' -i _config.yml\n+\n+    # Build\n+    gem install jekyll bundler\n+    bundle install\n \n Review comment:\n   Ditto.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-09T23:07:02.471+0000",
                    "updated": "2019-08-09T23:07:02.471+0000",
                    "started": "2019-08-09T23:07:02.471+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "292321",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/292322",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on pull request #9: ARROW-4473: [Website] Support test site deployment (take 2)\nURL: https://github.com/apache/arrow-site/pull/9#discussion_r312656958\n \n \n\n ##########\n File path: build-and-deploy.sh\n ##########\n @@ -0,0 +1,52 @@\n+#!/bin/bash\n+set -ev\n+\n+if [ \"${TRAVIS_BRANCH}\" = \"master\" ] && [ \"${TRAVIS_PULL_REQUEST}\" = \"false\" ]; then\n+\n+    if [ -z \"${GITHUB_PAT}\" ]; then\n+        # Don't build because we can't publish\n+        echo \"To publish the site, you must set a GITHUB_PAT at\"\n+        echo \"https://travis-ci.org/\"${TRAVIS_REPO_SLUG}\"/settings\"\n+        exit 1\n+    fi\n+\n+    # Set git config so that the author of the deployed site commit is the same\n+    # as the author of the commit we're building\n+    export AUTHOR_EMAIL=$(git log -1 --pretty=format:%ae)\n+    export AUTHOR_NAME=$(git log -1 --pretty=format:%an)\n+    git config --global user.email \"${AUTHOR_EMAIL}\"\n+    git config --global user.name \"${AUTHOR_NAME}\"\n+\n+    if [ \"${TRAVIS_REPO_SLUG}\" = \"apache/arrow-site\" ]; then\n+        # Production\n+        export TARGET_BRANCH=asf-site\n+        export BASE_URL=https://arrow.apache.org\n+    else\n+        # On a fork, so we'll deploy to GitHub Pages\n+        export TARGET_BRANCH=gh-pages\n+        # You could supply an alternate BASE_URL, but that's not necessary\n+        # because we can infer it based on GitHub Pages conventions\n+        if [ -z \"${BASE_URL}\" ]; then\n+            export BASE_URL=\"https://\"$(echo $TRAVIS_REPO_SLUG | sed 's@/@.github.io/@')\n+        fi\n+    fi\n+    # Set the site.baseurl\n+    perl -pe 's@^baseurl.*@baseurl: '\"${BASE_URL}\"'@' -i _config.yml\n \n Review comment:\n   I think that you run `sed -i ...` on macOS.\r\n   `sed -i ...` on macOS doesn't work because `sed` on macOS is BSD sed not GNU sed.\r\n   \r\n   There isn't portable command line to rewrite a file in-place for BSD sed and GNU sed.\r\n   We need to create a backup file and remove the backup file like we did in `dev/release/00-prepare.sh`: https://github.com/apache/arrow/blob/master/dev/release/00-prepare.sh#L46-L49\r\n   \r\n   BTW, how about using `jekyll build --baseurl=\"${BASE_URL}\"` instead of rewriting `_config.yml`?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-09T23:07:02.475+0000",
                    "updated": "2019-08-09T23:07:02.475+0000",
                    "started": "2019-08-09T23:07:02.474+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "292322",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/292323",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on pull request #9: ARROW-4473: [Website] Support test site deployment (take 2)\nURL: https://github.com/apache/arrow-site/pull/9#discussion_r312669799\n \n \n\n ##########\n File path: build-and-deploy.sh\n ##########\n @@ -0,0 +1,52 @@\n+#!/bin/bash\n+set -ev\n+\n+if [ \"${TRAVIS_BRANCH}\" = \"master\" ] && [ \"${TRAVIS_PULL_REQUEST}\" = \"false\" ]; then\n+\n+    if [ -z \"${GITHUB_PAT}\" ]; then\n+        # Don't build because we can't publish\n+        echo \"To publish the site, you must set a GITHUB_PAT at\"\n+        echo \"https://travis-ci.org/\"${TRAVIS_REPO_SLUG}\"/settings\"\n+        exit 1\n+    fi\n+\n+    # Set git config so that the author of the deployed site commit is the same\n+    # as the author of the commit we're building\n+    export AUTHOR_EMAIL=$(git log -1 --pretty=format:%ae)\n+    export AUTHOR_NAME=$(git log -1 --pretty=format:%an)\n+    git config --global user.email \"${AUTHOR_EMAIL}\"\n+    git config --global user.name \"${AUTHOR_NAME}\"\n+\n+    if [ \"${TRAVIS_REPO_SLUG}\" = \"apache/arrow-site\" ]; then\n+        # Production\n+        export TARGET_BRANCH=asf-site\n \n Review comment:\n   We don't need to `export` this.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-09T23:07:02.537+0000",
                    "updated": "2019-08-09T23:07:02.537+0000",
                    "started": "2019-08-09T23:07:02.537+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "292323",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/292324",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on pull request #9: ARROW-4473: [Website] Support test site deployment (take 2)\nURL: https://github.com/apache/arrow-site/pull/9#discussion_r312653965\n \n \n\n ##########\n File path: build-and-deploy.sh\n ##########\n @@ -0,0 +1,52 @@\n+#!/bin/bash\n+set -ev\n+\n+if [ \"${TRAVIS_BRANCH}\" = \"master\" ] && [ \"${TRAVIS_PULL_REQUEST}\" = \"false\" ]; then\n+\n+    if [ -z \"${GITHUB_PAT}\" ]; then\n+        # Don't build because we can't publish\n+        echo \"To publish the site, you must set a GITHUB_PAT at\"\n+        echo \"https://travis-ci.org/\"${TRAVIS_REPO_SLUG}\"/settings\"\n+        exit 1\n+    fi\n+\n+    # Set git config so that the author of the deployed site commit is the same\n+    # as the author of the commit we're building\n+    export AUTHOR_EMAIL=$(git log -1 --pretty=format:%ae)\n+    export AUTHOR_NAME=$(git log -1 --pretty=format:%an)\n+    git config --global user.email \"${AUTHOR_EMAIL}\"\n+    git config --global user.name \"${AUTHOR_NAME}\"\n+\n+    if [ \"${TRAVIS_REPO_SLUG}\" = \"apache/arrow-site\" ]; then\n+        # Production\n+        export TARGET_BRANCH=asf-site\n+        export BASE_URL=https://arrow.apache.org\n+    else\n+        # On a fork, so we'll deploy to GitHub Pages\n+        export TARGET_BRANCH=gh-pages\n+        # You could supply an alternate BASE_URL, but that's not necessary\n+        # because we can infer it based on GitHub Pages conventions\n+        if [ -z \"${BASE_URL}\" ]; then\n+            export BASE_URL=\"https://\"$(echo $TRAVIS_REPO_SLUG | sed 's@/@.github.io/@')\n \n Review comment:\n   `BASE_URL=$(echo $TRAVIS_REPO_SLUG | sed -e 's@.*/@@')`\r\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-09T23:07:02.570+0000",
                    "updated": "2019-08-09T23:07:02.570+0000",
                    "started": "2019-08-09T23:07:02.569+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "292324",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/292325",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on pull request #9: ARROW-4473: [Website] Support test site deployment (take 2)\nURL: https://github.com/apache/arrow-site/pull/9#discussion_r312669779\n \n \n\n ##########\n File path: build-and-deploy.sh\n ##########\n @@ -0,0 +1,52 @@\n+#!/bin/bash\n+set -ev\n+\n+if [ \"${TRAVIS_BRANCH}\" = \"master\" ] && [ \"${TRAVIS_PULL_REQUEST}\" = \"false\" ]; then\n+\n+    if [ -z \"${GITHUB_PAT}\" ]; then\n+        # Don't build because we can't publish\n+        echo \"To publish the site, you must set a GITHUB_PAT at\"\n+        echo \"https://travis-ci.org/\"${TRAVIS_REPO_SLUG}\"/settings\"\n+        exit 1\n+    fi\n+\n+    # Set git config so that the author of the deployed site commit is the same\n+    # as the author of the commit we're building\n+    export AUTHOR_EMAIL=$(git log -1 --pretty=format:%ae)\n+    export AUTHOR_NAME=$(git log -1 --pretty=format:%an)\n \n Review comment:\n   Should we need to `export` them?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-09T23:07:02.609+0000",
                    "updated": "2019-08-09T23:07:02.609+0000",
                    "started": "2019-08-09T23:07:02.609+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "292325",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/292326",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on pull request #9: ARROW-4473: [Website] Support test site deployment (take 2)\nURL: https://github.com/apache/arrow-site/pull/9#discussion_r312670565\n \n \n\n ##########\n File path: _includes/footer.html\n ##########\n @@ -2,5 +2,7 @@\n <footer class=\"footer\">\n   <p>Apache Arrow, Arrow, Apache, the Apache feather logo, and the Apache Arrow project logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p>\n   <p>&copy; 2016-2019 The Apache Software Foundation</p>\n-  {% asset main.js %}\n+  <script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossorigin=\"anonymous\"></script>\n+  <script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\" integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\" crossorigin=\"anonymous\"></script>\n+  <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js\" crossorigin=\"anonymous\"></script>\n \n Review comment:\n   We don't need this change if we don't use `baseurl` with hostname.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-09T23:07:02.622+0000",
                    "updated": "2019-08-09T23:07:02.622+0000",
                    "started": "2019-08-09T23:07:02.621+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "292326",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/292327",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on pull request #9: ARROW-4473: [Website] Support test site deployment (take 2)\nURL: https://github.com/apache/arrow-site/pull/9#discussion_r312654738\n \n \n\n ##########\n File path: build-and-deploy.sh\n ##########\n @@ -0,0 +1,52 @@\n+#!/bin/bash\n+set -ev\n+\n+if [ \"${TRAVIS_BRANCH}\" = \"master\" ] && [ \"${TRAVIS_PULL_REQUEST}\" = \"false\" ]; then\n+\n+    if [ -z \"${GITHUB_PAT}\" ]; then\n+        # Don't build because we can't publish\n+        echo \"To publish the site, you must set a GITHUB_PAT at\"\n+        echo \"https://travis-ci.org/\"${TRAVIS_REPO_SLUG}\"/settings\"\n+        exit 1\n+    fi\n+\n+    # Set git config so that the author of the deployed site commit is the same\n+    # as the author of the commit we're building\n+    export AUTHOR_EMAIL=$(git log -1 --pretty=format:%ae)\n+    export AUTHOR_NAME=$(git log -1 --pretty=format:%an)\n+    git config --global user.email \"${AUTHOR_EMAIL}\"\n+    git config --global user.name \"${AUTHOR_NAME}\"\n+\n+    if [ \"${TRAVIS_REPO_SLUG}\" = \"apache/arrow-site\" ]; then\n+        # Production\n+        export TARGET_BRANCH=asf-site\n+        export BASE_URL=https://arrow.apache.org\n+    else\n+        # On a fork, so we'll deploy to GitHub Pages\n+        export TARGET_BRANCH=gh-pages\n+        # You could supply an alternate BASE_URL, but that's not necessary\n+        # because we can infer it based on GitHub Pages conventions\n+        if [ -z \"${BASE_URL}\" ]; then\n+            export BASE_URL=\"https://\"$(echo $TRAVIS_REPO_SLUG | sed 's@/@.github.io/@')\n+        fi\n+    fi\n+    # Set the site.baseurl\n+    perl -pe 's@^baseurl.*@baseurl: '\"${BASE_URL}\"'@' -i _config.yml\n+\n+    # Build\n+    gem install jekyll bundler\n \n Review comment:\n   We don't need this because `language: ruby` job does this automatically.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-09T23:07:02.893+0000",
                    "updated": "2019-08-09T23:07:02.893+0000",
                    "started": "2019-08-09T23:07:02.892+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "292327",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/292328",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on pull request #9: ARROW-4473: [Website] Support test site deployment (take 2)\nURL: https://github.com/apache/arrow-site/pull/9#discussion_r312672041\n \n \n\n ##########\n File path: build-and-deploy.sh\n ##########\n @@ -0,0 +1,52 @@\n+#!/bin/bash\n+set -ev\n+\n+if [ \"${TRAVIS_BRANCH}\" = \"master\" ] && [ \"${TRAVIS_PULL_REQUEST}\" = \"false\" ]; then\n+\n+    if [ -z \"${GITHUB_PAT}\" ]; then\n+        # Don't build because we can't publish\n+        echo \"To publish the site, you must set a GITHUB_PAT at\"\n+        echo \"https://travis-ci.org/\"${TRAVIS_REPO_SLUG}\"/settings\"\n+        exit 1\n+    fi\n+\n+    # Set git config so that the author of the deployed site commit is the same\n+    # as the author of the commit we're building\n+    export AUTHOR_EMAIL=$(git log -1 --pretty=format:%ae)\n+    export AUTHOR_NAME=$(git log -1 --pretty=format:%an)\n+    git config --global user.email \"${AUTHOR_EMAIL}\"\n+    git config --global user.name \"${AUTHOR_NAME}\"\n+\n+    if [ \"${TRAVIS_REPO_SLUG}\" = \"apache/arrow-site\" ]; then\n+        # Production\n+        export TARGET_BRANCH=asf-site\n+        export BASE_URL=https://arrow.apache.org\n+    else\n+        # On a fork, so we'll deploy to GitHub Pages\n+        export TARGET_BRANCH=gh-pages\n+        # You could supply an alternate BASE_URL, but that's not necessary\n+        # because we can infer it based on GitHub Pages conventions\n+        if [ -z \"${BASE_URL}\" ]; then\n+            export BASE_URL=\"https://\"$(echo $TRAVIS_REPO_SLUG | sed 's@/@.github.io/@')\n+        fi\n+    fi\n+    # Set the site.baseurl\n+    perl -pe 's@^baseurl.*@baseurl: '\"${BASE_URL}\"'@' -i _config.yml\n+\n+    # Build\n+    gem install jekyll bundler\n+    bundle install\n+    JEKYLL_ENV=production bundle exec jekyll build\n+\n+    # Publish\n+    git clone -b ${TARGET_BRANCH} https://${GITHUB_PAT}@github.com/$TRAVIS_REPO_SLUG.git OUTPUT\n+    rsync -r build/ OUTPUT/\n \n Review comment:\n   `rsync -a --delete --exclude '/.git/' --exclude '/docs/' build/ OUTPUT/` is better to remove needless files.\r\n   (We may need more `--exclude`.)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-09T23:07:02.921+0000",
                    "updated": "2019-08-09T23:07:02.921+0000",
                    "started": "2019-08-09T23:07:02.921+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "292328",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/292329",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on pull request #9: ARROW-4473: [Website] Support test site deployment (take 2)\nURL: https://github.com/apache/arrow-site/pull/9#discussion_r312670062\n \n \n\n ##########\n File path: build-and-deploy.sh\n ##########\n @@ -0,0 +1,52 @@\n+#!/bin/bash\n+set -ev\n+\n+if [ \"${TRAVIS_BRANCH}\" = \"master\" ] && [ \"${TRAVIS_PULL_REQUEST}\" = \"false\" ]; then\n+\n+    if [ -z \"${GITHUB_PAT}\" ]; then\n+        # Don't build because we can't publish\n+        echo \"To publish the site, you must set a GITHUB_PAT at\"\n+        echo \"https://travis-ci.org/\"${TRAVIS_REPO_SLUG}\"/settings\"\n+        exit 1\n+    fi\n+\n+    # Set git config so that the author of the deployed site commit is the same\n+    # as the author of the commit we're building\n+    export AUTHOR_EMAIL=$(git log -1 --pretty=format:%ae)\n+    export AUTHOR_NAME=$(git log -1 --pretty=format:%an)\n+    git config --global user.email \"${AUTHOR_EMAIL}\"\n+    git config --global user.name \"${AUTHOR_NAME}\"\n+\n+    if [ \"${TRAVIS_REPO_SLUG}\" = \"apache/arrow-site\" ]; then\n+        # Production\n+        export TARGET_BRANCH=asf-site\n+        export BASE_URL=https://arrow.apache.org\n \n Review comment:\n   Jekyll's `baseurl` don't include hostname. So `BASE_URL=` is correct.\r\n   \r\n   https://jekyllrb.com/docs/configuration/default/\r\n   \r\n   > baseurl             : \"\" # does not include hostname\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-09T23:07:03.033+0000",
                    "updated": "2019-08-09T23:07:03.033+0000",
                    "started": "2019-08-09T23:07:03.032+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "292329",
                    "issueId": "13213732"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13213732/worklog/292330",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on issue #9: ARROW-4473: [Website] Support test site deployment (take 2)\nURL: https://github.com/apache/arrow-site/pull/9#issuecomment-520091271\n \n \n   I think that we always use UTC but it'll break published posts' URL..\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-08-09T23:08:12.525+0000",
                    "updated": "2019-08-09T23:08:12.525+0000",
                    "started": "2019-08-09T23:08:12.524+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "292330",
                    "issueId": "13213732"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 20400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@a8ed2d9[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@24979f6e[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4263a287[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@5a17394a[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@520c1c22[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@51342a70[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@e9ccd4b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6d2268bb[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5f7d9431[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@2fea5204[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@47742427[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@39edebc2[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 20400,
        "customfield_12312520": null,
        "customfield_12312521": "2019-02-04 18:04:48.0",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-08-15T03:06:21.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-4473/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2019-02-04T18:04:48.000+0000",
        "updated": "2019-08-15T03:06:21.000+0000",
        "timeoriginalestimate": null,
        "description": "This will help with testing and proofing the website.\r\n\r\nI have noticed that there are bugs in the website when the baseurl is not a foo.bar.baz, e.g. if you deploy at root foo.bar.baz/test-site many images and links are broken",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "5h 40m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 20400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Website] Add instructions to do a test-deploy of Arrow website and fix bugs",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [],
            "maxResults": 0,
            "total": 0,
            "startAt": 0
        },
        "customfield_12311820": "0|yi0n1c:",
        "customfield_12314139": null
    }
}