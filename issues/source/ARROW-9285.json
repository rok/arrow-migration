{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13314377",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13314377",
    "key": "ARROW-9285",
    "fields": {
        "fixVersions": [],
        "resolution": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "good-first-issue",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12641284",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12641284",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "outwardIssue": {
                    "id": "13448614",
                    "key": "ARROW-16755",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13448614",
                    "fields": {
                        "summary": "[C++] Improve array expression and kernel evaluation performance on small inputs",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/1",
                            "description": "The issue is open and ready for the assignee to start work on it.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
                            "name": "Open",
                            "id": "1",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
                                "id": 2,
                                "key": "new",
                                "colorName": "blue-gray",
                                "name": "To Do"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/1",
            "description": "The issue is open and ready for the assignee to start work on it.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
            "name": "Open",
            "id": "1",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
                "id": 2,
                "key": "new",
                "colorName": "blue-gray",
                "name": "To Do"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 6000,
            "total": 6000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 6000,
            "total": 6000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-9285/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 10,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13314377/worklog/704536",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #12089:\nURL: https://github.com/apache/arrow/pull/12089#issuecomment-1006598279\n\n\n   https://issues.apache.org/jira/browse/ARROW-9285\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-06T13:37:19.192+0000",
                    "updated": "2022-01-06T13:37:19.192+0000",
                    "started": "2022-01-06T13:37:19.191+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "704536",
                    "issueId": "13314377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13314377/worklog/704585",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "edponce commented on a change in pull request #12089:\nURL: https://github.com/apache/arrow/pull/12089#discussion_r779611886\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec.cc\n##########\n@@ -110,6 +112,78 @@ int64_t ExecBatch::TotalBufferSize() const {\n   return sum;\n }\n \n+bool AddBuffersToSet(const ArrayData& array_data,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  bool insertion_occured = false;\n+  for (const auto& buffer : array_data.buffers) {\n+    insertion_occured = (buffer && seen_buffers->insert(buffer).second);\n+  }\n+  for (const auto& child : array_data.child_data) {\n+    insertion_occured |= AddBuffersToSet(*child, seen_buffers);\n+  }\n+  if (array_data.dictionary) {\n+    insertion_occured |= AddBuffersToSet(*array_data.dictionary, seen_buffers);\n+  }\n+  return insertion_occured;\n+}\n+\n+bool AddBuffersToSet(const Array& array,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  return AddBuffersToSet(*array.data(), seen_buffers);\n+}\n+\n+bool AddBuffersToSet(const ChunkedArray& chunked_array,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  bool insertion_occured = false;\n+  for (const auto& chunk : chunked_array.chunks()) {\n+    insertion_occured |= AddBuffersToSet(*chunk, seen_buffers);\n+  }\n+  return insertion_occured;\n+}\n+\n+bool AddBuffersToSet(const RecordBatch& record_batch,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  bool insertion_occured = false;\n+  for (const auto& column : record_batch.columns()) {\n+    insertion_occured |= AddBuffersToSet(*column, seen_buffers);\n+  }\n+  return insertion_occured;\n+}\n+\n+bool AddBuffersToSet(const Table& table,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  bool insertion_occured = false;\n+  for (const auto& column : table.columns()) {\n+    insertion_occured |= AddBuffersToSet(*column, seen_buffers);\n+  }\n+  return insertion_occured;\n+}\n+\n+// Add all Buffers to a given set, return true if anything was actually added.\n+// If all the buffers in the datum were already in the set, this will return false.\n+bool AddBuffersToSet(Datum datum,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  switch (datum.kind()) {\n+    case Datum::ARRAY:\n+      return AddBuffersToSet(*util::get<std::shared_ptr<ArrayData>>(datum.value),\n+                             seen_buffers);\n+    case Datum::CHUNKED_ARRAY:\n+      return AddBuffersToSet(*util::get<std::shared_ptr<ChunkedArray>>(datum.value),\n+                             seen_buffers);\n+    case Datum::RECORD_BATCH:\n+      return AddBuffersToSet(*util::get<std::shared_ptr<RecordBatch>>(datum.value),\n+                             seen_buffers);\n+    case Datum::TABLE:\n+      return AddBuffersToSet(*util::get<std::shared_ptr<Table>>(datum.value),\n+                             seen_buffers);\n\nReview comment:\n       I am curious if hashing all the values-buffers pointers would suffice instead of storing them in a set. We would still need to traverse nested data structures to capture all the child buffers.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-06T15:04:39.944+0000",
                    "updated": "2022-01-06T15:04:39.944+0000",
                    "started": "2022-01-06T15:04:39.944+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "704585",
                    "issueId": "13314377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13314377/worklog/704587",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "edponce commented on a change in pull request #12089:\nURL: https://github.com/apache/arrow/pull/12089#discussion_r779611886\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec.cc\n##########\n@@ -110,6 +112,78 @@ int64_t ExecBatch::TotalBufferSize() const {\n   return sum;\n }\n \n+bool AddBuffersToSet(const ArrayData& array_data,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  bool insertion_occured = false;\n+  for (const auto& buffer : array_data.buffers) {\n+    insertion_occured = (buffer && seen_buffers->insert(buffer).second);\n+  }\n+  for (const auto& child : array_data.child_data) {\n+    insertion_occured |= AddBuffersToSet(*child, seen_buffers);\n+  }\n+  if (array_data.dictionary) {\n+    insertion_occured |= AddBuffersToSet(*array_data.dictionary, seen_buffers);\n+  }\n+  return insertion_occured;\n+}\n+\n+bool AddBuffersToSet(const Array& array,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  return AddBuffersToSet(*array.data(), seen_buffers);\n+}\n+\n+bool AddBuffersToSet(const ChunkedArray& chunked_array,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  bool insertion_occured = false;\n+  for (const auto& chunk : chunked_array.chunks()) {\n+    insertion_occured |= AddBuffersToSet(*chunk, seen_buffers);\n+  }\n+  return insertion_occured;\n+}\n+\n+bool AddBuffersToSet(const RecordBatch& record_batch,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  bool insertion_occured = false;\n+  for (const auto& column : record_batch.columns()) {\n+    insertion_occured |= AddBuffersToSet(*column, seen_buffers);\n+  }\n+  return insertion_occured;\n+}\n+\n+bool AddBuffersToSet(const Table& table,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  bool insertion_occured = false;\n+  for (const auto& column : table.columns()) {\n+    insertion_occured |= AddBuffersToSet(*column, seen_buffers);\n+  }\n+  return insertion_occured;\n+}\n+\n+// Add all Buffers to a given set, return true if anything was actually added.\n+// If all the buffers in the datum were already in the set, this will return false.\n+bool AddBuffersToSet(Datum datum,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  switch (datum.kind()) {\n+    case Datum::ARRAY:\n+      return AddBuffersToSet(*util::get<std::shared_ptr<ArrayData>>(datum.value),\n+                             seen_buffers);\n+    case Datum::CHUNKED_ARRAY:\n+      return AddBuffersToSet(*util::get<std::shared_ptr<ChunkedArray>>(datum.value),\n+                             seen_buffers);\n+    case Datum::RECORD_BATCH:\n+      return AddBuffersToSet(*util::get<std::shared_ptr<RecordBatch>>(datum.value),\n+                             seen_buffers);\n+    case Datum::TABLE:\n+      return AddBuffersToSet(*util::get<std::shared_ptr<Table>>(datum.value),\n+                             seen_buffers);\n\nReview comment:\n       I am curious if hashing all the values-buffers pointers would suffice instead of storing them in a set. We would still need to traverse nested data structures to capture all the child buffers. This could be solved using a Visitor.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-06T15:05:33.992+0000",
                    "updated": "2022-01-06T15:05:33.992+0000",
                    "started": "2022-01-06T15:05:33.992+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "704587",
                    "issueId": "13314377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13314377/worklog/706189",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #12089:\nURL: https://github.com/apache/arrow/pull/12089#discussion_r781228567\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec.cc\n##########\n@@ -697,7 +771,18 @@ class ScalarExecutor : public KernelExecutorImpl<ScalarKernel> {\n       }\n     }\n \n+    // To check whether the kernel allocated new Buffers,\n+    // insert all the preallocated ones into a set\n+    std::unordered_set<std::shared_ptr<Buffer>> pre_buffers;\n\nReview comment:\n       I'm not sure how we want to handle this feature at all, but we definitely don't want to run those checks unconditionally, unless they're extremely trivial. Perhaps this can be enabled only on debug builds? (`#ifndef _NDEBUG`, for example)\r\n   \r\n   cc @lidavidm \n\n##########\nFile path: cpp/src/arrow/compute/api_scalar.cc\n##########\n@@ -732,6 +732,11 @@ Result<Datum> IsNull(const Datum& arg, NullOptions options, ExecContext* ctx) {\n   return CallFunction(\"is_null\", {arg}, &options, ctx);\n }\n \n+Result<Datum> Misbehave(const Datum& cond, const Datum& if_true, const Datum& if_false,\n+                        ExecContext* ctx) {\n+  return CallFunction(\"misbehave\", {}, ctx);\n+}\n\nReview comment:\n       These should not be added in the public APIs. Instead, these functions should only exist in the corresponding test file, IMHO.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-10T14:18:58.973+0000",
                    "updated": "2022-01-10T14:18:58.973+0000",
                    "started": "2022-01-10T14:18:58.973+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "706189",
                    "issueId": "13314377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13314377/worklog/706216",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #12089:\nURL: https://github.com/apache/arrow/pull/12089#discussion_r781256754\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec.cc\n##########\n@@ -697,7 +771,18 @@ class ScalarExecutor : public KernelExecutorImpl<ScalarKernel> {\n       }\n     }\n \n+    // To check whether the kernel allocated new Buffers,\n+    // insert all the preallocated ones into a set\n+    std::unordered_set<std::shared_ptr<Buffer>> pre_buffers;\n\nReview comment:\n       I think debug-only is fine as this will be most useful for developers.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-10T14:48:52.082+0000",
                    "updated": "2022-01-10T14:48:52.082+0000",
                    "started": "2022-01-10T14:48:52.081+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "706216",
                    "issueId": "13314377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13314377/worklog/707646",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "joosthooz commented on a change in pull request #12089:\nURL: https://github.com/apache/arrow/pull/12089#discussion_r783268377\n\n\n\n##########\nFile path: cpp/src/arrow/compute/api_scalar.cc\n##########\n@@ -732,6 +732,11 @@ Result<Datum> IsNull(const Datum& arg, NullOptions options, ExecContext* ctx) {\n   return CallFunction(\"is_null\", {arg}, &options, ctx);\n }\n \n+Result<Datum> Misbehave(const Datum& cond, const Datum& if_true, const Datum& if_false,\n+                        ExecContext* ctx) {\n+  return CallFunction(\"misbehave\", {}, ctx);\n+}\n\nReview comment:\n       I've removed them again, also from the function registry. I'm now using a different way of calling the function through an executor, instead of going through `CallFunction`\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-12T16:58:41.086+0000",
                    "updated": "2022-01-12T16:58:41.086+0000",
                    "started": "2022-01-12T16:58:41.085+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "707646",
                    "issueId": "13314377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13314377/worklog/707649",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "joosthooz commented on a change in pull request #12089:\nURL: https://github.com/apache/arrow/pull/12089#discussion_r783269777\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec.cc\n##########\n@@ -697,7 +771,18 @@ class ScalarExecutor : public KernelExecutorImpl<ScalarKernel> {\n       }\n     }\n \n+    // To check whether the kernel allocated new Buffers,\n+    // insert all the preallocated ones into a set\n+    std::unordered_set<std::shared_ptr<Buffer>> pre_buffers;\n\nReview comment:\n       The checks are now inside `#ifndef NDEBUG`.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-12T17:00:25.265+0000",
                    "updated": "2022-01-12T17:00:25.265+0000",
                    "started": "2022-01-12T17:00:25.265+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "707649",
                    "issueId": "13314377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13314377/worklog/709019",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "joosthooz commented on a change in pull request #12089:\nURL: https://github.com/apache/arrow/pull/12089#discussion_r784816517\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec.cc\n##########\n@@ -110,6 +112,78 @@ int64_t ExecBatch::TotalBufferSize() const {\n   return sum;\n }\n \n+bool AddBuffersToSet(const ArrayData& array_data,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  bool insertion_occured = false;\n+  for (const auto& buffer : array_data.buffers) {\n+    insertion_occured = (buffer && seen_buffers->insert(buffer).second);\n+  }\n+  for (const auto& child : array_data.child_data) {\n+    insertion_occured |= AddBuffersToSet(*child, seen_buffers);\n+  }\n+  if (array_data.dictionary) {\n+    insertion_occured |= AddBuffersToSet(*array_data.dictionary, seen_buffers);\n+  }\n+  return insertion_occured;\n+}\n+\n+bool AddBuffersToSet(const Array& array,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  return AddBuffersToSet(*array.data(), seen_buffers);\n+}\n+\n+bool AddBuffersToSet(const ChunkedArray& chunked_array,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  bool insertion_occured = false;\n+  for (const auto& chunk : chunked_array.chunks()) {\n+    insertion_occured |= AddBuffersToSet(*chunk, seen_buffers);\n+  }\n+  return insertion_occured;\n+}\n+\n+bool AddBuffersToSet(const RecordBatch& record_batch,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  bool insertion_occured = false;\n+  for (const auto& column : record_batch.columns()) {\n+    insertion_occured |= AddBuffersToSet(*column, seen_buffers);\n+  }\n+  return insertion_occured;\n+}\n+\n+bool AddBuffersToSet(const Table& table,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  bool insertion_occured = false;\n+  for (const auto& column : table.columns()) {\n+    insertion_occured |= AddBuffersToSet(*column, seen_buffers);\n+  }\n+  return insertion_occured;\n+}\n+\n+// Add all Buffers to a given set, return true if anything was actually added.\n+// If all the buffers in the datum were already in the set, this will return false.\n+bool AddBuffersToSet(Datum datum,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n+  switch (datum.kind()) {\n+    case Datum::ARRAY:\n+      return AddBuffersToSet(*util::get<std::shared_ptr<ArrayData>>(datum.value),\n+                             seen_buffers);\n+    case Datum::CHUNKED_ARRAY:\n+      return AddBuffersToSet(*util::get<std::shared_ptr<ChunkedArray>>(datum.value),\n+                             seen_buffers);\n+    case Datum::RECORD_BATCH:\n+      return AddBuffersToSet(*util::get<std::shared_ptr<RecordBatch>>(datum.value),\n+                             seen_buffers);\n+    case Datum::TABLE:\n+      return AddBuffersToSet(*util::get<std::shared_ptr<Table>>(datum.value),\n+                             seen_buffers);\n\nReview comment:\n       Hashing would be nicer, but it would also trigger the error if a kernel deletes a buffer it doesn't need anymore. And I don't think we care about that, just newly allocated ones. What do you think?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-14T12:47:48.217+0000",
                    "updated": "2022-01-14T12:47:48.217+0000",
                    "started": "2022-01-14T12:47:48.217+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "709019",
                    "issueId": "13314377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13314377/worklog/710052",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #12089:\nURL: https://github.com/apache/arrow/pull/12089#discussion_r786159718\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec.cc\n##########\n@@ -110,6 +112,78 @@ int64_t ExecBatch::TotalBufferSize() const {\n   return sum;\n }\n \n+bool AddBuffersToSet(const ArrayData& array_data,\n+                     std::unordered_set<std::shared_ptr<Buffer>>* seen_buffers) {\n\nReview comment:\n       Nit: to reduce the performance overhead, `std::unordered_set<Buffer*>` would be better.\n\n##########\nFile path: cpp/src/arrow/compute/exec.cc\n##########\n@@ -706,6 +790,17 @@ class ScalarExecutor : public KernelExecutorImpl<ScalarKernel> {\n         DCHECK(out.array()->buffers[0])\n             << \"Null bitmap deleted by kernel but can_write_into_slices = true\";\n       }\n+\n+#ifndef NDEBUG\n+      // Check whether the kernel allocated new Buffers\n+      // (instead of using the preallocated ones)\n+      bool insertion_occured = AddBuffersToSet(out, &pre_buffers);\n+      if (insertion_occured) {\n+        return Status::ExecutionError(\n\nReview comment:\n       `ExecutionError` a Gandiva-specific error. Perhaps use `Status::Invalid`?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-17T16:46:55.751+0000",
                    "updated": "2022-01-17T16:46:55.751+0000",
                    "started": "2022-01-17T16:46:55.751+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "710052",
                    "issueId": "13314377"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13314377/worklog/710053",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #12089:\nURL: https://github.com/apache/arrow/pull/12089#issuecomment-1014730488\n\n\n   I think there's a problem with this approach: `MemAllocation::PREALLOCATE` preallocates only fixed-width buffers, not variable-width buffers. So for example, for a string array, indices will be preallocated but not data.\r\n   \r\n   Besides, child buffers are never preallocated. So what happens is that you must check that preallocated buffers are not changed, but this doesn't prevent other buffers from being allocated as well.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-17T16:50:09.756+0000",
                    "updated": "2022-01-17T16:50:09.756+0000",
                    "started": "2022-01-17T16:50:09.755+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "710053",
                    "issueId": "13314377"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 6000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@2e34a03b[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4b4703e5[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6b420b75[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@186965d3[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2c62c636[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@2ecdfc11[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@552f431e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6bbe395[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3cd2c602[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@7dbe98fd[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@522613e7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@b58e57d[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 6000,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Oct 13 17:51:28 UTC 2022",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": null,
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-9285/watchers",
            "watchCount": 4,
            "isWatching": false
        },
        "created": "2020-06-30T21:15:02.000+0000",
        "updated": "2022-10-13T17:51:29.000+0000",
        "timeoriginalestimate": null,
        "description": "If a function has been configured to preallocate space, then executing the kernel should not replace the preallocated buffer during execution -- this is an implementation error. Detecting this would be relatively easy and improve debugging for kernel implementers",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 40m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 6000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Detect unauthorized memory allocations in function kernels",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13314377/comment/17477251",
                    "id": "17477251",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kszucs",
                        "name": "kszucs",
                        "key": "kszucs",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Krisztian Szucs",
                        "active": true,
                        "timeZone": "Europe/Budapest"
                    },
                    "body": "Postponing to 8.0 since the PR is in draft state.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kszucs",
                        "name": "kszucs",
                        "key": "kszucs",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Krisztian Szucs",
                        "active": true,
                        "timeZone": "Europe/Budapest"
                    },
                    "created": "2022-01-17T14:33:19.026+0000",
                    "updated": "2022-01-17T14:33:19.026+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13314377/comment/17617238",
                    "id": "17617238",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=arrowjira",
                        "name": "arrowjira",
                        "key": "arrowjira",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Apache Arrow JIRA Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "This issue was last updated over 90 days ago, which may be an indication it is no longer being actively worked. To better reflect the current state, the issue is being unassigned per [project policy|https://arrow.apache.org/docs/dev/developers/bug_reports.html#issue-assignment]. Please feel free to re-take assignment of the issue if it is being actively worked, or if you plan to start that work soon.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=arrowjira",
                        "name": "arrowjira",
                        "key": "arrowjira",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Apache Arrow JIRA Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2022-10-13T17:51:28.666+0000",
                    "updated": "2022-10-13T17:51:28.666+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z0gcp4:",
        "customfield_12314139": null
    }
}