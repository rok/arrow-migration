{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13243290",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13243290",
    "key": "ARROW-5860",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12345978",
                "id": "12345978",
                "description": "",
                "name": "0.15.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-10-05"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=praveenbingo",
            "name": "praveenbingo",
            "key": "praveenbingo",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Praveen Kumar",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=praveenbingo",
            "name": "praveenbingo",
            "key": "praveenbingo",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Praveen Kumar",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=praveenbingo",
            "name": "praveenbingo",
            "key": "praveenbingo",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Praveen Kumar",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 5400,
            "total": 5400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 5400,
            "total": 5400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5860/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 9,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13243290/worklog/272425",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "praveenbingo commented on pull request #4811: ARROW-5860: [Java][Vector] Fix decimal utils to handle negative values.\nURL: https://github.com/apache/arrow/pull/4811\n \n \n   - Padvalue was defaulted to zero\r\n   - This incorrectly writes negative numbers to buffers.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-05T05:32:11.743+0000",
                    "updated": "2019-07-05T05:32:11.743+0000",
                    "started": "2019-07-05T05:32:11.743+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "272425",
                    "issueId": "13243290"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13243290/worklog/272438",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #4811: ARROW-5860: [Java][Vector] Fix decimal utils to handle negative values.\nURL: https://github.com/apache/arrow/pull/4811#discussion_r300555016\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/util/DecimalUtility.java\n ##########\n @@ -120,34 +121,25 @@ public static void writeLongToArrowBuf(long value, ArrowBuf bytebuf, int index)\n    * width.\n    */\n   public static void writeByteArrayToArrowBuf(byte[] bytes, ArrowBuf bytebuf, int index) {\n-    writeByteArrayToArrowBuf(bytes, bytebuf, index, 0);\n+    writeByteArrayToArrowBufHelper(bytes, bytebuf, index);\n   }\n \n-  private static void writeByteArrayToArrowBuf(byte[] bytes, ArrowBuf bytebuf, int index, int padValue) {\n+  private static void writeByteArrayToArrowBufHelper(byte[] bytes, ArrowBuf bytebuf, int index) {\n     final int startIndex = index * DECIMAL_BYTE_LENGTH;\n     if (bytes.length > DECIMAL_BYTE_LENGTH) {\n       throw new UnsupportedOperationException(\"Decimal size greater than 16 bytes\");\n     }\n \n     // Decimal stored as little endian, need to swap data bytes before writing to ArrowBuf\n     byte[] bytesLE = new byte[bytes.length];\n-    int stop = bytes.length / 2;\n-    for (int i = 0, j; i < stop; i++) {\n-      j = (bytes.length - 1) - i;\n-      bytesLE[i] = bytes[j];\n-      bytesLE[j] = bytes[i];\n-    }\n-    if (bytes.length % 2 != 0) {\n-      int i = (bytes.length / 2);\n-      bytesLE[i] = bytes[i];\n+    int leStartIndex = bytes.length - 1;\n+    for (int i = 0, j; i < bytes.length; i++, leStartIndex--) {\n \n Review comment:\n   variable j is useless?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-05T06:28:48.680+0000",
                    "updated": "2019-07-05T06:28:48.680+0000",
                    "started": "2019-07-05T06:28:48.679+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "272438",
                    "issueId": "13243290"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13243290/worklog/272439",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #4811: ARROW-5860: [Java][Vector] Fix decimal utils to handle negative values.\nURL: https://github.com/apache/arrow/pull/4811#discussion_r300555888\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/util/DecimalUtility.java\n ##########\n @@ -120,34 +121,25 @@ public static void writeLongToArrowBuf(long value, ArrowBuf bytebuf, int index)\n    * width.\n    */\n   public static void writeByteArrayToArrowBuf(byte[] bytes, ArrowBuf bytebuf, int index) {\n-    writeByteArrayToArrowBuf(bytes, bytebuf, index, 0);\n+    writeByteArrayToArrowBufHelper(bytes, bytebuf, index);\n   }\n \n-  private static void writeByteArrayToArrowBuf(byte[] bytes, ArrowBuf bytebuf, int index, int padValue) {\n+  private static void writeByteArrayToArrowBufHelper(byte[] bytes, ArrowBuf bytebuf, int index) {\n     final int startIndex = index * DECIMAL_BYTE_LENGTH;\n     if (bytes.length > DECIMAL_BYTE_LENGTH) {\n       throw new UnsupportedOperationException(\"Decimal size greater than 16 bytes\");\n     }\n \n     // Decimal stored as little endian, need to swap data bytes before writing to ArrowBuf\n     byte[] bytesLE = new byte[bytes.length];\n \n Review comment:\n   Do you think we can make this array reusable, so there is no need to create it every time?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-05T06:31:46.352+0000",
                    "updated": "2019-07-05T06:31:46.352+0000",
                    "started": "2019-07-05T06:31:46.352+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "272439",
                    "issueId": "13243290"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13243290/worklog/272440",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #4811: ARROW-5860: [Java][Vector] Fix decimal utils to handle negative values.\nURL: https://github.com/apache/arrow/pull/4811#discussion_r300556466\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/util/DecimalUtility.java\n ##########\n @@ -120,34 +121,25 @@ public static void writeLongToArrowBuf(long value, ArrowBuf bytebuf, int index)\n    * width.\n    */\n   public static void writeByteArrayToArrowBuf(byte[] bytes, ArrowBuf bytebuf, int index) {\n-    writeByteArrayToArrowBuf(bytes, bytebuf, index, 0);\n+    writeByteArrayToArrowBufHelper(bytes, bytebuf, index);\n   }\n \n-  private static void writeByteArrayToArrowBuf(byte[] bytes, ArrowBuf bytebuf, int index, int padValue) {\n+  private static void writeByteArrayToArrowBufHelper(byte[] bytes, ArrowBuf bytebuf, int index) {\n     final int startIndex = index * DECIMAL_BYTE_LENGTH;\n     if (bytes.length > DECIMAL_BYTE_LENGTH) {\n       throw new UnsupportedOperationException(\"Decimal size greater than 16 bytes\");\n     }\n \n     // Decimal stored as little endian, need to swap data bytes before writing to ArrowBuf\n     byte[] bytesLE = new byte[bytes.length];\n-    int stop = bytes.length / 2;\n-    for (int i = 0, j; i < stop; i++) {\n-      j = (bytes.length - 1) - i;\n-      bytesLE[i] = bytes[j];\n-      bytesLE[j] = bytes[i];\n-    }\n-    if (bytes.length % 2 != 0) {\n-      int i = (bytes.length / 2);\n-      bytesLE[i] = bytes[i];\n+    int leStartIndex = bytes.length - 1;\n+    for (int i = 0, j; i < bytes.length; i++, leStartIndex--) {\n+      bytesLE[leStartIndex] = bytes[i];\n \n Review comment:\n   Simply write bytesLE[i] = bytes[bytes.length - 1 - i], and remove the leStartIndex variable? \r\n   I think this will make the code clearer.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-05T06:34:35.362+0000",
                    "updated": "2019-07-05T06:34:35.362+0000",
                    "started": "2019-07-05T06:34:35.361+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "272440",
                    "issueId": "13243290"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13243290/worklog/272447",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "praveenbingo commented on pull request #4811: ARROW-5860: [Java][Vector] Fix decimal utils to handle negative values.\nURL: https://github.com/apache/arrow/pull/4811#discussion_r300562655\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/util/DecimalUtility.java\n ##########\n @@ -120,34 +121,25 @@ public static void writeLongToArrowBuf(long value, ArrowBuf bytebuf, int index)\n    * width.\n    */\n   public static void writeByteArrayToArrowBuf(byte[] bytes, ArrowBuf bytebuf, int index) {\n-    writeByteArrayToArrowBuf(bytes, bytebuf, index, 0);\n+    writeByteArrayToArrowBufHelper(bytes, bytebuf, index);\n   }\n \n-  private static void writeByteArrayToArrowBuf(byte[] bytes, ArrowBuf bytebuf, int index, int padValue) {\n+  private static void writeByteArrayToArrowBufHelper(byte[] bytes, ArrowBuf bytebuf, int index) {\n     final int startIndex = index * DECIMAL_BYTE_LENGTH;\n     if (bytes.length > DECIMAL_BYTE_LENGTH) {\n       throw new UnsupportedOperationException(\"Decimal size greater than 16 bytes\");\n     }\n \n     // Decimal stored as little endian, need to swap data bytes before writing to ArrowBuf\n     byte[] bytesLE = new byte[bytes.length];\n \n Review comment:\n   If its global, it would need synchronization no? Overhead of that would be greater than the allocation/gc of this array which would be in young gen which would be fast.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-05T07:03:35.089+0000",
                    "updated": "2019-07-05T07:03:35.089+0000",
                    "started": "2019-07-05T07:03:35.088+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "272447",
                    "issueId": "13243290"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13243290/worklog/272448",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "praveenbingo commented on pull request #4811: ARROW-5860: [Java][Vector] Fix decimal utils to handle negative values.\nURL: https://github.com/apache/arrow/pull/4811#discussion_r300562681\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/util/DecimalUtility.java\n ##########\n @@ -120,34 +121,25 @@ public static void writeLongToArrowBuf(long value, ArrowBuf bytebuf, int index)\n    * width.\n    */\n   public static void writeByteArrayToArrowBuf(byte[] bytes, ArrowBuf bytebuf, int index) {\n-    writeByteArrayToArrowBuf(bytes, bytebuf, index, 0);\n+    writeByteArrayToArrowBufHelper(bytes, bytebuf, index);\n   }\n \n-  private static void writeByteArrayToArrowBuf(byte[] bytes, ArrowBuf bytebuf, int index, int padValue) {\n+  private static void writeByteArrayToArrowBufHelper(byte[] bytes, ArrowBuf bytebuf, int index) {\n     final int startIndex = index * DECIMAL_BYTE_LENGTH;\n     if (bytes.length > DECIMAL_BYTE_LENGTH) {\n       throw new UnsupportedOperationException(\"Decimal size greater than 16 bytes\");\n     }\n \n     // Decimal stored as little endian, need to swap data bytes before writing to ArrowBuf\n     byte[] bytesLE = new byte[bytes.length];\n-    int stop = bytes.length / 2;\n-    for (int i = 0, j; i < stop; i++) {\n-      j = (bytes.length - 1) - i;\n-      bytesLE[i] = bytes[j];\n-      bytesLE[j] = bytes[i];\n-    }\n-    if (bytes.length % 2 != 0) {\n-      int i = (bytes.length / 2);\n-      bytesLE[i] = bytes[i];\n+    int leStartIndex = bytes.length - 1;\n+    for (int i = 0, j; i < bytes.length; i++, leStartIndex--) {\n \n Review comment:\n   sure, removing\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-05T07:03:42.272+0000",
                    "updated": "2019-07-05T07:03:42.272+0000",
                    "started": "2019-07-05T07:03:42.272+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "272448",
                    "issueId": "13243290"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13243290/worklog/272450",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "praveenbingo commented on pull request #4811: ARROW-5860: [Java][Vector] Fix decimal utils to handle negative values.\nURL: https://github.com/apache/arrow/pull/4811#discussion_r300562827\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/util/DecimalUtility.java\n ##########\n @@ -120,34 +121,25 @@ public static void writeLongToArrowBuf(long value, ArrowBuf bytebuf, int index)\n    * width.\n    */\n   public static void writeByteArrayToArrowBuf(byte[] bytes, ArrowBuf bytebuf, int index) {\n-    writeByteArrayToArrowBuf(bytes, bytebuf, index, 0);\n+    writeByteArrayToArrowBufHelper(bytes, bytebuf, index);\n   }\n \n-  private static void writeByteArrayToArrowBuf(byte[] bytes, ArrowBuf bytebuf, int index, int padValue) {\n+  private static void writeByteArrayToArrowBufHelper(byte[] bytes, ArrowBuf bytebuf, int index) {\n     final int startIndex = index * DECIMAL_BYTE_LENGTH;\n     if (bytes.length > DECIMAL_BYTE_LENGTH) {\n       throw new UnsupportedOperationException(\"Decimal size greater than 16 bytes\");\n     }\n \n     // Decimal stored as little endian, need to swap data bytes before writing to ArrowBuf\n     byte[] bytesLE = new byte[bytes.length];\n-    int stop = bytes.length / 2;\n-    for (int i = 0, j; i < stop; i++) {\n-      j = (bytes.length - 1) - i;\n-      bytesLE[i] = bytes[j];\n-      bytesLE[j] = bytes[i];\n-    }\n-    if (bytes.length % 2 != 0) {\n-      int i = (bytes.length / 2);\n-      bytesLE[i] = bytes[i];\n+    int leStartIndex = bytes.length - 1;\n+    for (int i = 0, j; i < bytes.length; i++, leStartIndex--) {\n+      bytesLE[leStartIndex] = bytes[i];\n \n Review comment:\n   sure fixed.\r\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-05T07:04:14.242+0000",
                    "updated": "2019-07-05T07:04:14.242+0000",
                    "started": "2019-07-05T07:04:14.241+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "272450",
                    "issueId": "13243290"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13243290/worklog/273074",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #4811: ARROW-5860: [Java][Vector] Fix decimal utils to handle negative values.\nURL: https://github.com/apache/arrow/pull/4811\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-08T06:18:30.904+0000",
                    "updated": "2019-07-08T06:18:30.904+0000",
                    "started": "2019-07-08T06:18:30.903+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "273074",
                    "issueId": "13243290"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13243290/worklog/273075",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on issue #4811: ARROW-5860: [Java][Vector] Fix decimal utils to handle negative values.\nURL: https://github.com/apache/arrow/pull/4811#issuecomment-509093957\n \n \n   thanks @praveenbingo \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-08T06:18:50.186+0000",
                    "updated": "2019-07-08T06:18:50.186+0000",
                    "started": "2019-07-08T06:18:50.185+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "273075",
                    "issueId": "13243290"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 5400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@7cda61a8[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5c935394[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@35270a7b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@73eef0b8[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@143d50d7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@71fad74e[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7c837fd8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@786c2bc0[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6a967f2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@214e90ce[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@46545680[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@5fff47a1[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 5400,
        "customfield_12312520": null,
        "customfield_12312521": "Mon Jul 08 06:18:26 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-07-08T06:18:26.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5860/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2019-07-05T04:51:31.000+0000",
        "updated": "2019-08-01T22:39:26.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 5400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Java] [Vector] Fix decimal byte setter",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13243290/comment/16880056",
                    "id": "16880056",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pravindra",
                        "name": "pravindra",
                        "key": "pravindra",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
                        },
                        "displayName": "Pindikura Ravindra",
                        "active": true,
                        "timeZone": "Asia/Kolkata"
                    },
                    "body": "Issue resolved by pull request 4811\n[https://github.com/apache/arrow/pull/4811]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pravindra",
                        "name": "pravindra",
                        "key": "pravindra",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
                        },
                        "displayName": "Pindikura Ravindra",
                        "active": true,
                        "timeZone": "Asia/Kolkata"
                    },
                    "created": "2019-07-08T06:18:26.979+0000",
                    "updated": "2019-07-08T06:18:26.979+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z04e4o:",
        "customfield_12314139": null
    }
}