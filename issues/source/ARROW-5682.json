{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13240925",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925",
    "key": "ARROW-5682",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12345978",
                "id": "12345978",
                "description": "",
                "name": "0.15.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-10-05"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343937",
                "id": "12343937",
                "description": "",
                "name": "0.13.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-04-01"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
            "name": "jorisvandenbossche",
            "key": "jorisvandenbossche",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Joris Van den Bossche",
            "active": true,
            "timeZone": "Europe/Brussels"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bryanc",
            "name": "bryanc",
            "key": "bryanc",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bryanc&avatarId=23479",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bryanc&avatarId=23479",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bryanc&avatarId=23479",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bryanc&avatarId=23479"
            },
            "displayName": "Bryan Cutler",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=bryanc",
            "name": "bryanc",
            "key": "bryanc",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bryanc&avatarId=23479",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bryanc&avatarId=23479",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bryanc&avatarId=23479",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bryanc&avatarId=23479"
            },
            "displayName": "Bryan Cutler",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 12000,
            "total": 12000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 12000,
            "total": 12000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5682/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 21,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/308939",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on pull request #5333: ARROW-5682: [Python] raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333\n \n \n   https://issues.apache.org/jira/browse/ARROW-5682\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-09T14:42:13.836+0000",
                    "updated": "2019-09-09T14:42:13.836+0000",
                    "started": "2019-09-09T14:42:13.836+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "308939",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/308948",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on pull request #5333: ARROW-5682: [Python] raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#discussion_r322286159\n \n \n\n ##########\n File path: cpp/src/arrow/python/numpy_to_arrow.cc\n ##########\n @@ -670,9 +671,11 @@ Status NumPyConverter::Visit(const StringType& type) {\n         return Status::Invalid(\"Encountered non-UTF8 binary value: \",\n                                HexEncode(data, itemsize_));\n       }\n-    } else {\n+    } else if (is_unicode_type) {\n       return AppendUTF32(reinterpret_cast<const char*>(data), itemsize_, byteorder,\n                          &builder);\n+    } else {\n+      return Status::Invalid(\"Expected a string or bytes dtype, got \", dtype_->kind);\n \n Review comment:\n   Is there a way to get a nicer name for the numpy dtype except for its \"kind\" (from the C API)? \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-09T14:50:07.310+0000",
                    "updated": "2019-09-09T14:50:07.310+0000",
                    "started": "2019-09-09T14:50:07.309+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "308948",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/308957",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#discussion_r322291970\n \n \n\n ##########\n File path: cpp/src/arrow/python/numpy_to_arrow.cc\n ##########\n @@ -670,9 +671,11 @@ Status NumPyConverter::Visit(const StringType& type) {\n         return Status::Invalid(\"Encountered non-UTF8 binary value: \",\n                                HexEncode(data, itemsize_));\n       }\n-    } else {\n+    } else if (is_unicode_type) {\n       return AppendUTF32(reinterpret_cast<const char*>(data), itemsize_, byteorder,\n                          &builder);\n+    } else {\n+      return Status::Invalid(\"Expected a string or bytes dtype, got \", dtype_->kind);\n \n Review comment:\n   You can probably use `PyObject_Str`.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-09T15:00:15.241+0000",
                    "updated": "2019-09-09T15:00:15.241+0000",
                    "started": "2019-09-09T15:00:15.241+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "308957",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/308958",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#discussion_r322292674\n \n \n\n ##########\n File path: cpp/src/arrow/python/numpy_to_arrow.cc\n ##########\n @@ -670,9 +671,11 @@ Status NumPyConverter::Visit(const StringType& type) {\n         return Status::Invalid(\"Encountered non-UTF8 binary value: \",\n                                HexEncode(data, itemsize_));\n       }\n-    } else {\n+    } else if (is_unicode_type) {\n       return AppendUTF32(reinterpret_cast<const char*>(data), itemsize_, byteorder,\n                          &builder);\n+    } else {\n+      return Status::Invalid(\"Expected a string or bytes dtype, got \", dtype_->kind);\n \n Review comment:\n   You can also call directly one of our helpers, `PyObject_StdStringStr` or `PyObject_StdStringRepr`.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-09T15:01:26.613+0000",
                    "updated": "2019-09-09T15:01:26.613+0000",
                    "started": "2019-09-09T15:01:26.613+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "308958",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/308960",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#discussion_r322293817\n \n \n\n ##########\n File path: cpp/src/arrow/python/numpy_to_arrow.cc\n ##########\n @@ -670,9 +671,11 @@ Status NumPyConverter::Visit(const StringType& type) {\n         return Status::Invalid(\"Encountered non-UTF8 binary value: \",\n                                HexEncode(data, itemsize_));\n       }\n-    } else {\n+    } else if (is_unicode_type) {\n \n Review comment:\n   Instead of checking this condition inside the append loop, you can raise the error outside (by checking `!is_binary_type && !is_unicode_type`).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-09T15:03:24.230+0000",
                    "updated": "2019-09-09T15:03:24.230+0000",
                    "started": "2019-09-09T15:03:24.230+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "308960",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/308968",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on issue #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#issuecomment-529523419\n \n \n   So the reason the test are failing is for this case (on master):\r\n   \r\n   ```\r\n   In [35]: pa.array(np.array([np.nan, np.nan]), pa.string()) \r\n   Out[35]: \r\n   <pyarrow.lib.StringArray object at 0x7f453d26ec78>\r\n   [\r\n     \"\",\r\n     \"\"\r\n   ```\r\n   \r\n   So an all-nan array gets converted to empty strings (which is clearly wrong behaviour). Also with `from_pandas=True`, this gives empty strings (instead of NULLs). \r\n   \r\n   The test case that is failing is basically doing:\r\n   \r\n   ```\r\n   In [42]: schema = pa.schema([ \r\n       ...:     pa.field('a', pa.string()), \r\n       ...: ])        \r\n   \r\n   In [44]: table = pa.Table.from_pandas(pd.DataFrame({'a': [np.nan, np.nan]}), schema=schema, preserve_index=False)  \r\n   \r\n   In [46]: table.column('a')[0] \r\n   Out[46]: ''\r\n   ```\r\n   \r\n   but without checking the actual values in it.\r\n   \r\n   To properly fix this, I think we might need to:\r\n   \r\n   - raise an error when passing all-nan float data (-> what is already done by this PR)\r\n   - except with `from_pandas=True`, accept it but return a string array with nulls\r\n   \r\n   However, that might complicate the code somewhat (although the case is already handled by the object dtype / plain python code, so maybe can call that?).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-09T15:10:20.564+0000",
                    "updated": "2019-09-09T15:10:20.564+0000",
                    "started": "2019-09-09T15:10:20.564+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "308968",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/308993",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on pull request #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#discussion_r322311180\n \n \n\n ##########\n File path: cpp/src/arrow/python/numpy_to_arrow.cc\n ##########\n @@ -670,9 +671,11 @@ Status NumPyConverter::Visit(const StringType& type) {\n         return Status::Invalid(\"Encountered non-UTF8 binary value: \",\n                                HexEncode(data, itemsize_));\n       }\n-    } else {\n+    } else if (is_unicode_type) {\n       return AppendUTF32(reinterpret_cast<const char*>(data), itemsize_, byteorder,\n                          &builder);\n+    } else {\n+      return Status::Invalid(\"Expected a string or bytes dtype, got \", dtype_->kind);\n \n Review comment:\n   Thanks, updated with `PyObject_StdStringStr`\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-09T15:35:08.249+0000",
                    "updated": "2019-09-09T15:35:08.249+0000",
                    "started": "2019-09-09T15:35:08.249+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "308993",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/309006",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#issuecomment-529545534\n \n \n   I'd say you should try implementing the proper fix :-)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-09T15:55:01.976+0000",
                    "updated": "2019-09-09T15:55:01.976+0000",
                    "started": "2019-09-09T15:55:01.976+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "309006",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/309126",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on issue #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#issuecomment-529594563\n \n \n   > I'd say you should try implementing the proper fix :-)\r\n   \r\n   It's actually a bit bigger issue than just strings. If we accept all-NaN ones for string, we should also accept it for all other types? So given that this is a bit bigger endeavour, I would maybe rather do that in a separate PR?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-09T17:55:37.282+0000",
                    "updated": "2019-09-09T17:55:37.282+0000",
                    "started": "2019-09-09T17:55:37.282+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "309126",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/309128",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#issuecomment-529595124\n \n \n   Personally, I find it weird to accept NaNs for anything else than floating-point numbers and perhaps integers. But I'm not really a Pandas user :-)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-09T17:56:56.349+0000",
                    "updated": "2019-09-09T17:56:56.349+0000",
                    "started": "2019-09-09T17:56:56.348+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "309128",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/309136",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on issue #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#issuecomment-529603051\n \n \n   We can also decide to only accept (in case of strings) the all-nans in object dtype, not float dtype. And I can update the failing test accordingly.\r\n   \r\n   I certainly agree it is strange to accept float data for anything else than float (or integer). The main problem *in practice* is that if you have only NaNs for some reason, even if it was intended as strings, pandas will easily interpret this as floats, and you end up with a float column.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-09T18:17:55.041+0000",
                    "updated": "2019-09-09T18:17:55.041+0000",
                    "started": "2019-09-09T18:17:55.041+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "309136",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/309139",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#issuecomment-529603904\n \n \n   The use of NaN for null should only apply when `from_pandas=True`. I can get involved with this if it helps...\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-09T18:20:05.159+0000",
                    "updated": "2019-09-09T18:20:05.159+0000",
                    "started": "2019-09-09T18:20:05.159+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "309139",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/309143",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on issue #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#issuecomment-529607384\n \n \n   > The use of NaN for null should only apply when from_pandas=True.\r\n   \r\n   Yes, that's also what I did (and what I asserted in the tests). \r\n   \r\n   I just pushed an attempt to do this for strings (the approach I took is to construct a null bitmask from the values (in a from_pandas=True context), and only if it are all nulls create a NullArray and cast that to string). Not sure if this is the best approach.\r\n   \r\n   If we want to go down this path of accepting all-nan float array for non-numeric types, we should probably make this more generic (and not only do it for strings).\r\n   \r\n   Still not fully sure we should do this, I can also easily fix the existing failing test by ensuring the all-nan input there is of object dtype instead of float dtype.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-09T18:28:21.812+0000",
                    "updated": "2019-09-09T18:28:21.812+0000",
                    "started": "2019-09-09T18:28:21.811+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "309143",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/310580",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#discussion_r323236901\n \n \n\n ##########\n File path: cpp/src/arrow/python/numpy_to_arrow.cc\n ##########\n @@ -661,6 +661,28 @@ Status NumPyConverter::Visit(const StringType& type) {\n   PyAcquireGIL gil_lock;\n \n   const bool is_binary_type = dtype_->type_num == NPY_STRING;\n+  const bool is_unicode_type = dtype_->type_num == NPY_UNICODE;\n+\n+  if (!is_binary_type && !is_unicode_type) {\n+    const bool is_float_type = dtype_->kind == 'f';\n+    if (from_pandas_ && is_float_type) {\n+      RETURN_NOT_OK(NumPyNullsConverter::Convert(pool_, arr_, from_pandas_, &null_bitmap_,\n+                                                 &null_count_));\n+      if (null_count_ == length_) {\n \n Review comment:\n   Add a comment why we're doing this?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-11T13:23:08.988+0000",
                    "updated": "2019-09-11T13:23:08.988+0000",
                    "started": "2019-09-11T13:23:08.988+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "310580",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/310581",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#discussion_r323237209\n \n \n\n ##########\n File path: cpp/src/arrow/python/numpy_to_arrow.cc\n ##########\n @@ -661,6 +661,28 @@ Status NumPyConverter::Visit(const StringType& type) {\n   PyAcquireGIL gil_lock;\n \n   const bool is_binary_type = dtype_->type_num == NPY_STRING;\n+  const bool is_unicode_type = dtype_->type_num == NPY_UNICODE;\n+\n+  if (!is_binary_type && !is_unicode_type) {\n+    const bool is_float_type = dtype_->kind == 'f';\n+    if (from_pandas_ && is_float_type) {\n+      RETURN_NOT_OK(NumPyNullsConverter::Convert(pool_, arr_, from_pandas_, &null_bitmap_,\n+                                                 &null_count_));\n+      if (null_count_ == length_) {\n+        auto arr = std::make_shared<NullArray>(length_);\n+        std::shared_ptr<Array> out;\n+        compute::FunctionContext context(pool_);\n+        RETURN_NOT_OK(\n+            compute::Cast(&context, *arr, arrow::utf8(), cast_options_, &out));\n+        out_arrays_.emplace_back(out);\n+        return Status::OK();\n+      }\n+    }\n+    std::string dtype_string;\n+    RETURN_NOT_OK(internal::PyObject_StdStringStr(\n+      reinterpret_cast<PyObject*>(dtype_), &dtype_string));\n+    return Status::Invalid(\"Expected a string or bytes dtype, got \", dtype_string);\n \n Review comment:\n   Shouldn't this be a `TypeError`?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-11T13:23:08.991+0000",
                    "updated": "2019-09-11T13:23:08.991+0000",
                    "started": "2019-09-11T13:23:08.991+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "310581",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/311314",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on pull request #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#discussion_r323635312\n \n \n\n ##########\n File path: cpp/src/arrow/python/numpy_to_arrow.cc\n ##########\n @@ -661,6 +661,28 @@ Status NumPyConverter::Visit(const StringType& type) {\n   PyAcquireGIL gil_lock;\n \n   const bool is_binary_type = dtype_->type_num == NPY_STRING;\n+  const bool is_unicode_type = dtype_->type_num == NPY_UNICODE;\n+\n+  if (!is_binary_type && !is_unicode_type) {\n+    const bool is_float_type = dtype_->kind == 'f';\n+    if (from_pandas_ && is_float_type) {\n+      RETURN_NOT_OK(NumPyNullsConverter::Convert(pool_, arr_, from_pandas_, &null_bitmap_,\n+                                                 &null_count_));\n+      if (null_count_ == length_) {\n \n Review comment:\n   done\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-12T09:29:11.011+0000",
                    "updated": "2019-09-12T09:29:11.011+0000",
                    "started": "2019-09-12T09:29:11.010+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "311314",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/311315",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on pull request #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#discussion_r323635278\n \n \n\n ##########\n File path: cpp/src/arrow/python/numpy_to_arrow.cc\n ##########\n @@ -661,6 +661,28 @@ Status NumPyConverter::Visit(const StringType& type) {\n   PyAcquireGIL gil_lock;\n \n   const bool is_binary_type = dtype_->type_num == NPY_STRING;\n+  const bool is_unicode_type = dtype_->type_num == NPY_UNICODE;\n+\n+  if (!is_binary_type && !is_unicode_type) {\n+    const bool is_float_type = dtype_->kind == 'f';\n+    if (from_pandas_ && is_float_type) {\n+      RETURN_NOT_OK(NumPyNullsConverter::Convert(pool_, arr_, from_pandas_, &null_bitmap_,\n+                                                 &null_count_));\n+      if (null_count_ == length_) {\n+        auto arr = std::make_shared<NullArray>(length_);\n+        std::shared_ptr<Array> out;\n+        compute::FunctionContext context(pool_);\n+        RETURN_NOT_OK(\n+            compute::Cast(&context, *arr, arrow::utf8(), cast_options_, &out));\n+        out_arrays_.emplace_back(out);\n+        return Status::OK();\n+      }\n+    }\n+    std::string dtype_string;\n+    RETURN_NOT_OK(internal::PyObject_StdStringStr(\n+      reinterpret_cast<PyObject*>(dtype_), &dtype_string));\n+    return Status::Invalid(\"Expected a string or bytes dtype, got \", dtype_string);\n \n Review comment:\n   The binary check below return Invalid, but there it is about incorrect individual values, where here it is about the type of the full array, so indeed going with TypeError then.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-12T09:29:11.088+0000",
                    "updated": "2019-09-12T09:29:11.088+0000",
                    "started": "2019-09-12T09:29:11.087+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "311315",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/311327",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#issuecomment-530752587\n \n \n   AppVeyor: https://ci.appveyor.com/project/jorisvandenbossche/arrow/builds/27361266\r\n   Travis: https://travis-ci.org/jorisvandenbossche/arrow\r\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-12T09:51:00.716+0000",
                    "updated": "2019-09-12T09:51:00.716+0000",
                    "started": "2019-09-12T09:51:00.715+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "311327",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/311349",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333#issuecomment-530781344\n \n \n   CI errors are unrelated, will merge.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-12T11:22:48.164+0000",
                    "updated": "2019-09-12T11:22:48.164+0000",
                    "started": "2019-09-12T11:22:48.163+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "311349",
                    "issueId": "13240925"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/worklog/311351",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5333: ARROW-5682: [Python] Raise error when trying to convert non-string dtype to string\nURL: https://github.com/apache/arrow/pull/5333\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-12T11:23:29.518+0000",
                    "updated": "2019-09-12T11:23:29.518+0000",
                    "started": "2019-09-12T11:23:29.517+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "311351",
                    "issueId": "13240925"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 12000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@3a137f7e[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@467991db[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5ec8ae45[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@54350b0e[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@76642e5f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@7a67531[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1c874906[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@60964ce3[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@37d79078[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3ec744e[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2585d24c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@7726734b[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 12000,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Sep 12 11:23:29 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-09-12T11:23:29.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5682/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2019-06-21T17:46:46.000+0000",
        "updated": "2019-09-12T11:44:37.000+0000",
        "timeoriginalestimate": null,
        "description": "When calling {{pa.Array.from_pandas}} primitive data as input, and casting to string with  \"type=pa.string()\", the resulting pyarrow Array can have inconsistent values. For most input, the result is an empty string, however for some types (int32, int64) the values are '\\x01' etc.\r\n\r\n{noformat}\r\nIn [8]: s = pd.Series([1, 2, 3], dtype=np.uint8)\r\n\r\nIn [9]: pa.Array.from_pandas(s, type=pa.string())                                                                            \r\nOut[9]: \r\n<pyarrow.lib.StringArray object at 0x7f90b6091a48>\r\n[\r\n  \"\",\r\n  \"\",\r\n  \"\"\r\n]\r\n\r\nIn [10]: s = pd.Series([1, 2, 3], dtype=np.uint32)                                                                           \r\n\r\nIn [11]: pa.Array.from_pandas(s, type=pa.string())                                                                           \r\nOut[11]: \r\n<pyarrow.lib.StringArray object at 0x7f9097efca48>\r\n[\r\n  \"\u0001\",\r\n  \"\u0002\",\r\n  \"\u0003\"\r\n]\r\n{noformat}\r\n\r\nThis came from the Spark discussion https://github.com/apache/spark/pull/24930/files#r296187903. Type casting this way in Spark is not supported, but it would be good to get the behavior consistent. Would it be better to raise an UnsupportedOperation error?\r\n",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "3h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 12000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python] from_pandas conversion casts values to string inconsistently",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/comment/16898787",
                    "id": "16898787",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
                        "name": "jorisvandenbossche",
                        "key": "jorisvandenbossche",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Joris Van den Bossche",
                        "active": true,
                        "timeZone": "Europe/Brussels"
                    },
                    "body": "This seems to be specific to the code paths dealing with numpy arrays, as from built-in python objects, you get a logical error:\r\n\r\n{code}\r\nIn [9]: pa.array([1, 2, 3], pa.string())\r\n...\r\nArrowTypeError: Expected a string or bytes object, got a 'int' object\r\n\r\nIn [10]: pa.array(np.array([1, 2, 3]), pa.string()) \r\nOut[10]: \r\n<pyarrow.lib.StringArray object at 0x7f0909c902b0>\r\n[\r\n  \"\u0001\",   # <-- this is actually not an empty string but '\\x01'\r\n  \"\u0002\",\r\n  \"\u0003\"\r\n]\r\n{code}\r\n\r\nI agree that at least an error should be raised instead of those incorrect values.\r\n\r\nIn numpy you can cast ints to their string representation by doing an equivalent call:\r\n\r\n{code}\r\nIn [13]: np.array(np.array([1, 2, 3], dtype=int), dtype=str)\r\nOut[13]: array(['1', '2', '3'], dtype='<U21')\r\n{code}\r\n\r\nNot sure if we should do something similar though (and certainly not a priority I would say).",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
                        "name": "jorisvandenbossche",
                        "key": "jorisvandenbossche",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Joris Van den Bossche",
                        "active": true,
                        "timeZone": "Europe/Brussels"
                    },
                    "created": "2019-08-02T10:48:54.406+0000",
                    "updated": "2019-08-02T10:48:54.406+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/comment/16913775",
                    "id": "16913775",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "This is a bit weird. I added to 0.15.0 in case we want to fix this",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-08-22T22:53:49.953+0000",
                    "updated": "2019-08-22T22:53:49.953+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240925/comment/16928458",
                    "id": "16928458",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 5333\n[https://github.com/apache/arrow/pull/5333]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2019-09-12T11:23:29.086+0000",
                    "updated": "2019-09-12T11:23:29.086+0000"
                }
            ],
            "maxResults": 3,
            "total": 3,
            "startAt": 0
        },
        "customfield_12311820": "0|z03zk8:",
        "customfield_12314139": null
    }
}