{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13258145",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145",
    "key": "ARROW-6655",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12345978",
                "id": "12345978",
                "description": "",
                "name": "0.15.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-10-05"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12571080",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12571080",
                "type": {
                    "id": "12310060",
                    "name": "Container",
                    "inward": "Is contained by",
                    "outward": "contains",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310060"
                },
                "inwardIssue": {
                    "id": "13079797",
                    "key": "ARROW-1119",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13079797",
                    "fields": {
                        "summary": "[Python/C++] Implement NativeFile interfaces for Amazon S3",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
                            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
                            "name": "Closed",
                            "id": "6",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
                            "id": "2",
                            "description": "A new feature of the product, which has yet to be developed.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
                            "name": "New Feature",
                            "subtask": false,
                            "avatarId": 21141
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=kszucs",
            "name": "kszucs",
            "key": "kszucs",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Krisztian Szucs",
            "active": true,
            "timeZone": "Europe/Budapest"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=kszucs",
            "name": "kszucs",
            "key": "kszucs",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Krisztian Szucs",
            "active": true,
            "timeZone": "Europe/Budapest"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=kszucs",
            "name": "kszucs",
            "key": "kszucs",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Krisztian Szucs",
            "active": true,
            "timeZone": "Europe/Budapest"
        },
        "aggregateprogress": {
            "progress": 51000,
            "total": 51000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 51000,
            "total": 51000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-6655/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 90,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/316835",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on issue #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#issuecomment-534194245\n \n \n   @pitrou PTAL, I still need to fix the AppVeyor builds.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-23T17:10:45.795+0000",
                    "updated": "2019-09-23T17:10:45.795+0000",
                    "started": "2019-09-23T17:10:45.794+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "316835",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317310",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327519482\n \n \n\n ##########\n File path: cpp/cmake_modules/ThirdpartyToolchain.cmake\n ##########\n @@ -2535,6 +2535,12 @@ if(ARROW_S3)\n   include_directories(SYSTEM ${AWSSDK_INCLUDE_DIR})\n   message(STATUS \"Found AWS SDK headers: ${AWSSDK_INCLUDE_DIR}\")\n   message(STATUS \"Found AWS SDK libraries: ${AWSSDK_LINK_LIBRARIES}\")\n+\n+  if(APPLE)\n+    set_target_properties(AWS::aws-c-common\n \n Review comment:\n   Can you add a comment here?\r\n   \r\n   Also, can you report the issue upstream?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T09:59:13.951+0000",
                    "updated": "2019-09-24T09:59:13.951+0000",
                    "started": "2019-09-24T09:59:13.951+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317310",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317311",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327521360\n \n \n\n ##########\n File path: python/pyarrow/_s3.pyx\n ##########\n @@ -0,0 +1,100 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n \n Review comment:\n   Nit, but I'd rather call this file `_s3fs.pyx`.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T09:59:13.995+0000",
                    "updated": "2019-09-24T09:59:13.995+0000",
                    "started": "2019-09-24T09:59:13.995+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317311",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317312",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327522006\n \n \n\n ##########\n File path: python/pyarrow/_s3.pyx\n ##########\n @@ -0,0 +1,100 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# cython: language_level = 3\n+\n+import six\n+\n+from pyarrow.compat import frombytes, tobytes\n+from pyarrow.includes.common cimport *\n+from pyarrow.includes.libarrow cimport *\n+from pyarrow.includes.libarrow_s3 cimport *\n+from pyarrow._fs cimport FileSystem\n+from pyarrow.lib cimport check_status\n+\n+\n+cpdef enum S3LogLevel:\n+    Off = <int8_t> CS3LogLevel_Off\n+    Fatal = <int8_t> CS3LogLevel_Fatal\n+    Error = <int8_t> CS3LogLevel_Error\n+    Warn = <int8_t> CS3LogLevel_Warn\n+    Info = <int8_t> CS3LogLevel_Info\n+    Debug = <int8_t> CS3LogLevel_Debug\n+    Trace = <int8_t> CS3LogLevel_Trace\n+\n+\n+def initialize_s3(S3LogLevel log_level=S3LogLevel.Error):\n+    cdef CS3GlobalOptions options\n+    options.log_level = <CS3LogLevel> log_level\n+    check_status(CInitializeS3(options))\n+\n+\n+def finalize_s3():\n+    check_status(CFinalizeS3())\n+\n+\n+cdef class S3FileSystem(FileSystem):\n+    \"\"\"S3-backed FileSystem implementation\n+\n+    Note: S3 buckets are special and the operations available on them may be\n+          limited or more expensive than desired.\n+\n+    Parameters\n+    ----------\n+    access_key: str, default None\n+        AWS Access Key ID. Pass None to use the standard AWS environment\n+        variables and/or configuration file.\n+    secret_key: str, default None\n+        AWS Secret Access key. Pass None to use the standard AWS environment\n+        variables and/or configuration file.\n+    region: str, default 'us-east-1'\n+        AWS region to connect to.\n+    scheme: str, default 'https'\n+        S3 connection transport scheme.\n+    endpoint_override: str, default None\n+        Override region with a connect string such as \"localhost:9000\"\n+    background_writes: boolean, default True\n+        Whether OutputStream writes will be issued in the background, without\n+        blocking.\n+    \"\"\"\n+\n+    cdef:\n+        CS3FileSystem* s3fs\n+\n+    def __init__(self, access_key=None, secret_key=None, region='us-east-1',\n \n Review comment:\n   I'd still rather have a separate `S3Options` Python class as in C++, especially since there are different ways to configure authentication.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T09:59:14.041+0000",
                    "updated": "2019-09-24T09:59:14.041+0000",
                    "started": "2019-09-24T09:59:14.040+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317312",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317313",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327520825\n \n \n\n ##########\n File path: python/pyarrow/_fs.pxd\n ##########\n @@ -0,0 +1,68 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# cython: language_level = 3\n+\n+import six\n+\n+from pyarrow.compat import frombytes, tobytes\n+from pyarrow.includes.common cimport *\n+from pyarrow.includes.libarrow cimport PyDateTime_from_TimePoint\n+from pyarrow.lib import _detect_compression\n+from pyarrow.lib cimport *\n+\n+\n+cpdef enum FileType:\n+    NonExistent = <int8_t> CFileType_NonExistent\n+    Unknown = <int8_t> CFileType_Unknown\n+    File = <int8_t> CFileType_File\n+    Directory = <int8_t> CFileType_Directory\n+\n+\n+cdef class FileStats:\n+    cdef:\n+        CFileStats stats\n+\n+    @staticmethod\n+    cdef FileStats wrap(CFileStats stats)\n+\n+\n+cdef class Selector:\n+    cdef:\n+        CSelector selector\n+\n+\n+cdef class FileSystem:\n+    cdef:\n+        shared_ptr[CFileSystem] wrapped\n+        CFileSystem* fs\n+\n+    cdef init(self, const shared_ptr[CFileSystem]& wrapped)\n+\n+\n+cdef class LocalFileSystem(FileSystem):\n+    cdef:\n+        CLocalFileSystem* localfs\n+\n+    cdef init(self, const shared_ptr[CFileSystem]& wrapped)\n+\n+\n+cdef class SubTreeFileSystem(FileSystem):\n \n Review comment:\n   By the way, as I explained it to Neal in another issue, `SubTreeFileSystem` was initially written for testing on the C++ side (because the C++ generic filesystem test suite expects an empty root-writable filesystem). It's not necessarily useful to expose in Python. Just saying :-)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T09:59:14.044+0000",
                    "updated": "2019-09-24T09:59:14.044+0000",
                    "started": "2019-09-24T09:59:14.043+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317313",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317314",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327522438\n \n \n\n ##########\n File path: python/pyarrow/fs.py\n ##########\n @@ -17,4 +17,18 @@\n \n from __future__ import absolute_import\n \n-from pyarrow._fs import *  # noqa\n+from pyarrow._fs import (  # noqa\n+    Selector,\n+    FileType,\n+    FileStats,\n+    FileSystem,\n+    LocalFileSystem,\n+    SubTreeFileSystem\n+)\n+\n+try:\n+    from pyarrow._s3 import S3FileSystem, initialize_s3, finalize_s3  # noqa\n \n Review comment:\n   Hmm, this means that even people who only work locally will still import and initialize the S3 layer. Why not make a separate `pyarrow.s3fs` module instead?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T09:59:14.063+0000",
                    "updated": "2019-09-24T09:59:14.063+0000",
                    "started": "2019-09-24T09:59:14.063+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317314",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317315",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327518819\n \n \n\n ##########\n File path: ci/conda_env_python.yml\n ##########\n @@ -19,9 +19,11 @@ cython=0.29.7\n cloudpickle\n hypothesis\n numpy>=1.14\n+minio\n \n Review comment:\n   Hmm... is this necessary? I'd say either we download it from upstream, or install a conda package... we don't need two different ways of installing it.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T09:59:14.066+0000",
                    "updated": "2019-09-24T09:59:14.066+0000",
                    "started": "2019-09-24T09:59:14.066+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317315",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317316",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327520253\n \n \n\n ##########\n File path: python/pyarrow/_fs.pyx\n ##########\n @@ -395,6 +371,7 @@ cdef class FileSystem:\n \n         stream.set_input_stream(in_handle)\n         stream.is_readable = True\n+        stream.is_seekable = True\n \n Review comment:\n   Hmm... I'm not sure why? If this is purely an `InputStream` then it's not seekable.\r\n   (and in practice e.g. a S3 input stream isn't seekable)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T09:59:14.123+0000",
                    "updated": "2019-09-24T09:59:14.123+0000",
                    "started": "2019-09-24T09:59:14.122+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317316",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317317",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327523456\n \n \n\n ##########\n File path: python/pyarrow/tests/conftest.py\n ##########\n @@ -219,3 +230,66 @@ def tempdir(tmpdir):\n @pytest.fixture(scope='session')\n def datadir():\n     return pathlib.Path(__file__).parent / 'data'\n+\n+\n+try:\n+    from tempfile import TemporaryDirectory\n+except ImportError:\n+    import shutil\n+\n+    class TemporaryDirectory(object):\n+        \"\"\"Temporary directory implementation for python 2\"\"\"\n \n Review comment:\n   Can also avoid bothering with this and make `s3fs` Python 3-only if that's easier.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T09:59:14.170+0000",
                    "updated": "2019-09-24T09:59:14.170+0000",
                    "started": "2019-09-24T09:59:14.170+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317317",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317318",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327524787\n \n \n\n ##########\n File path: python/pyarrow/tests/test_fs.py\n ##########\n @@ -23,39 +25,276 @@\n \n import pytest\n \n+import pyarrow as pa\n from pyarrow import ArrowIOError\n+from pyarrow.tests.test_io import gzip_compress, gzip_decompress\n from pyarrow.fs import (FileType, Selector, FileSystem, LocalFileSystem,\n                         SubTreeFileSystem)\n-from pyarrow.tests.test_io import gzip_compress, gzip_decompress\n+\n+\n+class FileSystemWrapper:\n+\n+    # Whether the filesystem may \"implicitly\" create intermediate directories\n \n Review comment:\n   The testing approach here looks overkill to me. All filesystem operations are extensively tested on the C++ side, we don't need to re-test them on the Python side. Just verify that the wrappers work.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T09:59:14.174+0000",
                    "updated": "2019-09-24T09:59:14.174+0000",
                    "started": "2019-09-24T09:59:14.173+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317318",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317319",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327527718\n \n \n\n ##########\n File path: python/pyarrow/tests/test_fs.py\n ##########\n @@ -23,39 +25,276 @@\n \n import pytest\n \n+import pyarrow as pa\n from pyarrow import ArrowIOError\n+from pyarrow.tests.test_io import gzip_compress, gzip_decompress\n from pyarrow.fs import (FileType, Selector, FileSystem, LocalFileSystem,\n                         SubTreeFileSystem)\n-from pyarrow.tests.test_io import gzip_compress, gzip_decompress\n+\n+\n+class FileSystemWrapper:\n+\n+    # Whether the filesystem may \"implicitly\" create intermediate directories\n+    have_implicit_directories = False\n+    # Whether the filesystem may allow writing a file \"over\" a directory\n+    allow_write_file_over_dir = False\n+    # Whether the filesystem allows moving a directory\n+    allow_move_dir = True\n+    # Whether the filesystem allows appending to a file\n+    allow_append_to_file = False\n+    # Whether the filesystem supports directory modification times\n+    have_directory_mtimes = True\n+\n+    @property\n+    def impl(self):\n+        return self._impl\n+\n+    @impl.setter\n+    def impl(self, impl):\n+        self._impl = impl\n+\n+    def pathpair(self, p):\n+        raise NotImplementedError()\n+\n+    def rmdir(self, p):\n+        raise NotImplementedError()\n+\n+    def unlink(self, p):\n+        raise NotImplementedError()\n+\n+    def iterdir(self, p):\n+        raise NotImplementedError()\n+\n+    def mkdir(self, p):\n+        raise NotImplementedError()\n+\n+    def touch(self, p):\n+        raise NotImplementedError()\n+\n+    def exists(self, p):\n+        raise NotImplementedError()\n+\n+    def mtime(self, p):\n+        raise NotImplementedError()\n+\n+    def write_bytes(self, p, data):\n+        raise NotImplementedError()\n+\n+    def read_bytes(self, p):\n+        raise NotImplementedError()\n+\n+\n+class LocalWrapper(FileSystemWrapper):\n+\n+    allow_append_to_file = True\n+\n+    def __init__(self, tempdir):\n+        self.impl = LocalFileSystem()\n+        self.tempdir = tempdir\n+\n+    def pathpair(self, p):\n+        path_for_wrapper = str(self.tempdir / p)\n+        path_for_impl = '/'.join([self.tempdir.as_posix(), p])\n+        return (path_for_wrapper, path_for_impl)\n+\n+    def unlink(self, p):\n+        return pathlib.Path(p).unlink()\n+\n+    def rmdir(self, p):\n+        return pathlib.Path(p).rmdir()\n+\n+    def mkdir(self, p):\n+        return pathlib.Path(p).mkdir(parents=True)\n+\n+    def iterdir(self, p):\n+        for path in pathlib.Path(p).iterdir():\n+            yield (path, path.is_dir())\n+\n+    def touch(self, p):\n+        return pathlib.Path(p).touch()\n+\n+    def exists(self, p):\n+        return pathlib.Path(p).exists()\n+\n+    def mtime(self, p):\n+        path = pathlib.Path(p)\n+        mtime = path.stat().st_mtime\n+        return datetime.utcfromtimestamp(mtime)\n+\n+    def write_bytes(self, p, data):\n+        return pathlib.Path(p).write_bytes(data)\n+\n+    def read_bytes(self, p):\n+        return pathlib.Path(p).read_bytes()\n+\n+\n+class SubTreeLocalWrapper(LocalWrapper):\n+\n+    def __init__(self, tempdir, prefix='local/prefix'):\n+        prefix_absolute = tempdir / prefix\n+        prefix_absolute.mkdir(parents=True)\n+\n+        self.impl = SubTreeFileSystem(\n+            prefix_absolute.as_posix(),\n+            LocalFileSystem()\n+        )\n+        self.prefix = prefix\n+        self.tempdir = tempdir\n+\n+    def pathpair(self, p):\n+        path_for_wrapper = str(self.tempdir / self.prefix / p)\n+        path_for_impl = p\n+        return (path_for_wrapper, path_for_impl)\n+\n+\n+class S3Wrapper(FileSystemWrapper):\n+\n+    allow_move_dir = False\n+\n+    def __init__(self, minio_client, bucket='test-bucket', **kwargs):\n+        from pyarrow.fs import S3FileSystem\n+        self.impl = S3FileSystem(**kwargs)\n+        self.client = minio_client\n+        self.bucket = bucket\n+\n+    def pathpair(self, p):\n+        path_for_wrapper = p\n+        path_for_impl = '/'.join([self.bucket, p])\n+        return (path_for_wrapper, path_for_impl)\n+\n+    def touch(self, p):\n+        self.client.put_object(\n+            bucket_name=self.bucket,\n+            object_name=p.rstrip('/'),\n+            data=io.BytesIO(b''),\n+            length=0\n+        )\n+\n+    def unlink(self, p):\n+        self.client.remove_object(\n+            bucket_name=self.bucket,\n+            object_name=p.rstrip('/')\n+        )\n+\n+    def rmdir(self, p):\n+        if not p.endswith('/'):\n+            p += '/'\n+        self.client.remove_object(\n+            bucket_name=self.bucket,\n+            object_name=p\n+        )\n+\n+    def mkdir(self, p):\n+        if not p.endswith('/'):\n+            p += '/'\n+        self.client.put_object(\n+            bucket_name=self.bucket,\n+            object_name=p,\n+            data=io.BytesIO(b''),\n+            length=0\n+        )\n+\n+    def iterdir(self, p):\n+        if not p.endswith('/'):\n+            p += '/'\n+        objs = self.client.list_objects(\n+            bucket_name=self.bucket,\n+            prefix=p,\n+            recursive=False\n+        )\n+        for obj in objs:\n+            yield (obj.object_name, obj.is_dir)\n+\n+    def exists(self, p):\n+        from minio.error import NoSuchKey, NoSuchBucket\n+        try:\n+            self.client.get_object(\n+                bucket_name=self.bucket,\n+                object_name=p\n+            )\n+        except (NoSuchBucket, NoSuchKey):\n+            return False\n+        else:\n+            return True\n+\n+    def mtime(self, p):\n+        stat = self.client.stat_object(\n+            bucket_name=self.bucket,\n+            object_name=p\n+        )\n+        ts = calendar.timegm(stat.last_modified)\n+        return datetime.utcfromtimestamp(ts)\n+\n+    def write_bytes(self, p, data):\n+        assert not p.endswith('/')\n+        self.client.put_object(\n+            bucket_name=self.bucket,\n+            object_name=p,\n+            data=io.BytesIO(data),\n+            length=len(data)\n+        )\n+\n+    def read_bytes(self, p):\n+        assert not p.endswith('/')\n+        data = self.client.get_object(\n+            bucket_name=self.bucket,\n+            object_name=p\n+        )\n+        return data.read()\n+\n+\n+class SubTreeS3Wrapper(S3Wrapper):\n \n Review comment:\n   There is no need to test this.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T09:59:14.184+0000",
                    "updated": "2019-09-24T09:59:14.184+0000",
                    "started": "2019-09-24T09:59:14.183+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317319",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317320",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327522836\n \n \n\n ##########\n File path: python/pyarrow/includes/libarrow_fs.pxd\n ##########\n @@ -1,92 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n \n Review comment:\n   Any particular reason for removing this file? I think it was fine to have a separate declarations file (also `libarrow.pxd` is really getting big).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T09:59:14.285+0000",
                    "updated": "2019-09-24T09:59:14.285+0000",
                    "started": "2019-09-24T09:59:14.285+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317320",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317332",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327536006\n \n \n\n ##########\n File path: cpp/cmake_modules/ThirdpartyToolchain.cmake\n ##########\n @@ -2535,6 +2535,12 @@ if(ARROW_S3)\n   include_directories(SYSTEM ${AWSSDK_INCLUDE_DIR})\n   message(STATUS \"Found AWS SDK headers: ${AWSSDK_INCLUDE_DIR}\")\n   message(STATUS \"Found AWS SDK libraries: ${AWSSDK_LINK_LIBRARIES}\")\n+\n+  if(APPLE)\n+    set_target_properties(AWS::aws-c-common\n \n Review comment:\n   Sure\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T10:17:46.856+0000",
                    "updated": "2019-09-24T10:17:46.856+0000",
                    "started": "2019-09-24T10:17:46.856+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317332",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317333",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327536332\n \n \n\n ##########\n File path: python/pyarrow/_fs.pyx\n ##########\n @@ -395,6 +371,7 @@ cdef class FileSystem:\n \n         stream.set_input_stream(in_handle)\n         stream.is_readable = True\n+        stream.is_seekable = True\n \n Review comment:\n   I forgot to remove it, tried when I was debugging the `stream.read()` issue, which I still need to create a JIRA.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T10:18:33.848+0000",
                    "updated": "2019-09-24T10:18:33.848+0000",
                    "started": "2019-09-24T10:18:33.848+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317333",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317336",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327536962\n \n \n\n ##########\n File path: python/pyarrow/_fs.pxd\n ##########\n @@ -0,0 +1,68 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# cython: language_level = 3\n+\n+import six\n+\n+from pyarrow.compat import frombytes, tobytes\n+from pyarrow.includes.common cimport *\n+from pyarrow.includes.libarrow cimport PyDateTime_from_TimePoint\n+from pyarrow.lib import _detect_compression\n+from pyarrow.lib cimport *\n+\n+\n+cpdef enum FileType:\n+    NonExistent = <int8_t> CFileType_NonExistent\n+    Unknown = <int8_t> CFileType_Unknown\n+    File = <int8_t> CFileType_File\n+    Directory = <int8_t> CFileType_Directory\n+\n+\n+cdef class FileStats:\n+    cdef:\n+        CFileStats stats\n+\n+    @staticmethod\n+    cdef FileStats wrap(CFileStats stats)\n+\n+\n+cdef class Selector:\n+    cdef:\n+        CSelector selector\n+\n+\n+cdef class FileSystem:\n+    cdef:\n+        shared_ptr[CFileSystem] wrapped\n+        CFileSystem* fs\n+\n+    cdef init(self, const shared_ptr[CFileSystem]& wrapped)\n+\n+\n+cdef class LocalFileSystem(FileSystem):\n+    cdef:\n+        CLocalFileSystem* localfs\n+\n+    cdef init(self, const shared_ptr[CFileSystem]& wrapped)\n+\n+\n+cdef class SubTreeFileSystem(FileSystem):\n \n Review comment:\n   Hmm, good to know. Although it can be handy in certain cases. I would not mind keeping it.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T10:20:05.772+0000",
                    "updated": "2019-09-24T10:20:05.772+0000",
                    "started": "2019-09-24T10:20:05.771+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317336",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317339",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327537867\n \n \n\n ##########\n File path: python/pyarrow/_s3.pyx\n ##########\n @@ -0,0 +1,100 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# cython: language_level = 3\n+\n+import six\n+\n+from pyarrow.compat import frombytes, tobytes\n+from pyarrow.includes.common cimport *\n+from pyarrow.includes.libarrow cimport *\n+from pyarrow.includes.libarrow_s3 cimport *\n+from pyarrow._fs cimport FileSystem\n+from pyarrow.lib cimport check_status\n+\n+\n+cpdef enum S3LogLevel:\n+    Off = <int8_t> CS3LogLevel_Off\n+    Fatal = <int8_t> CS3LogLevel_Fatal\n+    Error = <int8_t> CS3LogLevel_Error\n+    Warn = <int8_t> CS3LogLevel_Warn\n+    Info = <int8_t> CS3LogLevel_Info\n+    Debug = <int8_t> CS3LogLevel_Debug\n+    Trace = <int8_t> CS3LogLevel_Trace\n+\n+\n+def initialize_s3(S3LogLevel log_level=S3LogLevel.Error):\n+    cdef CS3GlobalOptions options\n+    options.log_level = <CS3LogLevel> log_level\n+    check_status(CInitializeS3(options))\n+\n+\n+def finalize_s3():\n+    check_status(CFinalizeS3())\n+\n+\n+cdef class S3FileSystem(FileSystem):\n+    \"\"\"S3-backed FileSystem implementation\n+\n+    Note: S3 buckets are special and the operations available on them may be\n+          limited or more expensive than desired.\n+\n+    Parameters\n+    ----------\n+    access_key: str, default None\n+        AWS Access Key ID. Pass None to use the standard AWS environment\n+        variables and/or configuration file.\n+    secret_key: str, default None\n+        AWS Secret Access key. Pass None to use the standard AWS environment\n+        variables and/or configuration file.\n+    region: str, default 'us-east-1'\n+        AWS region to connect to.\n+    scheme: str, default 'https'\n+        S3 connection transport scheme.\n+    endpoint_override: str, default None\n+        Override region with a connect string such as \"localhost:9000\"\n+    background_writes: boolean, default True\n+        Whether OutputStream writes will be issued in the background, without\n+        blocking.\n+    \"\"\"\n+\n+    cdef:\n+        CS3FileSystem* s3fs\n+\n+    def __init__(self, access_key=None, secret_key=None, region='us-east-1',\n \n Review comment:\n   IMO keyword arguments are more pythonic, and we use keyword arguments throughout the yarrow codebase instead of `*Options` objects. How about exposing different configuration ways as classmethod factories?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T10:22:33.510+0000",
                    "updated": "2019-09-24T10:22:33.510+0000",
                    "started": "2019-09-24T10:22:33.510+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317339",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317342",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327539935\n \n \n\n ##########\n File path: python/pyarrow/fs.py\n ##########\n @@ -17,4 +17,18 @@\n \n from __future__ import absolute_import\n \n-from pyarrow._fs import *  # noqa\n+from pyarrow._fs import (  # noqa\n+    Selector,\n+    FileType,\n+    FileStats,\n+    FileSystem,\n+    LocalFileSystem,\n+    SubTreeFileSystem\n+)\n+\n+try:\n+    from pyarrow._s3 import S3FileSystem, initialize_s3, finalize_s3  # noqa\n \n Review comment:\n   I was trying to follow the C++ namespace semantics on the python side. I'd rather keep S3FileSystem under `pyarrow.fs` and find out a convenient way to `initialize_s3`, like calling it if a module global flag is unset.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T10:28:18.587+0000",
                    "updated": "2019-09-24T10:28:18.587+0000",
                    "started": "2019-09-24T10:28:18.586+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317342",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317344",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327540343\n \n \n\n ##########\n File path: python/pyarrow/includes/libarrow_fs.pxd\n ##########\n @@ -1,92 +0,0 @@\n-# Licensed to the Apache Software Foundation (ASF) under one\n \n Review comment:\n   Again, I was trying to follow the C++ namespaces here. The non-optional C++ module headers are all placed in `libarrow.pxd`\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T10:29:21.453+0000",
                    "updated": "2019-09-24T10:29:21.453+0000",
                    "started": "2019-09-24T10:29:21.453+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317344",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317345",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327540574\n \n \n\n ##########\n File path: python/pyarrow/tests/conftest.py\n ##########\n @@ -219,3 +230,66 @@ def tempdir(tmpdir):\n @pytest.fixture(scope='session')\n def datadir():\n     return pathlib.Path(__file__).parent / 'data'\n+\n+\n+try:\n+    from tempfile import TemporaryDirectory\n+except ImportError:\n+    import shutil\n+\n+    class TemporaryDirectory(object):\n+        \"\"\"Temporary directory implementation for python 2\"\"\"\n \n Review comment:\n   It works now, and only affects the test suite, so we can keep it.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T10:30:00.642+0000",
                    "updated": "2019-09-24T10:30:00.642+0000",
                    "started": "2019-09-24T10:30:00.642+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317345",
                    "issueId": "13258145"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/worklog/317347",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kszucs commented on pull request #5423: ARROW-6655: [Python] Filesystem bindings for S3\nURL: https://github.com/apache/arrow/pull/5423#discussion_r327541529\n \n \n\n ##########\n File path: python/pyarrow/tests/test_fs.py\n ##########\n @@ -23,39 +25,276 @@\n \n import pytest\n \n+import pyarrow as pa\n from pyarrow import ArrowIOError\n+from pyarrow.tests.test_io import gzip_compress, gzip_decompress\n from pyarrow.fs import (FileType, Selector, FileSystem, LocalFileSystem,\n                         SubTreeFileSystem)\n-from pyarrow.tests.test_io import gzip_compress, gzip_decompress\n+\n+\n+class FileSystemWrapper:\n+\n+    # Whether the filesystem may \"implicitly\" create intermediate directories\n \n Review comment:\n   @pitrou You mean that we should not use a parallel implementation (like the Minio client for S3 and pathlib for Local), and just use the bindings in the test case?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-09-24T10:32:34.387+0000",
                    "updated": "2019-09-24T10:32:34.387+0000",
                    "started": "2019-09-24T10:32:34.386+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "317347",
                    "issueId": "13258145"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 51000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@654393a2[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@28d9d32f[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@521b50b4[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@343da173[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6bcc8283[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@207c6c90[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@28ea16db[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@71850c8c[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7e5250a5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3d09bb13[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@45ad3ea7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@1c95bbf2[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 51000,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Oct 01 13:22:27 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-10-01T13:22:27.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-6655/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2019-09-22T11:18:51.000+0000",
        "updated": "2019-10-01T14:13:45.000+0000",
        "timeoriginalestimate": null,
        "description": "Follow-up work of ARROW-5494: [Python] Create FileSystem bindings",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "14h 10m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 51000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python] Filesystem bindings for S3",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13258145/comment/16941825",
                    "id": "16941825",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 5423\n[https://github.com/apache/arrow/pull/5423]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2019-10-01T13:22:27.105+0000",
                    "updated": "2019-10-01T13:22:27.105+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z06w60:",
        "customfield_12314139": null
    }
}