{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13221429",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13221429",
    "key": "ARROW-4858",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343937",
                "id": "12343937",
                "description": "",
                "name": "0.13.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-04-01"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "flight",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12334621",
                "id": "12334621",
                "name": "FlightRPC"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 7200,
            "total": 7200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 7200,
            "total": 7200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-4858/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 12,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13221429/worklog/212592",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lihalite commented on pull request #3890: ARROW-4858: [Flight/Python] enable FlightDataStream to be implemented in Python\nURL: https://github.com/apache/arrow/pull/3890\n \n \n   This enables use cases like converting and streaming a large Pandas DataFrame in chunks, or generating/processing data on the fly.\r\n   \r\n   It could be simplified if we decide to only support iterators of RecordBatches (versus right now where it accepts Tables, RecordBatches, other FlightDataStreams, etc.)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-13T18:32:54.611+0000",
                    "updated": "2019-03-13T18:32:54.611+0000",
                    "started": "2019-03-13T18:32:54.610+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "212592",
                    "issueId": "13221429"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13221429/worklog/213169",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy commented on pull request #3890: ARROW-4858: [Flight/Python] enable FlightDataStream to be implemented in Python\nURL: https://github.com/apache/arrow/pull/3890#discussion_r265612869\n \n \n\n ##########\n File path: cpp/src/arrow/python/flight.cc\n ##########\n @@ -130,6 +130,22 @@ Status PyFlightDataStream::Next(arrow::flight::FlightPayload* payload) {\n   return stream_->Next(payload);\n }\n \n+PyGeneratorFlightDataStream::PyGeneratorFlightDataStream(\n+    PyObject* generator, std::shared_ptr<arrow::Schema> schema,\n+    PyGeneratorFlightDataStreamCallback callback)\n+    : schema_(schema), callback_(callback) {\n+  Py_INCREF(generator);\n+  generator_.reset(generator);\n+}\n+\n+std::shared_ptr<arrow::Schema> PyGeneratorFlightDataStream::schema() { return schema_; }\n+\n+Status PyGeneratorFlightDataStream::Next(arrow::flight::FlightPayload* payload) {\n+  PyAcquireGIL lock;\n \n Review comment:\n   For me it seems that `Next` is called while the GIL is held. This might end in deadlocks.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-14T15:00:46.116+0000",
                    "updated": "2019-03-14T15:00:46.116+0000",
                    "started": "2019-03-14T15:00:46.116+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "213169",
                    "issueId": "13221429"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13221429/worklog/213170",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy commented on pull request #3890: ARROW-4858: [Flight/Python] enable FlightDataStream to be implemented in Python\nURL: https://github.com/apache/arrow/pull/3890#discussion_r265612182\n \n \n\n ##########\n File path: cpp/src/arrow/python/flight.h\n ##########\n @@ -106,6 +106,26 @@ class ARROW_PYTHON_EXPORT PyFlightDataStream : public arrow::flight::FlightDataS\n   std::unique_ptr<arrow::flight::FlightDataStream> stream_;\n };\n \n+/// \\brief A callback that obtains the next payload from a Flight result stream.\n+typedef std::function<void(PyObject*, arrow::flight::FlightPayload*)>\n+    PyGeneratorFlightDataStreamCallback;\n+\n+/// \\brief A FlightDataStream built around a Python callback.\n+class ARROW_PYTHON_EXPORT PyGeneratorFlightDataStream\n+    : public arrow::flight::FlightDataStream {\n+ public:\n+  explicit PyGeneratorFlightDataStream(PyObject* generator,\n \n Review comment:\n   Please add a comment that it is expected that the constructor is only called when the GIL is held.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-14T15:00:46.235+0000",
                    "updated": "2019-03-14T15:00:46.235+0000",
                    "started": "2019-03-14T15:00:46.234+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "213170",
                    "issueId": "13221429"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13221429/worklog/213173",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lihalite commented on pull request #3890: ARROW-4858: [Flight/Python] enable FlightDataStream to be implemented in Python\nURL: https://github.com/apache/arrow/pull/3890#discussion_r265616414\n \n \n\n ##########\n File path: cpp/src/arrow/python/flight.cc\n ##########\n @@ -130,6 +130,22 @@ Status PyFlightDataStream::Next(arrow::flight::FlightPayload* payload) {\n   return stream_->Next(payload);\n }\n \n+PyGeneratorFlightDataStream::PyGeneratorFlightDataStream(\n+    PyObject* generator, std::shared_ptr<arrow::Schema> schema,\n+    PyGeneratorFlightDataStreamCallback callback)\n+    : schema_(schema), callback_(callback) {\n+  Py_INCREF(generator);\n+  generator_.reset(generator);\n+}\n+\n+std::shared_ptr<arrow::Schema> PyGeneratorFlightDataStream::schema() { return schema_; }\n+\n+Status PyGeneratorFlightDataStream::Next(arrow::flight::FlightPayload* payload) {\n+  PyAcquireGIL lock;\n \n Review comment:\n   I might be mistaken, but is it not safe to call `PyGILState_Ensure` even while you hold the GIL?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-14T15:07:57.603+0000",
                    "updated": "2019-03-14T15:07:57.603+0000",
                    "started": "2019-03-14T15:07:57.603+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "213173",
                    "issueId": "13221429"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13221429/worklog/213177",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy commented on pull request #3890: ARROW-4858: [Flight/Python] enable FlightDataStream to be implemented in Python\nURL: https://github.com/apache/arrow/pull/3890#discussion_r265617665\n \n \n\n ##########\n File path: cpp/src/arrow/python/flight.cc\n ##########\n @@ -130,6 +130,22 @@ Status PyFlightDataStream::Next(arrow::flight::FlightPayload* payload) {\n   return stream_->Next(payload);\n }\n \n+PyGeneratorFlightDataStream::PyGeneratorFlightDataStream(\n+    PyObject* generator, std::shared_ptr<arrow::Schema> schema,\n+    PyGeneratorFlightDataStreamCallback callback)\n+    : schema_(schema), callback_(callback) {\n+  Py_INCREF(generator);\n+  generator_.reset(generator);\n+}\n+\n+std::shared_ptr<arrow::Schema> PyGeneratorFlightDataStream::schema() { return schema_; }\n+\n+Status PyGeneratorFlightDataStream::Next(arrow::flight::FlightPayload* payload) {\n+  PyAcquireGIL lock;\n \n Review comment:\n   This will call `PyGILState_Release` and thus release the GIL even if it did acquire it. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-14T15:10:29.404+0000",
                    "updated": "2019-03-14T15:10:29.404+0000",
                    "started": "2019-03-14T15:10:29.404+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "213177",
                    "issueId": "13221429"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13221429/worklog/213179",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lihalite commented on pull request #3890: ARROW-4858: [Flight/Python] enable FlightDataStream to be implemented in Python\nURL: https://github.com/apache/arrow/pull/3890#discussion_r265622596\n \n \n\n ##########\n File path: cpp/src/arrow/python/flight.cc\n ##########\n @@ -130,6 +130,22 @@ Status PyFlightDataStream::Next(arrow::flight::FlightPayload* payload) {\n   return stream_->Next(payload);\n }\n \n+PyGeneratorFlightDataStream::PyGeneratorFlightDataStream(\n+    PyObject* generator, std::shared_ptr<arrow::Schema> schema,\n+    PyGeneratorFlightDataStreamCallback callback)\n+    : schema_(schema), callback_(callback) {\n+  Py_INCREF(generator);\n+  generator_.reset(generator);\n+}\n+\n+std::shared_ptr<arrow::Schema> PyGeneratorFlightDataStream::schema() { return schema_; }\n+\n+Status PyGeneratorFlightDataStream::Next(arrow::flight::FlightPayload* payload) {\n+  PyAcquireGIL lock;\n \n Review comment:\n   But doesn't that only release the GIL if it was not held prior to the matching `PyGILState_Ensure` call (based on the [PEP that proposed it](https://www.python.org/dev/peps/pep-0311/#implementation) and the [current implementation](https://github.com/python/cpython/blob/8479a3426eb7d1840473f7788e639954363ed37e/Python/pystate.c#L1184))? (I'd rather be defensive and make sure the GIL is acquired even if so far we know it already is.)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-14T15:20:21.180+0000",
                    "updated": "2019-03-14T15:20:21.180+0000",
                    "started": "2019-03-14T15:20:21.180+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "213179",
                    "issueId": "13221429"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13221429/worklog/213656",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy commented on pull request #3890: ARROW-4858: [Flight/Python] enable FlightDataStream to be implemented in Python\nURL: https://github.com/apache/arrow/pull/3890#discussion_r265908281\n \n \n\n ##########\n File path: cpp/src/arrow/python/flight.cc\n ##########\n @@ -130,6 +130,22 @@ Status PyFlightDataStream::Next(arrow::flight::FlightPayload* payload) {\n   return stream_->Next(payload);\n }\n \n+PyGeneratorFlightDataStream::PyGeneratorFlightDataStream(\n+    PyObject* generator, std::shared_ptr<arrow::Schema> schema,\n+    PyGeneratorFlightDataStreamCallback callback)\n+    : schema_(schema), callback_(callback) {\n+  Py_INCREF(generator);\n+  generator_.reset(generator);\n+}\n+\n+std::shared_ptr<arrow::Schema> PyGeneratorFlightDataStream::schema() { return schema_; }\n+\n+Status PyGeneratorFlightDataStream::Next(arrow::flight::FlightPayload* payload) {\n+  PyAcquireGIL lock;\n \n Review comment:\n   @wesm @pitrou Can you add comments to `PyAcquireGIL` that explains how it works in this case? I feel a bit confused now and that will probably happen to other people in future again.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-15T09:39:54.587+0000",
                    "updated": "2019-03-15T09:39:54.587+0000",
                    "started": "2019-03-15T09:39:54.587+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "213656",
                    "issueId": "13221429"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13221429/worklog/213737",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lihalite commented on pull request #3890: ARROW-4858: [Flight/Python] enable FlightDataStream to be implemented in Python\nURL: https://github.com/apache/arrow/pull/3890#discussion_r265956850\n \n \n\n ##########\n File path: cpp/src/arrow/python/flight.h\n ##########\n @@ -106,6 +106,26 @@ class ARROW_PYTHON_EXPORT PyFlightDataStream : public arrow::flight::FlightDataS\n   std::unique_ptr<arrow::flight::FlightDataStream> stream_;\n };\n \n+/// \\brief A callback that obtains the next payload from a Flight result stream.\n+typedef std::function<void(PyObject*, arrow::flight::FlightPayload*)>\n+    PyGeneratorFlightDataStreamCallback;\n+\n+/// \\brief A FlightDataStream built around a Python callback.\n+class ARROW_PYTHON_EXPORT PyGeneratorFlightDataStream\n+    : public arrow::flight::FlightDataStream {\n+ public:\n+  explicit PyGeneratorFlightDataStream(PyObject* generator,\n \n Review comment:\n   Done (ditto for the other two wrappers).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-15T12:16:01.925+0000",
                    "updated": "2019-03-15T12:16:01.925+0000",
                    "started": "2019-03-15T12:16:01.925+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "213737",
                    "issueId": "13221429"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13221429/worklog/213784",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #3890: ARROW-4858: [Flight/Python] enable FlightDataStream to be implemented in Python\nURL: https://github.com/apache/arrow/pull/3890#discussion_r265992028\n \n \n\n ##########\n File path: cpp/src/arrow/python/flight.cc\n ##########\n @@ -130,6 +130,22 @@ Status PyFlightDataStream::Next(arrow::flight::FlightPayload* payload) {\n   return stream_->Next(payload);\n }\n \n+PyGeneratorFlightDataStream::PyGeneratorFlightDataStream(\n+    PyObject* generator, std::shared_ptr<arrow::Schema> schema,\n+    PyGeneratorFlightDataStreamCallback callback)\n+    : schema_(schema), callback_(callback) {\n+  Py_INCREF(generator);\n+  generator_.reset(generator);\n+}\n+\n+std::shared_ptr<arrow::Schema> PyGeneratorFlightDataStream::schema() { return schema_; }\n+\n+Status PyGeneratorFlightDataStream::Next(arrow::flight::FlightPayload* payload) {\n+  PyAcquireGIL lock;\n \n Review comment:\n   According to the Python docs\r\n   \r\n   > Ensure that the current thread is ready to call the Python C API regardless of the current state of Python, or of the global interpreter lock. This may be called as many times as desired by a thread as long as each call is matched with a call to PyGILState_Release(). In general, other thread-related APIs may be used between PyGILState_Ensure() and PyGILState_Release() calls as long as the thread state is restored to its previous state before the Release(). For example, normal usage of the Py_BEGIN_ALLOW_THREADS and Py_END_ALLOW_THREADS macros is acceptable.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-15T14:00:01.971+0000",
                    "updated": "2019-03-15T14:00:01.971+0000",
                    "started": "2019-03-15T14:00:01.971+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "213784",
                    "issueId": "13221429"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13221429/worklog/213816",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #3890: ARROW-4858: [Flight/Python] enable FlightDataStream to be implemented in Python\nURL: https://github.com/apache/arrow/pull/3890#issuecomment-473319191\n \n \n   Merging without the appveyor build since we aren't running these tests there yet\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-15T14:58:57.997+0000",
                    "updated": "2019-03-15T14:58:57.997+0000",
                    "started": "2019-03-15T14:58:57.996+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "213816",
                    "issueId": "13221429"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13221429/worklog/213817",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #3890: ARROW-4858: [Flight/Python] enable FlightDataStream to be implemented in Python\nURL: https://github.com/apache/arrow/pull/3890\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-15T14:59:24.989+0000",
                    "updated": "2019-03-15T14:59:24.989+0000",
                    "started": "2019-03-15T14:59:24.989+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "213817",
                    "issueId": "13221429"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13221429/worklog/213823",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lihalite commented on issue #3890: ARROW-4858: [Flight/Python] enable FlightDataStream to be implemented in Python\nURL: https://github.com/apache/arrow/pull/3890#issuecomment-473327566\n \n \n   Thanks all for the quick review.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-15T15:20:30.659+0000",
                    "updated": "2019-03-15T15:20:30.659+0000",
                    "started": "2019-03-15T15:20:30.658+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "213823",
                    "issueId": "13221429"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 7200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@56b54ad9[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@cd7d9d0[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@401cf2e8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@72b7aa62[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3b1d19ce[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@1b1f3012[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3cb30a2b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@73985365[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2018f7b1[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@4265dc00[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@66236435[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@571100ef[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 7200,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Mar 15 14:59:15 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-03-15T14:59:15.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-4858/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2019-03-13T14:52:43.000+0000",
        "updated": "2019-03-15T15:20:30.000+0000",
        "timeoriginalestimate": null,
        "description": "We should be able to provide a custom data stream as the result of Flight do_get in Python. In particular, when returning data produced on the fly, or when returning a large Pandas DataFrame, it'd be nice to provide data in chunks as it becomes available, rather than having to copy everything into a Table first.\r\n\r\nOn the Python side, a FlightDataStream wrapper that accepts RecordBatches from a Python generator should suffice.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 7200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Flight][Python] Enable custom FlightDataStream in Python",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13221429/comment/16793689",
                    "id": "16793689",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 3890\n[https://github.com/apache/arrow/pull/3890]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-03-15T14:59:15.495+0000",
                    "updated": "2019-03-15T14:59:15.495+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z00ny8:",
        "customfield_12314139": null
    }
}