{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13361267",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267",
    "key": "ARROW-11799",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349493",
                "id": "12349493",
                "description": "",
                "name": "4.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-04-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12348823",
                "id": "12348823",
                "description": "",
                "name": "3.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-01-25"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=yordan-pavlov",
            "name": "yordan-pavlov",
            "key": "yordan-pavlov",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Yordan Pavlov",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333773",
                "id": "12333773",
                "name": "Rust"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=yordan-pavlov",
            "name": "yordan-pavlov",
            "key": "yordan-pavlov",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Yordan Pavlov",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=yordan-pavlov",
            "name": "yordan-pavlov",
            "key": "yordan-pavlov",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Yordan Pavlov",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 15000,
            "total": 15000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 15000,
            "total": 15000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11799/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 25,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/558723",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "yordan-pavlov opened a new pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588\n\n\n   While looking for a way to make loading array data from parquet files faster, I stumbled on an edge case where string and binary arrays are created with an incorrect length from an iterator with no upper bound.\r\n   \r\n   Here is an example for such an iterator:\r\n   \r\n   ```\r\n    // iterator that doesn't declare (upper) size bound\r\n   let string_iter = (0..).scan(0usize, |pos, i| { \r\n       if *pos < 10 {\r\n           *pos += 1;\r\n           Some(Some(format!(\"value {}\", i)))\r\n       }\r\n       else {\r\n            // actually returns up to 10 values\r\n            None\r\n        }\r\n   })\r\n   // limited using take()\r\n   .take(100);\r\n   ```\r\n   \r\n   For even more details please see the new tests I have added in this PR.\r\n   Fortunately this is easy to fix by using the length of the child offset array.\r\n   \r\n   @jorgecarleitao\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-26T20:37:13.020+0000",
                    "updated": "2021-02-26T20:37:13.020+0000",
                    "started": "2021-02-26T20:37:13.020+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "558723",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/558724",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#issuecomment-786881115\n\n\n   https://issues.apache.org/jira/browse/ARROW-11799\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-26T20:37:36.292+0000",
                    "updated": "2021-02-26T20:37:36.292+0000",
                    "started": "2021-02-26T20:37:36.291+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "558724",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/558895",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nevi-me commented on pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#issuecomment-787049887\n\n\n   > While looking for a way to make loading array data from parquet files faster\r\n   \r\n   I think the biggest win with strings is if we could avoid `ByteArray` when using the Arrow reader/writer.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-27T10:21:37.816+0000",
                    "updated": "2021-02-27T10:21:37.816+0000",
                    "started": "2021-02-27T10:21:37.816+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "558895",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/558916",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "yordan-pavlov commented on pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#issuecomment-787062425\n\n\n   @nevi-me this probably deserves its own discussion, but you are pretty close with your suggestion to avoid ByteArray;\r\n   \r\n   I have been doing quite a lot of profiling and benchmarking in the past few weeks on loading string arrays from parquet files, and yes, going through an intermediate `Vec<ByteArray>` adds a lot of overhead due to extra allocation and very interestingly, deallocation (I imagine because of the creation of many `ByteArray` objects pointing to the same Arc).\r\n   \r\n   I am happy to discuss this in more detail, but in short my benchmarks show that skipping the `ByteArray`s approximately doubles performance, then replacing `Vec` with `Iterator` results in some more improvement and finally removing the intermediate conversion into `&str` (and just copying the bytes instead) results in another doubling of performance for a **total achievable performance improvement of about 5 times**. These are still very basic and isolated benchmarks, next step is to find a way to apply these learnings to the actual parquet reader code.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-27T12:01:36.983+0000",
                    "updated": "2021-02-27T12:01:36.983+0000",
                    "started": "2021-02-27T12:01:36.982+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "558916",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/558917",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "yordan-pavlov edited a comment on pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#issuecomment-787062425\n\n\n   @nevi-me this probably deserves its own discussion, but you are pretty close with your suggestion to avoid `ByteArray`;\r\n   \r\n   I have been doing quite a lot of profiling and benchmarking in the past few weeks on loading string arrays from parquet files, and yes, going through an intermediate `Vec<ByteArray>` adds a lot of overhead due to extra allocation and very interestingly, deallocation (I imagine because of the creation of many `ByteArray` objects pointing to the same Arc).\r\n   \r\n   I am happy to discuss this in more detail, but in short my benchmarks show that skipping the `ByteArray`s approximately doubles performance, then replacing `Vec` with `Iterator` results in some more improvement and finally removing the intermediate conversion into `&str` (and just copying the bytes instead) results in another doubling of performance for a **total achievable performance improvement of about 5 times**. These are still very basic and isolated benchmarks, next step is to find a way to apply these learnings to the actual parquet reader code.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-27T12:03:31.853+0000",
                    "updated": "2021-02-27T12:03:31.853+0000",
                    "started": "2021-02-27T12:03:31.852+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "558917",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/559056",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alamb commented on pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#issuecomment-787446758\n\n\n   > I have been doing quite a lot of profiling and benchmarking in the past few weeks on loading string arrays from parquet files, and yes, going through an intermediate Vec<ByteArray> \r\n   \r\n   @yordan-pavlov  we have observed very similar things while working with the Rust parquet reader in IOx -- I would be interesting in helping to support your efforts to improve the performance (either directly or with reviews, etc). \r\n   \r\n   Thank you for leading the charge\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-28T12:45:45.893+0000",
                    "updated": "2021-02-28T12:45:45.893+0000",
                    "started": "2021-02-28T12:45:45.893+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "559056",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/559057",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alamb commented on a change in pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#discussion_r584290701\n\n\n\n##########\nFile path: rust/arrow/src/array/array_binary.rs\n##########\n@@ -258,6 +258,8 @@ where\n             }\n         }\n \n+        // calculate actual data_len, which may be different from the iterator's upper bound\n+        let data_len = offsets.len() - 1;\n\nReview comment:\n       I wonder if there is a problem of writing off the end of `null_buf` which [was allocated](https://github.com/apache/arrow/pull/9588/files#diff-0b271702d55fe980ca7906ba50e561f00e610ce3de70ea1b0782e1d6be6f60c3R252) to be only size of `data_len`?\n\n##########\nFile path: rust/arrow/src/array/array_string.rs\n##########\n@@ -205,28 +205,30 @@ where\n         let (_, data_len) = iter.size_hint();\n         let data_len = data_len.expect(\"Iterator must be sized\"); // panic if no upper bound.\n \n-        let mut offsets =\n-            MutableBuffer::new((data_len + 1) * std::mem::size_of::<OffsetSize>());\n+        let offset_size = std::mem::size_of::<OffsetSize>();\n+        let mut offsets = MutableBuffer::new((data_len + 1) * offset_size);\n         let mut values = MutableBuffer::new(0);\n         let mut null_buf = MutableBuffer::new_null(data_len);\n\nReview comment:\n       I have the same question about the null buffer's length here as well.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-28T12:51:32.199+0000",
                    "updated": "2021-02-28T12:51:32.199+0000",
                    "started": "2021-02-28T12:51:32.199+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "559057",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/559058",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao commented on a change in pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#discussion_r584290973\n\n\n\n##########\nFile path: rust/arrow/src/array/array_string.rs\n##########\n@@ -205,28 +205,30 @@ where\n         let (_, data_len) = iter.size_hint();\n         let data_len = data_len.expect(\"Iterator must be sized\"); // panic if no upper bound.\n\nReview comment:\n       shouldn't we just remove this panic here and use the lower bound instead? Seems feasible after this change (and before?), and IMO is how it should be (i.e. pre-allocate the lower, not upper, bound).\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-28T12:52:55.143+0000",
                    "updated": "2021-02-28T12:52:55.143+0000",
                    "started": "2021-02-28T12:52:55.142+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "559058",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/559060",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "yordan-pavlov commented on a change in pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#discussion_r584291630\n\n\n\n##########\nFile path: rust/arrow/src/array/array_string.rs\n##########\n@@ -205,28 +205,30 @@ where\n         let (_, data_len) = iter.size_hint();\n         let data_len = data_len.expect(\"Iterator must be sized\"); // panic if no upper bound.\n\nReview comment:\n       I was thinking that as well, but I think this is still a useful check because (1) it allows the allocation of a more useful initial capacity - the lower iterator bound is often 0; and also (2) this check can easily be satisfied by using `take()`\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-28T12:56:31.389+0000",
                    "updated": "2021-02-28T12:56:31.389+0000",
                    "started": "2021-02-28T12:56:31.389+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "559060",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/559062",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "yordan-pavlov commented on a change in pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#discussion_r584292408\n\n\n\n##########\nFile path: rust/arrow/src/array/array_binary.rs\n##########\n@@ -258,6 +258,8 @@ where\n             }\n         }\n \n+        // calculate actual data_len, which may be different from the iterator's upper bound\n+        let data_len = offsets.len() - 1;\n\nReview comment:\n       writing beyond the allocated capacity would only happen if the iterator input returns more items than the declared upper bound - this would be against the `Iterator` spec and I think that would be unlikely ;   \r\n   this PR addresses the opposite case where an iterator returns less items than its declared upper bound (which is still within the `Iterator` spec); \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-28T13:02:53.626+0000",
                    "updated": "2021-02-28T13:02:53.626+0000",
                    "started": "2021-02-28T13:02:53.625+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "559062",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/559063",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao commented on a change in pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#discussion_r584293489\n\n\n\n##########\nFile path: rust/arrow/src/array/array_binary.rs\n##########\n@@ -258,6 +258,8 @@ where\n             }\n         }\n \n+        // calculate actual data_len, which may be different from the iterator's upper bound\n+        let data_len = offsets.len() - 1;\n\nReview comment:\n       I think that @alamb is right (my comment is actually wrong). @yordan-pavlov , the Iterator spec recommends, does not require, that the iterator reports a correct length. Consumer that lead to undefined behavior from an incorrect `size_hint` are the causers of said undefined behavior.\r\n   \r\n   The only case where consumers can trust the iterators' length is when the interator implement `unsafe trait TrustedLen`. Unfortunately, `TrustedLen` is still in unstable. For that reason, we have been exposing `unsafe Buffer::from_trusted_len_iter` and the like for those cases.\r\n   \r\n   The issue here is that to correctly declare a FromIterator in this case, we must use `BooleanBufferBuilder` for the null bitmap, which is significantly slower than a `MutableBuffer`. This is why I added that `panic!` there, even though it is unsound. This PR is just surfacing this problem where the current implementation is `unsound` (because the iterator can be larger than `upper_bound`).\r\n   \r\n   Since we have been seeing people prefer the `FromIter` over the `Builder` APIs, my suggestion is that we use `BooleanBufferBuilder`, like we are doing for `PrimitiveArray`, and offer (in a future PR), a `from_trusted_len_iter` for string arrays.\r\n   \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-28T13:11:56.270+0000",
                    "updated": "2021-02-28T13:11:56.270+0000",
                    "started": "2021-02-28T13:11:56.269+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "559063",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/559068",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorgecarleitao commented on a change in pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#discussion_r584293489\n\n\n\n##########\nFile path: rust/arrow/src/array/array_binary.rs\n##########\n@@ -258,6 +258,8 @@ where\n             }\n         }\n \n+        // calculate actual data_len, which may be different from the iterator's upper bound\n+        let data_len = offsets.len() - 1;\n\nReview comment:\n       I think that @alamb is right (my comment is actually wrong). @yordan-pavlov , the Iterator spec recommends, does not require, that the iterator reports a correct length. Consumer that lead to undefined behavior from an incorrect `size_hint` are the causers of said undefined behavior.\r\n   \r\n   The only case where consumers can trust the iterators' length is when the interator implement `unsafe trait TrustedLen`. Unfortunately, `TrustedLen` is still in unstable. For that reason, we have been exposing `unsafe Buffer::from_trusted_len_iter` and the like for those cases.\r\n   \r\n   The issue here is that to correctly declare a FromIterator in this case, we must use `BooleanBufferBuilder` for the null bitmap, which is significantly slower than a `MutableBuffer`. This is why I added that `panic!` there, even though it is unsound. This PR is just surfacing this problem where the current implementation is `unsound` (because the iterator can be larger or smaller than `upper_bound`).\r\n   \r\n   Since we have been seeing people prefer the `FromIter` over the `Builder` APIs, my suggestion is that we use `BooleanBufferBuilder`, like we are doing for `PrimitiveArray`, and offer (in a future PR), a `from_trusted_len_iter` for string arrays.\r\n   \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-28T13:35:35.029+0000",
                    "updated": "2021-02-28T13:35:35.029+0000",
                    "started": "2021-02-28T13:35:35.029+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "559068",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/559096",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "yordan-pavlov commented on a change in pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#discussion_r584316571\n\n\n\n##########\nFile path: rust/arrow/src/array/array_binary.rs\n##########\n@@ -258,6 +258,8 @@ where\n             }\n         }\n \n+        // calculate actual data_len, which may be different from the iterator's upper bound\n+        let data_len = offsets.len() - 1;\n\nReview comment:\n       you are right @jorgecarleitao, it is up to the iterator reader to ensure incorrectly declared bounds do not result in incorrect behavior and, sadly the current implementation could write out of allocated memory in the case of an iterator that produces more items than the declared upper bound; \r\n   but although I agree this should be fixed, I think it falls outside of the scope of this PR.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-28T15:46:09.038+0000",
                    "updated": "2021-02-28T15:46:09.038+0000",
                    "started": "2021-02-28T15:46:09.038+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "559096",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/561091",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alamb commented on a change in pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#discussion_r587764593\n\n\n\n##########\nFile path: rust/arrow/src/array/array_binary.rs\n##########\n@@ -258,6 +258,8 @@ where\n             }\n         }\n \n+        // calculate actual data_len, which may be different from the iterator's upper bound\n+        let data_len = offsets.len() - 1;\n\nReview comment:\n       After some more study I agree\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-04T19:38:31.832+0000",
                    "updated": "2021-03-04T19:38:31.832+0000",
                    "started": "2021-03-04T19:38:31.832+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "561091",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/561092",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alamb commented on a change in pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#discussion_r587764593\n\n\n\n##########\nFile path: rust/arrow/src/array/array_binary.rs\n##########\n@@ -258,6 +258,8 @@ where\n             }\n         }\n \n+        // calculate actual data_len, which may be different from the iterator's upper bound\n+        let data_len = offsets.len() - 1;\n\nReview comment:\n       After some more study I agree (that further improvements could be made, but this PR makes the situation better so it is good as it is)\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-04T19:38:54.743+0000",
                    "updated": "2021-03-04T19:38:54.743+0000",
                    "started": "2021-03-04T19:38:54.742+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "561092",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/561126",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Dandandan commented on pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#issuecomment-790962611\n\n\n   @yordan-pavlov \r\n   Would be very interested in a faster parquet reader.\r\n   Was doing some benchmarking with some queries in DataFusion with Parquet, looks like there is a lot to win in Parquet when looking at profiling results. For example, query 5:\r\n   \r\n   ![query5](https://user-images.githubusercontent.com/163737/110033545-d54af780-7d39-11eb-945c-3614e3d85c8c.png)\r\n   \r\n   And reading all the parquet files to memory (left inclusive % instruction fetch, right self %).:\r\n   \r\n   ![unknown](https://user-images.githubusercontent.com/163737/110033770-1a6f2980-7d3a-11eb-9c54-1968fe35b88a.png)\r\n   \r\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-04T21:38:13.125+0000",
                    "updated": "2021-03-04T21:38:13.125+0000",
                    "started": "2021-03-04T21:38:13.125+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "561126",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/561128",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Dandandan edited a comment on pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#issuecomment-790962611\n\n\n   @yordan-pavlov \r\n   Would be very interested in a faster parquet reader.\r\n   Was doing some benchmarking with some queries in DataFusion with Parquet, looks like there is a lot to win in Parquet when looking at profiling results. For example, query 5:\r\n   \r\n   ![query5](https://user-images.githubusercontent.com/163737/110033545-d54af780-7d39-11eb-945c-3614e3d85c8c.png)\r\n   \r\n   And reading all the parquet files of the benchmark to memory (left inclusive % instruction fetch, right self %).:\r\n   \r\n   ![unknown](https://user-images.githubusercontent.com/163737/110033770-1a6f2980-7d3a-11eb-9c54-1968fe35b88a.png)\r\n   \r\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-04T21:38:39.356+0000",
                    "updated": "2021-03-04T21:38:39.356+0000",
                    "started": "2021-03-04T21:38:39.356+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "561128",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/561132",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Dandandan edited a comment on pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#issuecomment-790962611\n\n\n   @yordan-pavlov \r\n   Would be very interested in a faster parquet reader.\r\n   Was doing some benchmarking with some queries in DataFusion with Parquet, looks like there is a lot to win in Parquet when looking at profiling results. For example, query 5:\r\n   \r\n   ![query5](https://user-images.githubusercontent.com/163737/110033545-d54af780-7d39-11eb-945c-3614e3d85c8c.png)\r\n   \r\n   And reading all the parquet files of the benchmark to memory (and running some queries) (left inclusive % instruction fetch, right self %).:\r\n   \r\n   ![unknown](https://user-images.githubusercontent.com/163737/110033770-1a6f2980-7d3a-11eb-9c54-1968fe35b88a.png)\r\n   \r\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-04T21:42:33.461+0000",
                    "updated": "2021-03-04T21:42:33.461+0000",
                    "started": "2021-03-04T21:42:33.461+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "561132",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/561137",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alamb commented on a change in pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#discussion_r587849026\n\n\n\n##########\nFile path: rust/arrow/src/array/array_binary.rs\n##########\n@@ -258,6 +258,8 @@ where\n             }\n         }\n \n+        // calculate actual data_len, which may be different from the iterator's upper bound\n+        let data_len = offsets.len() - 1;\n\nReview comment:\n       https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.size_hint  says\r\n   \r\n   > It is not enforced that an iterator implementation yields the declared number of elements. A buggy iterator may yield less than the lower bound or more than the upper bound of elements.\r\n   \r\n   > size_hint() is primarily intended to be used for optimizations such as reserving space for the elements of the iterator, but must not be trusted to e.g., omit bounds checks in unsafe code. An incorrect implementation of size_hint() should not lead to memory safety violations.\r\n   \r\n   I figured i would paste that into this PR as I had looked it up to satisfy my own curiosity\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-04T21:46:06.826+0000",
                    "updated": "2021-03-04T21:46:06.826+0000",
                    "started": "2021-03-04T21:46:06.826+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "561137",
                    "issueId": "13361267"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/worklog/561141",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Dandandan edited a comment on pull request #9588:\nURL: https://github.com/apache/arrow/pull/9588#issuecomment-790962611\n\n\n   @yordan-pavlov \r\n   Would be very interested in a faster parquet reader.\r\n   Was doing some benchmarking with some queries in DataFusion with Parquet, looks like there is a lot to win in Parquet when looking at profiling results. For example, query 5 showing about 50% of instruction fetches are for reading parquet:\r\n   \r\n   ![query5](https://user-images.githubusercontent.com/163737/110033545-d54af780-7d39-11eb-945c-3614e3d85c8c.png)\r\n   \r\n   And reading all the parquet files of the benchmark to memory (and running some queries) (left inclusive % instruction fetch, right self %).:\r\n   \r\n   ![unknown](https://user-images.githubusercontent.com/163737/110033770-1a6f2980-7d3a-11eb-9c54-1968fe35b88a.png)\r\n   \r\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-04T21:52:13.418+0000",
                    "updated": "2021-03-04T21:52:13.418+0000",
                    "started": "2021-03-04T21:52:13.418+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "561141",
                    "issueId": "13361267"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 15000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@4976510e[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7d9afa55[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1b15b459[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@31f7bd3c[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6ec01b04[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@d887aef[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3b09a07b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@379bf47b[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@596dd1b7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@17fc9777[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6100e78b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@9d0effc[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 15000,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Mar 04 19:45:17 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-03-04T19:45:17.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11799/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2021-02-26T20:11:22.000+0000",
        "updated": "2021-03-05T10:33:43.000+0000",
        "timeoriginalestimate": null,
        "description": "While looking for a way to make loading array data from parquet files faster, I stumbled on an edge case where string and binary arrays are created with an incorrect length from an iterator with no upper bound.\r\n\r\nHere is a simple example:\r\n\r\n```\r\n\u00a0//\u00a0iterator\u00a0that\u00a0doesn't\u00a0declare\u00a0(upper)\u00a0size\u00a0bound\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0let\u00a0string_iter\u00a0=\u00a0(0..).scan(0usize,\u00a0|pos,\u00a0i|\u00a0{\u00a0\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if\u00a0*pos\u00a0<\u00a010\u00a0{\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0*pos\u00a0+=\u00a01;\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Some(Some(format!(\"value\u00a0{}\",\u00a0i)))\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0else\u00a0{\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0actually\u00a0returns\u00a0up\u00a0to\u00a010\u00a0values\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0None\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0})\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0limited\u00a0using\u00a0take()\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0.take(100);\r\n\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0let\u00a0(lower_size_bound,\u00a0upper_size_bound)\u00a0=\u00a0string_iter.size_hint();\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0assert_eq!(lower_size_bound,\u00a00);\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0the\u00a0upper\u00a0bound,\u00a0defined\u00a0by\u00a0take\u00a0above,\u00a0is\u00a0100\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0assert_eq!(upper_size_bound,\u00a0Some(100));\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0let\u00a0string_array:\u00a0StringArray\u00a0=\u00a0string_iter.collect();\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//\u00a0but\u00a0the\u00a0actual\u00a0number\u00a0of\u00a0items\u00a0in\u00a0the\u00a0array\u00a0is\u00a010\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0assert_eq!(string_array.len(),\u00a010);\r\n```\r\n\r\nFortunately this is easy to fix by using the length of the child offset array and I will be creating a PR for this shortly.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "4h 10m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 15000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Rust] String and Binary arrays created with incorrect length from unbound iterator",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13361267/comment/17295551",
                    "id": "17295551",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=alamb",
                        "name": "alamb",
                        "key": "alamb",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=alamb&avatarId=43364",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alamb&avatarId=43364",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alamb&avatarId=43364",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alamb&avatarId=43364"
                        },
                        "displayName": "Andrew Lamb",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 9588\n[https://github.com/apache/arrow/pull/9588]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=alamb",
                        "name": "alamb",
                        "key": "alamb",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=alamb&avatarId=43364",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alamb&avatarId=43364",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alamb&avatarId=43364",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alamb&avatarId=43364"
                        },
                        "displayName": "Andrew Lamb",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-03-04T19:45:17.651+0000",
                    "updated": "2021-03-04T19:45:17.651+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0o42o:",
        "customfield_12314139": null
    }
}