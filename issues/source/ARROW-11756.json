{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13360462",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462",
    "key": "ARROW-11756",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349493",
                "id": "12349493",
                "description": "",
                "name": "4.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-04-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pachamaltese",
            "name": "pachamaltese",
            "key": "pachamaltese",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pachamaltese&avatarId=45930",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pachamaltese&avatarId=45930",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pachamaltese&avatarId=45930",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pachamaltese&avatarId=45930"
            },
            "displayName": "Mauricio 'Pach\u00e1' Vargas Sep\u00falveda",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
            "name": "jonkeane",
            "key": "jonkeane",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
            },
            "displayName": "Jonathan Keane",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
            "name": "jonkeane",
            "key": "jonkeane",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
            },
            "displayName": "Jonathan Keane",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 9000,
            "total": 9000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 9000,
            "total": 9000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11756/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 15,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/557571",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese opened a new pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-24T22:48:24.633+0000",
                    "updated": "2021-02-24T22:48:24.633+0000",
                    "started": "2021-02-24T22:48:24.633+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "557571",
                    "issueId": "13360462"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/557574",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566#discussion_r582365632\n\n\n\n##########\nFile path: r/R/dataset.R\n##########\n@@ -64,6 +64,12 @@ open_dataset <- function(sources,\n                          partitioning = hive_partition(),\n                          unify_schemas = NULL,\n                          ...) {\n+  # If you aren't explicit with the argument names it looks like everything\n+  # works but it will create a segfault and crash the R session, this fixes it\n+  if (any(class(schema) %in% \"HivePartitioning\")) {\n+    partitioning <- schema\n+    schema <- NULL\n+  }\n\nReview comment:\n       I see what you're going for here, and this is super helpful for our specific case! But I think it would be better to check that `schema` does `inherit()` from `\"Schema\"` and provide a helpful error message if it doesn't.\r\n   \r\n   That way we also catch cases where  `schema` is passed some other object type and it's clear that the input was an error / there is a difference between the schema and partitioning\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-24T22:56:58.560+0000",
                    "updated": "2021-02-24T22:56:58.560+0000",
                    "started": "2021-02-24T22:56:58.559+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "557574",
                    "issueId": "13360462"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/557575",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566#discussion_r582366272\n\n\n\n##########\nFile path: r/tests/testthat/test-dataset.R\n##########\n@@ -194,6 +194,20 @@ test_that(\"Hive partitioning\", {\n   )\n })\n \n+test_that(\"Hive partitioning without explicit argument name\", {\n\nReview comment:\n       Nice test! We'll have to change this with the adjustment above, and when we do We should also include in the name (or possibly a comment) that the input we're giving is malformed, specifically that a partition is being passed to the schema argument.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-24T22:58:39.903+0000",
                    "updated": "2021-02-24T22:58:39.903+0000",
                    "started": "2021-02-24T22:58:39.903+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "557575",
                    "issueId": "13360462"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/557593",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566#issuecomment-785459880\n\n\n   https://issues.apache.org/jira/browse/ARROW-11756\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-24T23:23:19.170+0000",
                    "updated": "2021-02-24T23:23:19.170+0000",
                    "started": "2021-02-24T23:23:19.169+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "557593",
                    "issueId": "13360462"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/557606",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566#issuecomment-785470101\n\n\n   @jonkeane new PR changes in #fed2fd8, which passes verbose error message \r\n   I see it passes the gh-actions checks\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-24T23:50:50.542+0000",
                    "updated": "2021-02-24T23:50:50.542+0000",
                    "started": "2021-02-24T23:50:50.542+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "557606",
                    "issueId": "13360462"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/557615",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566#discussion_r582392410\n\n\n\n##########\nFile path: r/R/dataset.R\n##########\n@@ -64,6 +64,12 @@ open_dataset <- function(sources,\n                          partitioning = hive_partition(),\n                          unify_schemas = NULL,\n                          ...) {\n+  # If you aren't explicit with the argument names it looks like everything\n+  # works but it will create a segfault and crash the R session, this fixes it\n+  if (any(class(schema) %in% \"HivePartitioning\")) {\n+    partitioning <- schema\n+    schema <- NULL\n+  }\n\nReview comment:\n       Excellent! A small change to the text of the message: I don't think we need to mention partitions at all (if the person was confused like I was when I ran into this I already thought I was passing this to the partition argument so as soon as it said schema I would have looked at the docs and \ud83e\udd26 ed. \r\n   \r\n   How about: \r\n   \r\n   ```\r\n   stop(\"'schema' must be a Schema object\", call. = FALSE)\r\n   ```\r\n   \r\n    this [matches some of the other error messages in the package](https://github.com/apache/arrow/blob/master/r/R/array.R#L207)\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-25T00:01:33.058+0000",
                    "updated": "2021-02-25T00:01:33.058+0000",
                    "started": "2021-02-25T00:01:33.057+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "557615",
                    "issueId": "13360462"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/557617",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566#issuecomment-785474909\n\n\n   > This looks good to me with a slightly edit to the actual message. Great work!\r\n   \r\n   sure ! updated now\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-25T00:03:39.315+0000",
                    "updated": "2021-02-25T00:03:39.315+0000",
                    "started": "2021-02-25T00:03:39.315+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "557617",
                    "issueId": "13360462"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/557634",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566#discussion_r582406620\n\n\n\n##########\nFile path: r/tests/testthat/test-dataset.R\n##########\n@@ -194,6 +194,38 @@ test_that(\"Hive partitioning\", {\n   )\n })\n \n+test_that(\"open_dataset fails when partitioning is passed as schema\", {\n\nReview comment:\n       I'd call this something about \"input validation\"\n\n##########\nFile path: r/R/dataset.R\n##########\n@@ -64,6 +64,9 @@ open_dataset <- function(sources,\n                          partitioning = hive_partition(),\n                          unify_schemas = NULL,\n                          ...) {\n+  if (isFALSE(inherits(schema, \"Schema\")) && isFALSE(is.null(schema))) {\n+    stop(\"'schema' must be a Schema object\", call. = FALSE)\n+  }\n\nReview comment:\n       I think the better place for this check is lower down, in DatasetFactory$Finish. Add `assert_is(schema, \"Schema\")` before L30 in dataset-factory.R\r\n   \r\n   The reasoning is that since we're trying to prevent a segfault in the C++ code, we should put the validation as close to the place where we get into the C++ code. That way, if someone were to be using the lower-level interface to the C++ library, they're still protected from these cases. \n\n##########\nFile path: r/tests/testthat/test-dataset.R\n##########\n@@ -194,6 +194,38 @@ test_that(\"Hive partitioning\", {\n   )\n })\n \n+test_that(\"open_dataset fails when partitioning is passed as schema\", {\n+  expect_error(\n+    open_dataset(hive_dir, hive_partition(other = utf8(), group = uint8()))\n+  )\n+\n+  # skipping schema\n+  ds <- open_dataset(hive_dir, , hive_partition(other = utf8(), group = uint8()))\n\nReview comment:\n       I don't think these next test cases are necessary, you're just testing how R matches function arguments, and they would test without your change.\n\n##########\nFile path: r/R/dataset.R\n##########\n@@ -64,6 +64,9 @@ open_dataset <- function(sources,\n                          partitioning = hive_partition(),\n                          unify_schemas = NULL,\n                          ...) {\n+  if (isFALSE(inherits(schema, \"Schema\")) && isFALSE(is.null(schema))) {\n+    stop(\"'schema' must be a Schema object\", call. = FALSE)\n+  }\n\nReview comment:\n       By the same reasoning, we should `assert_is(schema, \"Schema\")` on L80 as well because there is a different C++ entry point on L85.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-25T00:38:55.360+0000",
                    "updated": "2021-02-25T00:38:55.360+0000",
                    "started": "2021-02-25T00:38:55.359+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "557634",
                    "issueId": "13360462"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/557638",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on a change in pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566#discussion_r582410783\n\n\n\n##########\nFile path: r/tests/testthat/test-dataset.R\n##########\n@@ -194,6 +194,38 @@ test_that(\"Hive partitioning\", {\n   )\n })\n \n+test_that(\"open_dataset fails when partitioning is passed as schema\", {\n+  expect_error(\n+    open_dataset(hive_dir, hive_partition(other = utf8(), group = uint8()))\n+  )\n+\n+  # skipping schema\n+  ds <- open_dataset(hive_dir, , hive_partition(other = utf8(), group = uint8()))\n\nReview comment:\n       ready, removed\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-25T00:49:22.047+0000",
                    "updated": "2021-02-25T00:49:22.047+0000",
                    "started": "2021-02-25T00:49:22.047+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "557638",
                    "issueId": "13360462"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/557641",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on a change in pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566#discussion_r582412921\n\n\n\n##########\nFile path: r/tests/testthat/test-dataset.R\n##########\n@@ -194,6 +194,38 @@ test_that(\"Hive partitioning\", {\n   )\n })\n \n+test_that(\"open_dataset fails when partitioning is passed as schema\", {\n\nReview comment:\n       all set ! when it passes CI, it shall be ready to merge\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-25T00:55:31.060+0000",
                    "updated": "2021-02-25T00:55:31.060+0000",
                    "started": "2021-02-25T00:55:31.060+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "557641",
                    "issueId": "13360462"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/557657",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on a change in pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566#discussion_r582426784\n\n\n\n##########\nFile path: r/R/dataset.R\n##########\n@@ -64,6 +64,9 @@ open_dataset <- function(sources,\n                          partitioning = hive_partition(),\n                          unify_schemas = NULL,\n                          ...) {\n+  if (isFALSE(inherits(schema, \"Schema\")) && isFALSE(is.null(schema))) {\n+    stop(\"'schema' must be a Schema object\", call. = FALSE)\n+  }\n\nReview comment:\n       all set ! locally, it passes the tests\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-25T01:34:03.917+0000",
                    "updated": "2021-02-25T01:34:03.917+0000",
                    "started": "2021-02-25T01:34:03.917+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "557657",
                    "issueId": "13360462"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/557658",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566#issuecomment-785510988\n\n\n   @nealrichardson @jonkeane all ready, I've added all the comments\r\n   I think I start to understand the coding style used internally\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-25T01:35:54.486+0000",
                    "updated": "2021-02-25T01:35:54.486+0000",
                    "started": "2021-02-25T01:35:54.486+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "557658",
                    "issueId": "13360462"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/557687",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566#discussion_r582471496\n\n\n\n##########\nFile path: r/R/dataset.R\n##########\n@@ -72,6 +72,7 @@ open_dataset <- function(sources,\n       } else {\n         # Take the first one.\n         schema <- sources[[1]]$schema\n+        assert_is(schema, \"Schema\")\n\nReview comment:\n       This should go after L77, implicitly it's the \"else\" to `if (is.null(schema)) {` L68 \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-25T03:07:37.500+0000",
                    "updated": "2021-02-25T03:07:37.500+0000",
                    "started": "2021-02-25T03:07:37.499+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "557687",
                    "issueId": "13360462"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/557716",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on a change in pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566#discussion_r582535004\n\n\n\n##########\nFile path: r/R/dataset.R\n##########\n@@ -72,6 +72,7 @@ open_dataset <- function(sources,\n       } else {\n         # Take the first one.\n         schema <- sources[[1]]$schema\n+        assert_is(schema, \"Schema\")\n\nReview comment:\n       done\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-25T04:21:03.604+0000",
                    "updated": "2021-02-25T04:21:03.604+0000",
                    "started": "2021-02-25T04:21:03.604+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "557716",
                    "issueId": "13360462"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/worklog/558002",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson closed pull request #9566:\nURL: https://github.com/apache/arrow/pull/9566\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-02-25T16:21:12.137+0000",
                    "updated": "2021-02-25T16:21:12.137+0000",
                    "started": "2021-02-25T16:21:12.137+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "558002",
                    "issueId": "13360462"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 9000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@3d3e08f8[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2b9e1094[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@ad891b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@5bec332a[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5dc81ffa[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@59d9f0ba[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@35d05fcb[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@f1f4f38[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1235a6ee[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@47fc832[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@33e6f171[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@46f51eba[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 9000,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Feb 25 16:21:04 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-02-25T16:21:04.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11756/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2021-02-23T22:59:40.000+0000",
        "updated": "2021-02-25T16:21:13.000+0000",
        "timeoriginalestimate": null,
        "description": "[The command to open a dataset in R|https://arrow.apache.org/docs/r/reference/open_dataset.html] can accept both a schema and a partitioning argument. If one accidentally passes a partitioning as the schema, the result looks like the dataset was read, but operating on the dataset results in segfaults after.\r\n\r\nThough this is input error, we should add a validation checking that the schema argument is, in fact, a {{Schema}} object and error if it is not so that someone doesn't find themselves confronted with a segfault later.\r\n\r\n{code:r}\r\n### begin setup \r\n# note: this exact code is called in test-dataset.R lines 18-87) So when adding\r\n# the test to that file, you don't need to copy this, but can use the code at\r\n# the bottom of this chunk in that test if you want.\r\nlibrary(dplyr)\r\n\r\nmake_temp_dir <- function() {\r\n  path <- tempfile()\r\n  dir.create(path)\r\n  normalizePath(path, winslash = \"/\")\r\n}\r\n\r\nhive_dir <- make_temp_dir()\r\n\r\nfirst_date <- lubridate::ymd_hms(\"2015-04-29 03:12:39\")\r\ndf1 <- tibble(\r\n  int = 1:10,\r\n  dbl = as.numeric(1:10),\r\n  lgl = rep(c(TRUE, FALSE, NA, TRUE, FALSE), 2),\r\n  chr = letters[1:10],\r\n  fct = factor(LETTERS[1:10]),\r\n  ts = first_date + lubridate::days(1:10)\r\n)\r\n\r\nsecond_date <- lubridate::ymd_hms(\"2017-03-09 07:01:02\")\r\ndf2 <- tibble(\r\n  int = 101:110,\r\n  dbl = c(as.numeric(51:59), NaN),\r\n  lgl = rep(c(TRUE, FALSE, NA, TRUE, FALSE), 2),\r\n  chr = letters[10:1],\r\n  fct = factor(LETTERS[10:1]),\r\n  ts = second_date + lubridate::days(10:1)\r\n)\r\n\r\ndir.create(file.path(hive_dir, \"subdir\", \"group=1\", \"other=xxx\"), recursive = TRUE)\r\ndir.create(file.path(hive_dir, \"subdir\", \"group=2\", \"other=yyy\"), recursive = TRUE)\r\nwrite_parquet(df1, file.path(hive_dir, \"subdir\", \"group=1\", \"other=xxx\", \"file1.parquet\"))\r\nwrite_parquet(df2, file.path(hive_dir, \"subdir\", \"group=2\", \"other=yyy\", \"file2.parquet\"))\r\n\r\n### end setup\r\n\r\n# This (the correct specification) works just fine\r\nds <- open_dataset(hive_dir, partitioning = hive_partition(other = utf8(), group = uint8()))\r\nds$schema\r\n\r\n# But if you aren't explicit with ther argument names it looks like everything works...\r\nds <- open_dataset(hive_dir, hive_partition(other = utf8(), group = uint8()))\r\n\r\n# but the dataset is malformed and will have segfaults when trying to interact with it for example:\r\nds$schema\r\n{code}",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 9000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] passing a partition as a schema leads to segfaults",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360462/comment/17291026",
                    "id": "17291026",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Issue resolved by pull request 9566\n[https://github.com/apache/arrow/pull/9566]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2021-02-25T16:21:04.770+0000",
                    "updated": "2021-02-25T16:21:04.770+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0nzls:",
        "customfield_12314139": null
    }
}