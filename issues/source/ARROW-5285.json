{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13232213",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213",
    "key": "ARROW-5285",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12344925",
                "id": "12344925",
                "description": "",
                "name": "0.14.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-07-04"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343937",
                "id": "12343937",
                "description": "",
                "name": "0.13.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-04-01"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
            "name": "apitrou",
            "key": "pitrou",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
            },
            "displayName": "Antoine Pitrou",
            "active": true,
            "timeZone": "Europe/Paris"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12332956",
                "id": "12332956",
                "name": "C++ - Plasma"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333104",
                "id": "12333104",
                "name": "GPU"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=shengjun.li",
            "name": "shengjun.li",
            "key": "shengjun.li",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "shengjun.li",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=shengjun.li",
            "name": "shengjun.li",
            "key": "shengjun.li",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "shengjun.li",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 6000,
            "total": 6000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 6000,
            "total": 6000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5285/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 11,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213/worklog/239206",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on pull request #4277: ARROW-5285: [C++][Plasma]release gpu_object_map when delete objects\nURL: https://github.com/apache/arrow/pull/4277\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-08T13:41:44.747+0000",
                    "updated": "2019-05-08T13:41:44.747+0000",
                    "started": "2019-05-08T13:41:44.746+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "239206",
                    "issueId": "13232213"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213/worklog/240758",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on issue #4277: ARROW-5285: [C++][Plasma] implement to release GpuProcessHandle\nURL: https://github.com/apache/arrow/pull/4277#issuecomment-491594096\n \n \n   @pcmoritz Please help to review this.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-12T13:04:56.009+0000",
                    "updated": "2019-05-12T13:04:56.009+0000",
                    "started": "2019-05-12T13:04:56.007+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "240758",
                    "issueId": "13232213"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213/worklog/246105",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4277: ARROW-5285: [C++][Plasma] implement to release GpuProcessHandle\nURL: https://github.com/apache/arrow/pull/4277#discussion_r283007858\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -416,12 +416,14 @@ Status PlasmaClient::Impl::Create(const ObjectID& object_id, int64_t data_size,\n     }\n   } else {\n #ifdef PLASMA_CUDA\n-    std::lock_guard<std::mutex> lock(gpu_mutex);\n     std::shared_ptr<CudaContext> context;\n     RETURN_NOT_OK(manager_->GetContext(device_num - 1, &context));\n     GpuProcessHandle* handle = new GpuProcessHandle();\n     RETURN_NOT_OK(context->OpenIpcBuffer(*object.ipc_handle, &handle->ptr));\n-    gpu_object_map[object_id] = handle;\n+    {\n+      std::lock_guard<std::mutex> lock(gpu_mutex);\n+      gpu_object_map[object_id] = handle;\n+    }\n \n Review comment:\n   The `*data = handler->ptr` needs to be protected by the lock. Another thread could concurrently invoke Delete on the object id and invalidate it, thus you'll have a use after free on `handle`. By protecting it with the lock, you'll ensure that no concurrent delete happens, but also, you'll have a hold on the cuda buffer via `data` (thus the following writer will work). The original version didn't suffer from this.\r\n   \r\n   Second, this version (and the previous) is leaking a handle here. If you have \r\n   ```\r\n   auto id = \"some id\";\r\n   client1.create(id);\r\n   client2.create(id);\r\n   ```\r\n   it seems the handle allocated by client1 gets lost in the void. This path needs to check if there's already an item in there.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-21T14:58:53.886+0000",
                    "updated": "2019-05-21T14:58:53.886+0000",
                    "started": "2019-05-21T14:58:53.886+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "246105",
                    "issueId": "13232213"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213/worklog/246106",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4277: ARROW-5285: [C++][Plasma] implement to release GpuProcessHandle\nURL: https://github.com/apache/arrow/pull/4277#discussion_r286059268\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -500,7 +503,11 @@ Status PlasmaClient::Impl::GetBuffers(\n             data + object->data_offset, object->data_size + object->metadata_size);\n       } else {\n #ifdef PLASMA_CUDA\n-        physical_buf = gpu_object_map.find(object_ids[i])->second->ptr;\n+        std::lock_guard<std::mutex> lock(gpu_mutex);\n+        auto iter = gpu_object_map.find(object_ids[i]);\n+        ARROW_CHECK(iter != gpu_object_map.end());\n \n Review comment:\n   It seems this item can get deleted in another concurrent local client, why the CHECK?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-21T14:58:53.890+0000",
                    "updated": "2019-05-21T14:58:53.890+0000",
                    "started": "2019-05-21T14:58:53.889+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "246106",
                    "issueId": "13232213"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213/worklog/246559",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on pull request #4277: ARROW-5285: [C++][Plasma] implement to release GpuProcessHandle\nURL: https://github.com/apache/arrow/pull/4277#discussion_r286300719\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -500,7 +503,11 @@ Status PlasmaClient::Impl::GetBuffers(\n             data + object->data_offset, object->data_size + object->metadata_size);\n       } else {\n #ifdef PLASMA_CUDA\n-        physical_buf = gpu_object_map.find(object_ids[i])->second->ptr;\n+        std::lock_guard<std::mutex> lock(gpu_mutex);\n+        auto iter = gpu_object_map.find(object_ids[i]);\n+        ARROW_CHECK(iter != gpu_object_map.end());\n \n Review comment:\n   This CHECK will always be TRUE because \"object_entry == objects_in_use_.end()\" is false.\r\n   If you think the CHECK is redundant, I can remove it.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-22T03:30:46.702+0000",
                    "updated": "2019-05-22T03:30:46.702+0000",
                    "started": "2019-05-22T03:30:46.702+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "246559",
                    "issueId": "13232213"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213/worklog/246575",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on pull request #4277: ARROW-5285: [C++][Plasma] implement to release GpuProcessHandle\nURL: https://github.com/apache/arrow/pull/4277#discussion_r286311088\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -416,12 +416,14 @@ Status PlasmaClient::Impl::Create(const ObjectID& object_id, int64_t data_size,\n     }\n   } else {\n #ifdef PLASMA_CUDA\n-    std::lock_guard<std::mutex> lock(gpu_mutex);\n     std::shared_ptr<CudaContext> context;\n     RETURN_NOT_OK(manager_->GetContext(device_num - 1, &context));\n     GpuProcessHandle* handle = new GpuProcessHandle();\n     RETURN_NOT_OK(context->OpenIpcBuffer(*object.ipc_handle, &handle->ptr));\n-    gpu_object_map[object_id] = handle;\n+    {\n+      std::lock_guard<std::mutex> lock(gpu_mutex);\n+      gpu_object_map[object_id] = handle;\n+    }\n \n Review comment:\n   Thank you for your review.\r\n   \r\n   (1)\r\n   \"Another thread could concurrently invoke Delete on the object id and invalidate it, thus you'll have a use after free on handle.\"\r\n   It won't happen.\r\n   PlasmaClient::Impl always erase object_id in gpu_object_map before sending a command(Release, Abort, ...) to its server.\r\n   If an object_id exists, PlasmaClient::Impl::Create will return here:\r\n       RETURN_NOT_OK(\r\n            ReadCreateReply(buffer.data(), buffer.size(), &id, &object, &store_fd, &mmap_size)),\r\n   where Status::PlasmaObjectExists is got.\r\n   So, I think the scope of the lock is safe.\r\n   \r\n   \r\n   (2)\r\n   auto id = \"some id\";\r\n   client1.create(id);\r\n   client2.create(id);\r\n   It is tested OK. Client2 returns after ReadCreateReply.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-22T04:43:52.369+0000",
                    "updated": "2019-05-22T04:43:52.369+0000",
                    "started": "2019-05-22T04:43:52.369+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "246575",
                    "issueId": "13232213"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213/worklog/249793",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on pull request #4277: ARROW-5285: [C++][Plasma] implement to release GpuProcessHandle\nURL: https://github.com/apache/arrow/pull/4277#discussion_r288381262\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -500,7 +503,11 @@ Status PlasmaClient::Impl::GetBuffers(\n             data + object->data_offset, object->data_size + object->metadata_size);\n       } else {\n #ifdef PLASMA_CUDA\n-        physical_buf = gpu_object_map.find(object_ids[i])->second->ptr;\n+        std::lock_guard<std::mutex> lock(gpu_mutex);\n+        auto iter = gpu_object_map.find(object_ids[i]);\n+        ARROW_CHECK(iter != gpu_object_map.end());\n \n Review comment:\n   @fsaintjacques Excuse me, do you have any more questions and need I remove the CHECK?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-29T03:33:52.452+0000",
                    "updated": "2019-05-29T03:33:52.452+0000",
                    "started": "2019-05-29T03:33:52.451+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "249793",
                    "issueId": "13232213"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213/worklog/250271",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4277: ARROW-5285: [C++][Plasma] Implement to release GpuProcessHandle\nURL: https://github.com/apache/arrow/pull/4277#discussion_r288662938\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -416,12 +416,14 @@ Status PlasmaClient::Impl::Create(const ObjectID& object_id, int64_t data_size,\n     }\n   } else {\n #ifdef PLASMA_CUDA\n-    std::lock_guard<std::mutex> lock(gpu_mutex);\n     std::shared_ptr<CudaContext> context;\n     RETURN_NOT_OK(manager_->GetContext(device_num - 1, &context));\n     GpuProcessHandle* handle = new GpuProcessHandle();\n     RETURN_NOT_OK(context->OpenIpcBuffer(*object.ipc_handle, &handle->ptr));\n-    gpu_object_map[object_id] = handle;\n+    {\n+      std::lock_guard<std::mutex> lock(gpu_mutex);\n+      gpu_object_map[object_id] = handle;\n+    }\n \n Review comment:\n   I missed that ReadCreateReply would convert the message error into a Status, thanks for the clarification.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-29T16:40:10.904+0000",
                    "updated": "2019-05-29T16:40:10.904+0000",
                    "started": "2019-05-29T16:40:10.904+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250271",
                    "issueId": "13232213"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213/worklog/250274",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4277: ARROW-5285: [C++][Plasma] Implement to release GpuProcessHandle\nURL: https://github.com/apache/arrow/pull/4277#discussion_r288663337\n \n \n\n ##########\n File path: cpp/src/plasma/client.cc\n ##########\n @@ -500,7 +503,11 @@ Status PlasmaClient::Impl::GetBuffers(\n             data + object->data_offset, object->data_size + object->metadata_size);\n       } else {\n #ifdef PLASMA_CUDA\n-        physical_buf = gpu_object_map.find(object_ids[i])->second->ptr;\n+        std::lock_guard<std::mutex> lock(gpu_mutex);\n+        auto iter = gpu_object_map.find(object_ids[i]);\n+        ARROW_CHECK(iter != gpu_object_map.end());\n \n Review comment:\n   Nope this is good for me.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-29T16:41:06.814+0000",
                    "updated": "2019-05-29T16:41:06.814+0000",
                    "started": "2019-05-29T16:41:06.813+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250274",
                    "issueId": "13232213"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213/worklog/250678",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "shengjun1985 commented on issue #4277: ARROW-5285: [C++][Plasma] Implement to release GpuProcessHandle\nURL: https://github.com/apache/arrow/pull/4277#issuecomment-497181384\n \n \n   @pcmoritz Excuse me, do you have any schedule for this PR?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-30T02:47:42.189+0000",
                    "updated": "2019-05-30T02:47:42.189+0000",
                    "started": "2019-05-30T02:47:42.188+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "250678",
                    "issueId": "13232213"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213/worklog/253743",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4277: ARROW-5285: [C++][Plasma] Implement to release GpuProcessHandle\nURL: https://github.com/apache/arrow/pull/4277\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-04T13:40:51.201+0000",
                    "updated": "2019-06-04T13:40:51.201+0000",
                    "started": "2019-06-04T13:40:51.200+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "253743",
                    "issueId": "13232213"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 6000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@19532726[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7a32d4b7[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1058eff6[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@7c230626[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@51731077[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@5543a610[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@233d411[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6645f047[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2f7ca450[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@6747e489[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7b48372c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@32c637ca[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 6000,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Jun 05 13:24:33 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-06-05T13:24:24.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5285/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2019-05-08T13:00:29.000+0000",
        "updated": "2019-06-05T13:24:33.000+0000",
        "timeoriginalestimate": null,
        "description": "cpp/CMakeLists.txt\r\n\u00a0 option(ARROW_CUDA \"Build the Arrow CUDA extensions (requires CUDA toolkit)\" ON)\r\n\u00a0 option(ARROW_PLASMA \"Build the plasma object store along with Arrow\" ON)\r\n\r\nIn the plasma client, GpuProcessHandle is never released although GPU object is deleted.\r\nThus, cuIpcCloseMemHandle is never called.\r\nWhen I repeatly creat and delete gpu memory, the following error may occur.\r\n\r\nIOError: Cuda Driver API call in /home/zilliz/arrow/cpp/src/arrow/gpu/cuda_context.cc at line 155 failed with code 208: cuIpcOpenMemHandle(&data, *handle, CU_IPC_MEM_LAZY_ENABLE_PEER_ACCESS)\r\n\r\nNote: CUDA_ERROR_ALREADY_MAPPED = 208",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 40m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 6000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++][Plasma] GpuProcessHandle is not released when GPU object deleted",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213/comment/16855712",
                    "id": "16855712",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 4277\n[https://github.com/apache/arrow/pull/4277]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2019-06-04T13:40:43.046+0000",
                    "updated": "2019-06-04T13:40:43.046+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213/comment/16856222",
                    "id": "16856222",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=shengjun.li",
                        "name": "shengjun.li",
                        "key": "shengjun.li",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "shengjun.li",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "It is fixed.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=shengjun.li",
                        "name": "shengjun.li",
                        "key": "shengjun.li",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "shengjun.li",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-05T01:24:58.568+0000",
                    "updated": "2019-06-05T01:24:58.568+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13232213/comment/16856712",
                    "id": "16856712",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "We leave fixed issues in Resolved state",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-06-05T13:24:33.571+0000",
                    "updated": "2019-06-05T13:24:33.571+0000"
                }
            ],
            "maxResults": 3,
            "total": 3,
            "startAt": 0
        },
        "customfield_12311820": "0|z02hyw:",
        "customfield_12314139": null
    }
}