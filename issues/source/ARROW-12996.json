{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13382544",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544",
    "key": "ARROW-12996",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349983",
                "id": "12349983",
                "description": "",
                "name": "5.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-07-28"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349983",
                "id": "12349983",
                "description": "",
                "name": "5.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-07-28"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12618003",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12618003",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "outwardIssue": {
                    "id": "13310995",
                    "key": "ARROW-9111",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13310995",
                    "fields": {
                        "summary": "[Python] csv.read_csv progress bar",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/1",
                            "description": "The issue is open and ready for the assignee to start work on it.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
                            "name": "Open",
                            "id": "1",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
                                "id": 2,
                                "key": "new",
                                "colorName": "blue-gray",
                                "name": "To Do"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
                            "name": "Minor",
                            "id": "4"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=neworld",
            "name": "neworld",
            "key": "neworld",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=neworld&avatarId=46652",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=neworld&avatarId=46652",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=neworld&avatarId=46652",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=neworld&avatarId=46652"
            },
            "displayName": "Nate Clark",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=neworld",
            "name": "neworld",
            "key": "neworld",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=neworld&avatarId=46652",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=neworld&avatarId=46652",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=neworld&avatarId=46652",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=neworld&avatarId=46652"
            },
            "displayName": "Nate Clark",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=neworld",
            "name": "neworld",
            "key": "neworld",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=neworld&avatarId=46652",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=neworld&avatarId=46652",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=neworld&avatarId=46652",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=neworld&avatarId=46652"
            },
            "displayName": "Nate Clark",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 7800,
            "total": 7800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 7800,
            "total": 7800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12996/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 13,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/worklog/609925",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "n3world opened a new pull request #10509:\nURL: https://github.com/apache/arrow/pull/10509\n\n\n   Add a bytes_read() to the StreamingReader interface so the progress of the stream can be determined easily and accurately by a user.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-10T20:46:47.388+0000",
                    "updated": "2021-06-10T20:46:47.388+0000",
                    "started": "2021-06-10T20:46:47.388+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "609925",
                    "issueId": "13382544"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/worklog/609926",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #10509:\nURL: https://github.com/apache/arrow/pull/10509#issuecomment-859051572\n\n\n   https://issues.apache.org/jira/browse/ARROW-12996\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-10T20:47:11.047+0000",
                    "updated": "2021-06-10T20:47:11.047+0000",
                    "started": "2021-06-10T20:47:11.047+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "609926",
                    "issueId": "13382544"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/worklog/611299",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #10509:\nURL: https://github.com/apache/arrow/pull/10509#discussion_r651769022\n\n\n\n##########\nFile path: cpp/src/arrow/csv/reader.h\n##########\n@@ -73,6 +73,9 @@ class ARROW_EXPORT StreamingReader : public RecordBatchReader {\n \n   virtual Future<std::shared_ptr<RecordBatch>> ReadNextAsync() = 0;\n \n+  /// \\brief Returns the number of bytes which have been read by this reader\n+  virtual int64_t bytes_read() const = 0;\n\nReview comment:\n       The docstring may be a bit imprecise here. If there is some readahead going on, is it included in the result? Or is it the number of bytes corresponding to the batches already consumed by the caller?\n\n##########\nFile path: cpp/src/arrow/csv/reader_test.cc\n##########\n@@ -216,6 +216,27 @@ TEST(StreamingReaderTests, NestedParallelism) {\n   TestNestedParallelism(thread_pool, table_factory);\n }\n \n+TEST(StreamingReaderTest, BytesRead) {\n+  ASSERT_OK_AND_ASSIGN(auto thread_pool, internal::ThreadPool::Make(1));\n+  auto table_buffer =\n+      std::make_shared<Buffer>(\"a,b,c\\n123,456,789\\n101,112,131\\n415,161,718\\n\");\n+  auto input = std::make_shared<io::BufferReader>(table_buffer);\n+  auto read_options = ReadOptions::Defaults();\n+  read_options.block_size = 20;\n+  ASSERT_OK_AND_ASSIGN(\n+      auto streaming_reader,\n+      StreamingReader::Make(io::default_io_context(), input, read_options,\n+                            ParseOptions::Defaults(), ConvertOptions::Defaults()));\n+  std::shared_ptr<RecordBatch> batch;\n+  int64_t bytes = 6;  // Size of header\n+  do {\n+    ASSERT_EQ(bytes, streaming_reader->bytes_read());\n+    ASSERT_OK(streaming_reader->ReadNext(&batch));\n+    bytes += 12;  // Add size of each row\n+  } while (batch);\n+  ASSERT_EQ(42, streaming_reader->bytes_read());\n+}\n\nReview comment:\n       Can you also add a test where the `skip_rows` and/or `skip_rows_after_names` options are set? What should be the semantics there?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-15T13:06:59.664+0000",
                    "updated": "2021-06-15T13:06:59.664+0000",
                    "started": "2021-06-15T13:06:59.663+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "611299",
                    "issueId": "13382544"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/worklog/611300",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #10509:\nURL: https://github.com/apache/arrow/pull/10509#issuecomment-861481953\n\n\n   @westonpace You might be curious about this.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-15T13:07:12.796+0000",
                    "updated": "2021-06-15T13:07:12.796+0000",
                    "started": "2021-06-15T13:07:12.795+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "611300",
                    "issueId": "13382544"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/worklog/611543",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "westonpace commented on a change in pull request #10509:\nURL: https://github.com/apache/arrow/pull/10509#discussion_r652079281\n\n\n\n##########\nFile path: cpp/src/arrow/csv/reader.h\n##########\n@@ -73,6 +73,9 @@ class ARROW_EXPORT StreamingReader : public RecordBatchReader {\n \n   virtual Future<std::shared_ptr<RecordBatch>> ReadNextAsync() = 0;\n \n+  /// \\brief Returns the number of bytes which have been read by this reader\n+  virtual int64_t bytes_read() const = 0;\n\nReview comment:\n       I think `bytes_read` means \"bytes the CSV reader is completely finished with\".  So serial readahead (e.g. the readahead happening on the I/O context or \"data read but not parsed or decoded\") should not be included.  Caller consumption should be irrelevant.\r\n   \r\n   For parallel readahead (e.g. the CSV reader reading/parsing/decoding multiple batches of data at the same time) then my opinion is that `bytes_read` should be incremented as soon as a batch is ready to be delivered (even if there are other batches in front of it that aren't ready).\r\n   \r\n   Perhaps `bytes_processed` or `bytes_finished` would remove the ambiguity?  Or maybe just a clearer docstring.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-15T19:12:25.597+0000",
                    "updated": "2021-06-15T19:12:25.597+0000",
                    "started": "2021-06-15T19:12:25.596+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "611543",
                    "issueId": "13382544"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/worklog/611553",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #10509:\nURL: https://github.com/apache/arrow/pull/10509#discussion_r652091653\n\n\n\n##########\nFile path: cpp/src/arrow/csv/reader.h\n##########\n@@ -73,6 +73,9 @@ class ARROW_EXPORT StreamingReader : public RecordBatchReader {\n \n   virtual Future<std::shared_ptr<RecordBatch>> ReadNextAsync() = 0;\n \n+  /// \\brief Returns the number of bytes which have been read by this reader\n+  virtual int64_t bytes_read() const = 0;\n\nReview comment:\n       A clearer docstring would be fine with me.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-15T19:31:38.814+0000",
                    "updated": "2021-06-15T19:31:38.814+0000",
                    "started": "2021-06-15T19:31:38.814+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "611553",
                    "issueId": "13382544"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/worklog/611599",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "n3world commented on pull request #10509:\nURL: https://github.com/apache/arrow/pull/10509#issuecomment-861834800\n\n\n   > Looks good, one minor nit: If there is just one property then `bytes_read` makes sense. So the API is fine. Internally there are two properties `bytes_read_` and `bytes_parsed_` which is a little confusing to me because I immediately thought `bytes_read_` meant \"read but not parsed\" since the order is \"read->parse->decode\". Maybe change `bytes_read_` to `bytes_decoded_` but leave it as `bytes_read` at the API level?\r\n   \r\n   I only named the variable bytes_read_ to match the method name so if you are fine with the bytes_read() returning the value of bytes_decoded_, I'll make that change.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-15T21:13:01.524+0000",
                    "updated": "2021-06-15T21:13:01.524+0000",
                    "started": "2021-06-15T21:13:01.524+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "611599",
                    "issueId": "13382544"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/worklog/611602",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "n3world commented on a change in pull request #10509:\nURL: https://github.com/apache/arrow/pull/10509#discussion_r652157067\n\n\n\n##########\nFile path: cpp/src/arrow/csv/reader_test.cc\n##########\n@@ -216,6 +216,27 @@ TEST(StreamingReaderTests, NestedParallelism) {\n   TestNestedParallelism(thread_pool, table_factory);\n }\n \n+TEST(StreamingReaderTest, BytesRead) {\n+  ASSERT_OK_AND_ASSIGN(auto thread_pool, internal::ThreadPool::Make(1));\n+  auto table_buffer =\n+      std::make_shared<Buffer>(\"a,b,c\\n123,456,789\\n101,112,131\\n415,161,718\\n\");\n+  auto input = std::make_shared<io::BufferReader>(table_buffer);\n+  auto read_options = ReadOptions::Defaults();\n+  read_options.block_size = 20;\n+  ASSERT_OK_AND_ASSIGN(\n+      auto streaming_reader,\n+      StreamingReader::Make(io::default_io_context(), input, read_options,\n+                            ParseOptions::Defaults(), ConvertOptions::Defaults()));\n+  std::shared_ptr<RecordBatch> batch;\n+  int64_t bytes = 6;  // Size of header\n+  do {\n+    ASSERT_EQ(bytes, streaming_reader->bytes_read());\n+    ASSERT_OK(streaming_reader->ReadNext(&batch));\n+    bytes += 12;  // Add size of each row\n+  } while (batch);\n+  ASSERT_EQ(42, streaming_reader->bytes_read());\n+}\n\nReview comment:\n       Done\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-15T21:16:12.146+0000",
                    "updated": "2021-06-15T21:16:12.146+0000",
                    "started": "2021-06-15T21:16:12.146+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "611602",
                    "issueId": "13382544"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/worklog/611607",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "n3world commented on a change in pull request #10509:\nURL: https://github.com/apache/arrow/pull/10509#discussion_r652160176\n\n\n\n##########\nFile path: cpp/src/arrow/csv/reader.h\n##########\n@@ -73,6 +73,9 @@ class ARROW_EXPORT StreamingReader : public RecordBatchReader {\n \n   virtual Future<std::shared_ptr<RecordBatch>> ReadNextAsync() = 0;\n \n+  /// \\brief Returns the number of bytes which have been read by this reader\n+  virtual int64_t bytes_read() const = 0;\n\nReview comment:\n       I updated it to\r\n   ```\r\n     /// - bytes skipped by `ReadOptions.skip_rows` will be counted as being read before\r\n     /// any records are returned.\r\n     /// - bytes read while parsing the header will be counted as being read before any\r\n     /// records are returned.\r\n     /// - bytes skipped by `ReadOptions.skip_rows_after_names` will be counted after the\r\n     /// first batch is returned.\r\n     ///\r\n     /// \\return the number of bytes which have been read from the CSV stream and returned to\r\n     /// caller\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-15T21:18:50.370+0000",
                    "updated": "2021-06-15T21:18:50.370+0000",
                    "started": "2021-06-15T21:18:50.370+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "611607",
                    "issueId": "13382544"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/worklog/611820",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #10509:\nURL: https://github.com/apache/arrow/pull/10509#issuecomment-862192671\n\n\n   Calling it `bytes_read()` is fine with me.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-16T09:11:49.358+0000",
                    "updated": "2021-06-16T09:11:49.358+0000",
                    "started": "2021-06-16T09:11:49.358+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "611820",
                    "issueId": "13382544"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/worklog/611824",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #10509:\nURL: https://github.com/apache/arrow/pull/10509#issuecomment-862202034\n\n\n   This PR will make it a bit complicated to add a parallel streaming reader. @westonpace Are you ok with this?\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-16T09:25:29.011+0000",
                    "updated": "2021-06-16T09:25:29.011+0000",
                    "started": "2021-06-16T09:25:29.011+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "611824",
                    "issueId": "13382544"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/worklog/611825",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou edited a comment on pull request #10509:\nURL: https://github.com/apache/arrow/pull/10509#issuecomment-862202034\n\n\n   This PR will make it a bit more complicated to add a parallel streaming reader. @westonpace Are you ok with this?\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-16T09:25:42.124+0000",
                    "updated": "2021-06-16T09:25:42.124+0000",
                    "started": "2021-06-16T09:25:42.124+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "611825",
                    "issueId": "13382544"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/worklog/617081",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou closed pull request #10509:\nURL: https://github.com/apache/arrow/pull/10509\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-30T14:49:56.412+0000",
                    "updated": "2021-06-30T14:49:56.412+0000",
                    "started": "2021-06-30T14:49:56.411+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "617081",
                    "issueId": "13382544"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 7800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@5ad7689b[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@36645702[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@784f016b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@6c078527[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@77bd3a8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@77bdfc39[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7779fffc[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@27076289[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7e381352[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@667c6498[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5e42e1b4[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@424dd3df[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 7800,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Jun 30 14:50:35 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-06-30T14:50:35.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12996/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2021-06-07T17:36:42.000+0000",
        "updated": "2021-06-30T14:50:35.000+0000",
        "timeoriginalestimate": null,
        "description": "The StreamingReader API does not provide a way to detect progress of the stream. It would be useful to have a methods to expose number of bytes read as well as total number of bytes in the csv file so that progress can be calculated.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 10m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 7800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] CSV stream reader has no progress indication",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/comment/17358758",
                    "id": "17358758",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=westonpace",
                        "name": "westonpace",
                        "key": "westonpace",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Weston Pace",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "If your input is a file (or some other source that you can know the size ahead of time) then before you create the streaming reader you can grab the size of the input.\u00a0 Between that and the batch size you should know exactly how many record batches to expect correct?\u00a0 Why do you need to add the info to the streaming reader?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=westonpace",
                        "name": "westonpace",
                        "key": "westonpace",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Weston Pace",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2021-06-07T17:41:15.547+0000",
                    "updated": "2021-06-07T17:41:15.547+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/comment/17358763",
                    "id": "17358763",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=neworld",
                        "name": "neworld",
                        "key": "neworld",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=neworld&avatarId=46652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=neworld&avatarId=46652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=neworld&avatarId=46652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=neworld&avatarId=46652"
                        },
                        "displayName": "Nate Clark",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Yes the user can grab the size before hand so that was more of a convenience method. The batches returned by the streamer are not equal to the batch size of the reader because the end of a row will not always align with the end of the data. The user could estimate the progress relatively closely as long as the size of rows are not really large like multiple megabytes. The progress indicator would just be a more precise implementation.\r\n\r\n\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=neworld",
                        "name": "neworld",
                        "key": "neworld",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=neworld&avatarId=46652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=neworld&avatarId=46652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=neworld&avatarId=46652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=neworld&avatarId=46652"
                        },
                        "displayName": "Nate Clark",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-06-07T17:47:57.272+0000",
                    "updated": "2021-06-07T17:47:57.272+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13382544/comment/17372047",
                    "id": "17372047",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 10509\n[https://github.com/apache/arrow/pull/10509]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-06-30T14:50:35.122+0000",
                    "updated": "2021-06-30T14:50:35.122+0000"
                }
            ],
            "maxResults": 3,
            "total": 3,
            "startAt": 0
        },
        "customfield_12311820": "0|z0rqe0:",
        "customfield_12314139": null
    }
}