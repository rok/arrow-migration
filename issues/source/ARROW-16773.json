{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13448793",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13448793",
    "key": "ARROW-16773",
    "fields": {
        "parent": {
            "id": "13448791",
            "key": "ARROW-16771",
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13448791",
            "fields": {
                "summary": "[Format][C++][Go] Adding Run-Length encoding to Arrow",
                "status": {
                    "self": "https://issues.apache.org/jira/rest/api/2/status/1",
                    "description": "The issue is open and ready for the assignee to start work on it.",
                    "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
                    "name": "Open",
                    "id": "1",
                    "statusCategory": {
                        "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
                        "id": 2,
                        "key": "new",
                        "colorName": "blue-gray",
                        "name": "To Do"
                    }
                },
                "priority": {
                    "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                    "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                    "name": "Major",
                    "id": "3"
                },
                "issuetype": {
                    "self": "https://issues.apache.org/jira/rest/api/2/issuetype/3",
                    "id": "3",
                    "description": "A task that needs to be done.",
                    "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype",
                    "name": "Task",
                    "subtask": false,
                    "avatarId": 21148
                }
            }
        },
        "fixVersions": [],
        "resolution": null,
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=zagto",
            "name": "zagto",
            "key": "JIRAUSER286565",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Tobias Zagorni",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/3",
            "description": "This issue is being actively worked on at the moment by the assignee.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png",
            "name": "In Progress",
            "id": "3",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4",
                "id": 4,
                "key": "indeterminate",
                "colorName": "yellow",
                "name": "In Progress"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12332532",
                "id": "12332532",
                "name": "Documentation"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328932",
                "id": "12328932",
                "name": "Format"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=zagto",
            "name": "zagto",
            "key": "JIRAUSER286565",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Tobias Zagorni",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=zagto",
            "name": "zagto",
            "key": "JIRAUSER286565",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Tobias Zagorni",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 7200,
            "total": 7200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 7200,
            "total": 7200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-16773/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 12,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13448793/worklog/779203",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on PR #13333:\nURL: https://github.com/apache/arrow/pull/13333#issuecomment-1148986317\n\n   https://issues.apache.org/jira/browse/ARROW-16773\n\n\n",
                    "created": "2022-06-07T17:48:25.850+0000",
                    "updated": "2022-06-07T17:48:25.850+0000",
                    "started": "2022-06-07T17:48:25.849+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "779203",
                    "issueId": "13448793"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13448793/worklog/781610",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on code in PR #13333:\nURL: https://github.com/apache/arrow/pull/13333#discussion_r897875299\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,85 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same a, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n+buffer holding as many 32-bit integers, as there are runs. The actual values are\n+hold in a child array, which is just a regular array\n+\n+The dictionary is stored as an optional\n+property of an array. When a field is dictionary encoded, the values are\n+represented by an array of non-negative integers representing the index of the\n+value in the dictionary. The memory layout for a dictionary-encoded array is\n+the same as that of a primitive integer layout. The dictionary is handled as a\n+separate columnar array with its own respective layout.\n\nReview Comment:\n   Is this related? Or was this a copy-paste thing\n\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,85 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same a, called runs. Each run is represented as a value, and an integer\n\nReview Comment:\n   \"same value\"?\n\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,85 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same a, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n+buffer holding as many 32-bit integers, as there are runs. The actual values are\n\nReview Comment:\n   nit: explicitly say signed integers?\n\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,85 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same a, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n+buffer holding as many 32-bit integers, as there are runs. The actual values are\n+hold in a child array, which is just a regular array\n+\n+The dictionary is stored as an optional\n+property of an array. When a field is dictionary encoded, the values are\n+represented by an array of non-negative integers representing the index of the\n+value in the dictionary. The memory layout for a dictionary-encoded array is\n+the same as that of a primitive integer layout. The dictionary is handled as a\n+separate columnar array with its own respective layout.\n+\n+As an example, you could have the following data: ::\n+\n+    type: Float32\n+\n+    [1.0, 1.0, 1.0, 1.0, null, null, 2.0]\n+\n+In Run-length-encoded form, this could appear as:\n+\n+::\n+\n+    * Length: 3, Null count: 2\n+    * Accumulated run lengths buffer:\n+\n+      | Bytes 0-3   | Bytes 4-7   | Bytes 8-11  | Bytes  6-63           |\n+      |-------------|-------------|-------------|-----------------------|\n+      | 4           | 6           | 7           | unspecified (padding) |\n\nReview Comment:\n   Shouldn't these be 4, 2, 1?\n\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,85 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same a, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n+buffer holding as many 32-bit integers, as there are runs. The actual values are\n+hold in a child array, which is just a regular array\n+\n+The dictionary is stored as an optional\n+property of an array. When a field is dictionary encoded, the values are\n+represented by an array of non-negative integers representing the index of the\n+value in the dictionary. The memory layout for a dictionary-encoded array is\n+the same as that of a primitive integer layout. The dictionary is handled as a\n+separate columnar array with its own respective layout.\n+\n+As an example, you could have the following data: ::\n+\n+    type: Float32\n+\n+    [1.0, 1.0, 1.0, 1.0, null, null, 2.0]\n+\n+In Run-length-encoded form, this could appear as:\n+\n+::\n+\n+    * Length: 3, Null count: 2\n+    * Accumulated run lengths buffer:\n+\n+      | Bytes 0-3   | Bytes 4-7   | Bytes 8-11  | Bytes  6-63           |\n+      |-------------|-------------|-------------|-----------------------|\n+      | 4           | 6           | 7           | unspecified (padding) |\n\nReview Comment:\n   How are top-level nulls interpreted? Or are they disallowed?\n\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,85 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same a, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n+buffer holding as many 32-bit integers, as there are runs. The actual values are\n+hold in a child array, which is just a regular array\n+\n+The dictionary is stored as an optional\n+property of an array. When a field is dictionary encoded, the values are\n+represented by an array of non-negative integers representing the index of the\n+value in the dictionary. The memory layout for a dictionary-encoded array is\n+the same as that of a primitive integer layout. The dictionary is handled as a\n+separate columnar array with its own respective layout.\n+\n+As an example, you could have the following data: ::\n+\n+    type: Float32\n+\n+    [1.0, 1.0, 1.0, 1.0, null, null, 2.0]\n+\n+In Run-length-encoded form, this could appear as:\n+\n+::\n+\n+    * Length: 3, Null count: 2\n\nReview Comment:\n   It is a bit odd to see both logical (length) and physical (null count) values at the top level, it seems inconsistent\n\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,85 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same a, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n+buffer holding as many 32-bit integers, as there are runs. The actual values are\n+hold in a child array, which is just a regular array\n+\n+The dictionary is stored as an optional\n+property of an array. When a field is dictionary encoded, the values are\n+represented by an array of non-negative integers representing the index of the\n+value in the dictionary. The memory layout for a dictionary-encoded array is\n+the same as that of a primitive integer layout. The dictionary is handled as a\n+separate columnar array with its own respective layout.\n+\n+As an example, you could have the following data: ::\n+\n+    type: Float32\n+\n+    [1.0, 1.0, 1.0, 1.0, null, null, 2.0]\n+\n+In Run-length-encoded form, this could appear as:\n+\n+::\n+\n+    * Length: 3, Null count: 2\n+    * Accumulated run lengths buffer:\n+\n+      | Bytes 0-3   | Bytes 4-7   | Bytes 8-11  | Bytes  6-63           |\n+      |-------------|-------------|-------------|-----------------------|\n+      | 4           | 6           | 7           | unspecified (padding) |\n+\n+    * Children arrays:\n+\n+      * values (Float32):\n+        * Length: 3, Null count: 1\n+        * Validity bitmap buffer:\n+\n+          | Byte 0 (validity bitmap) | Bytes 1-63            |\n+          |--------------------------|-----------------------|\n+          | 00000101                 | 0 (padding)           |\n+\n+        * Values buffer\n+\n+          | Bytes 0-3   | Bytes 4-7   | Bytes 8-11  | Bytes  6-63           |\n+          |-------------|-------------|-------------|-----------------------|\n+          | 1.0         | unspecified | 2.0         | unspecified (padding) |\n+\n+\n+Note that a dictionary is permitted to contain duplicate values or\n+nulls:\n+\n+::\n+\n+    data VarBinary (dictionary-encoded)\n+       index_type: Int32\n+       values: [0, 1, 3, 1, 4, 2]\n+\n+    dictionary\n+       type: VarBinary\n+       values: ['foo', 'bar', 'baz', 'foo', null]\n+\n+The null count of such arrays is dictated only by the validity bitmap\n+of its indices, irrespective of any null values in the dictionary.\n+\n+Since unsigned integers can be more difficult to work with in some cases\n+(e.g. in the JVM), we recommend preferring signed integers over unsigned\n+integers for representing dictionary indices. Additionally, we recommend\n+avoiding using 64-bit unsigned integer indices unless they are required by an\n+application.\n+\n+We discuss dictionary encoding as it relates to serialization further\n+below.\n\nReview Comment:\n   same here, was this meant to be kept?\n\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,85 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same a, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n+buffer holding as many 32-bit integers, as there are runs. The actual values are\n+hold in a child array, which is just a regular array\n\nReview Comment:\n   ```suggestion\r\n   held in a child array, which is just a regular array.\r\n   ```\n\n\n\n",
                    "created": "2022-06-15T11:48:13.340+0000",
                    "updated": "2022-06-15T11:48:13.340+0000",
                    "started": "2022-06-15T11:48:13.339+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "781610",
                    "issueId": "13448793"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13448793/worklog/781614",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "zagto commented on code in PR #13333:\nURL: https://github.com/apache/arrow/pull/13333#discussion_r897892969\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,85 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same a, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n+buffer holding as many 32-bit integers, as there are runs. The actual values are\n+hold in a child array, which is just a regular array\n+\n+The dictionary is stored as an optional\n+property of an array. When a field is dictionary encoded, the values are\n+represented by an array of non-negative integers representing the index of the\n+value in the dictionary. The memory layout for a dictionary-encoded array is\n+the same as that of a primitive integer layout. The dictionary is handled as a\n+separate columnar array with its own respective layout.\n+\n+As an example, you could have the following data: ::\n+\n+    type: Float32\n+\n+    [1.0, 1.0, 1.0, 1.0, null, null, 2.0]\n+\n+In Run-length-encoded form, this could appear as:\n+\n+::\n+\n+    * Length: 3, Null count: 2\n+    * Accumulated run lengths buffer:\n+\n+      | Bytes 0-3   | Bytes 4-7   | Bytes 8-11  | Bytes  6-63           |\n+      |-------------|-------------|-------------|-----------------------|\n+      | 4           | 6           | 7           | unspecified (padding) |\n\nReview Comment:\n   > How are top-level nulls interpreted? Or are they disallowed?\r\n   \r\n   The idea for now is that the top level only has a single buffer, holding the run length values. So it is not possible to a have a null three\r\n   \r\n   > Shouldn't these be 4, 2, 1?\r\n   \r\n   No they hold the accumulated length of all runs from the first to the current one. The paragraph above should have said that, sorry.\r\n   \r\n   The reason for storing accumulated lengths is to make random access to a logical index possible using binary search. We can still get the length of the current run efficiently by subtracting the two adjacent values\r\n   \n\n\n\n",
                    "created": "2022-06-15T12:02:14.227+0000",
                    "updated": "2022-06-15T12:02:14.227+0000",
                    "started": "2022-06-15T12:02:14.226+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "781614",
                    "issueId": "13448793"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13448793/worklog/781615",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "zagto commented on code in PR #13333:\nURL: https://github.com/apache/arrow/pull/13333#discussion_r897893387\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,85 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same a, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n+buffer holding as many 32-bit integers, as there are runs. The actual values are\n+hold in a child array, which is just a regular array\n+\n+The dictionary is stored as an optional\n+property of an array. When a field is dictionary encoded, the values are\n+represented by an array of non-negative integers representing the index of the\n+value in the dictionary. The memory layout for a dictionary-encoded array is\n+the same as that of a primitive integer layout. The dictionary is handled as a\n+separate columnar array with its own respective layout.\n\nReview Comment:\n   copy-paste mistake indeed\n\n\n\n",
                    "created": "2022-06-15T12:02:44.671+0000",
                    "updated": "2022-06-15T12:02:44.671+0000",
                    "started": "2022-06-15T12:02:44.670+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "781615",
                    "issueId": "13448793"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13448793/worklog/781616",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on code in PR #13333:\nURL: https://github.com/apache/arrow/pull/13333#discussion_r897893686\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,85 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same a, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n+buffer holding as many 32-bit integers, as there are runs. The actual values are\n+hold in a child array, which is just a regular array\n+\n+The dictionary is stored as an optional\n+property of an array. When a field is dictionary encoded, the values are\n+represented by an array of non-negative integers representing the index of the\n+value in the dictionary. The memory layout for a dictionary-encoded array is\n+the same as that of a primitive integer layout. The dictionary is handled as a\n+separate columnar array with its own respective layout.\n+\n+As an example, you could have the following data: ::\n+\n+    type: Float32\n+\n+    [1.0, 1.0, 1.0, 1.0, null, null, 2.0]\n+\n+In Run-length-encoded form, this could appear as:\n+\n+::\n+\n+    * Length: 3, Null count: 2\n+    * Accumulated run lengths buffer:\n+\n+      | Bytes 0-3   | Bytes 4-7   | Bytes 8-11  | Bytes  6-63           |\n+      |-------------|-------------|-------------|-----------------------|\n+      | 4           | 6           | 7           | unspecified (padding) |\n\nReview Comment:\n   Oops, right, you've mentioned that. Thanks!\n\n\n\n",
                    "created": "2022-06-15T12:03:04.652+0000",
                    "updated": "2022-06-15T12:03:04.652+0000",
                    "started": "2022-06-15T12:03:04.651+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "781616",
                    "issueId": "13448793"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13448793/worklog/781620",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "zagto commented on code in PR #13333:\nURL: https://github.com/apache/arrow/pull/13333#discussion_r897900441\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,85 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same a, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n+buffer holding as many 32-bit integers, as there are runs. The actual values are\n+hold in a child array, which is just a regular array\n+\n+The dictionary is stored as an optional\n+property of an array. When a field is dictionary encoded, the values are\n+represented by an array of non-negative integers representing the index of the\n+value in the dictionary. The memory layout for a dictionary-encoded array is\n+the same as that of a primitive integer layout. The dictionary is handled as a\n+separate columnar array with its own respective layout.\n+\n+As an example, you could have the following data: ::\n+\n+    type: Float32\n+\n+    [1.0, 1.0, 1.0, 1.0, null, null, 2.0]\n+\n+In Run-length-encoded form, this could appear as:\n+\n+::\n+\n+    * Length: 3, Null count: 2\n\nReview Comment:\n   true. one more reason I should probably change the proposal to store the logical length there\n\n\n\n",
                    "created": "2022-06-15T12:10:49.745+0000",
                    "updated": "2022-06-15T12:10:49.745+0000",
                    "started": "2022-06-15T12:10:49.744+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "781620",
                    "issueId": "13448793"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13448793/worklog/782174",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "zagto commented on code in PR #13333:\nURL: https://github.com/apache/arrow/pull/13333#discussion_r899556277\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,85 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same a, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n+buffer holding as many 32-bit integers, as there are runs. The actual values are\n+hold in a child array, which is just a regular array\n+\n+The dictionary is stored as an optional\n+property of an array. When a field is dictionary encoded, the values are\n+represented by an array of non-negative integers representing the index of the\n+value in the dictionary. The memory layout for a dictionary-encoded array is\n+the same as that of a primitive integer layout. The dictionary is handled as a\n+separate columnar array with its own respective layout.\n+\n+As an example, you could have the following data: ::\n+\n+    type: Float32\n+\n+    [1.0, 1.0, 1.0, 1.0, null, null, 2.0]\n+\n+In Run-length-encoded form, this could appear as:\n+\n+::\n+\n+    * Length: 3, Null count: 2\n+    * Accumulated run lengths buffer:\n+\n+      | Bytes 0-3   | Bytes 4-7   | Bytes 8-11  | Bytes  6-63           |\n+      |-------------|-------------|-------------|-----------------------|\n+      | 4           | 6           | 7           | unspecified (padding) |\n\nReview Comment:\n   I fixed this and the other problems you commented. Thanks for looking into this!\n\n\n\n",
                    "created": "2022-06-16T21:50:02.113+0000",
                    "updated": "2022-06-16T21:50:02.113+0000",
                    "started": "2022-06-16T21:50:02.112+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "782174",
                    "issueId": "13448793"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13448793/worklog/782421",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "zagto commented on code in PR #13333:\nURL: https://github.com/apache/arrow/pull/13333#discussion_r900191747\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,65 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same value, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n+buffer holding as many signed 32-bit integers, as there are runs. The actual\n\nReview Comment:\n   This is actually not true if we use 32 bits. An array whose length is larger than a 32 bit integer cannot be represented\n\n\n\n",
                    "created": "2022-06-17T14:46:07.158+0000",
                    "updated": "2022-06-17T14:46:07.158+0000",
                    "started": "2022-06-17T14:46:07.157+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "782421",
                    "issueId": "13448793"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13448793/worklog/785075",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "westonpace commented on code in PR #13333:\nURL: https://github.com/apache/arrow/pull/13333#discussion_r907339549\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -957,7 +1016,7 @@ The ``Buffer`` Flatbuffers value describes the location and size of a\n piece of memory. Generally these are interpreted relative to the\n **encapsulated message format** defined below.\n \n-The ``size`` field of ``Buffer`` is not required to account for padding\n+The ``size`` field of ``Buffer`` is not required to account for paddingeng-career-mgmt\n\nReview Comment:\n   ```suggestion\r\n   The ``size`` field of ``Buffer`` is not required to account for padding\r\n   ```\n\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,65 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same value, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n\nReview Comment:\n   ```suggestion\r\n   Any array can be run-length encoded. A run-length encoded array has a single\r\n   ```\n\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,65 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n\nReview Comment:\n   ```suggestion\r\n   Run-Length Encoded Layout\r\n   ```\n\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,65 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length-encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same value, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length-encoded. A run-length encoded array has a single\n+buffer holding as many signed 32-bit integers, as there are runs. The actual\n\nReview Comment:\n   ```suggestion\r\n   buffer holding a signed 32-bit integer for each run. The actual\r\n   ```\r\n   \n\n\n\n",
                    "created": "2022-06-27T12:39:56.407+0000",
                    "updated": "2022-06-27T12:39:56.407+0000",
                    "started": "2022-06-27T12:39:56.407+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "785075",
                    "issueId": "13448793"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13448793/worklog/803978",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on PR #13333:\nURL: https://github.com/apache/arrow/pull/13333#issuecomment-1228613096\n\n   This looks reasonable to me, thanks.\n\n\n",
                    "created": "2022-08-26T15:07:54.388+0000",
                    "updated": "2022-08-26T15:07:54.388+0000",
                    "started": "2022-08-26T15:07:54.388+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "803978",
                    "issueId": "13448793"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13448793/worklog/808870",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alamb commented on code in PR #13333:\nURL: https://github.com/apache/arrow/pull/13333#discussion_r971268286\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,66 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length Encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same value, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length encoded. A run-length encoded array has no buffers\n+by itself, but has two child arrays. The first one holds a signed 32-bit integer\n\nReview Comment:\n   ```suggestion\r\n   by itself, but has two child arrays. The first one holds a signed 32-bit integer called a \"run end\"\r\n   ```\n\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,66 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length Encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same value, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length encoded. A run-length encoded array has no buffers\n+by itself, but has two child arrays. The first one holds a signed 32-bit integer\n+for each run. The actual values of each run are held the second child array.\n+\n+The values in the first child array represent the length of each run. They do\n+not hold the length of the respective run directly, but the accumulated length\n+of all runs from the first to the current one, i.e. the logical index where the\n+current run ends. This allows relatively efficient random access from a logical\n+index using binary search. The length of an individual run can be determined by\n+subtracting two adjacent values.\n+\n+A run has to have a length of at least 1. This means the values in the\n+run ends array all positive and in strictly ascending order. A run end cannot be\n+null.\n+\n+As an example, you could have the following data: ::\n+\n+    type: Float32\n+    [1.0, 1.0, 1.0, 1.0, null, null, 2.0]\n+\n+In Run-length-encoded form, this could appear as:\n+\n+::\n+\n+    * Length: 7, Null count: 2\n+    * Children arrays:\n+\n+      * run ends (Int32):\n+        * Length: 3, Null count: 0\n+        * Validity bitmap buffer: Not required\n\nReview Comment:\n   ```suggestion\r\n           * Validity bitmap buffer: Not present (not allowed)\r\n   ```\r\n   See comment above\n\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,66 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length Encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same value, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length encoded. A run-length encoded array has no buffers\n+by itself, but has two child arrays. The first one holds a signed 32-bit integer\n+for each run. The actual values of each run are held the second child array.\n+\n+The values in the first child array represent the length of each run. They do\n+not hold the length of the respective run directly, but the accumulated length\n+of all runs from the first to the current one, i.e. the logical index where the\n+current run ends. This allows relatively efficient random access from a logical\n+index using binary search. The length of an individual run can be determined by\n+subtracting two adjacent values.\n+\n+A run has to have a length of at least 1. This means the values in the\n+run ends array all positive and in strictly ascending order. A run end cannot be\n+null.\n\nReview Comment:\n   I recommend adding something to this section saying \"RLE Arrays must not have have a validity bitmap\" which would also imply a run end could not be null. As worded I think it is unclear if a validity bitmap is allowed but must be all `valid` or if the bitmap is not allowed\r\n   \r\n   \n\n\n\n##########\ndocs/source/format/Columnar.rst:\n##########\n@@ -765,6 +765,66 @@ application.\n We discuss dictionary encoding as it relates to serialization further\n below.\n \n+.. _run-length-encoded-layout:\n+\n+Run-Length Encoded Layout\n+-------------------------\n+\n+Run-Length is a data representation that represents data as sequences of the\n+same value, called runs. Each run is represented as a value, and an integer\n+describing how often this value is repeated.\n+\n+Any array can be run-length encoded. A run-length encoded array has no buffers\n+by itself, but has two child arrays. The first one holds a signed 32-bit integer\n+for each run. The actual values of each run are held the second child array.\n+\n+The values in the first child array represent the length of each run. They do\n+not hold the length of the respective run directly, but the accumulated length\n+of all runs from the first to the current one, i.e. the logical index where the\n+current run ends. This allows relatively efficient random access from a logical\n+index using binary search. The length of an individual run can be determined by\n+subtracting two adjacent values.\n+\n+A run has to have a length of at least 1. This means the values in the\n\nReview Comment:\n   ```suggestion\r\n   A run must have have a length of at least 1. This means the values in the\r\n   ```\n\n\n\n",
                    "created": "2022-09-14T20:43:04.436+0000",
                    "updated": "2022-09-14T20:43:04.436+0000",
                    "started": "2022-09-14T20:43:04.436+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "808870",
                    "issueId": "13448793"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13448793/worklog/808871",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alamb commented on PR #13333:\nURL: https://github.com/apache/arrow/pull/13333#issuecomment-1247282113\n\n   FYI @tustvold @viirya @nevi-me in case you are interested in this proposed format addition\n\n\n",
                    "created": "2022-09-14T20:43:16.764+0000",
                    "updated": "2022-09-14T20:43:16.764+0000",
                    "started": "2022-09-14T20:43:16.764+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "808871",
                    "issueId": "13448793"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7",
            "id": "7",
            "description": "The sub-task of the issue",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype",
            "name": "Sub-task",
            "subtask": true,
            "avatarId": 21146
        },
        "timespent": 7200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@8127cff[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2dfd6ee0[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7c1b49bf[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@3a57b2b2[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7423645[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@49d81663[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6fa8f856[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@68ed1533[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7e0be675[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@77e99cd9[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5fabb03a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@5f6f7271[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 7200,
        "customfield_12312520": null,
        "customfield_12312521": "2022-06-07 13:11:23.0",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": null,
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-16773/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2022-06-07T13:11:23.000+0000",
        "updated": "2022-09-14T20:43:16.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 7200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Docs][Format] Document Run-Length encoding in Arrow columnar format",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [],
            "maxResults": 0,
            "total": 0,
            "startAt": 0
        },
        "customfield_12311820": "0|z130o0:",
        "customfield_12314139": null
    }
}