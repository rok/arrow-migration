{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13208382",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382",
    "key": "ARROW-4206",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343937",
                "id": "12343937",
                "description": "",
                "name": "0.13.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-04-01"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pravindra",
            "name": "pravindra",
            "key": "pravindra",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
            },
            "displayName": "Pindikura Ravindra",
            "active": true,
            "timeZone": "Asia/Kolkata"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12334626",
                "id": "12334626",
                "name": "C++ - Gandiva"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pravindra",
            "name": "pravindra",
            "key": "pravindra",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
            },
            "displayName": "Pindikura Ravindra",
            "active": true,
            "timeZone": "Asia/Kolkata"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pravindra",
            "name": "pravindra",
            "key": "pravindra",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
            },
            "displayName": "Pindikura Ravindra",
            "active": true,
            "timeZone": "Asia/Kolkata"
        },
        "aggregateprogress": {
            "progress": 15000,
            "total": 15000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 15000,
            "total": 15000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-4206/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 27,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/207761",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-05T12:09:53.756+0000",
                    "updated": "2019-03-05T12:09:53.756+0000",
                    "started": "2019-03-05T12:09:53.755+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "207761",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/207824",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on issue #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#issuecomment-469707536\n \n \n   @pravindra, add me as a reviewer, @pitrou is not available.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-05T14:48:58.560+0000",
                    "updated": "2019-03-05T14:48:58.560+0000",
                    "started": "2019-03-05T14:48:58.559+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "207824",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/207841",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#issuecomment-469732089\n \n \n   the \"review requested\" feature is only informational, I think @pravindra is one of the only contributors who uses it regularly =) \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-05T15:49:48.744+0000",
                    "updated": "2019-03-05T15:49:48.744+0000",
                    "started": "2019-03-05T15:49:48.743+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "207841",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/208432",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on issue #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#issuecomment-469978412\n \n \n   > @pravindra, add me as a reviewer, @pitrou is not available.\r\n   \r\n   sorry I'm not able to add you as a reviewer. but, please do review.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-06T05:52:34.756+0000",
                    "updated": "2019-03-06T05:52:34.756+0000",
                    "started": "2019-03-06T05:52:34.756+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "208432",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/209724",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r263523627\n \n \n\n ##########\n File path: cpp/src/gandiva/decimal_xlarge.cc\n ##########\n @@ -103,27 +103,33 @@ static BasicDecimal128 ConvertToDecimal128(int256_t in, bool* overflow) {\n   return is_negative ? -result : result;\n }\n \n+static int256_t GetScaleMultiplier(int scale) {\n+  static constexpr int32_t kMaxScaleMultiplier = 2 * DecimalTypeUtil::kMaxPrecision;\n+  DCHECK_GE(scale, 0);\n+  DCHECK_LE(scale, kMaxScaleMultiplier);\n+\n+  // Compute the scale multipliers once.\n+  static std::array<int256_t, kMaxScaleMultiplier + 1> multipliers =\n \n Review comment:\n   This is not thread safe.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-07T19:35:20.123+0000",
                    "updated": "2019-03-07T19:35:20.123+0000",
                    "started": "2019-03-07T19:35:20.123+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "209724",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/209725",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r263524058\n \n \n\n ##########\n File path: cpp/src/gandiva/decimal_xlarge.cc\n ##########\n @@ -103,27 +103,33 @@ static BasicDecimal128 ConvertToDecimal128(int256_t in, bool* overflow) {\n   return is_negative ? -result : result;\n }\n \n+static int256_t GetScaleMultiplier(int scale) {\n+  static constexpr int32_t kMaxScaleMultiplier = 2 * DecimalTypeUtil::kMaxPrecision;\n+  DCHECK_GE(scale, 0);\n+  DCHECK_LE(scale, kMaxScaleMultiplier);\n+\n+  // Compute the scale multipliers once.\n+  static std::array<int256_t, kMaxScaleMultiplier + 1> multipliers =\n+      ([]() -> std::array<int256_t, kMaxScaleMultiplier + 1> {\n+        std::array<int256_t, kMaxScaleMultiplier + 1> values;\n+        values[0] = 1;\n+        for (auto idx = 1; idx <= kMaxScaleMultiplier; idx++) {\n \n Review comment:\n   Don't use auto on primitive types.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-07T19:35:20.392+0000",
                    "updated": "2019-03-07T19:35:20.392+0000",
                    "started": "2019-03-07T19:35:20.390+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "209725",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/209726",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r263524498\n \n \n\n ##########\n File path: cpp/src/arrow/util/basic_decimal.h\n ##########\n @@ -138,6 +138,9 @@ class ARROW_EXPORT BasicDecimal128 {\n   /// - If 'round' is false, the right-most digits are simply dropped.\n   BasicDecimal128 ReduceScaleBy(int32_t reduce_by, bool round = true) const;\n \n+  // returns 1 for positive and zero decimal values, -1 for negative decimal values.\n+  int64_t Sign() const;\n \n Review comment:\n   small enough to make it inline.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-07T19:35:20.470+0000",
                    "updated": "2019-03-07T19:35:20.470+0000",
                    "started": "2019-03-07T19:35:20.469+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "209726",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/209727",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r263535185\n \n \n\n ##########\n File path: cpp/src/gandiva/precompiled/decimal_ops_test.cc\n ##########\n @@ -274,10 +330,153 @@ TEST_F(TestDecimalSql, Multiply) {\n                            false);                                   // overflow\n \n   MultiplyAndVerifyAllSign(\n-      DecimalScalar128{thirty_five_9s, 38, 38},                       // x\n-      DecimalScalar128{thirty_six_9s, 38, 38},                        // y\n+      DecimalScalar128{kThirtyFive9s, 38, 38},                        // x\n+      DecimalScalar128{kThirtySix9s, 38, 38},                         // y\n       DecimalScalar128{\"100000000000000000000000000000000\", 38, 37},  // expected\n       false);                                                         // overflow\n }\n \n+TEST_F(TestDecimalSql, Divide) {\n+  DivideAndVerifyAllSign(DecimalScalar128{\"201\", 10, 3},             // x\n+                         DecimalScalar128{\"301\", 10, 2},             // y\n+                         DecimalScalar128{\"6677740863787\", 23, 14},  // expected\n+                         false);                                     // overflow\n+\n+  DivideAndVerifyAllSign(DecimalScalar128{\"201\", 20, 3},                  // x\n+                         DecimalScalar128{\"301\", 20, 2},                  // y\n+                         DecimalScalar128{\"667774086378737542\", 38, 19},  // expected\n+                         false);                                          // overflow\n+\n+  DivideAndVerifyAllSign(DecimalScalar128{\"201\", 20, 3},          // x\n+                         DecimalScalar128{kThirtyFive9s, 35, 2},  // y\n+                         DecimalScalar128{\"0\", 38, 19},           // expected\n+                         false);                                  // overflow\n+\n+  DivideAndVerifyAllSign(\n+      DecimalScalar128{kThirtyFive9s, 35, 6},                           // x\n+      DecimalScalar128{\"201\", 20, 3},                                   // y\n+      DecimalScalar128{\"497512437810945273631840796019900493\", 38, 6},  // expected\n+      false);                                                           // overflow\n+\n+  DivideAndVerifyAllSign(DecimalScalar128{kThirtyEight9s, 38, 20},  // x\n+                         DecimalScalar128{kThirtyFive9s, 38, 20},   // y\n+                         DecimalScalar128{\"1000000000\", 38, 6},     // expected\n+                         false);                                    // overflow\n+\n+  DivideAndVerifyAllSign(DecimalScalar128{\"31939128063561476055\", 38, 8},  // x\n+                         DecimalScalar128{\"10000\", 20, 0},                 // y\n+                         DecimalScalar128{\"3193912806356148\", 38, 8},      // expected\n+                         false);\n+\n+  // Corner cases\n+  DivideAndVerifyAllSign(DecimalScalar128{0, UINT64_MAX, 38, 4},  // x\n+                         DecimalScalar128{0, UINT64_MAX, 38, 4},  // y\n+                         DecimalScalar128{\"1000000\", 38, 6},      // expected\n+                         false);                                  // overflow\n+\n+  DivideAndVerifyAllSign(DecimalScalar128{0, UINT64_MAX, 38, 4},  // x\n+                         DecimalScalar128{0, INT64_MAX, 38, 4},   // y\n+                         DecimalScalar128{\"2000000\", 38, 6},      // expected\n+                         false);                                  // overflow\n+\n+  DivideAndVerifyAllSign(DecimalScalar128{0, UINT64_MAX, 19, 5},            // x\n+                         DecimalScalar128{0, INT64_MAX, 19, 5},             // y\n+                         DecimalScalar128{\"20000000000000000001\", 38, 19},  // expected\n+                         false);                                            // overflow\n+\n+  DivideAndVerifyAllSign(DecimalScalar128{kThirtyFive9s, 38, 37},  // x\n+                         DecimalScalar128{kThirtyFive9s, 38, 38},  // y\n+                         DecimalScalar128{\"10000000\", 38, 6},      // expected\n+                         false);                                   // overflow\n+\n+  // overflow\n+  DivideAndVerifyAllSign(DecimalScalar128{kThirtyEight9s, 38, 6},  // x\n+                         DecimalScalar128{\"201\", 20, 3},           // y\n+                         DecimalScalar128{\"0\", 38, 6},             // expected\n+                         true);\n+}\n+\n+TEST_F(TestDecimalSql, Mod) {\n+  ModAndVerifyAllSign(DecimalScalar128{\"201\", 10, 3},  // x\n+                      DecimalScalar128{\"301\", 10, 2},  // y\n+                      DecimalScalar128{\"201\", 10, 3},  // expected\n+                      false);                          // overflow\n+\n+  ModAndVerify(DecimalScalar128{\"201\", 20, 2},  // x\n+               DecimalScalar128{\"301\", 20, 3},  // y\n+               DecimalScalar128{\"204\", 20, 3},  // expected\n+               false);                          // overflow\n+\n+  ModAndVerifyAllSign(DecimalScalar128{\"201\", 20, 3},          // x\n+                      DecimalScalar128{kThirtyFive9s, 35, 2},  // y\n+                      DecimalScalar128{\"201\", 20, 3},          // expected\n+                      false);                                  // overflow\n+\n+  ModAndVerifyAllSign(DecimalScalar128{kThirtyFive9s, 35, 6},  // x\n+                      DecimalScalar128{\"201\", 20, 3},          // y\n+                      DecimalScalar128{\"180999\", 23, 6},       // expected\n+                      false);                                  // overflow\n+\n+  ModAndVerifyAllSign(DecimalScalar128{kThirtyEight9s, 38, 20},  // x\n+                      DecimalScalar128{kThirtyFive9s, 38, 21},   // y\n+                      DecimalScalar128{\"9990\", 38, 21},          // expected\n+                      false);                                    // overflow\n+\n+  ModAndVerifyAllSign(DecimalScalar128{\"31939128063561476055\", 38, 8},  // x\n+                      DecimalScalar128{\"10000\", 20, 0},                 // y\n+                      DecimalScalar128{\"63561476055\", 28, 8},           // expected\n+                      false);\n+\n+  ModAndVerifyAllSign(DecimalScalar128{0, UINT64_MAX, 38, 4},  // x\n+                      DecimalScalar128{0, UINT64_MAX, 38, 4},  // y\n+                      DecimalScalar128{\"0\", 38, 4},            // expected\n+                      false);                                  // overflow\n+\n+  ModAndVerifyAllSign(DecimalScalar128{0, UINT64_MAX, 38, 4},  // x\n+                      DecimalScalar128{0, INT64_MAX, 38, 4},   // y\n+                      DecimalScalar128{\"1\", 38, 4},            // expected\n+                      false);                                  // overflow\n+}\n+\n+TEST_F(TestDecimalSql, DivideByZero) {\n+  gandiva::ExecutionContext context;\n+  int32_t result_precision;\n+  int32_t result_scale;\n+  bool overflow;\n+\n+  // divide-by-zero should cause an error.\n+  context.Reset();\n+  result_precision = 38;\n+  result_scale = 19;\n+  decimalops::Divide(reinterpret_cast<int64>(&context), DecimalScalar128{\"201\", 20, 3},\n+                     DecimalScalar128{\"0\", 20, 2}, result_precision, result_scale,\n+                     &overflow);\n+  EXPECT_EQ(context.has_error(), true);\n+  EXPECT_EQ(context.get_error(), \"divide by zero error\");\n+\n+  // divide-by-nonzero should not cause an error.\n+  context.Reset();\n+  decimalops::Divide(reinterpret_cast<int64>(&context), DecimalScalar128{\"201\", 20, 3},\n+                     DecimalScalar128{\"1\", 20, 2}, result_precision, result_scale,\n+                     &overflow);\n+  EXPECT_EQ(context.has_error(), false);\n \n Review comment:\n   EXPECT_TRUE and EXPECT_FALSE exists for this purpose.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-07T19:35:20.676+0000",
                    "updated": "2019-03-07T19:35:20.676+0000",
                    "started": "2019-03-07T19:35:20.675+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "209727",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/209728",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r263533287\n \n \n\n ##########\n File path: cpp/src/gandiva/decimal_xlarge.cc\n ##########\n @@ -155,4 +169,48 @@ void gdv_xlarge_multiply_and_scale_down(int64_t x_high, uint64_t x_low, int64_t\n   *out_low = result.low_bits();\n }\n \n+void gdv_xlarge_scale_up_and_divide(int64_t x_high, uint64_t x_low, int64_t y_high,\n+                                    uint64_t y_low, int32_t increase_scale_by,\n+                                    int64_t* out_high, uint64_t* out_low,\n+                                    bool* overflow) {\n+  BasicDecimal128 x{x_high, x_low};\n+  BasicDecimal128 y{y_high, y_low};\n+\n+  int256_t x_large = gandiva::internal::ConvertToInt256(x);\n+  int256_t x_large_scaled_up =\n+      gandiva::internal::IncreaseScaleBy(x_large, increase_scale_by);\n+  int256_t y_large = gandiva::internal::ConvertToInt256(y);\n+  int256_t result_large = x_large_scaled_up / y_large;\n+  int256_t remainder_large = x_large_scaled_up % y_large;\n+\n+  if (abs(2 * remainder_large) >= abs(y_large)) {\n \n Review comment:\n   I don't follow, please comment.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-07T19:35:20.679+0000",
                    "updated": "2019-03-07T19:35:20.679+0000",
                    "started": "2019-03-07T19:35:20.679+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "209728",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/209729",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r263528800\n \n \n\n ##########\n File path: cpp/src/arrow/util/decimal-test.cc\n ##########\n @@ -482,6 +482,49 @@ TEST(Decimal128Test, Multiply) {\n   ASSERT_EQ(result.ToIntegerString(), \"60501\");\n }\n \n+TEST(Decimal128Test, Divide) {\n+  Decimal128 result;\n \n Review comment:\n   This is valid for the next 3 tests:\r\n   - Why the usage of a temporary variables, e.g. `ASSERT_EQ(Decimal128(\"20100\") / Decimal128(\"301\"), ...)`?\r\n   - Why the usage of `ToIntegerString`, just compare `Decimal(\"66\")`?\r\n   - Would it be better to explicit some int64/int128 constructors such that you can at least call with `Decimal(66)`?\r\n   \r\n   The end would look like\r\n   ```\r\n     ASSERT_EQ(Decimal(20100) / Decimal128(301), Decimal128(66));\r\n   ```\r\n   >\r\n   \r\n   - Please do some _minimal_ property testing against known types, e.g.\r\n   \r\n   ```\r\n   for (x: rand_int32_range())\r\n     for (y: rand_int32_range())\r\n       ASSERT_EQ(Decimal(x) / Decimal128(y), Decimal128(x/y));\r\n   ```\r\n   - I usually try to test all obvious edge cases and some close bounds, e.g.\r\n   `{INT_MIN, 0, INT_MAX} x {-2,-1,0,1,2}`\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-07T19:35:20.705+0000",
                    "updated": "2019-03-07T19:35:20.705+0000",
                    "started": "2019-03-07T19:35:20.704+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "209729",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/209730",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r263533446\n \n \n\n ##########\n File path: cpp/src/gandiva/precompiled/decimal_ops.cc\n ##########\n @@ -339,5 +345,83 @@ BasicDecimal128 Multiply(const BasicDecimalScalar128& x, const BasicDecimalScala\n   return result;\n }\n \n+BasicDecimal128 Divide(int64_t context, const BasicDecimalScalar128& x,\n+                       const BasicDecimalScalar128& y, int32_t out_precision,\n+                       int32_t out_scale, bool* overflow) {\n+  if (y.value() == 0) {\n+    char const* err_msg = \"divide by zero error\";\n+    gdv_fn_context_set_error_msg(context, err_msg);\n+    return 0;\n+  }\n+\n+  // scale upto the output scale, and do an integer division.\n+  auto delta_scale = out_scale + y.scale() - x.scale();\n \n Review comment:\n   Don't use auto on primitive types.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-07T19:35:20.706+0000",
                    "updated": "2019-03-07T19:35:20.706+0000",
                    "started": "2019-03-07T19:35:20.706+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "209730",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/210901",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r264149449\n \n \n\n ##########\n File path: cpp/src/gandiva/decimal_xlarge.cc\n ##########\n @@ -103,27 +103,33 @@ static BasicDecimal128 ConvertToDecimal128(int256_t in, bool* overflow) {\n   return is_negative ? -result : result;\n }\n \n+static int256_t GetScaleMultiplier(int scale) {\n+  static constexpr int32_t kMaxScaleMultiplier = 2 * DecimalTypeUtil::kMaxPrecision;\n+  DCHECK_GE(scale, 0);\n+  DCHECK_LE(scale, kMaxScaleMultiplier);\n+\n+  // Compute the scale multipliers once.\n+  static std::array<int256_t, kMaxScaleMultiplier + 1> multipliers =\n \n Review comment:\n   The spec says it's thread-safe  https://en.cppreference.com/w/cpp/language/storage_duration#Static_local_variables\r\n   \r\n   Is there an exception for lambda ?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-11T09:37:14.669+0000",
                    "updated": "2019-03-11T09:37:14.669+0000",
                    "started": "2019-03-11T09:37:14.668+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "210901",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/210903",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r264150132\n \n \n\n ##########\n File path: cpp/src/gandiva/decimal_xlarge.cc\n ##########\n @@ -103,27 +103,33 @@ static BasicDecimal128 ConvertToDecimal128(int256_t in, bool* overflow) {\n   return is_negative ? -result : result;\n }\n \n+static int256_t GetScaleMultiplier(int scale) {\n+  static constexpr int32_t kMaxScaleMultiplier = 2 * DecimalTypeUtil::kMaxPrecision;\n+  DCHECK_GE(scale, 0);\n+  DCHECK_LE(scale, kMaxScaleMultiplier);\n+\n+  // Compute the scale multipliers once.\n+  static std::array<int256_t, kMaxScaleMultiplier + 1> multipliers =\n+      ([]() -> std::array<int256_t, kMaxScaleMultiplier + 1> {\n+        std::array<int256_t, kMaxScaleMultiplier + 1> values;\n+        values[0] = 1;\n+        for (auto idx = 1; idx <= kMaxScaleMultiplier; idx++) {\n \n Review comment:\n   curious, why the restriction ? is this from the coding standard or for efficiency ?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-11T09:39:03.350+0000",
                    "updated": "2019-03-11T09:39:03.350+0000",
                    "started": "2019-03-11T09:39:03.350+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "210903",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/210907",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r264151635\n \n \n\n ##########\n File path: cpp/src/gandiva/decimal_xlarge.cc\n ##########\n @@ -103,27 +103,33 @@ static BasicDecimal128 ConvertToDecimal128(int256_t in, bool* overflow) {\n   return is_negative ? -result : result;\n }\n \n+static int256_t GetScaleMultiplier(int scale) {\n+  static constexpr int32_t kMaxScaleMultiplier = 2 * DecimalTypeUtil::kMaxPrecision;\n+  DCHECK_GE(scale, 0);\n+  DCHECK_LE(scale, kMaxScaleMultiplier);\n+\n+  // Compute the scale multipliers once.\n+  static std::array<int256_t, kMaxScaleMultiplier + 1> multipliers =\n \n Review comment:\n   I've made this a global variable now.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-11T09:43:05.887+0000",
                    "updated": "2019-03-11T09:43:05.887+0000",
                    "started": "2019-03-11T09:43:05.887+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "210907",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/210908",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r264151720\n \n \n\n ##########\n File path: cpp/src/gandiva/decimal_xlarge.cc\n ##########\n @@ -103,27 +103,33 @@ static BasicDecimal128 ConvertToDecimal128(int256_t in, bool* overflow) {\n   return is_negative ? -result : result;\n }\n \n+static int256_t GetScaleMultiplier(int scale) {\n+  static constexpr int32_t kMaxScaleMultiplier = 2 * DecimalTypeUtil::kMaxPrecision;\n+  DCHECK_GE(scale, 0);\n+  DCHECK_LE(scale, kMaxScaleMultiplier);\n+\n+  // Compute the scale multipliers once.\n+  static std::array<int256_t, kMaxScaleMultiplier + 1> multipliers =\n+      ([]() -> std::array<int256_t, kMaxScaleMultiplier + 1> {\n+        std::array<int256_t, kMaxScaleMultiplier + 1> values;\n+        values[0] = 1;\n+        for (auto idx = 1; idx <= kMaxScaleMultiplier; idx++) {\n \n Review comment:\n   fixed\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-11T09:43:19.854+0000",
                    "updated": "2019-03-11T09:43:19.854+0000",
                    "started": "2019-03-11T09:43:19.854+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "210908",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/210909",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r264151766\n \n \n\n ##########\n File path: cpp/src/arrow/util/basic_decimal.h\n ##########\n @@ -138,6 +138,9 @@ class ARROW_EXPORT BasicDecimal128 {\n   /// - If 'round' is false, the right-most digits are simply dropped.\n   BasicDecimal128 ReduceScaleBy(int32_t reduce_by, bool round = true) const;\n \n+  // returns 1 for positive and zero decimal values, -1 for negative decimal values.\n+  int64_t Sign() const;\n \n Review comment:\n   fixed\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-11T09:43:26.778+0000",
                    "updated": "2019-03-11T09:43:26.778+0000",
                    "started": "2019-03-11T09:43:26.777+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "210909",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/210910",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r264152111\n \n \n\n ##########\n File path: cpp/src/arrow/util/decimal-test.cc\n ##########\n @@ -482,6 +482,49 @@ TEST(Decimal128Test, Multiply) {\n   ASSERT_EQ(result.ToIntegerString(), \"60501\");\n }\n \n+TEST(Decimal128Test, Divide) {\n+  Decimal128 result;\n \n Review comment:\n   The int64/int32 constructors already exist. I've added tests and fixed as suggested.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-11T09:44:23.988+0000",
                    "updated": "2019-03-11T09:44:23.988+0000",
                    "started": "2019-03-11T09:44:23.988+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "210910",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/210911",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r264152190\n \n \n\n ##########\n File path: cpp/src/gandiva/decimal_xlarge.cc\n ##########\n @@ -155,4 +169,48 @@ void gdv_xlarge_multiply_and_scale_down(int64_t x_high, uint64_t x_low, int64_t\n   *out_low = result.low_bits();\n }\n \n+void gdv_xlarge_scale_up_and_divide(int64_t x_high, uint64_t x_low, int64_t y_high,\n+                                    uint64_t y_low, int32_t increase_scale_by,\n+                                    int64_t* out_high, uint64_t* out_low,\n+                                    bool* overflow) {\n+  BasicDecimal128 x{x_high, x_low};\n+  BasicDecimal128 y{y_high, y_low};\n+\n+  int256_t x_large = gandiva::internal::ConvertToInt256(x);\n+  int256_t x_large_scaled_up =\n+      gandiva::internal::IncreaseScaleBy(x_large, increase_scale_by);\n+  int256_t y_large = gandiva::internal::ConvertToInt256(y);\n+  int256_t result_large = x_large_scaled_up / y_large;\n+  int256_t remainder_large = x_large_scaled_up % y_large;\n+\n+  if (abs(2 * remainder_large) >= abs(y_large)) {\n \n Review comment:\n   added comment\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-11T09:44:35.646+0000",
                    "updated": "2019-03-11T09:44:35.646+0000",
                    "started": "2019-03-11T09:44:35.646+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "210911",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/210912",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r264152253\n \n \n\n ##########\n File path: cpp/src/gandiva/precompiled/decimal_ops.cc\n ##########\n @@ -339,5 +345,83 @@ BasicDecimal128 Multiply(const BasicDecimalScalar128& x, const BasicDecimalScala\n   return result;\n }\n \n+BasicDecimal128 Divide(int64_t context, const BasicDecimalScalar128& x,\n+                       const BasicDecimalScalar128& y, int32_t out_precision,\n+                       int32_t out_scale, bool* overflow) {\n+  if (y.value() == 0) {\n+    char const* err_msg = \"divide by zero error\";\n+    gdv_fn_context_set_error_msg(context, err_msg);\n+    return 0;\n+  }\n+\n+  // scale upto the output scale, and do an integer division.\n+  auto delta_scale = out_scale + y.scale() - x.scale();\n \n Review comment:\n   fixed\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-11T09:44:44.777+0000",
                    "updated": "2019-03-11T09:44:44.777+0000",
                    "started": "2019-03-11T09:44:44.776+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "210912",
                    "issueId": "13208382"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/worklog/210913",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3813: ARROW-4206: [Gandiva] support decimal divide and mod\nURL: https://github.com/apache/arrow/pull/3813#discussion_r264152298\n \n \n\n ##########\n File path: cpp/src/gandiva/precompiled/decimal_ops_test.cc\n ##########\n @@ -274,10 +330,153 @@ TEST_F(TestDecimalSql, Multiply) {\n                            false);                                   // overflow\n \n   MultiplyAndVerifyAllSign(\n-      DecimalScalar128{thirty_five_9s, 38, 38},                       // x\n-      DecimalScalar128{thirty_six_9s, 38, 38},                        // y\n+      DecimalScalar128{kThirtyFive9s, 38, 38},                        // x\n+      DecimalScalar128{kThirtySix9s, 38, 38},                         // y\n       DecimalScalar128{\"100000000000000000000000000000000\", 38, 37},  // expected\n       false);                                                         // overflow\n }\n \n+TEST_F(TestDecimalSql, Divide) {\n+  DivideAndVerifyAllSign(DecimalScalar128{\"201\", 10, 3},             // x\n+                         DecimalScalar128{\"301\", 10, 2},             // y\n+                         DecimalScalar128{\"6677740863787\", 23, 14},  // expected\n+                         false);                                     // overflow\n+\n+  DivideAndVerifyAllSign(DecimalScalar128{\"201\", 20, 3},                  // x\n+                         DecimalScalar128{\"301\", 20, 2},                  // y\n+                         DecimalScalar128{\"667774086378737542\", 38, 19},  // expected\n+                         false);                                          // overflow\n+\n+  DivideAndVerifyAllSign(DecimalScalar128{\"201\", 20, 3},          // x\n+                         DecimalScalar128{kThirtyFive9s, 35, 2},  // y\n+                         DecimalScalar128{\"0\", 38, 19},           // expected\n+                         false);                                  // overflow\n+\n+  DivideAndVerifyAllSign(\n+      DecimalScalar128{kThirtyFive9s, 35, 6},                           // x\n+      DecimalScalar128{\"201\", 20, 3},                                   // y\n+      DecimalScalar128{\"497512437810945273631840796019900493\", 38, 6},  // expected\n+      false);                                                           // overflow\n+\n+  DivideAndVerifyAllSign(DecimalScalar128{kThirtyEight9s, 38, 20},  // x\n+                         DecimalScalar128{kThirtyFive9s, 38, 20},   // y\n+                         DecimalScalar128{\"1000000000\", 38, 6},     // expected\n+                         false);                                    // overflow\n+\n+  DivideAndVerifyAllSign(DecimalScalar128{\"31939128063561476055\", 38, 8},  // x\n+                         DecimalScalar128{\"10000\", 20, 0},                 // y\n+                         DecimalScalar128{\"3193912806356148\", 38, 8},      // expected\n+                         false);\n+\n+  // Corner cases\n+  DivideAndVerifyAllSign(DecimalScalar128{0, UINT64_MAX, 38, 4},  // x\n+                         DecimalScalar128{0, UINT64_MAX, 38, 4},  // y\n+                         DecimalScalar128{\"1000000\", 38, 6},      // expected\n+                         false);                                  // overflow\n+\n+  DivideAndVerifyAllSign(DecimalScalar128{0, UINT64_MAX, 38, 4},  // x\n+                         DecimalScalar128{0, INT64_MAX, 38, 4},   // y\n+                         DecimalScalar128{\"2000000\", 38, 6},      // expected\n+                         false);                                  // overflow\n+\n+  DivideAndVerifyAllSign(DecimalScalar128{0, UINT64_MAX, 19, 5},            // x\n+                         DecimalScalar128{0, INT64_MAX, 19, 5},             // y\n+                         DecimalScalar128{\"20000000000000000001\", 38, 19},  // expected\n+                         false);                                            // overflow\n+\n+  DivideAndVerifyAllSign(DecimalScalar128{kThirtyFive9s, 38, 37},  // x\n+                         DecimalScalar128{kThirtyFive9s, 38, 38},  // y\n+                         DecimalScalar128{\"10000000\", 38, 6},      // expected\n+                         false);                                   // overflow\n+\n+  // overflow\n+  DivideAndVerifyAllSign(DecimalScalar128{kThirtyEight9s, 38, 6},  // x\n+                         DecimalScalar128{\"201\", 20, 3},           // y\n+                         DecimalScalar128{\"0\", 38, 6},             // expected\n+                         true);\n+}\n+\n+TEST_F(TestDecimalSql, Mod) {\n+  ModAndVerifyAllSign(DecimalScalar128{\"201\", 10, 3},  // x\n+                      DecimalScalar128{\"301\", 10, 2},  // y\n+                      DecimalScalar128{\"201\", 10, 3},  // expected\n+                      false);                          // overflow\n+\n+  ModAndVerify(DecimalScalar128{\"201\", 20, 2},  // x\n+               DecimalScalar128{\"301\", 20, 3},  // y\n+               DecimalScalar128{\"204\", 20, 3},  // expected\n+               false);                          // overflow\n+\n+  ModAndVerifyAllSign(DecimalScalar128{\"201\", 20, 3},          // x\n+                      DecimalScalar128{kThirtyFive9s, 35, 2},  // y\n+                      DecimalScalar128{\"201\", 20, 3},          // expected\n+                      false);                                  // overflow\n+\n+  ModAndVerifyAllSign(DecimalScalar128{kThirtyFive9s, 35, 6},  // x\n+                      DecimalScalar128{\"201\", 20, 3},          // y\n+                      DecimalScalar128{\"180999\", 23, 6},       // expected\n+                      false);                                  // overflow\n+\n+  ModAndVerifyAllSign(DecimalScalar128{kThirtyEight9s, 38, 20},  // x\n+                      DecimalScalar128{kThirtyFive9s, 38, 21},   // y\n+                      DecimalScalar128{\"9990\", 38, 21},          // expected\n+                      false);                                    // overflow\n+\n+  ModAndVerifyAllSign(DecimalScalar128{\"31939128063561476055\", 38, 8},  // x\n+                      DecimalScalar128{\"10000\", 20, 0},                 // y\n+                      DecimalScalar128{\"63561476055\", 28, 8},           // expected\n+                      false);\n+\n+  ModAndVerifyAllSign(DecimalScalar128{0, UINT64_MAX, 38, 4},  // x\n+                      DecimalScalar128{0, UINT64_MAX, 38, 4},  // y\n+                      DecimalScalar128{\"0\", 38, 4},            // expected\n+                      false);                                  // overflow\n+\n+  ModAndVerifyAllSign(DecimalScalar128{0, UINT64_MAX, 38, 4},  // x\n+                      DecimalScalar128{0, INT64_MAX, 38, 4},   // y\n+                      DecimalScalar128{\"1\", 38, 4},            // expected\n+                      false);                                  // overflow\n+}\n+\n+TEST_F(TestDecimalSql, DivideByZero) {\n+  gandiva::ExecutionContext context;\n+  int32_t result_precision;\n+  int32_t result_scale;\n+  bool overflow;\n+\n+  // divide-by-zero should cause an error.\n+  context.Reset();\n+  result_precision = 38;\n+  result_scale = 19;\n+  decimalops::Divide(reinterpret_cast<int64>(&context), DecimalScalar128{\"201\", 20, 3},\n+                     DecimalScalar128{\"0\", 20, 2}, result_precision, result_scale,\n+                     &overflow);\n+  EXPECT_EQ(context.has_error(), true);\n+  EXPECT_EQ(context.get_error(), \"divide by zero error\");\n+\n+  // divide-by-nonzero should not cause an error.\n+  context.Reset();\n+  decimalops::Divide(reinterpret_cast<int64>(&context), DecimalScalar128{\"201\", 20, 3},\n+                     DecimalScalar128{\"1\", 20, 2}, result_precision, result_scale,\n+                     &overflow);\n+  EXPECT_EQ(context.has_error(), false);\n \n Review comment:\n   fixed\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-03-11T09:44:51.958+0000",
                    "updated": "2019-03-11T09:44:51.958+0000",
                    "started": "2019-03-11T09:44:51.958+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "210913",
                    "issueId": "13208382"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/3",
            "id": "3",
            "description": "A task that needs to be done.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype",
            "name": "Task",
            "subtask": false,
            "avatarId": 21148
        },
        "timespent": 15000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@42448d3c[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2d28a3b[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@438ea5f8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@551b6ce0[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1f240643[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@1563b14f[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2374677e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@2d06739c[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@12af7e61[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1ace4cb2[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1a019702[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@4858d4d[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 15000,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Mar 14 06:00:02 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-03-14T06:00:02.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-4206/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2019-01-08T18:44:28.000+0000",
        "updated": "2019-03-14T06:00:08.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "4h 10m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 15000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Gandiva] Implement decimal divide",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208382/comment/16792368",
                    "id": "16792368",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pravindra",
                        "name": "pravindra",
                        "key": "pravindra",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
                        },
                        "displayName": "Pindikura Ravindra",
                        "active": true,
                        "timeZone": "Asia/Kolkata"
                    },
                    "body": "Issue resolved by pull request 3813\n[https://github.com/apache/arrow/pull/3813]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pravindra",
                        "name": "pravindra",
                        "key": "pravindra",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
                        },
                        "displayName": "Pindikura Ravindra",
                        "active": true,
                        "timeZone": "Asia/Kolkata"
                    },
                    "created": "2019-03-14T06:00:02.870+0000",
                    "updated": "2019-03-14T06:00:02.870+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|u00n1k:",
        "customfield_12314139": null
    }
}