{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13280625",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625",
    "key": "ARROW-7624",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12346687",
                "id": "12346687",
                "description": "",
                "name": "0.17.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-04-20"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12346358",
                "id": "12346358",
                "description": "",
                "name": "0.15.1",
                "archived": false,
                "released": true,
                "releaseDate": "2019-11-01"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=paddyhoran",
            "name": "paddyhoran",
            "key": "paddyhoran",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Paddy Horan",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333773",
                "id": "12333773",
                "name": "Rust"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jturner314",
            "name": "jturner314",
            "key": "jturner314",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Jim Turner",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jturner314",
            "name": "jturner314",
            "key": "jturner314",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Jim Turner",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 7800,
            "total": 7800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 7800,
            "total": 7800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-7624/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 13,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/worklog/384724",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "paddyhoran commented on pull request #6397: ARROW-7624: [Rust] Soundness issues via `Buffer` methods\nURL: https://github.com/apache/arrow/pull/6397\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-10T20:51:39.974+0000",
                    "updated": "2020-02-10T20:51:39.974+0000",
                    "started": "2020-02-10T20:51:39.973+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "384724",
                    "issueId": "13280625"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/worklog/384736",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on issue #6397: ARROW-7624: [Rust] Soundness issues via `Buffer` methods\nURL: https://github.com/apache/arrow/pull/6397#issuecomment-584352495\n \n \n   https://issues.apache.org/jira/browse/ARROW-7624\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-10T21:02:37.792+0000",
                    "updated": "2020-02-10T21:02:37.792+0000",
                    "started": "2020-02-10T21:02:37.792+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "384736",
                    "issueId": "13280625"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/worklog/384828",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jturner314 commented on issue #6397: ARROW-7624: [Rust] Soundness issues via `Buffer` methods\nURL: https://github.com/apache/arrow/pull/6397#issuecomment-584405682\n \n \n   Would it be helpful for me to review this? At first glance, I noticed another issue. (The `data` method creates a slice from a pointer which may be null, which violates the safety constraints of [`std::slice::from_raw_parts`](https://doc.rust-lang.org/std/slice/fn.from_raw_parts.html).)\r\n   \r\n   I do have one question before reviewing in more detail. I'm confused about the ownership semantics of `BufferData`. At first glance, it looks similar to `Box<[u8]>` (i.e. an owned block of data), but the `owned` field suggests otherwise. What is the intended use for an instance of `BufferData` with `owned == false`? If it's supposed to be analogous to `&[u8]`, then `BufferData` should have a lifetime annotation indicating the lifetime of the borrow.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-10T23:16:57.911+0000",
                    "updated": "2020-02-10T23:16:57.911+0000",
                    "started": "2020-02-10T23:16:57.911+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "384828",
                    "issueId": "13280625"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/worklog/384883",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "paddyhoran commented on issue #6397: ARROW-7624: [Rust] Soundness issues via `Buffer` methods\nURL: https://github.com/apache/arrow/pull/6397#issuecomment-584428786\n \n \n   > Would it be helpful for me to review this? At first glance, I noticed another issue.\r\n   \r\n   Absolutely, that would be great!\r\n   \r\n   \r\n   \r\n   > I do have one question before reviewing in more detail. I'm confused about the ownership semantics of `BufferData`. At first glance, it looks similar to `Box<[u8]>` (i.e. an owned block of data), but the `owned` field suggests otherwise.\r\n   \r\n   It is an owned block of data and I would say that `owned=false` is very seldom used.  It was introduced to support the situation where the memory was allocated by one of the other Arrow implementations, specifically via JNI from Java.  @liurenjie1024 please correct me if I'm wrong?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-11T00:43:03.623+0000",
                    "updated": "2020-02-11T00:43:03.623+0000",
                    "started": "2020-02-11T00:43:03.622+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "384883",
                    "issueId": "13280625"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/worklog/384938",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liurenjie1024 commented on issue #6397: ARROW-7624: [Rust] Soundness issues via `Buffer` methods\nURL: https://github.com/apache/arrow/pull/6397#issuecomment-584453723\n \n \n   @paddyhoran Yes, you are right.\r\n   \r\n   LGTM.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-11T02:25:36.511+0000",
                    "updated": "2020-02-11T02:25:36.511+0000",
                    "started": "2020-02-11T02:25:36.510+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "384938",
                    "issueId": "13280625"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/worklog/384980",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jturner314 commented on issue #6397: ARROW-7624: [Rust] Soundness issues via `Buffer` methods\nURL: https://github.com/apache/arrow/pull/6397#issuecomment-584487232\n \n \n   Reading over the code, I found a few more issues in `memory.rs`/`buffer.rs`:\r\n   \r\n   * The functions in `memory` need more checks and/or need to be made `unsafe` to avoid undefined behavior, primarily involving zero-size allocations. (See the [`GlobalAlloc`](https://doc.rust-lang.org/std/alloc/trait.GlobalAlloc.html) docs for more details.)\r\n   * Allocation errors (i.e. the allocator returning a null pointer) are not properly handled.\r\n   * There are various issues related to null pointers and the buffer types. IMO, the best approach is for the buffer types to enforce non-nullness of their pointers (assuming that's compatible with the rest of Arrow?).\r\n   * The derived `PartialEq` implementation of `Buffer` compares all the bytes in the underlying `BufferData`, including those before the `offset`. I assume this is incorrect, and the desired behavior is to compare only the visible bytes (those starting at `offset`).\r\n   * `MutableBuffer::freeze` creates a `BufferData` directly from the pointer and length, which results in the `BufferData` freeing the allocation with an incorrect size when the capacity and length of the `MutableBuffer` were unequal. (`MutableBuffer` needs to deallocate the excess capacity before creating the `BufferData`.)\r\n   \r\n   I have a work-in-progress set of changes on the `from-raw-parts-unsafe` branch of my fork (see [diff from this PR](https://github.com/paddyhoran/arrow/compare/from-raw-parts-unsafe...jturner314:from-raw-parts-unsafe)).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-11T05:52:00.125+0000",
                    "updated": "2020-02-11T05:52:00.125+0000",
                    "started": "2020-02-11T05:52:00.125+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "384980",
                    "issueId": "13280625"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/worklog/385189",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Marwes commented on issue #6397: ARROW-7624: [Rust] Soundness issues via `Buffer` methods\nURL: https://github.com/apache/arrow/pull/6397#issuecomment-584662045\n \n \n   @jturner314 A few of those issues are also fixed in https://github.com/apache/arrow/pull/6395. Started going through buffer a bit over the weekend.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-11T14:29:40.597+0000",
                    "updated": "2020-02-11T14:29:40.597+0000",
                    "started": "2020-02-11T14:29:40.596+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "385189",
                    "issueId": "13280625"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/worklog/385211",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "paddyhoran commented on issue #6397: ARROW-7624: [Rust] Soundness issues via `Buffer` methods\nURL: https://github.com/apache/arrow/pull/6397#issuecomment-584677392\n \n \n   Thanks @jturner314 and @Marwes. \r\n   \r\n   I need to take a look at the issues around allocation (the first 3 points above).\r\n   \r\n   \r\n   \r\n   > * The derived `PartialEq` implementation of `Buffer` compares all the bytes in the underlying `BufferData`, including those before the `offset`. I assume this is incorrect, and the desired behavior is to compare only the visible bytes (those starting at `offset`).\r\n   \r\n   Actually, I raised this issue when this was merged.  This is expected, the higher level array types allow for the `offset` and `len`.  The thinking is that `Buffer`'s `PartialEq` allows you to compare the allocated memory (i.e. it's lower level).  Others thought this made more sense...  at very least we should update the docs to explain this.\r\n   \r\n    \r\n   \r\n   > * `MutableBuffer::freeze` creates a `BufferData` directly from the pointer and length, which results in the `BufferData` freeing the allocation with an incorrect size when the capacity and length of the `MutableBuffer` were unequal. (`MutableBuffer` needs to deallocate the excess capacity before creating the `BufferData`.)\r\n   \r\n   So, we pad to 64 bytes in Rust.  This is mentioned in the [spec](https://arrow.apache.org/docs/format/Columnar.html#buffer-alignment-and-padding).  This allows us to use SIMD easily, basically we allow SIMD to operate on the padded region so that's why the padded region is included in `BufferData`.  (@Marwes this might be why your tests are failing on #6395, but I need to look at this in more detail.)\r\n   \r\n   Anyone have any issues with merging this and opening follow up JIRA's for the other items?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-11T15:01:02.036+0000",
                    "updated": "2020-02-11T15:01:02.036+0000",
                    "started": "2020-02-11T15:01:02.036+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "385211",
                    "issueId": "13280625"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/worklog/385301",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jturner314 commented on issue #6397: ARROW-7624: [Rust] Soundness issues via `Buffer` methods\nURL: https://github.com/apache/arrow/pull/6397#issuecomment-584760039\n \n \n   I just noticed another issue -- the `new_len > self.len` case of the `resize` method on `MutableBuffer` extends the buffer with uninitialized memory. Accessing this data (e.g. via the `data` method) is undefined behavior, even though the buffer just deals with raw bytes. ([Relevant quote from the docs for `MaybeUninit`](https://doc.rust-lang.org/std/mem/union.MaybeUninit.html#initialization-invariant): \"Moreover, uninitialized memory is special in that the compiler knows that it does not have a fixed value. This makes it undefined behavior to have uninitialized data in a variable even if that variable has an integer type, which otherwise can hold any *fixed* bit pattern\".)\r\n   \r\n   Since you're depending on padding outside of the length for use in SIMD (which means the padding needs to be initialized), perhaps the simplest solution would be to always get initialized memory (replace calls to `std::alloc::alloc` with `std::alloc::alloc_zeroed`).\r\n   \r\n   > A few of those issues are also fixed in #6395. Started going through buffer a bit over the weekend.\r\n   \r\n   Thanks for pointing out that PR. It looks like it fixes most of the issues related to null pointers in the buffer types. The remaining thing I see is that the `reserve` and `resize` methods on `MutableBuffer` call `memory::reallocate` with the possibly-null `self.data` pointer, which due to the way `reallocate` is currently implemented, result in calling `std::alloc::realloc` with a null pointer (which is undefined behavior).\r\n   \r\n   > The thinking is that `Buffer`'s `PartialEq` allows you to compare the allocated memory (i.e. it's lower level). Others thought this made more sense... at very least we should update the docs to explain this.\r\n   \r\n   Okay, that's reasonable.\r\n   \r\n   > So, we pad to 64 bytes in Rust. This is mentioned in the [spec](https://arrow.apache.org/docs/format/Columnar.html#buffer-alignment-and-padding). This allows us to use SIMD easily, basically we allow SIMD to operate on the padded region so that's why the padded region is included in `BufferData`.\r\n   \r\n   Padding to 64 bytes is fine. There are a couple of things to be careful about, though. The first is that if code accesses the padding, e.g. for SIMD, it needs to be initialized. The second is that when the memory is freed, it [needs to be freed with the same layout it was allocated with](https://doc.rust-lang.org/std/alloc/trait.GlobalAlloc.html#tymethod.dealloc) (the \"layout\" is the size and alignment). The `capacity` field of `MutableBuffer` describes the size of the allocation, so creating a `BufferData` using `len` (which often is unequal to `capacity`) and then dropping it results in calling `dealloc` with the incorrect allocation size (i.e. `len` instead of `capacity`), which is undefined behavior. If the padding needs to be preserved in `BufferData`, then either (a) `BufferData` needs to store the `capacity` to use when calling `dealloc` or (b) `BufferData` needs to be changed to use the \"length rounded up to the nearest multiple of 64\" when calling `dealloc` and all methods of creating `BufferData` (including `MutableBuffer`'s `freeze` method) need to ensure that the allocation size matches the \"length rounded up to the nearest multiple of 64\".\r\n   \r\n   > Anyone have any issues with merging this and opening follow up JIRA's for the other items?\r\n   \r\n   Sure, that's okay with me.The remaining issues can be fixed in other PRs.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-11T17:39:28.026+0000",
                    "updated": "2020-02-11T17:39:28.026+0000",
                    "started": "2020-02-11T17:39:28.026+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "385301",
                    "issueId": "13280625"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/worklog/385303",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jturner314 commented on issue #6397: ARROW-7624: [Rust] Soundness issues via `Buffer` methods\nURL: https://github.com/apache/arrow/pull/6397#issuecomment-584760039\n \n \n   I just noticed another issue -- the `new_len > self.len` case of the `resize` method on `MutableBuffer` extends the buffer with uninitialized memory. Accessing this data (e.g. via the `data` method) is undefined behavior, even though the buffer just deals with raw bytes. ([Relevant quote from the docs for `MaybeUninit`](https://doc.rust-lang.org/std/mem/union.MaybeUninit.html#initialization-invariant): \"Moreover, uninitialized memory is special in that the compiler knows that it does not have a fixed value. This makes it undefined behavior to have uninitialized data in a variable even if that variable has an integer type, which otherwise can hold any *fixed* bit pattern\".)\r\n   \r\n   Since you're depending on padding outside of the length for use in SIMD (which means the padding needs to be initialized), perhaps the simplest solution would be to always get initialized memory (replace calls to `std::alloc::alloc` with `std::alloc::alloc_zeroed` [edit: and change `memory::reallocate` to zero out new capacity]).\r\n   \r\n   > A few of those issues are also fixed in #6395. Started going through buffer a bit over the weekend.\r\n   \r\n   Thanks for pointing out that PR. It looks like it fixes most of the issues related to null pointers in the buffer types. The remaining thing I see is that the `reserve` and `resize` methods on `MutableBuffer` call `memory::reallocate` with the possibly-null `self.data` pointer, which due to the way `reallocate` is currently implemented, result in calling `std::alloc::realloc` with a null pointer (which is undefined behavior).\r\n   \r\n   > The thinking is that `Buffer`'s `PartialEq` allows you to compare the allocated memory (i.e. it's lower level). Others thought this made more sense... at very least we should update the docs to explain this.\r\n   \r\n   Okay, that's reasonable.\r\n   \r\n   > So, we pad to 64 bytes in Rust. This is mentioned in the [spec](https://arrow.apache.org/docs/format/Columnar.html#buffer-alignment-and-padding). This allows us to use SIMD easily, basically we allow SIMD to operate on the padded region so that's why the padded region is included in `BufferData`.\r\n   \r\n   Padding to 64 bytes is fine. There are a couple of things to be careful about, though. The first is that if code accesses the padding, e.g. for SIMD, it needs to be initialized. The second is that when the memory is freed, it [needs to be freed with the same layout it was allocated with](https://doc.rust-lang.org/std/alloc/trait.GlobalAlloc.html#tymethod.dealloc) (the \"layout\" is the size and alignment). The `capacity` field of `MutableBuffer` describes the size of the allocation, so creating a `BufferData` using `len` (which often is unequal to `capacity`) and then dropping it results in calling `dealloc` with the incorrect allocation size (i.e. `len` instead of `capacity`), which is undefined behavior. If the padding needs to be preserved in `BufferData`, then either (a) `BufferData` needs to store the `capacity` to use when calling `dealloc` or (b) `BufferData` needs to be changed to use the \"length rounded up to the nearest multiple of 64\" when calling `dealloc` and all methods of creating `BufferData` (including `MutableBuffer`'s `freeze` method) need to ensure that the allocation size matches the \"length rounded up to the nearest multiple of 64\".\r\n   \r\n   > Anyone have any issues with merging this and opening follow up JIRA's for the other items?\r\n   \r\n   Sure, that's okay with me.The remaining issues can be fixed in other PRs.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-11T17:41:23.866+0000",
                    "updated": "2020-02-11T17:41:23.866+0000",
                    "started": "2020-02-11T17:41:23.866+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "385303",
                    "issueId": "13280625"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/worklog/385653",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "paddyhoran commented on pull request #6397: ARROW-7624: [Rust] Soundness issues via `Buffer` methods\nURL: https://github.com/apache/arrow/pull/6397\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-12T03:15:26.952+0000",
                    "updated": "2020-02-12T03:15:26.952+0000",
                    "started": "2020-02-12T03:15:26.952+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "385653",
                    "issueId": "13280625"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/worklog/385658",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "paddyhoran commented on issue #6397: ARROW-7624: [Rust] Soundness issues via `Buffer` methods\nURL: https://github.com/apache/arrow/pull/6397#issuecomment-585012251\n \n \n   @jturner314 does #4331 address the de-allocation issue?\r\n   \r\n   I opened [this](https://issues.apache.org/jira/browse/ARROW-7836) JIRA for the initialization issue.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-12T03:41:50.689+0000",
                    "updated": "2020-02-12T03:41:50.689+0000",
                    "started": "2020-02-12T03:41:50.688+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "385658",
                    "issueId": "13280625"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/worklog/387667",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jturner314 commented on issue #6397: ARROW-7624: [Rust] Soundness issues via `Buffer` methods\nURL: https://github.com/apache/arrow/pull/6397#issuecomment-586468091\n \n \n   @paddyhoran Yes, #4331 fixes the issue I was describing regarding `MutableBuffer::freeze` followed by deallocating the `Buffer`.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-02-14T20:52:39.030+0000",
                    "updated": "2020-02-14T20:52:39.030+0000",
                    "started": "2020-02-14T20:52:39.029+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "387667",
                    "issueId": "13280625"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 7800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@60672eba[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4f8e54f4[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@486d4a13[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@75f98e1e[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3323fa44[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@1782d5ff[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@351d28ce[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@c2dd90d[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2070e316[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@21dce7ca[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7d5bf067[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@1f5cab70[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 7800,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Feb 12 03:15:46 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-02-12T03:15:46.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-7624/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2020-01-20T23:30:16.000+0000",
        "updated": "2020-02-14T20:52:39.000+0000",
        "timeoriginalestimate": null,
        "description": "This is my first time creating an issue, so please let me know if I need to do anything differently.\r\n\r\nThere are a few soundness issues with the methods currently available on {{Buffer}}.\r\n # Using a combination of {{from_raw_parts}} and {{data}}/{{as_ref}}, e.g. {{Buffer::from_raw_parts(ptr, len).data()}}, it's possible to dereference arbitrary memory locations, break pointer aliasing rules, etc. To fix this,\u00a0`from_raw_parts` needs to be `unsafe`, and the safety requirements on `ptr` and `len` should be specified. (For an example of a similar method in the standard library, see [{{std::slice::from_raw_parts}}|https://doc.rust-lang.org/std/slice/fn.from_raw_parts.html].)\r\n # By implementing the {{ArrowNativeType}} trait on a struct, it's possible for a user to create invalid values of that struct using the {{typed_data}} method. To fix this, the {{ArrowNativeType}} trait needs to be {{unsafe}}, or users need to be prevented from implementing {{ArrowNativeType}} on arbitrary types. Alternatively, the {{typed_data}} method could be made unsafe.\r\n # It's possible to create invalid values of the {{bool}} type using {{typed_data}}. ([Values of {{bool}} must be {{0x00}} or {{0x01}}|https://doc.rust-lang.org/nomicon/what-unsafe-does.html]; arbitrary {{u8}} cannot safely be reinterpreted as {{bool}}.) To fix this, {{typed_data::<bool>()}} needs to iterate over all the data and check that all the elements are valid, or {{typed_data}} needs to be marked {{unsafe}}.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 10m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 7800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Rust] Soundness issues via `Buffer` methods",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/comment/17019793",
                    "id": "17019793",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=paddyhoran",
                        "name": "paddyhoran",
                        "key": "paddyhoran",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Paddy Horan",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Thanks for reporting this [~jturner314].\r\n\r\nWe recently had a discussion about these kinds of issues on the [mailing list|[https://lists.apache.org/thread.html/r07f4ba469563a764d19fd08622adbcd0e3ac895a6e8165ae44b8dee8%40%3Cdev.arrow.apache.org%3E].]\u00a0 I'm going to start trying to clean them up soon.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=paddyhoran",
                        "name": "paddyhoran",
                        "key": "paddyhoran",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Paddy Horan",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2020-01-21T01:22:39.493+0000",
                    "updated": "2020-01-21T01:22:39.493+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13280625/comment/17035016",
                    "id": "17035016",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=paddyhoran",
                        "name": "paddyhoran",
                        "key": "paddyhoran",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Paddy Horan",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 6397\n[https://github.com/apache/arrow/pull/6397]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=paddyhoran",
                        "name": "paddyhoran",
                        "key": "paddyhoran",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Paddy Horan",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2020-02-12T03:15:46.079+0000",
                    "updated": "2020-02-12T03:15:46.079+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z0apao:",
        "customfield_12314139": null
    }
}