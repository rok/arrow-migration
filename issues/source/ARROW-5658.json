{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13240551",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551",
    "key": "ARROW-5658",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343937",
                "id": "12343937",
                "description": "",
                "name": "0.13.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-04-01"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/2",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.svg",
            "name": "Critical",
            "id": "2"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "14.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343937",
                "id": "12343937",
                "description": "",
                "name": "0.13.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-04-01"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
            "name": "fan_li_ya",
            "key": "fan_li_ya",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Liya Fan",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12334621",
                "id": "12334621",
                "name": "FlightRPC"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
            "name": "liaotian1005",
            "key": "liaotian1005",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
            },
            "displayName": "luckily",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
            "name": "liaotian1005",
            "key": "liaotian1005",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
            },
            "displayName": "luckily",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 19800,
            "total": 19800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 19800,
            "total": 19800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5658/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 34,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/266496",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689\n \n \n   Resolve JIRA ARROW-5658. \r\n   \r\n   The fundamental problem is that, as data are inserted to the vector (e.g. ListVector), the schema of VectorShemaRoot can be different from the vector structure. \r\n   \r\n   In the server side, the deserialization is based on the schema, which is out of date, so it fails silently. \r\n   \r\n   In this PR, we fix the problem of obsolete schema and make the server print error info explicitly. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-25T09:52:13.618+0000",
                    "updated": "2019-06-25T09:52:13.618+0000",
                    "started": "2019-06-25T09:52:13.618+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "266496",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/266591",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lihalite commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r297153498\n \n \n\n ##########\n File path: java/flight/src/main/java/org/apache/arrow/flight/FlightService.java\n ##########\n @@ -172,6 +172,8 @@ public void completed() {\n         responseObserver.onNext(producer.acceptPut(makeContext(responseObserver), fs).call());\n         responseObserver.onCompleted();\n       } catch (Exception ex) {\n+        logger.error(\"Failed to process custom put due to: \" + ex.getMessage());\n \n Review comment:\n   `logger.error(\"...\", ex);` should work and insert the stack trace in the log, no?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-25T12:13:03.711+0000",
                    "updated": "2019-06-25T12:13:03.711+0000",
                    "started": "2019-06-25T12:13:03.710+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "266591",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/267220",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r297461981\n \n \n\n ##########\n File path: java/flight/src/main/java/org/apache/arrow/flight/FlightService.java\n ##########\n @@ -172,6 +172,8 @@ public void completed() {\n         responseObserver.onNext(producer.acceptPut(makeContext(responseObserver), fs).call());\n         responseObserver.onCompleted();\n       } catch (Exception ex) {\n+        logger.error(\"Failed to process custom put due to: \" + ex.getMessage());\n \n Review comment:\n   @lihalite thanks for the good suggestion. I have revised the code accordingly.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T02:25:13.699+0000",
                    "updated": "2019-06-26T02:25:13.699+0000",
                    "started": "2019-06-26T02:25:13.698+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267220",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/267250",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r297478828\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestVectorSchemaRoot.java\n ##########\n @@ -75,4 +87,76 @@ private void checkCount(BitVector vec1, IntVector vec2, VectorSchemaRoot vsr, in\n     assertEquals(vec2.getValueCount(), count);\n     assertEquals(vsr.getRowCount(), count);\n   }\n+\n+  private VectorSchemaRoot createBatch() {\n+    FieldType varCharType = new FieldType(true, new ArrowType.Utf8(), null);\n+    FieldType listType = new FieldType(true, new ArrowType.List(), null);\n+\n+    // create the schema\n+    List<Field> schemaFields  = new ArrayList<>();\n+    Field childField = new Field(\"varCharCol\", varCharType, null);\n+    List<Field> childFields = new ArrayList<>();\n+    childFields.add(childField);\n+    schemaFields.add(new Field(\"listCol\", listType, childFields));\n+    Schema schema = new Schema(schemaFields);\n+\n+    VectorSchemaRoot schemaRoot = VectorSchemaRoot.create(schema, allocator);\n+    // get and allocate the vector\n+    ListVector vector = (ListVector) schemaRoot.getVector(\"listCol\");\n+    vector.allocateNew();\n+\n+    // write data to the vector\n+    UnionListWriter writer = vector.getWriter();\n+\n+    writer.setPosition(0);\n+\n+    // write data vector(0)\n+    writer.startList();\n+\n+    // write data vector(0)(0)\n+    writer.list().startList();\n+    writer.list().bigInt().writeBigInt(0);\n+    writer.list().bigInt().writeBigInt(1);\n+    writer.list().endList();\n+\n+    // write data vector(0)(1)\n+    writer.list().startList();\n+    writer.list().float8().writeFloat8(3.0D);\n+    writer.list().float8().writeFloat8(7.0D);\n+    writer.list().endList();\n+\n+    // finish data vector(0)\n+    writer.endList();\n+\n+    writer.setPosition(1);\n+\n+    // write data vector(1)\n+    writer.startList();\n+\n \n Review comment:\n   can you comment where the change in schema is intended to happen\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T04:21:33.730+0000",
                    "updated": "2019-06-26T04:21:33.730+0000",
                    "started": "2019-06-26T04:21:33.730+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267250",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/267251",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r297478527\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/VectorSchemaRoot.java\n ##########\n @@ -206,4 +206,18 @@ public String contentToTSVString() {\n     }\n     return sb.toString();\n   }\n+\n+  /**\n+   * Synchronizes the schema according from the current vectors.\n \n Review comment:\n   ```suggestion\r\n      * Synchronizes the schema from the current vector contents.\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T04:21:33.866+0000",
                    "updated": "2019-06-26T04:21:33.866+0000",
                    "started": "2019-06-26T04:21:33.865+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267251",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/267252",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r297476317\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestVectorSchemaRoot.java\n ##########\n @@ -75,4 +87,76 @@ private void checkCount(BitVector vec1, IntVector vec2, VectorSchemaRoot vsr, in\n     assertEquals(vec2.getValueCount(), count);\n     assertEquals(vsr.getRowCount(), count);\n   }\n+\n+  private VectorSchemaRoot createBatch() {\n+    FieldType varCharType = new FieldType(true, new ArrowType.Utf8(), null);\n \n Review comment:\n   please comment with /*fieldName=*/null\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T04:21:33.901+0000",
                    "updated": "2019-06-26T04:21:33.901+0000",
                    "started": "2019-06-26T04:21:33.901+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267252",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/267253",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r297475819\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/VectorSchemaRoot.java\n ##########\n @@ -206,4 +206,18 @@ public String contentToTSVString() {\n     }\n     return sb.toString();\n   }\n+\n+  /**\n+   * Synchronizes the schema according from the current vectors.\n+   * In some cases, the schema and the actual vector structure may be different.\n+   * This can be caused by a promoted writer (For details, please see\n+   * {@link org.apache.arrow.vector.complex.impl.PromotableWriter}).\n+   * For example, when writing different types of data to a {@link org.apache.arrow.vector.complex.ListVector}\n+   * may lead to such a case.\n+   * When this happens, this method should be called to bring the schema and vector structure in a synchronized state.\n+   */\n+  public void syncSchema() {\n+    List<Field> fields = this.fieldVectors.stream().map(vector -> vector.getField()).collect(Collectors.toList());\n \n Review comment:\n   ```suggestion\r\n       List<Field> fields = this.fieldVectors.stream().map(FieldVector::getField).collect(Collectors.toList());\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T04:21:33.958+0000",
                    "updated": "2019-06-26T04:21:33.958+0000",
                    "started": "2019-06-26T04:21:33.957+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267253",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/267254",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r297475621\n \n \n\n ##########\n File path: java/flight/src/main/java/org/apache/arrow/flight/FlightService.java\n ##########\n @@ -172,6 +172,8 @@ public void completed() {\n         responseObserver.onNext(producer.acceptPut(makeContext(responseObserver), fs).call());\n         responseObserver.onCompleted();\n       } catch (Exception ex) {\n+        logger.error(\"Failed to process custom put.\", ex);\n+        ex.printStackTrace();\n \n Review comment:\n   remove this\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T04:21:33.982+0000",
                    "updated": "2019-06-26T04:21:33.982+0000",
                    "started": "2019-06-26T04:21:33.981+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267254",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/267401",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r297567058\n \n \n\n ##########\n File path: java/flight/src/main/java/org/apache/arrow/flight/FlightService.java\n ##########\n @@ -172,6 +172,8 @@ public void completed() {\n         responseObserver.onNext(producer.acceptPut(makeContext(responseObserver), fs).call());\n         responseObserver.onCompleted();\n       } catch (Exception ex) {\n+        logger.error(\"Failed to process custom put.\", ex);\n+        ex.printStackTrace();\n \n Review comment:\n   removed. thanks.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T09:25:50.752+0000",
                    "updated": "2019-06-26T09:25:50.752+0000",
                    "started": "2019-06-26T09:25:50.752+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267401",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/267402",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r297567286\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/VectorSchemaRoot.java\n ##########\n @@ -206,4 +206,18 @@ public String contentToTSVString() {\n     }\n     return sb.toString();\n   }\n+\n+  /**\n+   * Synchronizes the schema according from the current vectors.\n+   * In some cases, the schema and the actual vector structure may be different.\n+   * This can be caused by a promoted writer (For details, please see\n+   * {@link org.apache.arrow.vector.complex.impl.PromotableWriter}).\n+   * For example, when writing different types of data to a {@link org.apache.arrow.vector.complex.ListVector}\n+   * may lead to such a case.\n+   * When this happens, this method should be called to bring the schema and vector structure in a synchronized state.\n+   */\n+  public void syncSchema() {\n+    List<Field> fields = this.fieldVectors.stream().map(vector -> vector.getField()).collect(Collectors.toList());\n \n Review comment:\n   Revised accordingly. Thanks.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T09:26:16.733+0000",
                    "updated": "2019-06-26T09:26:16.733+0000",
                    "started": "2019-06-26T09:26:16.718+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267402",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/267403",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r297567410\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestVectorSchemaRoot.java\n ##########\n @@ -75,4 +87,76 @@ private void checkCount(BitVector vec1, IntVector vec2, VectorSchemaRoot vsr, in\n     assertEquals(vec2.getValueCount(), count);\n     assertEquals(vsr.getRowCount(), count);\n   }\n+\n+  private VectorSchemaRoot createBatch() {\n+    FieldType varCharType = new FieldType(true, new ArrowType.Utf8(), null);\n \n Review comment:\n   Commented. Thanks.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T09:26:38.668+0000",
                    "updated": "2019-06-26T09:26:38.668+0000",
                    "started": "2019-06-26T09:26:38.667+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267403",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/267404",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r297567539\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/VectorSchemaRoot.java\n ##########\n @@ -206,4 +206,18 @@ public String contentToTSVString() {\n     }\n     return sb.toString();\n   }\n+\n+  /**\n+   * Synchronizes the schema according from the current vectors.\n \n Review comment:\n   Good cache. Thanks.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T09:26:51.911+0000",
                    "updated": "2019-06-26T09:26:51.911+0000",
                    "started": "2019-06-26T09:26:51.910+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267404",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/267406",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r297567710\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestVectorSchemaRoot.java\n ##########\n @@ -75,4 +87,76 @@ private void checkCount(BitVector vec1, IntVector vec2, VectorSchemaRoot vsr, in\n     assertEquals(vec2.getValueCount(), count);\n     assertEquals(vsr.getRowCount(), count);\n   }\n+\n+  private VectorSchemaRoot createBatch() {\n+    FieldType varCharType = new FieldType(true, new ArrowType.Utf8(), null);\n+    FieldType listType = new FieldType(true, new ArrowType.List(), null);\n+\n+    // create the schema\n+    List<Field> schemaFields  = new ArrayList<>();\n+    Field childField = new Field(\"varCharCol\", varCharType, null);\n+    List<Field> childFields = new ArrayList<>();\n+    childFields.add(childField);\n+    schemaFields.add(new Field(\"listCol\", listType, childFields));\n+    Schema schema = new Schema(schemaFields);\n+\n+    VectorSchemaRoot schemaRoot = VectorSchemaRoot.create(schema, allocator);\n+    // get and allocate the vector\n+    ListVector vector = (ListVector) schemaRoot.getVector(\"listCol\");\n+    vector.allocateNew();\n+\n+    // write data to the vector\n+    UnionListWriter writer = vector.getWriter();\n+\n+    writer.setPosition(0);\n+\n+    // write data vector(0)\n+    writer.startList();\n+\n+    // write data vector(0)(0)\n+    writer.list().startList();\n+    writer.list().bigInt().writeBigInt(0);\n+    writer.list().bigInt().writeBigInt(1);\n+    writer.list().endList();\n+\n+    // write data vector(0)(1)\n+    writer.list().startList();\n+    writer.list().float8().writeFloat8(3.0D);\n+    writer.list().float8().writeFloat8(7.0D);\n+    writer.list().endList();\n+\n+    // finish data vector(0)\n+    writer.endList();\n+\n+    writer.setPosition(1);\n+\n+    // write data vector(1)\n+    writer.startList();\n+\n \n Review comment:\n   Good suggestion. Commented accordingly.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-26T09:27:16.089+0000",
                    "updated": "2019-06-26T09:27:16.089+0000",
                    "started": "2019-06-26T09:27:16.088+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "267406",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/269031",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r298451136\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/VectorSchemaRoot.java\n ##########\n @@ -206,4 +206,18 @@ public String contentToTSVString() {\n     }\n     return sb.toString();\n   }\n+\n+  /**\n+   * Synchronizes the schema from the current vectors.\n+   * In some cases, the schema and the actual vector structure may be different.\n+   * This can be caused by a promoted writer (For details, please see\n+   * {@link org.apache.arrow.vector.complex.impl.PromotableWriter}).\n+   * For example, when writing different types of data to a {@link org.apache.arrow.vector.complex.ListVector}\n+   * may lead to such a case.\n+   * When this happens, this method should be called to bring the schema and vector structure in a synchronized state.\n+   */\n+  public void syncSchema() {\n \n Review comment:\n   I think we should compare old schema to new schema and return a boolean to let users know that the schema has changed.  In some cases I think you can simply resend the schema.  In the case of flight its not clear to me that you can update the schema along the way.\r\n   \r\n   Not for this PR but one potential follow-up is to plumb through the schema change callbacks that exist at a lower level to this level.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-28T04:42:23.351+0000",
                    "updated": "2019-06-28T04:42:23.351+0000",
                    "started": "2019-06-28T04:42:23.350+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "269031",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/269033",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r298451540\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/VectorSchemaRoot.java\n ##########\n @@ -206,4 +206,18 @@ public String contentToTSVString() {\n     }\n     return sb.toString();\n   }\n+\n+  /**\n+   * Synchronizes the schema from the current vectors.\n+   * In some cases, the schema and the actual vector structure may be different.\n+   * This can be caused by a promoted writer (For details, please see\n+   * {@link org.apache.arrow.vector.complex.impl.PromotableWriter}).\n+   * For example, when writing different types of data to a {@link org.apache.arrow.vector.complex.ListVector}\n+   * may lead to such a case.\n+   * When this happens, this method should be called to bring the schema and vector structure in a synchronized state.\n+   */\n+  public void syncSchema() {\n+    List<Field> fields = this.fieldVectors.stream().map(ValueVector::getField).collect(Collectors.toList());\n \n Review comment:\n   since you have been doing a lot of micro optimizations recently it might be interested to measure the performance difference approach with code like:\r\n   ```\r\n   List<Field> fields  = new ArrayList<>(this.fieldVectors.size());\r\n   And then either:\r\n   this.fieldsVectors.forEach(fields::add);\r\n   or \r\n   for (FieldVector fieldVector : this.fieldsVectors) {\r\n      fields.add(fieldVector.getField());\r\n   }\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-28T04:45:23.841+0000",
                    "updated": "2019-06-28T04:45:23.841+0000",
                    "started": "2019-06-28T04:45:23.840+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "269033",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/269162",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r298517174\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/VectorSchemaRoot.java\n ##########\n @@ -206,4 +206,18 @@ public String contentToTSVString() {\n     }\n     return sb.toString();\n   }\n+\n+  /**\n+   * Synchronizes the schema from the current vectors.\n+   * In some cases, the schema and the actual vector structure may be different.\n+   * This can be caused by a promoted writer (For details, please see\n+   * {@link org.apache.arrow.vector.complex.impl.PromotableWriter}).\n+   * For example, when writing different types of data to a {@link org.apache.arrow.vector.complex.ListVector}\n+   * may lead to such a case.\n+   * When this happens, this method should be called to bring the schema and vector structure in a synchronized state.\n+   */\n+  public void syncSchema() {\n \n Review comment:\n   Good suggestion. \r\n   I have updated the code to return a boolean indicating if the schema has changed. In addition, I have modified the code to automatically sync batch schema before sending it. So there is no need for the user code to call the syncSchema method. \r\n   \r\n   The idea of schema change callback seems reasonable. Let's do it in a separate issue.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-28T09:15:00.126+0000",
                    "updated": "2019-06-28T09:15:00.126+0000",
                    "started": "2019-06-28T09:15:00.126+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "269162",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/269165",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r298518657\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/VectorSchemaRoot.java\n ##########\n @@ -206,4 +206,18 @@ public String contentToTSVString() {\n     }\n     return sb.toString();\n   }\n+\n+  /**\n+   * Synchronizes the schema from the current vectors.\n+   * In some cases, the schema and the actual vector structure may be different.\n+   * This can be caused by a promoted writer (For details, please see\n+   * {@link org.apache.arrow.vector.complex.impl.PromotableWriter}).\n+   * For example, when writing different types of data to a {@link org.apache.arrow.vector.complex.ListVector}\n+   * may lead to such a case.\n+   * When this happens, this method should be called to bring the schema and vector structure in a synchronized state.\n+   */\n+  public void syncSchema() {\n+    List<Field> fields = this.fieldVectors.stream().map(ValueVector::getField).collect(Collectors.toList());\n \n Review comment:\n   Sure. It is interesting. I have evaluated 4 implementations:\r\n   1. for loop\r\n   for (int i = 0; i < 10; i++) {\r\n         fields.add(fieldsVectors.get(i).getField());\r\n   }\r\n   \r\n   2. iterator\r\n   for (FieldVector vec : fieldVectors) {\r\n         fields.add(vec.getField());\r\n   }\r\n   \r\n   3. forEach\r\n   this.fieldsVectors.forEach(vec -> fields.add(vec.getField()));\r\n   \r\n   4. stream\r\n   this.fieldsVectors.stream().forEach(vec -> fields.add(vec.getField()));\r\n   \r\n   The performance for each implementation:\r\n   1. for loop: 73.750 \u00b1 0.523  ns/op\r\n   2. iterator: 83.955 \u00b1 0.109  ns/op\r\n   3. forEach: 76.108 \u00b1 0.039  ns/op\r\n   4. stream: 105.367 \u00b1 2.749  ns/op \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-28T09:19:33.278+0000",
                    "updated": "2019-06-28T09:19:33.278+0000",
                    "started": "2019-06-28T09:19:33.277+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "269165",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/269224",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r298572770\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/VectorSchemaRoot.java\n ##########\n @@ -206,4 +206,18 @@ public String contentToTSVString() {\n     }\n     return sb.toString();\n   }\n+\n+  /**\n+   * Synchronizes the schema from the current vectors.\n+   * In some cases, the schema and the actual vector structure may be different.\n+   * This can be caused by a promoted writer (For details, please see\n+   * {@link org.apache.arrow.vector.complex.impl.PromotableWriter}).\n+   * For example, when writing different types of data to a {@link org.apache.arrow.vector.complex.ListVector}\n+   * may lead to such a case.\n+   * When this happens, this method should be called to bring the schema and vector structure in a synchronized state.\n+   */\n+  public void syncSchema() {\n \n Review comment:\n   I double checked https://arrow.apache.org/docs/ipc.html and it seems to indicate oinly one schema for a stream so we might not want to make this automatic (sorry not at my computer so can't see the code exactly)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-28T12:29:17.483+0000",
                    "updated": "2019-06-28T12:29:17.483+0000",
                    "started": "2019-06-28T12:29:17.482+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "269224",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/269950",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r298869576\n \n \n\n ##########\n File path: java/flight/src/main/java/org/apache/arrow/flight/FlightClient.java\n ##########\n @@ -188,6 +188,11 @@ public ClientStreamListener startPut(FlightDescriptor descriptor, VectorSchemaRo\n     ClientCallStreamObserver<ArrowMessage> observer = (ClientCallStreamObserver<ArrowMessage>)\n         ClientCalls.asyncBidiStreamingCall(\n             authInterceptor.interceptCall(doPutDescriptor, callOptions, channel), resultObserver);\n+\n+    // sync the schema from the vector structure,\n+    // so that the server side can restore the vector schema root correctly\n+    root.syncSchema();\n \n Review comment:\n   I think we should throw an exception here instead of trying to continue but i'm not sure of the flight model.  CC @lihalite \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-01T03:08:27.833+0000",
                    "updated": "2019-07-01T03:08:27.833+0000",
                    "started": "2019-07-01T03:08:27.832+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "269950",
                    "issueId": "13240551"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/worklog/269951",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #4689: ARROW-5658: [JAVA] Sync schema for VectorSchemaRoot\nURL: https://github.com/apache/arrow/pull/4689#discussion_r298869606\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/VectorSchemaRoot.java\n ##########\n @@ -215,9 +215,15 @@ public String contentToTSVString() {\n    * For example, when writing different types of data to a {@link org.apache.arrow.vector.complex.ListVector}\n    * may lead to such a case.\n    * When this happens, this method should be called to bring the schema and vector structure in a synchronized state.\n+   * @return true if the schema is updated, false otherwise.\n    */\n-  public void syncSchema() {\n-    List<Field> fields = this.fieldVectors.stream().map(ValueVector::getField).collect(Collectors.toList());\n-    this.schema = new Schema(fields);\n+  public boolean syncSchema() {\n+    List<Field> oldFields = this.schema.getFields();\n+    List<Field> newFields = this.fieldVectors.stream().map(ValueVector::getField).collect(Collectors.toList());\n+    if (!oldFields.equals(newFields)) {\n+      this.schema = new Schema(newFields);\n+      return true;\n+    }\n+    return false;\n \n Review comment:\n   could you add this to the test case.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-07-01T03:08:27.833+0000",
                    "updated": "2019-07-01T03:08:27.833+0000",
                    "started": "2019-07-01T03:08:27.833+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "269951",
                    "issueId": "13240551"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 19800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@36402ec2[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@19343840[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@42693fb8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@7a27f98d[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@71d69530[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@45c5cd12[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4e5aaeed[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@b74dd3a[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4e4ea671[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@25884ff7[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3e3eb06d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@138e279d[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 19800,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Jun 28 09:20:48 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-07-01T02:33:57.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5658/watchers",
            "watchCount": 4,
            "isWatching": false
        },
        "created": "2019-06-20T02:58:56.000+0000",
        "updated": "2019-07-03T04:51:41.000+0000",
        "timeoriginalestimate": null,
        "description": "I can't transfer using apache arrow-flihgt. Contains listvector data. The problem description is as follows:\r\n{quote} # I parse an xml file and convert it to an arrow format and finally convert it to a parquet data format. The address of the .xml file data is url [http://www.w3school.com.cn/example/xmle/cd_catalog.xml|http://www.w3school.com.cn/example/xmle/cd_catalog.xml)]\r\n # I created a schema that uses listvector.\r\ncode show as below:\r\nList<FiledVector> list = childrenBuilder.add(ListVector.empty(column.getId().toString(),allocator));\r\nVectorSchemaRoot root = VectorSchemaRoot.of(inVector)\r\n # Parse the xml file to get the list data in \"cd\". Use api use listvector.\r\n`ListVector listVector = (ListVector) valueVectors;\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0List<Column> columns = column.getColumns();\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Column column1 = columns.get(0);\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0String name = column1.getId().toString();\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0UnionListWriter writer = listVector.getWriter();\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Writer.allocate();\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0For (int j = 0; j < column1.getColumns().size();j++) {\r\n\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0writer.setPosition(j);\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0writer.startList();\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Writer.list().startList();\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Column column2 = column1.getColumns().get(j);\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0List<Map<String, String>> lst = (List<Map<String, String>>) ((Map) val).get(name);\r\n\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0For (int k = 0; k < lst.size(); k++) {\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Map<String, String> stringStringMap = lst.get(k);\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0String value = stringStringMap.get(column2.getId().toString());\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Switch (column2.getType()) {\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Case FLOAT:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Writer.list().float4().writeFloat4(stringConvertFloat(value));\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Break;\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Case BOOLEAN:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Writer.list().bit().writeBit(stringConvertBoolean(value));\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Break;\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Case DECIMAL:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Writer.list().decimal().writeDecimal(stringConvertDecimal(value,column2.getScale()));\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Break;\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Case TIMESTAMP:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Writer.list().dateMilli().writeDateMilli(stringConvertTimestamp(value,column2.format.toString()));\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Break;\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Case INTEGER:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Case BIGINT:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Writer.list().bigInt().writeBigInt(stringConvertLong(value));\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Break;\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Case VARCHAR:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0VarCharHolder varBinaryHolder = new VarCharHolder();\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0varBinaryHolder.start = 0;\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Byte[] bytes =value.getBytes();\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ArrowBuf buffer = listVector.getAllocator().buffer(bytes.length);\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0varBinaryHolder.buffer = buffer;\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0buffer.writeBytes(bytes);\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0varBinaryHolder.end=bytes.length;\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Writer.list().varChar().write(varBinaryHolder);\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Break;\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Default:\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Throw new IllegalArgumentException(\" error no type !!\");\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Writer.list().endList();\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0writer.endList();\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}`\r\n\r\n\u00a04.\u00a0\r\n\r\nAfter the write is complete, I will send to the arrow-flight server. server code :\r\n{quote}\r\n{quote}@Override\r\npublic Callable<Flight.PutResult> acceptPut(FlightStream flightStream) {\r\n\r\n return () -> {\r\n\r\n try (VectorSchemaRoot root = flightStream.getRoot()) {\r\n\r\n while (flightStream.next()) {\r\n VectorSchemaRoot other = null;\r\n try {\r\n logger.info(\" Receive message ...... size: \" + root.getRowCount());\r\n other = copyRoot(root);\r\n ArrowMessage arrowMessage = new ArrowMessage(other, other.getSchema());\r\n spmc.offer(arrowMessage);\r\n } catch (Exception e) {\r\n\r\n logger.error(e.getMessage(), e);\r\n }\r\n }\r\n }\r\n\r\n return Flight.PutResult.parseFrom(\"ok\".getBytes());\r\n };\r\n\r\n}{quote}\r\n{quote}\u00a0But the server did not receive any information.!! it is error .{quote}\r\n{quote}client code :{quote}\r\n{quote}root = message.getRoot();\r\n//client.close();\r\nFlightClient.ClientStreamListener listener =\r\n client.startPut(FlightDescriptor.path(message.getFilename()), root);\r\nlistener.putNext();\r\nlistener.completed();\r\nclient.close();\r\nlistener.putNext();\r\nlistener.completed();\r\nFlight.PutResult result =\r\n listener.getResult();\r\nString s = new String(result.toByteArray());\r\nSystem.out.println(s);{quote}",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "5.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 19800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12973014",
                "id": "12973014",
                "filename": "ClientStart.java",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                    "name": "liaotian1005",
                    "key": "liaotian1005",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                    },
                    "displayName": "luckily",
                    "active": true,
                    "timeZone": "Etc/UTC"
                },
                "created": "2019-06-27T01:40:06.673+0000",
                "size": 4748,
                "mimeType": "text/x-java-source",
                "content": "https://issues.apache.org/jira/secure/attachment/12973014/ClientStart.java"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12972847",
                "id": "12972847",
                "filename": "ClientStart.java",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                    "name": "fan_li_ya",
                    "key": "fan_li_ya",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                    },
                    "displayName": "Liya Fan",
                    "active": true,
                    "timeZone": "Asia/Shanghai"
                },
                "created": "2019-06-25T10:03:57.232+0000",
                "size": 3901,
                "mimeType": "text/x-java-source",
                "content": "https://issues.apache.org/jira/secure/attachment/12972847/ClientStart.java"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12972423",
                "id": "12972423",
                "filename": "ClientStart.java",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                    "name": "liaotian1005",
                    "key": "liaotian1005",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                    },
                    "displayName": "luckily",
                    "active": true,
                    "timeZone": "Etc/UTC"
                },
                "created": "2019-06-21T09:36:39.767+0000",
                "size": 3982,
                "mimeType": "text/x-java-source",
                "content": "https://issues.apache.org/jira/secure/attachment/12972423/ClientStart.java"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12972845",
                "id": "12972845",
                "filename": "image-2019-06-25-17-58-09-038.png",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                    "name": "fan_li_ya",
                    "key": "fan_li_ya",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                    },
                    "displayName": "Liya Fan",
                    "active": true,
                    "timeZone": "Asia/Shanghai"
                },
                "created": "2019-06-25T09:58:10.472+0000",
                "size": 4559,
                "mimeType": "image/png",
                "content": "https://issues.apache.org/jira/secure/attachment/12972845/image-2019-06-25-17-58-09-038.png"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12972846",
                "id": "12972846",
                "filename": "image-2019-06-25-17-59-07-352.png",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                    "name": "fan_li_ya",
                    "key": "fan_li_ya",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                    },
                    "displayName": "Liya Fan",
                    "active": true,
                    "timeZone": "Asia/Shanghai"
                },
                "created": "2019-06-25T09:59:10.303+0000",
                "size": 21064,
                "mimeType": "image/png",
                "content": "https://issues.apache.org/jira/secure/attachment/12972846/image-2019-06-25-17-59-07-352.png"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12972942",
                "id": "12972942",
                "filename": "image-2019-06-26-16-07-23-366.png",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                    "name": "liaotian1005",
                    "key": "liaotian1005",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                    },
                    "displayName": "luckily",
                    "active": true,
                    "timeZone": "Etc/UTC"
                },
                "created": "2019-06-26T08:07:25.988+0000",
                "size": 77175,
                "mimeType": "image/png",
                "content": "https://issues.apache.org/jira/secure/attachment/12972942/image-2019-06-26-16-07-23-366.png"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12972943",
                "id": "12972943",
                "filename": "image-2019-06-26-16-09-30-275.png",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                    "name": "liaotian1005",
                    "key": "liaotian1005",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                    },
                    "displayName": "luckily",
                    "active": true,
                    "timeZone": "Etc/UTC"
                },
                "created": "2019-06-26T08:09:32.736+0000",
                "size": 133059,
                "mimeType": "image/png",
                "content": "https://issues.apache.org/jira/secure/attachment/12972943/image-2019-06-26-16-09-30-275.png"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12973012",
                "id": "12973012",
                "filename": "image-2019-06-27-09-38-52-735.png",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                    "name": "liaotian1005",
                    "key": "liaotian1005",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                    },
                    "displayName": "luckily",
                    "active": true,
                    "timeZone": "Etc/UTC"
                },
                "created": "2019-06-27T01:38:55.914+0000",
                "size": 77722,
                "mimeType": "image/png",
                "content": "https://issues.apache.org/jira/secure/attachment/12973012/image-2019-06-27-09-38-52-735.png"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12973013",
                "id": "12973013",
                "filename": "image-2019-06-27-09-39-18-597.png",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                    "name": "liaotian1005",
                    "key": "liaotian1005",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                    },
                    "displayName": "luckily",
                    "active": true,
                    "timeZone": "Etc/UTC"
                },
                "created": "2019-06-27T01:39:21.212+0000",
                "size": 99540,
                "mimeType": "image/png",
                "content": "https://issues.apache.org/jira/secure/attachment/12973013/image-2019-06-27-09-39-18-597.png"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12972425",
                "id": "12972425",
                "filename": "pom.xml",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                    "name": "liaotian1005",
                    "key": "liaotian1005",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                    },
                    "displayName": "luckily",
                    "active": true,
                    "timeZone": "Etc/UTC"
                },
                "created": "2019-06-21T09:36:53.910+0000",
                "size": 3017,
                "mimeType": "text/xml",
                "content": "https://issues.apache.org/jira/secure/attachment/12972425/pom.xml"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12973053",
                "id": "12973053",
                "filename": "ServerStart.java",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                    "name": "fan_li_ya",
                    "key": "fan_li_ya",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                    },
                    "displayName": "Liya Fan",
                    "active": true,
                    "timeZone": "Asia/Shanghai"
                },
                "created": "2019-06-27T08:04:51.252+0000",
                "size": 2122,
                "mimeType": "text/x-java-source",
                "content": "https://issues.apache.org/jira/secure/attachment/12973053/ServerStart.java"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12973016",
                "id": "12973016",
                "filename": "ServerStart.java",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                    "name": "liaotian1005",
                    "key": "liaotian1005",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                    },
                    "displayName": "luckily",
                    "active": true,
                    "timeZone": "Etc/UTC"
                },
                "created": "2019-06-27T01:40:20.517+0000",
                "size": 2706,
                "mimeType": "text/x-java-source",
                "content": "https://issues.apache.org/jira/secure/attachment/12973016/ServerStart.java"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12973015",
                "id": "12973015",
                "filename": "ServerStart.java",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                    "name": "liaotian1005",
                    "key": "liaotian1005",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                    },
                    "displayName": "luckily",
                    "active": true,
                    "timeZone": "Etc/UTC"
                },
                "created": "2019-06-27T01:40:06.922+0000",
                "size": 2706,
                "mimeType": "text/x-java-source",
                "content": "https://issues.apache.org/jira/secure/attachment/12973015/ServerStart.java"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/12972424",
                "id": "12972424",
                "filename": "ServerStart.java",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                    "name": "liaotian1005",
                    "key": "liaotian1005",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                    },
                    "displayName": "luckily",
                    "active": true,
                    "timeZone": "Etc/UTC"
                },
                "created": "2019-06-21T09:36:40.085+0000",
                "size": 2216,
                "mimeType": "text/x-java-source",
                "content": "https://issues.apache.org/jira/secure/attachment/12972424/ServerStart.java"
            }
        ],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[JAVA] Provide ability to resync VectorSchemaRoot if types change",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": "java8 arrow-java 0.13.0",
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16868294",
                    "id": "16868294",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "body": "Hi [~liaotian1005] thanks a lot for reporting the problem and the detailed information.\r\n\r\nI am not familiar with arrow-flight, but will take a look at this issue.\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "created": "2019-06-20T06:43:46.179+0000",
                    "updated": "2019-06-20T06:43:46.179+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16868319",
                    "id": "16868319",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=emkornfield%40gmail.com",
                        "name": "emkornfield@gmail.com",
                        "key": "emkornfield@gmail.com",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Micah Kornfield",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "What is message defined as in the code above?  It seems like parquet might be complicating the matters, did you try creating a simple in memory Vector to send? ",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=emkornfield%40gmail.com",
                        "name": "emkornfield@gmail.com",
                        "key": "emkornfield@gmail.com",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Micah Kornfield",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-20T07:43:55.274+0000",
                    "updated": "2019-06-20T07:43:55.274+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16869172",
                    "id": "16869172",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "body": "Hi [~liaotian1005], so far I have failed to reproduce the problem.\r\n\r\nWould you please provide more code\u00a0to\u00a0reproduce the problem? Maybe you can upload the related code to github?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "created": "2019-06-21T04:26:54.593+0000",
                    "updated": "2019-06-21T04:26:54.593+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16869344",
                    "id": "16869344",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Hi\u00a0[~fan_li_ya]\u00a0 I've written an example about the error, in the attachment, I put forward my opinion, whether the list write the varchar data is too much trouble, how to use the list, whether to give a detailed document, whether to support the ListVector <Structure Vector>, this general structure, if this structure does not support the image xml. And the json file format is converted to a row format. Thank you.\u00a0I've written an example about the error, in the attachment, I put forward my opinion, whether the list write the varchar data is too much trouble, how to use the list, whether to give a detailed document, whether to support the ListVector <Structure Vector>, this general structure, if this structure does not support the xml file. And the json file format is not converted to a\u00a0arrow format . Thank you.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-21T09:39:33.956+0000",
                    "updated": "2019-06-21T09:43:59.524+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16869346",
                    "id": "16869346",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Exception in thread \"main\" java.lang.RuntimeException: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNKNOWN\r\n at com.google.common.base.Throwables.propagate(Throwables.java:241)\r\n at org.apache.arrow.flight.FlightClient$PutObserver.getResult(FlightClient.java:244)\r\n at ClientStart.main(ClientStart.java:45)\r\nCaused by: java.util.concurrent.ExecutionException: io.grpc.StatusRuntimeException: UNKNOWN\r\n at com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:528)\r\n at com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:509)\r\n at com.google.common.util.concurrent.AbstractFuture$TrustedFuture.get(AbstractFuture.java:85)\r\n at org.apache.arrow.flight.FlightClient$PutObserver.getResult(FlightClient.java:242)\r\n ... 1 more\r\nCaused by: io.grpc.StatusRuntimeException: UNKNOWN\r\n at io.grpc.Status.asRuntimeException(Status.java:526)\r\n at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:420)\r\n at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\r\n at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\r\n at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\r\n at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:684)\r\n at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\r\n at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\r\n at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\r\n at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:403)\r\n at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:459)\r\n at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:63)\r\n at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:546)\r\n at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$600(ClientCallImpl.java:467)\r\n at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:584)\r\n at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\r\n at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n at java.lang.Thread.run(Thread.java:748)",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-21T09:40:52.599+0000",
                    "updated": "2019-06-21T09:40:52.599+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16869421",
                    "id": "16869421",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "[~liaotian1005], generally UNKNOWN means that there was an uncaught server-side exception. Do you see any traceback in the server output? If not, then we need to log these things inside Flight.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-06-21T11:58:07.941+0000",
                    "updated": "2019-06-21T11:58:07.941+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16870732",
                    "id": "16870732",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "[~lidavidm]\u00a0,The flight server does not receive any messages, nor does it have an error message prompt",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-24T01:14:41.467+0000",
                    "updated": "2019-06-24T01:14:41.467+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16870734",
                    "id": "16870734",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "[~lidavidm],arrow stream api cannot send listvector too",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-24T01:29:42.751+0000",
                    "updated": "2019-06-24T01:29:42.751+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16871023",
                    "id": "16871023",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "body": "[~liaotian1005] thanks for the additional information.\r\n\r\nWe have found the root cause, and is in the process of fixing it. The problem seems to be with the serialization/deserizlization process.\u00a0\r\n\r\nWhen there is any progress, we will let you know about it.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "created": "2019-06-24T09:46:52.920+0000",
                    "updated": "2019-06-24T09:46:52.920+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16872219",
                    "id": "16872219",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "body": "[~liaotian1005] we have found the reason for the failure.\r\n\r\nIt is caused by inconsistent schema for VectorSchemaRoot.\r\n\r\nIn particular, the schema looks like this at the beginning:\r\n\r\n!image-2019-06-25-17-58-09-038.png!\r\n\r\nAs new data are inserted to the vector,\u00a0vector structure changes to something like this:\r\n\r\n!image-2019-06-25-17-59-07-352.png!\r\n\r\nThe change is due to a mechanism named writer promotion. For details, please see class\u00a0PromotableWriter.\r\n\r\nIn the client side, the new vector structure is sent along with the obsolete schema. In the server side, the code tries to decode the vector structure with the out-of-date schema, so it fails, without printing any output.\u00a0\r\n\r\n\u00a0\r\n\r\nOur solution is to provide a method in class VectorSchemaRoot, which brings the schema in sync with the vector structure.\u00a0So to fix the problem in your code, simply call this method after the data is inserted. Please see the modified code here:\u00a0[^ClientStart.java]\r\n\r\n\u00a0\r\n\r\n\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "created": "2019-06-25T10:04:23.283+0000",
                    "updated": "2019-06-25T10:04:23.283+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16873046",
                    "id": "16873046",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "I've got a new problem, that's the loss of data.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-26T08:04:21.863+0000",
                    "updated": "2019-06-26T08:04:21.863+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16873055",
                    "id": "16873055",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "[~fan_li_ya]\r\n\r\nI've got a new problem, that's the loss of data.\r\n\r\nI created a ListVector.. There are six index. in the data. Data such as the xml file mentioned above. There are six columns.\r\n\r\n!image-2019-06-26-16-07-23-366.png!\r\n\r\nAfter I send the data, the server can only receive the data with the index of 0, and the other index locations are all missing.\r\n\r\n!image-2019-06-26-16-09-30-275.png!\r\n\r\n\u00a0\r\n\r\n\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-26T08:09:44.372+0000",
                    "updated": "2019-06-26T08:09:44.372+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16873060",
                    "id": "16873060",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Hi LiyaFan\u00a0\r\n\r\nI need to do an asynchronous process to prevent the IO thread from blocking. In many cases, the row data is not immediately processed, placed in an asynchronous queue, but cannot be placed directly. It is necessary to create a same container, if there is such an api, you can copy Root once, Create a same data",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-26T08:13:31.408+0000",
                    "updated": "2019-06-26T08:13:31.408+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16873076",
                    "id": "16873076",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Hi LiyaFan\u00a0\r\n\r\ni pull you code\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-26T08:26:54.606+0000",
                    "updated": "2019-06-26T08:26:54.606+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16873138",
                    "id": "16873138",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "body": "Hi [~liaotian1005], please check if our patch fixes your new problem. If not,\u00a0it may be appropriate to open a separate Jira to track it.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "created": "2019-06-26T09:29:24.640+0000",
                    "updated": "2019-06-26T09:29:24.640+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16873163",
                    "id": "16873163",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Hi Liya Fan,\r\n\r\nThank you for repairing. Now i can send ListVector, but introduce new problems.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-26T09:52:52.936+0000",
                    "updated": "2019-06-26T09:54:58.435+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16873179",
                    "id": "16873179",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Data url\u00a0[http://www.w3school.com.cn/example/xmle/cd_catalog.xml]\u00a0 \u00a0cd.xml.\u00a0\r\n\r\nI write the data in url to a VectorSchemaRoot, to look at this file from a global point of view. Is a piece of data, one of which includes a list,list. The number of bars is 24 (bars). The index is 6 (6 columns). So I send the data when the parsing is complete. VectorSchemaRoot.setvalueCount (1) listvector.setValueCount (6), but I didn't accept listVector data on the server. At the same time, I found out. When VectorSchemaRoot.setvalueCount (6), the server can accept the complete listVector data. But from a global point of view, there is only one, so I call VectorSchemaRoot.setvalueCount (1), but the server does not accept the data. Despite the use of listvector.setValueCount (6), why does the server receive data when VectorSchemaRoot.setvalueCount (6) is used?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-26T10:02:02.117+0000",
                    "updated": "2019-06-26T10:02:02.117+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16873269",
                    "id": "16873269",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "body": "Hi [~liaotian1005], I don't quite understand the new problem.\r\n\r\nWould you please provide the code to reproduce the problem?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "created": "2019-06-26T11:57:48.468+0000",
                    "updated": "2019-06-26T11:57:48.468+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16873747",
                    "id": "16873747",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "hi [~fan_li_ya]\u00a0 ,Why when using root.setRowCount (3), the server can accept the complete data. When using root.setRowCount (2) or root.setRowCount (1). The server did not receive the complete data,\u00a0Why setRowCount this api determines whether the listat can accept the full data?\r\n\r\n!image-2019-06-27-09-38-52-735.png!\r\n\r\nserver\u00a0\r\n\r\n!image-2019-06-27-09-39-18-597.png!\r\n\r\n\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-27T01:39:27.559+0000",
                    "updated": "2019-06-27T01:39:27.559+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16873902",
                    "id": "16873902",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "body": "Hi [~liaotian1005], thanks for the additional information.\r\n\r\nI did not reproduce the problem as described by you. When I set the row count to 1, 2 or 3,\u00a0the server could\u00a0receive the\u00a0record batch correctly:\r\n\r\nWhen row count was set to 1, the server receives the batch with only 1 row, and the second row is truncated.\r\n\r\nWhen row count was set to 2, the server receives the batch with 2 rows, as\u00a02 rows were sent from the client.\r\n\r\nWhen row count was set to 3, the server receives the batch with 3 rows, but the 3rd row is null, as\u00a0there were only 2 rows from the client side.\u00a0\r\n\r\nThe above results should be as expected.\r\n\r\nTo help you reproduce the above results, I have attached the code for my server side. Would you please try it?\u00a0[^ServerStart.java]\r\n\r\n\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "created": "2019-06-27T08:04:57.911+0000",
                    "updated": "2019-06-27T09:40:02.060+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16874580",
                    "id": "16874580",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "SetRowCount determines that list can get index data?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-28T00:56:14.608+0000",
                    "updated": "2019-06-28T00:56:14.608+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16874600",
                    "id": "16874600",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "body": "SetRowCount determines the\u00a0range of indices that can be used without causing an IndexOutOfBoundException",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "created": "2019-06-28T02:31:55.380+0000",
                    "updated": "2019-06-28T02:31:55.380+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16874656",
                    "id": "16874656",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "I have two vector, one is varchar, the other is list.. Assuming that varchar has two pieces of data and list has three postion, how much rowcount should be set?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-28T04:13:30.945+0000",
                    "updated": "2019-06-28T04:13:30.945+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16874659",
                    "id": "16874659",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "I don't think the data in position in listvector should have anything to do with rowcount.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=liaotian1005",
                        "name": "liaotian1005",
                        "key": "liaotian1005",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=liaotian1005&avatarId=39199",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=liaotian1005&avatarId=39199",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=liaotian1005&avatarId=39199",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=liaotian1005&avatarId=39199"
                        },
                        "displayName": "luckily",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2019-06-28T04:16:00.487+0000",
                    "updated": "2019-06-28T04:16:00.487+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13240551/comment/16874801",
                    "id": "16874801",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "body": "[~liaotian1005] we have changed the code to automatically update the schema, so you do not need to call syncSchema in your code.\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "created": "2019-06-28T09:20:48.167+0000",
                    "updated": "2019-06-28T09:20:48.167+0000"
                }
            ],
            "maxResults": 25,
            "total": 25,
            "startAt": 0
        },
        "customfield_12311820": "0|z03x9s:",
        "customfield_12314139": null
    }
}