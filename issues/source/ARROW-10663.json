{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13341765",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765",
    "key": "ARROW-10663",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12348823",
                "id": "12348823",
                "description": "",
                "name": "3.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-01-25"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
            "name": "apitrou",
            "key": "pitrou",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
            },
            "displayName": "Antoine Pitrou",
            "active": true,
            "timeZone": "Europe/Paris"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
            "name": "jorisvandenbossche",
            "key": "jorisvandenbossche",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Joris Van den Bossche",
            "active": true,
            "timeZone": "Europe/Brussels"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
            "name": "jorisvandenbossche",
            "key": "jorisvandenbossche",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Joris Van den Bossche",
            "active": true,
            "timeZone": "Europe/Brussels"
        },
        "aggregateprogress": {
            "progress": 8400,
            "total": 8400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 8400,
            "total": 8400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-10663/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 14,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/worklog/534466",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou opened a new pull request #9164:\nURL: https://github.com/apache/arrow/pull/9164\n\n\n   * Reject duplicates in SetLookupOptions::value_set, because otherwise the indices returned by index_in would be relative to a deduplicated value_set.\r\n   \r\n   * Honour SetLookup::skip_nulls in is_in.\r\n   \r\n   * Revamp tests.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-01-11T19:17:53.873+0000",
                    "updated": "2021-01-11T19:17:53.873+0000",
                    "started": "2021-01-11T19:17:53.873+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "534466",
                    "issueId": "13341765"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/worklog/534527",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9164:\nURL: https://github.com/apache/arrow/pull/9164#issuecomment-758214764\n\n\n   https://issues.apache.org/jira/browse/ARROW-10663\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-01-11T20:50:28.501+0000",
                    "updated": "2021-01-11T20:50:28.501+0000",
                    "started": "2021-01-11T20:50:28.500+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "534527",
                    "issueId": "13341765"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/worklog/534850",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on a change in pull request #9164:\nURL: https://github.com/apache/arrow/pull/9164#discussion_r555650652\n\n\n\n##########\nFile path: cpp/src/arrow/compute/api_scalar.h\n##########\n@@ -290,17 +290,19 @@ Result<Datum> KleeneAndNot(const Datum& left, const Datum& right,\n /// \\brief IsIn returns true for each element of `values` that is contained in\n /// `value_set`\n ///\n-/// If null occurs in left, if null count in right is not 0,\n-/// it returns true, else returns null.\n+/// Behaviour of nulls is governed by SetLookupOptions::skip_nulls.\n\nReview comment:\n       Also, could maybe add a similar sentence \"Behaviour of nulls is governed by SetLookupOptions::skip_nulls\" to the `is_in_doc` ?\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_set_lookup.cc\n##########\n@@ -272,10 +278,9 @@ struct IsInVisitor {\n \n   Status Visit(const DataType&) {\n     const auto& state = checked_cast<const SetLookupState<NullType>&>(*ctx->state());\n+    // XXX should skip_nulls be taken into account?\n\nReview comment:\n       It's a bit strange corner case, but for consistency probably yes? \r\n   \r\n   Right now for null array the skip_nulls argument has no effect (using this PR):\r\n   \r\n   ```\r\n   In [27]: pc.is_in(pa.array([None]), value_set=pa.array([None]), skip_null=False)\r\n   Out[27]: \r\n   <pyarrow.lib.BooleanArray object at 0x7fac1d800880>\r\n   [\r\n     true\r\n   ]\r\n   \r\n   In [28]: pc.is_in(pa.array([None]), value_set=pa.array([None]), skip_null=True)\r\n   Out[28]: \r\n   <pyarrow.lib.BooleanArray object at 0x7fac1d800ca0>\r\n   [\r\n     true\r\n   ]\r\n   ```\r\n   while if you add a non-null type to the array creation, but use the same values, you get a different result:\r\n   \r\n   ```\r\n   In [30]: pc.is_in(pa.array([None], type=\"int64\"), value_set=pa.array([None], type=\"int64\"), skip_null=False)\r\n   Out[30]: \r\n   <pyarrow.lib.BooleanArray object at 0x7fac1d82f880>\r\n   [\r\n     true\r\n   ]\r\n   \r\n   In [31]: pc.is_in(pa.array([None], type=\"int64\"), value_set=pa.array([None], type=\"int64\"), skip_null=True)\r\n   Out[31]: \r\n   <pyarrow.lib.BooleanArray object at 0x7fac1d7c2040>\r\n   [\r\n     false\r\n   ]\r\n   ```\n\n##########\nFile path: cpp/src/arrow/compute/api_scalar.h\n##########\n@@ -290,17 +290,19 @@ Result<Datum> KleeneAndNot(const Datum& left, const Datum& right,\n /// \\brief IsIn returns true for each element of `values` that is contained in\n /// `value_set`\n ///\n-/// If null occurs in left, if null count in right is not 0,\n-/// it returns true, else returns null.\n+/// Behaviour of nulls is governed by SetLookupOptions::skip_nulls.\n\nReview comment:\n       Could mention here that the default is `skip_nulls=False` (or in the docstring of SetLookupOptions)?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-01-12T13:55:39.065+0000",
                    "updated": "2021-01-12T13:55:39.065+0000",
                    "started": "2021-01-12T13:55:39.065+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "534850",
                    "issueId": "13341765"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/worklog/534852",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on pull request #9164:\nURL: https://github.com/apache/arrow/pull/9164#issuecomment-758671039\n\n\n   Thanks for the PR! \r\n   One additional thing I am wondering, while testing it out, would we ever want a behaviour where a null in the input gives a null in the output? Right now it's only possible to get `\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-01-12T13:57:07.750+0000",
                    "updated": "2021-01-12T13:57:07.750+0000",
                    "started": "2021-01-12T13:57:07.750+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "534852",
                    "issueId": "13341765"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/worklog/534856",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche edited a comment on pull request #9164:\nURL: https://github.com/apache/arrow/pull/9164#issuecomment-758671039\n\n\n   Thanks for the PR! \r\n   One additional thing I am wondering, while testing it out, would we ever want a behaviour where a `null` in the input gives a `null` in the output? Right now it's only possible to get `false` (if there is no null in the value_set, or if skip_nulls=True) or `true` (if there is a null in the value_set and skip_nulls=False).\r\n   \r\n   So something like `isin([1, 2, null], value_set=[1, 3]) -> [true, false, null]`\r\n   \r\n   If you see \"isin\"  as a shortcut to write multiple equality comparisons (`isin(input, value_set=[1, 3, ...]` -> `(input == 1) | (input == 3) | ...`), then you would get such behaviour. \r\n   But so it's a bit the question whether for \"isin\" we use \"equality\" semantics or \"identity/lookup\" semantics for nulls (and given it's now called \"SetLookup\" in the function names, we clearly go for the second, but I am not fully sure which of the two are most useful / expected in practice).\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-01-12T14:02:16.972+0000",
                    "updated": "2021-01-12T14:02:16.972+0000",
                    "started": "2021-01-12T14:02:16.972+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "534856",
                    "issueId": "13341765"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/worklog/534861",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #9164:\nURL: https://github.com/apache/arrow/pull/9164#discussion_r555793625\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_set_lookup.cc\n##########\n@@ -272,10 +278,9 @@ struct IsInVisitor {\n \n   Status Visit(const DataType&) {\n     const auto& state = checked_cast<const SetLookupState<NullType>&>(*ctx->state());\n+    // XXX should skip_nulls be taken into account?\n\nReview comment:\n       Good point. \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-01-12T14:07:00.095+0000",
                    "updated": "2021-01-12T14:07:00.095+0000",
                    "started": "2021-01-12T14:07:00.095+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "534861",
                    "issueId": "13341765"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/worklog/534863",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #9164:\nURL: https://github.com/apache/arrow/pull/9164#issuecomment-758677360\n\n\n   @jorisvandenbossche  I have no idea. Perhaps @bkietz or @michalursa can share their opinion.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-01-12T14:07:48.365+0000",
                    "updated": "2021-01-12T14:07:48.365+0000",
                    "started": "2021-01-12T14:07:48.364+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "534863",
                    "issueId": "13341765"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/worklog/534866",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche edited a comment on pull request #9164:\nURL: https://github.com/apache/arrow/pull/9164#issuecomment-758671039\n\n\n   Thanks for the PR! \r\n   One additional thing I am wondering, while testing it out, would we ever want a behaviour where a `null` in the input gives a `null` in the output? Right now it's only possible to get `false` (if there is no null in the value_set, or if skip_nulls=True) or `true` (if there is a null in the value_set and skip_nulls=False).\r\n   \r\n   So something like `isin([1, 2, null], value_set=[1, 3]) -> [true, false, null]` (instead of true, false, false)\r\n   \r\n   If you see \"isin\"  as a shortcut to write multiple equality comparisons (`isin(input, value_set=[1, 3, ...]` -> `(input == 1) | (input == 3) | ...`), then you would get such behaviour. \r\n   But so it's a bit the question whether for \"isin\" we use \"equality\" semantics or \"identity/lookup\" semantics for nulls (and given it's now called \"SetLookup\" in the function names, we clearly go for the second, but I am not fully sure which of the two are most useful / expected in practice).\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-01-12T14:11:56.297+0000",
                    "updated": "2021-01-12T14:11:56.297+0000",
                    "started": "2021-01-12T14:11:56.296+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "534866",
                    "issueId": "13341765"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/worklog/534868",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on pull request #9164:\nURL: https://github.com/apache/arrow/pull/9164#issuecomment-758682512\n\n\n   Looking at the behavior of `%in%` in R (cc @nealrichardson), there NA's also get matched (eg `c(1, 2, NA) %in% c(1, 3)` gives true,false,false and `c(1, 2, NA) %in% c(1, 3, NA)` gives true,false,true), so that is consistent with the behaviour we have in Arrow right now. \r\n   \r\n   The SQL `IN` operator does not seem to match Nulls, because there it is a short-hand for multiple comparisons. But, in practice, you can only use this (as far as I know, only limited SQL knowledge) in a WHERE clause. So whether the Null in the column gives False or Null doesn't matter much, because in both cases the row does not get preserved in a WHERE filter. \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-01-12T14:16:09.846+0000",
                    "updated": "2021-01-12T14:16:09.846+0000",
                    "started": "2021-01-12T14:16:09.846+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "534868",
                    "issueId": "13341765"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/worklog/534870",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on pull request #9164:\nURL: https://github.com/apache/arrow/pull/9164#issuecomment-758683097\n\n\n   (BTW, since this is existing behaviour, and this PR doesn't change that, that should certainly not hold up this PR, and should probably move the discussion to a JIRA)\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-01-12T14:17:07.230+0000",
                    "updated": "2021-01-12T14:17:07.230+0000",
                    "started": "2021-01-12T14:17:07.230+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "534870",
                    "issueId": "13341765"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/worklog/534953",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on a change in pull request #9164:\nURL: https://github.com/apache/arrow/pull/9164#discussion_r555954700\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_set_lookup.cc\n##########\n@@ -36,53 +36,59 @@ namespace {\n \n template <typename Type>\n struct SetLookupState : public KernelState {\n-  explicit SetLookupState(MemoryPool* pool)\n-      : lookup_table(pool, 0), lookup_null_count(0) {}\n+  explicit SetLookupState(const SetLookupOptions& options, MemoryPool* pool)\n+      : options(options), lookup_table(pool, 0) {}\n \n-  Status Init(const SetLookupOptions& options) {\n+  Status Init() {\n+    if (options.value_set.kind() == Datum::ARRAY) {\n+      RETURN_NOT_OK(AddArrayValueSet(*options.value_set.array()));\n+    } else if (options.value_set.kind() == Datum::CHUNKED_ARRAY) {\n+      const ChunkedArray& value_set = *options.value_set.chunked_array();\n+      for (const std::shared_ptr<Array>& chunk : value_set.chunks()) {\n\nReview comment:\n       We have a lot of code like this, maybe later we should add `Datum::chunks()` so we can write\r\n   ```c++\r\n   if (!options.values_set.is_arraylike()) {\r\n     return Status::Invalid(\"value_set should be an array or chunked array\");\r\n   }\r\n   for (const std::shared_ptr<ArrayData>& chunk : options.value_set.chunks()) {\r\n     RETURN_NOT_OK(AddArrayValueSet(*chunk->data()));\r\n   }\r\n   ```\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-01-12T17:46:42.803+0000",
                    "updated": "2021-01-12T17:46:42.803+0000",
                    "started": "2021-01-12T17:46:42.803+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "534953",
                    "issueId": "13341765"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/worklog/534956",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #9164:\nURL: https://github.com/apache/arrow/pull/9164#discussion_r555961225\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_set_lookup.cc\n##########\n@@ -36,53 +36,59 @@ namespace {\n \n template <typename Type>\n struct SetLookupState : public KernelState {\n-  explicit SetLookupState(MemoryPool* pool)\n-      : lookup_table(pool, 0), lookup_null_count(0) {}\n+  explicit SetLookupState(const SetLookupOptions& options, MemoryPool* pool)\n+      : options(options), lookup_table(pool, 0) {}\n \n-  Status Init(const SetLookupOptions& options) {\n+  Status Init() {\n+    if (options.value_set.kind() == Datum::ARRAY) {\n+      RETURN_NOT_OK(AddArrayValueSet(*options.value_set.array()));\n+    } else if (options.value_set.kind() == Datum::CHUNKED_ARRAY) {\n+      const ChunkedArray& value_set = *options.value_set.chunked_array();\n+      for (const std::shared_ptr<Array>& chunk : value_set.chunks()) {\n\nReview comment:\n       If we're not too bothered by the cost of a temporary vector then it may be nice indeed.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-01-12T17:48:33.045+0000",
                    "updated": "2021-01-12T17:48:33.045+0000",
                    "started": "2021-01-12T17:48:33.045+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "534956",
                    "issueId": "13341765"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/worklog/534957",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #9164:\nURL: https://github.com/apache/arrow/pull/9164#issuecomment-758829080\n\n\n   The CI failure are spurious. Green Travis-CI build: https://travis-ci.com/github/pitrou/arrow/builds/212852090\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-01-12T17:49:58.619+0000",
                    "updated": "2021-01-12T17:49:58.619+0000",
                    "started": "2021-01-12T17:49:58.618+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "534957",
                    "issueId": "13341765"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/worklog/534958",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou closed pull request #9164:\nURL: https://github.com/apache/arrow/pull/9164\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-01-12T17:50:25.245+0000",
                    "updated": "2021-01-12T17:50:25.245+0000",
                    "started": "2021-01-12T17:50:25.244+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "534958",
                    "issueId": "13341765"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 8400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@1aa34b9e[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2c190372[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6a170bf[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@6247e18a[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1d1b1283[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@6a90c14d[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@67b96028[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@3a2f96e4[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7f650428[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@13133820[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3f07b24a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@79599bf8[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 8400,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Jan 12 17:50:15 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-01-12T17:50:15.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-10663/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2020-11-20T10:44:21.000+0000",
        "updated": "2021-01-12T17:50:26.000+0000",
        "timeoriginalestimate": null,
        "description": "The C++ docs of {{SetLookupOptions}} has this explanation of the {{skip_nulls}} option:\r\n\r\n{code}\r\n  /// Whether nulls in `value_set` count for lookup.\r\n  ///\r\n  /// If true, any null in `value_set` is ignored and nulls in the input\r\n  /// produce null (IndexIn) or false (IsIn) values in the output.\r\n  /// If false, any null in `value_set` is successfully matched in\r\n  /// the input.\r\n  bool skip_nulls;\r\n{code}\r\n\r\n(from https://github.com/apache/arrow/blob/8b9f6b9d28b4524724e60fac589fb1a3552a32b4/cpp/src/arrow/compute/api_scalar.h#L78-L84)\r\n\r\nHowever, for {{IsIn}} this explanation doesn't seem to hold in practice:\r\n\r\n{code}\r\nIn [16]: arr = pa.array([1, 2, None])\r\n\r\nIn [17]: pc.is_in(arr, value_set=pa.array([1, None]), skip_null=True)\r\nOut[17]: \r\n<pyarrow.lib.BooleanArray object at 0x7fcf666f9408>\r\n[\r\n  true,\r\n  false,\r\n  true\r\n]\r\n\r\nIn [18]: pc.is_in(arr, value_set=pa.array([1, None]), skip_null=False)\r\nOut[18]: \r\n<pyarrow.lib.BooleanArray object at 0x7fcf666b13a8>\r\n[\r\n  true,\r\n  false,\r\n  true\r\n]\r\n{code}\r\n\r\nThis documentation was added in https://github.com/apache/arrow/pull/7695 (ARROW-8989)/\r\n.\r\n\r\nBTW, for \"index_in\", it works as documented:\r\n\r\n{code}\r\nIn [19]: pc.index_in(arr, value_set=pa.array([1, None]), skip_null=True)\r\nOut[19]: \r\n<pyarrow.lib.Int32Array object at 0x7fcf666f04c8>\r\n[\r\n  0,\r\n  null,\r\n  null\r\n]\r\n\r\nIn [20]: pc.index_in(arr, value_set=pa.array([1, None]), skip_null=False)\r\nOut[20]: \r\n<pyarrow.lib.Int32Array object at 0x7fcf666f0ee8>\r\n[\r\n  0,\r\n  null,\r\n  1\r\n]\r\n{code}",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 8400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++/Doc] The IsIn kernel ignores the skip_nulls option of SetLookupOptions",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/comment/17236064",
                    "id": "17236064",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
                        "name": "jorisvandenbossche",
                        "key": "jorisvandenbossche",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Joris Van den Bossche",
                        "active": true,
                        "timeZone": "Europe/Brussels"
                    },
                    "body": "The original PR adding it seems to have documented a different behaviour at the time (https://github.com/apache/arrow/pull/4235/files#diff-fc156499f9e4a75e0ef2d7e83b390f68e833cfa46c164cd0b4542af10a0337e2R35-R36) (\"If null occurs in left, if null count in right is not 0, it returns true, else returns null.\").\r\n\r\n-But what I don't understand is that this still seems to be tested that way for the {{IsIn}} function:- https://github.com/apache/arrow/blob/8b9f6b9d28b4524724e60fac589fb1a3552a32b4/cpp/src/arrow/compute/kernels/scalar_set_lookup_test.cc#L107-L111 \r\nCorrection: the test I linked to was for only nulls in the left array, and so that's also how it works in Python (my example above is about nulls in both left and right array).\r\n\r\nSo in summary:\r\n\r\n- The _default_ behaviour is to return True for nulls if a null is also present in the right array, and otherwise to return null. So the doc comment in {{api_scalar.h}} is wrong about returning False when nulls in the right are not considered (skipped or not present).\r\n- In addition, the keyword itself is still ignored (I suppose it was only implemented for IndexIn, not IsIn)",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
                        "name": "jorisvandenbossche",
                        "key": "jorisvandenbossche",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Joris Van den Bossche",
                        "active": true,
                        "timeZone": "Europe/Brussels"
                    },
                    "created": "2020-11-20T10:57:15.053+0000",
                    "updated": "2020-11-20T11:37:42.823+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13341765/comment/17263559",
                    "id": "17263559",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 9164\n[https://github.com/apache/arrow/pull/9164]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-01-12T17:50:15.371+0000",
                    "updated": "2021-01-12T17:50:15.371+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z0ksaw:",
        "customfield_12314139": null
    }
}