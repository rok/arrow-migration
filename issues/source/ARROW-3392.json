{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13188579",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188579",
    "key": "ARROW-3392",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343066",
                "id": "12343066",
                "description": "",
                "name": "0.11.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-10-08"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
            "name": "uwe",
            "key": "xhochy",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
            },
            "displayName": "Uwe Korn",
            "active": true,
            "timeZone": "Europe/Berlin"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
            "name": "uwe",
            "key": "xhochy",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
            },
            "displayName": "Uwe Korn",
            "active": true,
            "timeZone": "Europe/Berlin"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
            "name": "uwe",
            "key": "xhochy",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
            },
            "displayName": "Uwe Korn",
            "active": true,
            "timeZone": "Europe/Berlin"
        },
        "aggregateprogress": {
            "progress": 4800,
            "total": 4800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 4800,
            "total": 4800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3392/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 8,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188579/worklog/150076",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy opened a new pull request #2677: ARROW-3392: [Python]\u00a0Support filters in disjunctive normal form in ParquetDataset\nURL: https://github.com/apache/arrow/pull/2677\n \n \n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-01T16:31:43.866+0000",
                    "updated": "2018-10-01T16:31:43.866+0000",
                    "started": "2018-10-01T16:31:43.865+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "150076",
                    "issueId": "13188579"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188579/worklog/150077",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy commented on issue #2677: ARROW-3392: [Python]\u00a0Support filters in disjunctive normal form in ParquetDataset\nURL: https://github.com/apache/arrow/pull/2677#issuecomment-425973774\n \n \n   cc @rgruener \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-01T16:31:52.611+0000",
                    "updated": "2018-10-01T16:31:52.611+0000",
                    "started": "2018-10-01T16:31:52.611+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "150077",
                    "issueId": "13188579"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188579/worklog/150317",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy commented on issue #2677: ARROW-3392: [Python]\u00a0Support filters in disjunctive normal form in ParquetDataset\nURL: https://github.com/apache/arrow/pull/2677#issuecomment-426191766\n \n \n   This hits https://github.com/pandas-dev/pandas/pull/21688 with Pandas 0.23.x\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-02T08:28:36.467+0000",
                    "updated": "2018-10-02T08:28:36.467+0000",
                    "started": "2018-10-02T08:28:36.466+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "150317",
                    "issueId": "13188579"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188579/worklog/150322",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #2677: ARROW-3392: [Python]\u00a0Support filters in disjunctive normal form in ParquetDataset\nURL: https://github.com/apache/arrow/pull/2677#issuecomment-426207914\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/2677?src=pr&el=h1) Report\n   > Merging [#2677](https://codecov.io/gh/apache/arrow/pull/2677?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/1c7bded2323e5e892fd4a0b721f14ef6793437e2?src=pr&el=desc) will **increase** coverage by `1.01%`.\n   > The diff coverage is `97.72%`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/2677/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/2677?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #2677      +/-   ##\n   ==========================================\n   + Coverage    87.5%   88.51%   +1.01%     \n   ==========================================\n     Files         403      342      -61     \n     Lines       61346    57580    -3766     \n   ==========================================\n   - Hits        53678    50966    -2712     \n   + Misses       7598     6614     -984     \n   + Partials       70        0      -70\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/2677?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [python/pyarrow/tests/test\\_parquet.py](https://codecov.io/gh/apache/arrow/pull/2677/diff?src=pr&el=tree#diff-cHl0aG9uL3B5YXJyb3cvdGVzdHMvdGVzdF9wYXJxdWV0LnB5) | `97.48% <100%> (+0.03%)` | :arrow_up: |\n   | [python/pyarrow/parquet.py](https://codecov.io/gh/apache/arrow/pull/2677/diff?src=pr&el=tree#diff-cHl0aG9uL3B5YXJyb3cvcGFycXVldC5weQ==) | `93.69% <96.55%> (+0.1%)` | :arrow_up: |\n   | [cpp/src/arrow/csv/column-builder.cc](https://codecov.io/gh/apache/arrow/pull/2677/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9jc3YvY29sdW1uLWJ1aWxkZXIuY2M=) | `94.92% <0%> (-2.18%)` | :arrow_down: |\n   | [rust/src/record\\_batch.rs](https://codecov.io/gh/apache/arrow/pull/2677/diff?src=pr&el=tree#diff-cnVzdC9zcmMvcmVjb3JkX2JhdGNoLnJz) | | |\n   | [go/arrow/datatype\\_nested.go](https://codecov.io/gh/apache/arrow/pull/2677/diff?src=pr&el=tree#diff-Z28vYXJyb3cvZGF0YXR5cGVfbmVzdGVkLmdv) | | |\n   | [rust/src/util/bit\\_util.rs](https://codecov.io/gh/apache/arrow/pull/2677/diff?src=pr&el=tree#diff-cnVzdC9zcmMvdXRpbC9iaXRfdXRpbC5ycw==) | | |\n   | [go/arrow/math/uint64\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/2677/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC91aW50NjRfYW1kNjQuZ28=) | | |\n   | [go/arrow/internal/testing/tools/bool.go](https://codecov.io/gh/apache/arrow/pull/2677/diff?src=pr&el=tree#diff-Z28vYXJyb3cvaW50ZXJuYWwvdGVzdGluZy90b29scy9ib29sLmdv) | | |\n   | [go/arrow/internal/bitutil/bitutil.go](https://codecov.io/gh/apache/arrow/pull/2677/diff?src=pr&el=tree#diff-Z28vYXJyb3cvaW50ZXJuYWwvYml0dXRpbC9iaXR1dGlsLmdv) | | |\n   | [go/arrow/memory/memory\\_avx2\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/2677/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWVtb3J5L21lbW9yeV9hdngyX2FtZDY0Lmdv) | | |\n   | ... and [54 more](https://codecov.io/gh/apache/arrow/pull/2677/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/2677?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/2677?src=pr&el=footer). Last update [1c7bded...acea955](https://codecov.io/gh/apache/arrow/pull/2677?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-02T09:24:46.923+0000",
                    "updated": "2018-10-02T09:24:46.923+0000",
                    "started": "2018-10-02T09:24:46.922+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "150322",
                    "issueId": "13188579"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188579/worklog/150355",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2677: ARROW-3392: [Python]\u00a0Support filters in disjunctive normal form in ParquetDataset\nURL: https://github.com/apache/arrow/pull/2677#discussion_r221926971\n \n \n\n ##########\n File path: python/pyarrow/parquet.py\n ##########\n @@ -779,10 +820,21 @@ class ParquetDataset(object):\n         Divide files into pieces for each row group in the file\n     validate_schema : boolean, default True\n         Check that individual file schemas are all the same / compatible\n-    filters : List[Tuple] or None (default)\n-        List of filters to apply, like ``[('x', '=', 0), ...]``. This\n+    filters : List[Tuple] or List[List[Tuple]] or None (default)\n+        List of filters to apply, like ``[[('x', '=', 0), ...], ...]``. This\n         implements partition-level (hive) filtering only, i.e., to prevent the\n         loading of some files of the dataset.\n+\n+        Predicates are expressed in disjunctive normal form (DNF). This means\n+        that the innermost tuple describe a single column predicate. These\n+        inner predicate make are all combined with a conjunction (AND) into a\n+        larger predicate. The most outer list then combines all filters\n+        with a disjunction (OR). By this, we should be able to express all\n+        kinds of filters that are possible using boolean logic.\n+\n+        This function also supports passing in as List[Tuple]. These predicates\n+        are evaluated as a conjunction. To express OR in predictates, one must\n+        use the (preferred) List[List[Tuple]] notation.\n \n Review comment:\n   May be good to add a Sphinx section giving some examples about DNF. The term wasn't familiar to me right away\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-02T12:20:44.339+0000",
                    "updated": "2018-10-02T12:20:44.339+0000",
                    "started": "2018-10-02T12:20:44.338+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "150355",
                    "issueId": "13188579"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188579/worklog/150356",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #2677: ARROW-3392: [Python]\u00a0Support filters in disjunctive normal form in ParquetDataset\nURL: https://github.com/apache/arrow/pull/2677#issuecomment-426252456\n \n \n   Do you want to add docs in this patch? Otherwise I can merge\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-02T12:21:03.959+0000",
                    "updated": "2018-10-02T12:21:03.959+0000",
                    "started": "2018-10-02T12:21:03.958+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "150356",
                    "issueId": "13188579"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188579/worklog/150365",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy commented on issue #2677: ARROW-3392: [Python]\u00a0Support filters in disjunctive normal form in ParquetDataset\nURL: https://github.com/apache/arrow/pull/2677#issuecomment-426259737\n \n \n   Feel free to merge. Once the full predicate pushdown support is merged, I will have to add a lot more documentation.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-02T12:46:11.157+0000",
                    "updated": "2018-10-02T12:46:11.157+0000",
                    "started": "2018-10-02T12:46:11.156+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "150365",
                    "issueId": "13188579"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188579/worklog/150374",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm closed pull request #2677: ARROW-3392: [Python]\u00a0Support filters in disjunctive normal form in ParquetDataset\nURL: https://github.com/apache/arrow/pull/2677\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/python/pyarrow/parquet.py b/python/pyarrow/parquet.py\nindex 5fa91320ee..bb11511a16 100644\n--- a/python/pyarrow/parquet.py\n+++ b/python/pyarrow/parquet.py\n@@ -17,11 +17,12 @@\n \n from collections import defaultdict\n from concurrent import futures\n-import os\n-import json\n-import re\n \n+import json\n import numpy as np\n+import os\n+import re\n+import six\n \n import pyarrow as pa\n import pyarrow.lib as lib\n@@ -36,6 +37,46 @@\n                                 _get_fs_from_path)\n from pyarrow.util import _is_path_like, _stringify_path, _deprecate_nthreads\n \n+\n+def _check_contains_null(val):\n+    if isinstance(val, six.binary_type):\n+        for byte in val:\n+            if isinstance(byte, six.binary_type):\n+                compare_to = chr(0)\n+            else:\n+                compare_to = 0\n+            if byte == compare_to:\n+                return True\n+    elif isinstance(val, six.text_type):\n+        return u'\\x00' in val\n+    return False\n+\n+\n+def _check_filters(filters):\n+    \"\"\"\n+    Check if filters are well-formed.\n+    \"\"\"\n+    if filters is not None:\n+        if len(filters) == 0 or any(len(f) == 0 for f in filters):\n+            raise ValueError(\"Malformed filters\")\n+        if isinstance(filters[0][0], six.string_types):\n+            # We have encountered the situation where we have one nesting level\n+            # too few:\n+            #   We have [(,,), ..] instead of [[(,,), ..]]\n+            filters = [filters]\n+        for conjunction in filters:\n+            for col, op, val in conjunction:\n+                if (\n+                    isinstance(val, list)\n+                    and all(_check_contains_null(v) for v in val)\n+                    or _check_contains_null(val)\n+                ):\n+                    raise NotImplementedError(\n+                        \"Null-terminated binary strings are not supported as\"\n+                        \" filter values.\"\n+                    )\n+    return filters\n+\n # ----------------------------------------------------------------------\n # Reading a single Parquet file\n \n@@ -779,10 +820,21 @@ class ParquetDataset(object):\n         Divide files into pieces for each row group in the file\n     validate_schema : boolean, default True\n         Check that individual file schemas are all the same / compatible\n-    filters : List[Tuple] or None (default)\n-        List of filters to apply, like ``[('x', '=', 0), ...]``. This\n+    filters : List[Tuple] or List[List[Tuple]] or None (default)\n+        List of filters to apply, like ``[[('x', '=', 0), ...], ...]``. This\n         implements partition-level (hive) filtering only, i.e., to prevent the\n         loading of some files of the dataset.\n+\n+        Predicates are expressed in disjunctive normal form (DNF). This means\n+        that the innermost tuple describe a single column predicate. These\n+        inner predicate make are all combined with a conjunction (AND) into a\n+        larger predicate. The most outer list then combines all filters\n+        with a disjunction (OR). By this, we should be able to express all\n+        kinds of filters that are possible using boolean logic.\n+\n+        This function also supports passing in as List[Tuple]. These predicates\n+        are evaluated as a conjunction. To express OR in predictates, one must\n+        use the (preferred) List[List[Tuple]] notation.\n     metadata_nthreads: int, default 1\n         How many threads to allow the thread pool which is used to read the\n         dataset metadata. Increasing this is helpful to read partitioned\n@@ -829,7 +881,8 @@ def __init__(self, path_or_paths, filesystem=None, schema=None,\n         if validate_schema:\n             self.validate_schemas()\n \n-        if filters:\n+        if filters is not None:\n+            filters = _check_filters(filters)\n             self._filter(filters)\n \n     def validate_schemas(self):\n@@ -944,7 +997,8 @@ def one_filter_accepts(piece, filter):\n                        for level, part_key in enumerate(piece.partition_keys))\n \n         def all_filters_accept(piece):\n-            return all(one_filter_accepts(piece, f) for f in filters)\n+            return any(all(one_filter_accepts(piece, f) for f in conjunction)\n+                       for conjunction in filters)\n \n         self.pieces = [p for p in self.pieces if all_filters_accept(p)]\n \ndiff --git a/python/pyarrow/tests/test_parquet.py b/python/pyarrow/tests/test_parquet.py\nindex 4f54366b0b..a3d8725748 100644\n--- a/python/pyarrow/tests/test_parquet.py\n+++ b/python/pyarrow/tests/test_parquet.py\n@@ -1153,6 +1153,8 @@ def test_equivalency(tempdir):\n \n     _generate_partition_directories(fs, base_path, partition_spec, df)\n \n+    # Old filters syntax:\n+    #  integer == 1 AND string != b AND boolean == True\n     dataset = pq.ParquetDataset(\n         base_path, filesystem=fs,\n         filters=[('integer', '=', 1), ('string', '!=', 'b'),\n@@ -1165,6 +1167,44 @@ def test_equivalency(tempdir):\n     assert 'b' not in result_df['string'].values\n     assert False not in result_df['boolean'].values\n \n+    # filters in disjunctive normal form:\n+    #  (integer == 1 AND string != b AND boolean == True) OR\n+    #  (integer == 2 AND boolean == False)\n+    # TODO(ARROW-3388): boolean columns are reconstructed as string\n+    filters = [\n+        [\n+            ('integer', '=', 1),\n+            ('string', '!=', 'b'),\n+            ('boolean', '==', 'True')\n+        ],\n+        [('integer', '=', 0), ('boolean', '==', 'False')]\n+    ]\n+    dataset = pq.ParquetDataset(base_path, filesystem=fs, filters=filters)\n+    table = dataset.read()\n+    result_df = table.to_pandas().reset_index(drop=True)\n+\n+    # Check that all rows in the DF fulfill the filter\n+    # Pandas 0.23.x has problems with indexing constant memoryviews in\n+    # categoricals. Thus we need to make an explicity copy here with np.array.\n+    df_filter_1 = (np.array(result_df['integer']) == 1) \\\n+        & (np.array(result_df['string']) != 'b') \\\n+        & (np.array(result_df['boolean']) == 'True')\n+    df_filter_2 = (np.array(result_df['integer']) == 0) \\\n+        & (np.array(result_df['boolean']) == 'False')\n+    assert df_filter_1.sum() > 0\n+    assert df_filter_2.sum() > 0\n+    assert result_df.shape[0] == (df_filter_1.sum() + df_filter_2.sum())\n+\n+    # Check for \\0 in predicate values. Until they are correctly implemented\n+    # in ARROW-3391, they would otherwise lead to weird results with the\n+    # current code.\n+    with pytest.raises(NotImplementedError):\n+        filters = [[('string', '==', b'1\\0a')]]\n+        pq.ParquetDataset(base_path, filesystem=fs, filters=filters)\n+    with pytest.raises(NotImplementedError):\n+        filters = [[('string', '==', u'1\\0a')]]\n+        pq.ParquetDataset(base_path, filesystem=fs, filters=filters)\n+\n \n def test_cutoff_exclusive_integer(tempdir):\n     import pyarrow.parquet as pq\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-02T13:12:28.806+0000",
                    "updated": "2018-10-02T13:12:28.806+0000",
                    "started": "2018-10-02T13:12:28.805+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "150374",
                    "issueId": "13188579"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 4800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@61706c16[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@63eb6dc9[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@15b79784[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@2d0a25de[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@600cc747[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@3d39d605[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@141b7d91[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@68c39e19[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6ef35ab9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1d09209c[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@52b12159[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@26f64e40[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 4800,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Oct 02 13:12:21 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-10-02T13:12:21.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3392/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2018-10-01T16:28:49.000+0000",
        "updated": "2018-10-02T13:12:28.000+0000",
        "timeoriginalestimate": null,
        "description": "This allows us to represent any boolean predicate.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 4800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python]\u00a0Support filters in disjunctive normal form in ParquetDataset",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13188579/comment/16635460",
                    "id": "16635460",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 2677\n[https://github.com/apache/arrow/pull/2677]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-10-02T13:12:21.633+0000",
                    "updated": "2018-10-02T13:12:21.633+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|i3yopb:",
        "customfield_12314139": null
    }
}