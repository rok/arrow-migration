{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13183758",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758",
    "key": "ARROW-3194",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343858",
                "id": "12343858",
                "description": "",
                "name": "0.12.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-01-20"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=siddteotia",
            "name": "siddteotia",
            "key": "siddteotia",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=siddteotia&avatarId=32343",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=siddteotia&avatarId=32343",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=siddteotia&avatarId=32343",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=siddteotia&avatarId=32343"
            },
            "displayName": "Siddharth Teotia",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=siddteotia",
            "name": "siddteotia",
            "key": "siddteotia",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=siddteotia&avatarId=32343",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=siddteotia&avatarId=32343",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=siddteotia&avatarId=32343",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=siddteotia&avatarId=32343"
            },
            "displayName": "Siddharth Teotia",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=siddteotia",
            "name": "siddteotia",
            "key": "siddteotia",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=siddteotia&avatarId=32343",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=siddteotia&avatarId=32343",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=siddteotia&avatarId=32343",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=siddteotia&avatarId=32343"
            },
            "displayName": "Siddharth Teotia",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 9600,
            "total": 9600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 9600,
            "total": 9600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3194/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 16,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/142376",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia opened a new pull request #2524: [JAVA] ARROW-3194: Use the split length for setting value count of target vector\nURL: https://github.com/apache/arrow/pull/2524\n \n \n   We need to use the split length as the value count of the target vector. We are incorrectly using the value count of the current vector for the target vector\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-07T23:54:14.807+0000",
                    "updated": "2018-09-07T23:54:14.807+0000",
                    "started": "2018-09-07T23:54:14.806+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "142376",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/146566",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #2524: ARROW-3194: [JAVA] Use the split length for setting value count of target vector\nURL: https://github.com/apache/arrow/pull/2524#issuecomment-423646555\n \n \n   @laurentgo or @jacques-n can you review?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-21T19:28:01.858+0000",
                    "updated": "2018-09-21T19:28:01.858+0000",
                    "started": "2018-09-21T19:28:01.858+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "146566",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/149826",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #2524: ARROW-3194: [JAVA] Use the split length for setting value count of target vector\nURL: https://github.com/apache/arrow/pull/2524#issuecomment-425739658\n \n \n   Ping, @siddharthteotia do you want to get this into the 0.11 release?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-09-30T18:08:55.117+0000",
                    "updated": "2018-09-30T18:08:55.117+0000",
                    "started": "2018-09-30T18:08:55.116+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "149826",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/149877",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jacques-n commented on a change in pull request #2524: ARROW-3194: [JAVA] Use the split length for setting value count of target vector\nURL: https://github.com/apache/arrow/pull/2524#discussion_r221481322\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/BaseVariableWidthVector.java\n ##########\n @@ -708,9 +708,7 @@ public void splitAndTransferTo(int startIndex, int length,\n     splitAndTransferValidityBuffer(startIndex, length, target);\n     splitAndTransferOffsetBuffer(startIndex, length, target);\n     target.setLastSet(length - 1);\n-    if (this.valueCount > 0) {\n-      target.setValueCount(this.valueCount);\n-    }\n+    target.setValueCount(length);\n \n Review comment:\n   Don't we still need the if the condition when the length is zero?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-01T01:17:46.653+0000",
                    "updated": "2018-10-01T01:17:46.653+0000",
                    "started": "2018-10-01T01:17:46.653+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "149877",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/151413",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on issue #2524: ARROW-3194: [JAVA] Use the split length for setting value count of target vector\nURL: https://github.com/apache/arrow/pull/2524#issuecomment-427193400\n \n \n   Addressed review comment.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-04T22:45:25.743+0000",
                    "updated": "2018-10-04T22:45:25.743+0000",
                    "started": "2018-10-04T22:45:25.743+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "151413",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/151492",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jacques-n commented on issue #2524: ARROW-3194: [JAVA] Use the split length for setting value count of target vector\nURL: https://github.com/apache/arrow/pull/2524#issuecomment-427238958\n \n \n   Looks good. +1\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-10-05T03:57:39.983+0000",
                    "updated": "2018-10-05T03:57:39.983+0000",
                    "started": "2018-10-05T03:57:39.982+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "151492",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/165808",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia opened a new pull request #2958: ARROW-3194: [JAVA] Use split length in splitAndTransfer to set value count\nURL: https://github.com/apache/arrow/pull/2958\n \n \n   (1) Use split length to set the value count of target vector in splitAndTransfer\r\n   (2) Do not allocate memory for inner vectors in nullable map when creating transfer pairs\r\n   (3) Add getInitReservation() API to Accountant\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-14T06:49:01.417+0000",
                    "updated": "2018-11-14T06:49:01.417+0000",
                    "started": "2018-11-14T06:49:01.416+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "165808",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/165810",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "praveenbingo commented on a change in pull request #2958: ARROW-3194: [JAVA] Use split length in splitAndTransfer to set value count\nURL: https://github.com/apache/arrow/pull/2958#discussion_r233330692\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/complex/StructVector.java\n ##########\n @@ -134,7 +134,7 @@ public TransferPair getTransferPair(BufferAllocator allocator) {\n \n   @Override\n   public TransferPair makeTransferPair(ValueVector to) {\n-    return new NullableStructTransferPair(this, (StructVector) to, true);\n+    return new NullableStructTransferPair(this, (StructVector) to, false);\n \n Review comment:\n   would this be backward compatible for other clients other than dremio..\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-14T06:56:03.845+0000",
                    "updated": "2018-11-14T06:56:03.845+0000",
                    "started": "2018-11-14T06:56:03.844+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "165810",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/165817",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jacques-n commented on issue #2958: ARROW-3194: [JAVA] Use split length in splitAndTransfer to set value count\nURL: https://github.com/apache/arrow/pull/2958#issuecomment-438564405\n \n \n   We should add tests for these things, otherwise they will be broken again in the future.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-14T07:27:16.422+0000",
                    "updated": "2018-11-14T07:27:16.422+0000",
                    "started": "2018-11-14T07:27:16.422+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "165817",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/166088",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #2958: ARROW-3194: [JAVA] Use split length in splitAndTransfer to set value count\nURL: https://github.com/apache/arrow/pull/2958#issuecomment-438806269\n \n \n   +1 for tests. I restarted the failed Java build. Does this pass the unit tests locally?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-14T20:26:41.922+0000",
                    "updated": "2018-11-14T20:26:41.922+0000",
                    "started": "2018-11-14T20:26:41.921+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "166088",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/166558",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on issue #2958: ARROW-3194: [JAVA] Use split length in splitAndTransfer to set value count\nURL: https://github.com/apache/arrow/pull/2958#issuecomment-439140544\n \n \n   Added unit tests. I got a clean build locally\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-15T18:22:21.016+0000",
                    "updated": "2018-11-15T18:22:21.016+0000",
                    "started": "2018-11-15T18:22:21.015+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "166558",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/166561",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on a change in pull request #2958: ARROW-3194: [JAVA] Use split length in splitAndTransfer to set value count\nURL: https://github.com/apache/arrow/pull/2958#discussion_r233956991\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestSplitAndTransfer.java\n ##########\n @@ -82,4 +81,32 @@ public void test() throws Exception {\n       }\n     }\n   }\n+\n \n Review comment:\n   We saw the problem with VarCharVector.splitAndTransfer() under low memory conditions. splitAndTransfer() used the source vector value count instead of split length and we hit OOM. Undoing the changes in splitAndTransfer() and running this test will reproduce the problem.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-15T18:24:25.104+0000",
                    "updated": "2018-11-15T18:24:25.104+0000",
                    "started": "2018-11-15T18:24:25.104+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "166561",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/166562",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on a change in pull request #2958: ARROW-3194: [JAVA] Use split length in splitAndTransfer to set value count\nURL: https://github.com/apache/arrow/pull/2958#discussion_r233957252\n \n \n\n ##########\n File path: java/memory/src/test/java/org/apache/arrow/memory/TestBaseAllocator.java\n ##########\n @@ -738,6 +738,17 @@ public void testAllocator_claimedReservation() throws Exception {\n     }\n   }\n \n+  @Test\n \n Review comment:\n   Simple test for getters on limit and reservation\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-15T18:25:11.931+0000",
                    "updated": "2018-11-15T18:25:11.931+0000",
                    "started": "2018-11-15T18:25:11.930+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "166562",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/166867",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm closed pull request #2958: ARROW-3194: [JAVA] Use split length in splitAndTransfer to set value count\nURL: https://github.com/apache/arrow/pull/2958\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/java/memory/src/main/java/org/apache/arrow/memory/Accountant.java b/java/memory/src/main/java/org/apache/arrow/memory/Accountant.java\nindex f3d9387372..28aeaf2992 100644\n--- a/java/memory/src/main/java/org/apache/arrow/memory/Accountant.java\n+++ b/java/memory/src/main/java/org/apache/arrow/memory/Accountant.java\n@@ -215,6 +215,15 @@ public long getLimit() {\n     return allocationLimit.get();\n   }\n \n+  /**\n+   * Return the initial reservation.\n+   *\n+   * @return reservation in bytes.\n+   */\n+  public long getInitReservation() {\n+    return reservation;\n+  }\n+\n   /**\n    * Set the maximum amount of memory that can be allocated in the this Accountant before failing\n    * an allocation.\ndiff --git a/java/memory/src/main/java/org/apache/arrow/memory/BufferAllocator.java b/java/memory/src/main/java/org/apache/arrow/memory/BufferAllocator.java\nindex ea2cb3ad3b..f79b739a3f 100644\n--- a/java/memory/src/main/java/org/apache/arrow/memory/BufferAllocator.java\n+++ b/java/memory/src/main/java/org/apache/arrow/memory/BufferAllocator.java\n@@ -105,6 +105,13 @@ public BufferAllocator newChildAllocator(\n    */\n   public long getLimit();\n \n+  /**\n+   * Return the initial reservation.\n+   *\n+   * @return reservation in bytes.\n+   */\n+  public long getInitReservation();\n+\n   /**\n    * Set the maximum amount of memory this allocator is allowed to allocate.\n    *\ndiff --git a/java/memory/src/test/java/org/apache/arrow/memory/TestBaseAllocator.java b/java/memory/src/test/java/org/apache/arrow/memory/TestBaseAllocator.java\nindex 56e85e4e51..c53eb06de1 100644\n--- a/java/memory/src/test/java/org/apache/arrow/memory/TestBaseAllocator.java\n+++ b/java/memory/src/test/java/org/apache/arrow/memory/TestBaseAllocator.java\n@@ -738,6 +738,17 @@ public void testAllocator_claimedReservation() throws Exception {\n     }\n   }\n \n+  @Test\n+  public void testInitReservationAndLimit() throws Exception {\n+    try (final RootAllocator rootAllocator = new RootAllocator(MAX_ALLOCATION)) {\n+      try (final BufferAllocator childAllocator = rootAllocator.newChildAllocator(\n+              \"child\", 2048, 4096)) {\n+        assertEquals(2048, childAllocator.getInitReservation());\n+        assertEquals(4096, childAllocator.getLimit());\n+      }\n+    }\n+  }\n+\n   @Test\n   public void multiple() throws Exception {\n     final String owner = \"test\";\ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/BaseVariableWidthVector.java b/java/vector/src/main/java/org/apache/arrow/vector/BaseVariableWidthVector.java\nindex 71f4f5ba28..340ccf3a4f 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/BaseVariableWidthVector.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/BaseVariableWidthVector.java\n@@ -707,8 +707,8 @@ public void splitAndTransferTo(int startIndex, int length,\n     splitAndTransferValidityBuffer(startIndex, length, target);\n     splitAndTransferOffsetBuffer(startIndex, length, target);\n     target.setLastSet(length - 1);\n-    if (this.valueCount > 0) {\n-      target.setValueCount(this.valueCount);\n+    if (length > 0) {\n+      target.setValueCount(length);\n     }\n   }\n \ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/complex/StructVector.java b/java/vector/src/main/java/org/apache/arrow/vector/complex/StructVector.java\nindex f593a70b9d..239a146519 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/complex/StructVector.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/complex/StructVector.java\n@@ -134,7 +134,7 @@ public TransferPair getTransferPair(BufferAllocator allocator) {\n \n   @Override\n   public TransferPair makeTransferPair(ValueVector to) {\n-    return new NullableStructTransferPair(this, (StructVector) to, true);\n+    return new NullableStructTransferPair(this, (StructVector) to, false);\n   }\n \n   @Override\ndiff --git a/java/vector/src/test/java/org/apache/arrow/vector/TestSplitAndTransfer.java b/java/vector/src/test/java/org/apache/arrow/vector/TestSplitAndTransfer.java\nindex fa0e03c6c8..9689d21f3e 100644\n--- a/java/vector/src/test/java/org/apache/arrow/vector/TestSplitAndTransfer.java\n+++ b/java/vector/src/test/java/org/apache/arrow/vector/TestSplitAndTransfer.java\n@@ -61,13 +61,12 @@ public void test() throws Exception {\n   \n       final TransferPair tp = varCharVector.getTransferPair(allocator);\n       final VarCharVector newVarCharVector = (VarCharVector) tp.getTo();\n-      final int[][] startLengths = {{0, 201}, {201, 200}, {401, 99}};\n+      final int[][] startLengths = {{0, 201}, {201, 0}, {201, 200}, {401, 99}};\n   \n       for (final int[] startLength : startLengths) {\n         final int start = startLength[0];\n         final int length = startLength[1];\n         tp.splitAndTransfer(start, length);\n-        newVarCharVector.setValueCount(length);\n         for (int i = 0; i < length; i++) {\n           final boolean expectedSet = ((start + i) % 3) == 0;\n           if (expectedSet) {\n@@ -82,4 +81,32 @@ public void test() throws Exception {\n       }\n     }\n   }\n+\n+  @Test\n+  public void testMemoryConstrainedTransfer() {\n+    try (final VarCharVector varCharVector = new VarCharVector(\"myvector\", allocator)) {\n+      allocator.setLimit(32768); /* set limit of 32KB */\n+\n+      varCharVector.allocateNew(10000, 1000);\n+\n+      final int valueCount = 1000;\n+\n+      for (int i = 0; i < valueCount; i += 3) {\n+        final String s = String.format(\"%010d\", i);\n+        varCharVector.set(i, s.getBytes());\n+      }\n+      varCharVector.setValueCount(valueCount);\n+\n+      final TransferPair tp = varCharVector.getTransferPair(allocator);\n+      final VarCharVector newVarCharVector = (VarCharVector) tp.getTo();\n+      final int[][] startLengths = {{0, 700}, {700, 299}};\n+\n+      for (final int[] startLength : startLengths) {\n+        final int start = startLength[0];\n+        final int length = startLength[1];\n+        tp.splitAndTransfer(start, length);\n+        newVarCharVector.clear();\n+      }\n+    }\n+  }\n }\ndiff --git a/java/vector/src/test/java/org/apache/arrow/vector/TestStructVector.java b/java/vector/src/test/java/org/apache/arrow/vector/TestStructVector.java\nindex a6d5e06952..54a11a3dc0 100644\n--- a/java/vector/src/test/java/org/apache/arrow/vector/TestStructVector.java\n+++ b/java/vector/src/test/java/org/apache/arrow/vector/TestStructVector.java\n@@ -17,11 +17,14 @@\n \n package org.apache.arrow.vector;\n \n+import static org.junit.Assert.assertEquals;\n+\n import java.util.HashMap;\n import java.util.Map;\n \n import org.apache.arrow.memory.BufferAllocator;\n import org.apache.arrow.vector.complex.StructVector;\n+import org.apache.arrow.vector.types.Types.MinorType;\n import org.apache.arrow.vector.types.pojo.ArrowType.Struct;\n import org.apache.arrow.vector.types.pojo.FieldType;\n import org.junit.After;\n@@ -29,7 +32,6 @@\n import org.junit.Before;\n import org.junit.Test;\n \n-\n public class TestStructVector {\n \n   private BufferAllocator allocator;\n@@ -53,4 +55,18 @@ public void testFieldMetadata() throws Exception {\n       Assert.assertEquals(vector.getField().getMetadata(), type.getMetadata());\n     }\n   }\n+\n+  @Test\n+  public void testMakeTransferPair() {\n+    try (final StructVector s1 = StructVector.empty(\"s1\", allocator);\n+         final StructVector s2 = StructVector.empty(\"s2\", allocator)) {\n+      s1.addOrGet(\"struct_child\", FieldType.nullable(MinorType.INT.getType()), IntVector.class);\n+      s1.makeTransferPair(s2);\n+      final FieldVector child = s1.getChild(\"struct_child\");\n+      final FieldVector toChild = s2.addOrGet(\"struct_child\", child.getField().getFieldType(), child.getClass());\n+      assertEquals(0, toChild.getValueCapacity());\n+      assertEquals(0, toChild.getDataBuffer().capacity());\n+      assertEquals(0, toChild.getValidityBuffer().capacity());\n+    }\n+  }\n }\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-16T13:43:45.949+0000",
                    "updated": "2018-11-16T13:43:45.949+0000",
                    "started": "2018-11-16T13:43:45.948+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "166867",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/166868",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm closed pull request #2524: ARROW-3194: [JAVA] Use the split length for setting value count of target vector\nURL: https://github.com/apache/arrow/pull/2524\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/c_glib/Makefile.am b/c_glib/Makefile.am\nindex 5fb65f0409..886b0d6106 100644\n--- a/c_glib/Makefile.am\n+++ b/c_glib/Makefile.am\n@@ -26,6 +26,7 @@ SUBDIRS =\t\t\t\t\t\\\n \ttool\n \n EXTRA_DIST =\t\t\t\t\t\\\n+\tGemfile\t\t\t\t\t\\\n \tREADME.md\t\t\t\t\\\n \tautogen.sh\t\t\t\t\\\n \tmeson.build\t\t\t\t\\\ndiff --git a/cpp/cmake_modules/FindRE2.cmake b/cpp/cmake_modules/FindRE2.cmake\nindex 6450b22e32..f2a4670c61 100644\n--- a/cpp/cmake_modules/FindRE2.cmake\n+++ b/cpp/cmake_modules/FindRE2.cmake\n@@ -22,48 +22,57 @@\n # This module defines\n #  RE2_INCLUDE_DIR, directory containing headers\n #  RE2_STATIC_LIB, path to libre2.a\n-#  re2 imported static library\n #  RE2_FOUND, whether re2 has been found\n \n-set(RE2_SEARCH_HEADER_PATHS ${RE2_HOME}/include)\n-\n-set(RE2_SEARCH_LIB_PATHS ${RE2_HOME}/lib)\n+if( NOT \"${RE2_HOME}\" STREQUAL \"\")\n+    file (TO_CMAKE_PATH \"${RE2_HOME}\" _re2_path)\n+endif()\n+message (STATUS \"RE2_HOME: ${RE2_HOME}\")\n \n find_path(RE2_INCLUDE_DIR re2/re2.h\n-  PATHS ${RE2_SEARCH_HEADER_PATHS}\n-        NO_DEFAULT_PATH\n+  HINTS ${_re2_path}\n+  NO_DEFAULT_PATH\n+  PATH_SUFFIXES \"include\"\n   DOC  \"Google's re2 regex header path\"\n )\n \n-find_library(RE2_LIBS NAMES re2\n-  PATHS ${RE2_SEARCH_LIB_PATHS}\n-        NO_DEFAULT_PATH\n-  DOC   \"Google's re2 regex library\"\n-)\n+set (lib_dirs \"lib\")\n+if (EXISTS \"${_re2_path}/lib64\")\n+  set (lib_dirs \"lib64\" ${lib_dirs})\n+endif ()\n+if (EXISTS \"${_re2_path}/lib/${CMAKE_LIBRARY_ARCHITECTURE}\")\n+  set (lib_dirs \"lib/${CMAKE_LIBRARY_ARCHITECTURE}\" ${lib_dirs})\n+endif ()\n \n find_library(RE2_STATIC_LIB NAMES libre2${CMAKE_STATIC_LIBRARY_SUFFIX}\n-  PATHS ${RE2_SEARCH_LIB_PATHS}\n+  PATHS ${_re2_path}\n         NO_DEFAULT_PATH\n+  PATH_SUFFIXES ${lib_dirs}\n   DOC   \"Google's re2 regex static library\"\n )\n \n message(STATUS ${RE2_INCLUDE_DIR})\n \n-if (NOT RE2_INCLUDE_DIR OR NOT RE2_LIBS OR\n-    NOT RE2_STATIC_LIB)\n+if (NOT RE2_INCLUDE_DIR OR NOT RE2_STATIC_LIB)\n   set(RE2_FOUND FALSE)\n-  message(FATAL_ERROR \"Re2 includes and libraries NOT found. \"\n-    \"Looked for headers in ${RE2_SEARCH_HEADER_PATHS}, \"\n-    \"and for libs in ${RE2_SEARCH_LIB_PATHS}\")\n+  if (_re2_path)\n+    set (RE2_ERR_MSG \"Could not find re2. Looked in ${_re2_path}.\")\n+  else ()\n+    set (RE2_ERR_MSG \"Could not find re2 in system search paths.\")\n+  endif()\n+\n+  if (RE2_FIND_REQUIRED)\n+    message(FATAL_ERROR \"${RE2_ERR_MSG})\")\n+  else ()\n+    message (STATUS \"${RE2_ERR_MSG}\")\n+  endif ()\n else()\n     set(RE2_FOUND TRUE)\n-    add_library(re2 STATIC IMPORTED)\n-    set_target_properties(re2 PROPERTIES IMPORTED_LOCATION \"${RE2_STATIC_LIB}\")\n+    message(STATUS \"Found the RE2 headers : ${RE2_INCLUDE_DIR}\")\n+    message(STATUS \"Found the RE2 static library : ${RE2_STATIC_LIB}\")\n endif()\n \n mark_as_advanced(\n   RE2_INCLUDE_DIR\n-  RE2_LIBS\n   RE2_STATIC_LIB\n-  re2\n )\ndiff --git a/cpp/cmake_modules/GandivaBuildUtils.cmake b/cpp/cmake_modules/GandivaBuildUtils.cmake\nindex c247b2b4eb..a1ed48eee8 100644\n--- a/cpp/cmake_modules/GandivaBuildUtils.cmake\n+++ b/cpp/cmake_modules/GandivaBuildUtils.cmake\n@@ -19,6 +19,7 @@\n function(build_gandiva_lib TYPE ARROW)\n   string(TOUPPER ${TYPE} TYPE_UPPER_CASE)\n   add_library(gandiva_${TYPE} ${TYPE_UPPER_CASE} $<TARGET_OBJECTS:gandiva_obj_lib>)\n+  add_dependencies(gandiva_${TYPE} arrow_dependencies)\n \n   target_include_directories(gandiva_${TYPE}\n     PUBLIC\n@@ -60,9 +61,9 @@ function(build_gandiva_lib TYPE ARROW)\n endfunction(build_gandiva_lib TYPE)\n \n set(GANDIVA_TEST_LINK_LIBS\n-  ${GTEST_STATIC_LIB}\n-  ${GTEST_MAIN_STATIC_LIB}\n-  ${RE2_STATIC_LIB})\n+  gtest\n+  gtest_main\n+  re2)\n \n if (PTHREAD_LIBRARY)\n   set(GANDIVA_TEST_LINK_LIBS\n@@ -82,6 +83,9 @@ function(add_gandiva_unit_test REL_TEST_NAME)\n     target_link_libraries(${TEST_NAME} PRIVATE LLVM::LLVM_INTERFACE)\n   endif()\n \n+  # Require toolchain to be built\n+  add_dependencies(${TEST_NAME} arrow_dependencies)\n+\n   target_include_directories(${TEST_NAME} PRIVATE\n     ${CMAKE_SOURCE_DIR}/include\n     ${CMAKE_SOURCE_DIR}/src\ndiff --git a/cpp/cmake_modules/ThirdpartyToolchain.cmake b/cpp/cmake_modules/ThirdpartyToolchain.cmake\nindex 1c7cd622b1..2e2f7d1b32 100644\n--- a/cpp/cmake_modules/ThirdpartyToolchain.cmake\n+++ b/cpp/cmake_modules/ThirdpartyToolchain.cmake\n@@ -230,6 +230,12 @@ else()\n   set(PROTOBUF_SOURCE_URL \"https://github.com/protocolbuffers/protobuf/releases/download/${PROTOBUF_VERSION}/protobuf-all-${STRIPPED_PROTOBUF_VERSION}.tar.gz\")\n endif()\n \n+if (DEFINED ENV{ARROW_RE2_URL})\n+  set(RE2_SOURCE_URL \"$ENV{ARROW_RE2_URL}\")\n+else()\n+  set(RE2_SOURCE_URL \"https://github.com/google/re2/archive/${RE2_VERSION}.tar.gz\")\n+endif()\n+\n set(RAPIDJSON_SOURCE_MD5 \"badd12c511e081fec6c89c43a7027bce\")\n if (DEFINED ENV{ARROW_RAPIDJSON_URL})\n   set(RAPIDJSON_SOURCE_URL \"$ENV{ARROW_RAPIDJSON_URL}\")\n@@ -1057,11 +1063,47 @@ if (ARROW_WITH_ZSTD)\n   endif()\n endif()\n \n+# ----------------------------------------------------------------------\n+# RE2 (required for Gandiva)\n+if (ARROW_GANDIVA)\n+  # re2\n+  if (\"${RE2_HOME}\" STREQUAL \"\")\n+    set (RE2_PREFIX \"${CMAKE_CURRENT_BINARY_DIR}/re2_ep-install\")\n+    set (RE2_HOME \"${RE2_PREFIX}\")\n+    set (RE2_INCLUDE_DIR \"${RE2_PREFIX}/include\")\n+    set (RE2_STATIC_LIB \"${RE2_PREFIX}/lib/${CMAKE_STATIC_LIBRARY_PREFIX}re2${CMAKE_STATIC_LIBRARY_SUFFIX}\")\n+\n+    set(RE2_CMAKE_ARGS\n+          \"-DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}\"\n+          \"-DCMAKE_CXX_FLAGS=${EP_CXX_FLAGS}\"\n+          \"-DCMAKE_CXX_FLAGS_${UPPERCASE_BUILD_TYPE}=${EP_CXX_FLAGS}\"\n+          \"-DCMAKE_INSTALL_PREFIX=${RE2_PREFIX}\")\n+    ExternalProject_Add(re2_ep\n+      ${EP_LOG_OPTIONS}\n+      INSTALL_DIR ${RE2_PREFIX}\n+      URL ${RE2_SOURCE_URL}\n+      CMAKE_ARGS ${RE2_CMAKE_ARGS}\n+      BUILD_BYPRODUCTS \"${RE2_STATIC_LIB}\")\n+    set (RE2_VENDORED 1)\n+  else ()\n+    find_package (RE2 REQUIRED)\n+    set (RE2_VENDORED 0)\n+  endif ()\n+\n+  include_directories (SYSTEM ${RE2_INCLUDE_DIR})\n+  ADD_THIRDPARTY_LIB(re2\n+    STATIC_LIB ${RE2_STATIC_LIB})\n+\n+  if (RE2_VENDORED)\n+    add_dependencies (arrow_dependencies re2_ep)\n+  endif ()\n+endif ()\n+\n \n # ----------------------------------------------------------------------\n-# Protocol Buffers (required for ORC and Flight libraries)\n+# Protocol Buffers (required for ORC and Flight and Gandiva libraries)\n \n-if (ARROW_ORC OR ARROW_FLIGHT)\n+if (ARROW_ORC OR ARROW_FLIGHT OR ARROW_GANDIVA)\n   # protobuf\n   if (\"${PROTOBUF_HOME}\" STREQUAL \"\")\n     set (PROTOBUF_PREFIX \"${THIRDPARTY_DIR}/protobuf_ep-install\")\ndiff --git a/cpp/src/gandiva/CMakeLists.txt b/cpp/src/gandiva/CMakeLists.txt\nindex a22c1cb2ec..91f851fb92 100644\n--- a/cpp/src/gandiva/CMakeLists.txt\n+++ b/cpp/src/gandiva/CMakeLists.txt\n@@ -71,7 +71,10 @@ set(SRC_FILES annotator.cc\n       ${SHARED_HELPER_FILES}\n       ${BC_FILE_PATH_CC})\n \n+# TODO(wesm): Replace this with ADD_ARROW_LIB which deals with objlib/no-objlib\n+# (not supported on Windows), dependencies, etc.\n add_library(gandiva_obj_lib OBJECT ${SRC_FILES})\n+add_dependencies(gandiva_obj_lib arrow_dependencies)\n \n # set PIC so that object library can be included in shared libs.\n set_target_properties(gandiva_obj_lib PROPERTIES POSITION_INDEPENDENT_CODE 1)\n@@ -104,6 +107,8 @@ add_library(gandiva_helpers SHARED\n   ${SHARED_HELPER_FILES}\n   function_holder_stubs.cc)\n \n+add_dependencies(gandiva_helpers arrow_dependencies)\n+\n target_compile_definitions(gandiva_helpers\n   PRIVATE -DGDV_HELPERS\n )\ndiff --git a/cpp/thirdparty/versions.txt b/cpp/thirdparty/versions.txt\nindex 4e96fcc9e7..8fbfb388e8 100644\n--- a/cpp/thirdparty/versions.txt\n+++ b/cpp/thirdparty/versions.txt\n@@ -35,3 +35,4 @@ SNAPPY_VERSION=1.1.3\n THRIFT_VERSION=0.11.0\n ZLIB_VERSION=1.2.8\n ZSTD_VERSION=v1.2.0\n+RE2_VERSION=2018-10-01\ndiff --git a/dev/release/02-source.sh b/dev/release/02-source.sh\nindex f60ee15244..f74fd81115 100755\n--- a/dev/release/02-source.sh\n+++ b/dev/release/02-source.sh\n@@ -132,7 +132,7 @@ cp -rf \"$artifact_dir\"/* tmp/${tagrc}/binaries/\n \n # commit to svn\n svn add tmp/${tagrc}\n-svn ci -m 'Apache Arrow ${version} RC${rc}' tmp/${tagrc}\n+svn ci -m \"Apache Arrow ${version} RC${rc}\" tmp/${tagrc}\n \n # clean up\n rm -rf tmp\ndiff --git a/dev/release/verify-release-candidate.sh b/dev/release/verify-release-candidate.sh\nindex 51ba871aac..378dca3865 100755\n--- a/dev/release/verify-release-candidate.sh\n+++ b/dev/release/verify-release-candidate.sh\n@@ -211,6 +211,8 @@ test_glib() {\n     gem install bundler\n   fi\n \n+  # Workaround for 0.11.0. 0.11.0 doesn't include c_glib/Gemfile.\n+  wget https://raw.githubusercontent.com/apache/arrow/master/c_glib/Gemfile\n   bundle install --path vendor/bundle\n   bundle exec ruby test/run-test.rb\n \ndiff --git a/java/vector/src/main/java/org/apache/arrow/vector/BaseVariableWidthVector.java b/java/vector/src/main/java/org/apache/arrow/vector/BaseVariableWidthVector.java\nindex f5ddf22520..cd4e5ab2a9 100644\n--- a/java/vector/src/main/java/org/apache/arrow/vector/BaseVariableWidthVector.java\n+++ b/java/vector/src/main/java/org/apache/arrow/vector/BaseVariableWidthVector.java\n@@ -708,8 +708,8 @@ public void splitAndTransferTo(int startIndex, int length,\n     splitAndTransferValidityBuffer(startIndex, length, target);\n     splitAndTransferOffsetBuffer(startIndex, length, target);\n     target.setLastSet(length - 1);\n-    if (this.valueCount > 0) {\n-      target.setValueCount(this.valueCount);\n+    if (length > 0) {\n+      target.setValueCount(length);\n     }\n   }\n \ndiff --git a/java/vector/src/test/java/org/apache/arrow/vector/TestSplitAndTransfer.java b/java/vector/src/test/java/org/apache/arrow/vector/TestSplitAndTransfer.java\nindex 1eaaa2d297..cafa637457 100644\n--- a/java/vector/src/test/java/org/apache/arrow/vector/TestSplitAndTransfer.java\n+++ b/java/vector/src/test/java/org/apache/arrow/vector/TestSplitAndTransfer.java\n@@ -62,7 +62,7 @@ public void test() throws Exception {\n   \n       final TransferPair tp = varCharVector.getTransferPair(allocator);\n       final VarCharVector newVarCharVector = (VarCharVector) tp.getTo();\n-      final int[][] startLengths = {{0, 201}, {201, 200}, {401, 99}};\n+      final int[][] startLengths = {{0, 201}, {201, 0}, {201, 200}, {401, 99}};\n   \n       for (final int[] startLength : startLengths) {\n         final int start = startLength[0];\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-16T13:44:50.022+0000",
                    "updated": "2018-11-16T13:44:50.022+0000",
                    "started": "2018-11-16T13:44:50.021+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "166868",
                    "issueId": "13183758"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/worklog/166869",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #2524: ARROW-3194: [JAVA] Use the split length for setting value count of target vector\nURL: https://github.com/apache/arrow/pull/2524#issuecomment-439396949\n \n \n   Resolved in https://github.com/apache/arrow/commit/074e2c2971b6d0b8bde2cacca0b3fe1007497bd2. I'm not sure why this was never merged before\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-16T13:44:50.545+0000",
                    "updated": "2018-11-16T13:44:50.545+0000",
                    "started": "2018-11-16T13:44:50.544+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "166869",
                    "issueId": "13183758"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/3",
            "id": "3",
            "description": "A task that needs to be done.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21148&avatarType=issuetype",
            "name": "Task",
            "subtask": false,
            "avatarId": 21148
        },
        "timespent": 9600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@4fe2b5a0[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@71d2e3a7[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6e508dca[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@8f9947c[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@75538e9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@18852e9d[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7251de9a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@36cffed8[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@18730a98[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@29332ecd[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@556a807f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@1c9a9d34[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 9600,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Nov 16 13:43:36 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-11-16T13:43:36.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3194/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2018-09-07T23:35:16.000+0000",
        "updated": "2018-11-16T13:44:50.000+0000",
        "timeoriginalestimate": null,
        "description": "We need to use the split length as the value count of the target vector. We are incorrectly using the value count of the current vector for the target vector",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 40m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 9600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Java] Fix setValueCount in spitAndTransfer for variable width vectors",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13183758/comment/16689428",
                    "id": "16689428",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 2958\n[https://github.com/apache/arrow/pull/2958]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-11-16T13:43:36.613+0000",
                    "updated": "2018-11-16T13:43:36.613+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|i3xv4v:",
        "customfield_12314139": null
    }
}