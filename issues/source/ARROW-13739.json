{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13396991",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991",
    "key": "ARROW-13739",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12350323",
                "id": "12350323",
                "description": "",
                "name": "6.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-10-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/2",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.svg",
            "name": "Critical",
            "id": "2"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12621701",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12621701",
                "type": {
                    "id": "10032",
                    "name": "Blocker",
                    "inward": "is blocked by",
                    "outward": "blocks",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10032"
                },
                "inwardIssue": {
                    "id": "13392633",
                    "key": "ARROW-13501",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392633",
                    "fields": {
                        "summary": "[R] Bindings for count aggregation",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
                            "id": "2",
                            "description": "A new feature of the product, which has yet to be developed.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
                            "name": "New Feature",
                            "subtask": false,
                            "avatarId": 21141
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=thisisnic",
            "name": "thisisnic",
            "key": "thisisnic",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39937",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39937",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39937",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39937"
            },
            "displayName": "Nicola Crane",
            "active": true,
            "timeZone": "Africa/Casablanca"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 18000,
            "total": 18000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 18000,
            "total": 18000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-13739/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 30,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/659659",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#issuecomment-933612646\n\n\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-04T15:43:50.752+0000",
                    "updated": "2021-10-04T15:43:50.752+0000",
                    "started": "2021-10-04T15:43:50.752+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "659659",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/659661",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r721491014\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,57 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE, .drop = .drop)\n+  } else {\n+    out <- x\n+  }\n+\n+  out <- tally(out, wt = !!enquo(wt), sort = sort, name = name)\n+\n+  # Restore original group vars\n+  gv <- dplyr::group_vars(x)\n+  if (length(gv)) {\n+    out$group_by_vars <- gv\n+  }\n+\n+  out\n+}\n+\n+count.Dataset <- count.ArrowTabular <- count.arrow_dplyr_query\n+\n+tally.arrow_dplyr_query <- function(x, wt = NULL, sort = FALSE, name = NULL) {\n+  n <- dplyr:::tally_n(x, {{ wt }})\n\nReview comment:\n       What's the right way to do this?  Can't have `...` as it'll fail CRAN checks, but using `utils::getFromNamespace()` to get around it feels potentially a bit hacky.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-04T15:45:20.687+0000",
                    "updated": "2021-10-04T15:45:20.687+0000",
                    "started": "2021-10-04T15:45:20.687+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "659661",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/659669",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r721500799\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,57 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE, .drop = .drop)\n+  } else {\n+    out <- x\n+  }\n+\n+  out <- tally(out, wt = !!enquo(wt), sort = sort, name = name)\n+\n+  # Restore original group vars\n+  gv <- dplyr::group_vars(x)\n+  if (length(gv)) {\n+    out$group_by_vars <- gv\n+  }\n+\n+  out\n+}\n+\n+count.Dataset <- count.ArrowTabular <- count.arrow_dplyr_query\n+\n+tally.arrow_dplyr_query <- function(x, wt = NULL, sort = FALSE, name = NULL) {\n+  n <- dplyr:::tally_n(x, {{ wt }})\n\nReview comment:\n       Honestly it looks like a simple function (particularly if you ignore the deprecation warning check) so I'd just implement the logic below\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,57 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE, .drop = .drop)\n\nReview comment:\n       .drop isn't in the signature, so that will fail won't it?\r\n   \r\n   Also, if you move `gv <- dplyr::group_vars(x)` before here, you can just overwrite `x` and not need the `else` case\r\n   \r\n   ```suggestion\r\n       out <- group_by(x, ..., .add = TRUE)\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-04T15:57:14.097+0000",
                    "updated": "2021-10-04T15:57:14.097+0000",
                    "started": "2021-10-04T15:57:14.096+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "659669",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/659672",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r721502233\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,57 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE, .drop = .drop)\n+  } else {\n+    out <- x\n+  }\n+\n+  out <- tally(out, wt = !!enquo(wt), sort = sort, name = name)\n\nReview comment:\n       I could be wrong but isn't this what `{{` is for?\r\n   \r\n   ```suggestion\r\n     out <- tally(out, wt = {{ wt }}, sort = sort, name = name)\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-04T15:58:17.507+0000",
                    "updated": "2021-10-04T15:58:17.507+0000",
                    "started": "2021-10-04T15:58:17.507+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "659672",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/659675",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r721503189\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,57 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE, .drop = .drop)\n\nReview comment:\n       I see, .drop is in the signature of `dplyr:::count.data.frame`\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-04T15:59:28.212+0000",
                    "updated": "2021-10-04T15:59:28.212+0000",
                    "started": "2021-10-04T15:59:28.211+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "659675",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/659679",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r721506378\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,57 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE)\n+  } else {\n+    out <- x\n+  }\n+\n+  out <- tally(out, wt = !!enquo(wt), sort = sort, name = name)\n+\n+  # Restore original group vars\n+  gv <- dplyr::group_vars(x)\n+  if (length(gv)) {\n+    out$group_by_vars <- gv\n+  }\n+\n+  out\n+}\n+\n+count.Dataset <- count.ArrowTabular <- count.arrow_dplyr_query\n+\n+tally.arrow_dplyr_query <- function(x, wt = NULL, sort = FALSE, name = NULL) {\n+  n <- dplyr:::tally_n(x, {{ wt }})\n+  name <- dplyr:::check_name(name, group_vars(x))\n\nReview comment:\n       This one is more involved, you may want to `getFromNamespace`\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-04T16:03:04.581+0000",
                    "updated": "2021-10-04T16:03:04.581+0000",
                    "started": "2021-10-04T16:03:04.581+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "659679",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/659709",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r721541439\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,70 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE)\n+  } else {\n+    out <- x\n+  }\n+\n+  out <- tally(out, wt = {{ wt }}, sort = sort, name = name)\n+\n+  # Restore original group vars\n+  gv <- dplyr::group_vars(x)\n+  if (length(gv)) {\n+    out$group_by_vars <- gv\n+  }\n+\n+  out\n+}\n+\n+count.Dataset <- count.ArrowTabular <- count.arrow_dplyr_query\n+\n+tally.arrow_dplyr_query <- function(x, wt = NULL, sort = FALSE, name = NULL) {\n+  n <- tally_n(x, {{ wt }})\n+  name <- check_name(name, group_vars(x))\n+\n+  out <- local({\n+    old.options <- options(dplyr.summarise.inform = FALSE)\n+    on.exit(options(old.options))\n+    summarise(x, !!name := !!n)\n\nReview comment:\n       This needs to call dplyr:: since it's Suggests and we need that to get the dispatch to work.\r\n   \r\n   ```suggestion\r\n       dplyr::summarise(x, !!name := !!n)\r\n   ```\r\n   \r\n   Also, what I meant about inlining before: I meant more like this, which would remove one level of expression boxing and unboxing:\r\n   \r\n   ```\r\n   wt <- enquo(wt)\r\n   if (quo_is_null(wt)) {\r\n     summarize(x, !!name = n())\r\n   } else {\r\n     summarize(x, !!name = sum(!!wt, na.rm = TRUE))\r\n   }\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-04T16:47:55.712+0000",
                    "updated": "2021-10-04T16:47:55.712+0000",
                    "started": "2021-10-04T16:47:55.711+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "659709",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/659710",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r721541439\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,70 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE)\n+  } else {\n+    out <- x\n+  }\n+\n+  out <- tally(out, wt = {{ wt }}, sort = sort, name = name)\n+\n+  # Restore original group vars\n+  gv <- dplyr::group_vars(x)\n+  if (length(gv)) {\n+    out$group_by_vars <- gv\n+  }\n+\n+  out\n+}\n+\n+count.Dataset <- count.ArrowTabular <- count.arrow_dplyr_query\n+\n+tally.arrow_dplyr_query <- function(x, wt = NULL, sort = FALSE, name = NULL) {\n+  n <- tally_n(x, {{ wt }})\n+  name <- check_name(name, group_vars(x))\n+\n+  out <- local({\n+    old.options <- options(dplyr.summarise.inform = FALSE)\n+    on.exit(options(old.options))\n+    summarise(x, !!name := !!n)\n\nReview comment:\n       This needs to call dplyr:: since it's Suggests and we need that to get the dispatch to work.\r\n   \r\n   ```suggestion\r\n       dplyr::summarise(x, !!name := !!n)\r\n   ```\r\n   \r\n   Also, what I meant about inlining before: I meant more like this, which would remove one level of expression boxing and unboxing:\r\n   \r\n   ```\r\n   wt <- enquo(wt)\r\n   if (quo_is_null(wt)) {\r\n     dplyr::summarize(x, !!name = n())\r\n   } else {\r\n     dplyr::summarize(x, !!name = sum(!!wt, na.rm = TRUE))\r\n   }\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-04T16:48:09.026+0000",
                    "updated": "2021-10-04T16:48:09.026+0000",
                    "started": "2021-10-04T16:48:09.026+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "659710",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/659714",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r721545361\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,70 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE)\n+  } else {\n+    out <- x\n+  }\n+\n+  out <- tally(out, wt = {{ wt }}, sort = sort, name = name)\n+\n+  # Restore original group vars\n+  gv <- dplyr::group_vars(x)\n+  if (length(gv)) {\n+    out$group_by_vars <- gv\n+  }\n+\n+  out\n+}\n+\n+count.Dataset <- count.ArrowTabular <- count.arrow_dplyr_query\n+\n+tally.arrow_dplyr_query <- function(x, wt = NULL, sort = FALSE, name = NULL) {\n+  n <- tally_n(x, {{ wt }})\n+  name <- check_name(name, group_vars(x))\n+\n+  out <- local({\n+    old.options <- options(dplyr.summarise.inform = FALSE)\n+    on.exit(options(old.options))\n+    summarise(x, !!name := !!n)\n\nReview comment:\n       What's inlining?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-04T16:53:01.999+0000",
                    "updated": "2021-10-04T16:53:01.999+0000",
                    "started": "2021-10-04T16:53:01.999+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "659714",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/659806",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r721636773\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,70 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE)\n+  } else {\n+    out <- x\n+  }\n+\n+  out <- tally(out, wt = {{ wt }}, sort = sort, name = name)\n+\n+  # Restore original group vars\n+  gv <- dplyr::group_vars(x)\n+  if (length(gv)) {\n+    out$group_by_vars <- gv\n+  }\n+\n+  out\n+}\n+\n+count.Dataset <- count.ArrowTabular <- count.arrow_dplyr_query\n+\n+tally.arrow_dplyr_query <- function(x, wt = NULL, sort = FALSE, name = NULL) {\n+  n <- tally_n(x, {{ wt }})\n+  name <- check_name(name, group_vars(x))\n+\n+  out <- local({\n+    old.options <- options(dplyr.summarise.inform = FALSE)\n+    on.exit(options(old.options))\n+    summarise(x, !!name := !!n)\n\nReview comment:\n       Oh, adding the code \"in line\" rather than factored out into a function.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-04T19:00:31.962+0000",
                    "updated": "2021-10-04T19:00:31.962+0000",
                    "started": "2021-10-04T19:00:31.962+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "659806",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/659958",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#issuecomment-933932508\n\n\n   There's also a skipped test-dataset-something.R test about count, you should unskip it in this PR\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-04T23:28:58.642+0000",
                    "updated": "2021-10-04T23:28:58.642+0000",
                    "started": "2021-10-04T23:28:58.641+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "659958",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/660325",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r722258661\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,69 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE)\n+  } else {\n+    out <- x\n+  }\n+\n+  out <- tally(out, wt = {{ wt }}, sort = sort, name = name)\n+\n+  # Restore original group vars\n+  gv <- dplyr::group_vars(x)\n+  if (length(gv)) {\n+    out$group_by_vars <- gv\n+  }\n+\n+  out\n+}\n+\n+count.Dataset <- count.ArrowTabular <- count.arrow_dplyr_query\n+\n+tally.arrow_dplyr_query <- function(x, wt = NULL, sort = FALSE, name = NULL) {\n+  n <- tally_n(x, {{ wt }})\n+  name <- check_name(name, group_vars(x))\n+\n+  out <- local({\n+    old.options <- options(dplyr.summarise.inform = FALSE)\n+    on.exit(options(old.options))\n+    summarise(x, !!name := !!n)\n+  })\n+\n+  if (sort) {\n+    arrange(out, desc(!!sym(name)))\n+  } else {\n+    out\n+  }\n+}\n+\n+tally.Dataset <- tally.ArrowTabular <- tally.arrow_dplyr_query\n+\n+tally_n <- function(x, wt) {\n+  wt <- enquo(wt)\n+\n+  if (quo_is_null(wt)) {\n+    expr(n())\n+  } else {\n+    expr(sum(!!wt, na.rm = TRUE))\n+  }\n+}\n+\n+check_name <- getFromNamespace(\"check_name\", \"dplyr\")\n\nReview comment:\n       Do this inside `tally` and not here: this is evaluated at install time, and it's not guaranteed that dplyr is available then.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-05T13:46:43.463+0000",
                    "updated": "2021-10-05T13:46:43.463+0000",
                    "started": "2021-10-05T13:46:43.462+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660325",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/660887",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r723177499\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,70 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE)\n+  } else {\n+    out <- x\n+  }\n+\n+  out <- tally(out, wt = {{ wt }}, sort = sort, name = name)\n+\n+  # Restore original group vars\n+  gv <- dplyr::group_vars(x)\n+  if (length(gv)) {\n+    out$group_by_vars <- gv\n+  }\n+\n+  out\n+}\n+\n+count.Dataset <- count.ArrowTabular <- count.arrow_dplyr_query\n+\n+tally.arrow_dplyr_query <- function(x, wt = NULL, sort = FALSE, name = NULL) {\n+  n <- tally_n(x, {{ wt }})\n+  name <- check_name(name, group_vars(x))\n+\n+  out <- local({\n+    old.options <- options(dplyr.summarise.inform = FALSE)\n+    on.exit(options(old.options))\n+    summarise(x, !!name := !!n)\n\nReview comment:\n       Right, I see.  I tried implementing it like this:\r\n   \r\n   ```\r\n   tally.arrow_dplyr_query <- function(x, wt = NULL, sort = FALSE, name = NULL) {\r\n     \r\n     wt <- enquo(wt)\r\n   \r\n     name <- check_name(name, group_vars(x))\r\n   \r\n     if (quo_is_null(wt)) {\r\n       out <- dplyr::summarize(x, {{name}} := n())\r\n     } else {\r\n       out <- dplyr::summarize(x, {{name}} := sum(!!wt, na.rm = TRUE))\r\n     }\r\n   \r\n     if (sort) {\r\n       arrange(out, desc(!!sym(name)))\r\n     } else {\r\n       out\r\n     }\r\n   }\r\n   ```\r\n   \r\n   But keep getting a weird error `No arrow R6 class named 'p%'` which apparently comes from `r/src/arrow_cpp11.h` which has absolutely baffled me.  Any idea where I should be looking next with this?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-06T12:11:09.550+0000",
                    "updated": "2021-10-06T12:11:09.550+0000",
                    "started": "2021-10-06T12:11:09.550+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660887",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/660895",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r723195391\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,70 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE)\n+  } else {\n+    out <- x\n+  }\n+\n+  out <- tally(out, wt = {{ wt }}, sort = sort, name = name)\n+\n+  # Restore original group vars\n+  gv <- dplyr::group_vars(x)\n+  if (length(gv)) {\n+    out$group_by_vars <- gv\n+  }\n+\n+  out\n+}\n+\n+count.Dataset <- count.ArrowTabular <- count.arrow_dplyr_query\n+\n+tally.arrow_dplyr_query <- function(x, wt = NULL, sort = FALSE, name = NULL) {\n+  n <- tally_n(x, {{ wt }})\n+  name <- check_name(name, group_vars(x))\n+\n+  out <- local({\n+    old.options <- options(dplyr.summarise.inform = FALSE)\n+    on.exit(options(old.options))\n+    summarise(x, !!name := !!n)\n\nReview comment:\n       Doesn't ring a bell. Though if I read this correctly, it should be `!!name` instead of `{{name}}`, maybe that's related. If you're still having trouble I can pull and take a look.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-06T12:33:49.976+0000",
                    "updated": "2021-10-06T12:33:49.976+0000",
                    "started": "2021-10-06T12:33:49.975+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660895",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/660903",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r723223665\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,70 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE)\n+  } else {\n+    out <- x\n+  }\n+\n+  out <- tally(out, wt = {{ wt }}, sort = sort, name = name)\n+\n+  # Restore original group vars\n+  gv <- dplyr::group_vars(x)\n+  if (length(gv)) {\n+    out$group_by_vars <- gv\n+  }\n+\n+  out\n+}\n+\n+count.Dataset <- count.ArrowTabular <- count.arrow_dplyr_query\n+\n+tally.arrow_dplyr_query <- function(x, wt = NULL, sort = FALSE, name = NULL) {\n+  n <- tally_n(x, {{ wt }})\n+  name <- check_name(name, group_vars(x))\n+\n+  out <- local({\n+    old.options <- options(dplyr.summarise.inform = FALSE)\n+    on.exit(options(old.options))\n+    summarise(x, !!name := !!n)\n\nReview comment:\n       Never mind, I needed to rebuild the C++\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-06T12:57:12.192+0000",
                    "updated": "2021-10-06T12:57:12.192+0000",
                    "started": "2021-10-06T12:57:12.192+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660903",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/660937",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic commented on pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#issuecomment-936329236\n\n\n   The failing test here fails once per session with something like \r\n   \r\n   ```\r\n   Failure (test-dplyr-count-tally.R:43:3): count/tally with wt and grouped data\r\n   `via_batch <- rlang::eval_tidy(expr, rlang::new_data_mask(rlang::env(input = record_batch(tbl))))` threw an unexpected warning.\r\n   Message: Subsetting quosures with `[[` is deprecated as of rlang 0.4.0\r\n   Please use `quo_get_expr()` instead.\r\n   This warning is displayed once per session.\r\n   Class:   deprecatedWarning/warning/condition\r\n   ```\r\n   but on subsequent runs in the same session, it's fine and passes.  I'm a bit unsure of what to do here as I looked for the line of code which triggers it but see no `[[` there.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-06T14:22:46.016+0000",
                    "updated": "2021-10-06T14:22:46.016+0000",
                    "started": "2021-10-06T14:22:46.016+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660937",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/660938",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "thisisnic edited a comment on pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#issuecomment-936329236\n\n\n   The failing test here fails once per session with something like \r\n   \r\n   ```\r\n   Failure (test-dplyr-count-tally.R:43:3): count/tally with wt and grouped data\r\n   `via_batch <- rlang::eval_tidy(expr, rlang::new_data_mask(rlang::env(input = record_batch(tbl))))` threw an unexpected warning.\r\n   Message: Subsetting quosures with `[[` is deprecated as of rlang 0.4.0\r\n   Please use `quo_get_expr()` instead.\r\n   This warning is displayed once per session.\r\n   Class:   deprecatedWarning/warning/condition\r\n   ```\r\n   but on subsequent runs in the same session, it's fine and passes.  I'm a bit unsure of what to do here as I looked for the line of code which triggers it but see no `[[` there.\r\n   \r\n   Is this something we've seen before @nealrichardson ?\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-06T14:23:09.526+0000",
                    "updated": "2021-10-06T14:23:09.526+0000",
                    "started": "2021-10-06T14:23:09.526+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "660938",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/661004",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r723401347\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,59 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE)\n+  } else {\n+    out <- x\n+  }\n+  out <- tally(out, wt = {{ wt }}, sort = sort, name = name)\n+\n+  # Restore original group vars\n+  gv <- dplyr::group_vars(x)\n+  if (length(gv)) {\n+    out$group_by_vars <- gv\n+  }\n+\n+  out\n+}\n+\n+count.Dataset <- count.ArrowTabular <- count.arrow_dplyr_query\n+\n+tally.arrow_dplyr_query <- function(x, wt = NULL, sort = FALSE, name = NULL) {\n+\n+  wt <- enquo(wt)\n+\n+  check_name <- getFromNamespace(\"check_name\", \"dplyr\")\n+  name <- check_name(name, group_vars(x))\n\nReview comment:\n       ```suggestion\r\n     name <- check_name(name, dplyr::group_vars(x))\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-06T15:33:36.200+0000",
                    "updated": "2021-10-06T15:33:36.200+0000",
                    "started": "2021-10-06T15:33:36.200+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "661004",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/661010",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#issuecomment-936513754\n\n\n   \r\n   \r\n   \r\n   > The failing test here fails once per session with something like\r\n   > \r\n   > ```\r\n   > Failure (test-dplyr-count-tally.R:43:3): count/tally with wt and grouped data\r\n   > `via_batch <- rlang::eval_tidy(expr, rlang::new_data_mask(rlang::env(input = record_batch(tbl))))` threw an unexpected warning.\r\n   > Message: Subsetting quosures with `[[` is deprecated as of rlang 0.4.0\r\n   > Please use `quo_get_expr()` instead.\r\n   > This warning is displayed once per session.\r\n   > Class:   deprecatedWarning/warning/condition\r\n   > ```\r\n   > \r\n   > but on subsequent runs in the same session, it's fine and passes. I'm a bit unsure of what to do here as I looked for the line of code which triggers it but see no `[[` there.\r\n   > \r\n   > Is this something we've seen before @nealrichardson ?\r\n   \r\n   \"This warning is displayed once per session\" is why it doesn't happen the next time. \r\n   \r\n   I've seen it before but not lately. I'll have to pull and take a look.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-06T15:35:31.016+0000",
                    "updated": "2021-10-06T15:35:31.016+0000",
                    "started": "2021-10-06T15:35:31.016+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "661010",
                    "issueId": "13396991"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/worklog/661038",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11306:\nURL: https://github.com/apache/arrow/pull/11306#discussion_r723451766\n\n\n\n##########\nFile path: r/R/dplyr-count-tally.R\n##########\n@@ -0,0 +1,59 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+# The following S3 methods are registered on load if dplyr is present\n+\n+count.arrow_dplyr_query <- function(x, ..., wt = NULL, sort = FALSE, name = NULL) {\n+  if (!missing(...)) {\n+    out <- group_by(x, ..., .add = TRUE)\n+  } else {\n+    out <- x\n+  }\n+  out <- tally(out, wt = {{ wt }}, sort = sort, name = name)\n+\n+  # Restore original group vars\n+  gv <- dplyr::group_vars(x)\n+  if (length(gv)) {\n+    out$group_by_vars <- gv\n+  }\n+\n+  out\n+}\n+\n+count.Dataset <- count.ArrowTabular <- count.arrow_dplyr_query\n+\n+tally.arrow_dplyr_query <- function(x, wt = NULL, sort = FALSE, name = NULL) {\n+\n+  wt <- enquo(wt)\n+\n+  check_name <- getFromNamespace(\"check_name\", \"dplyr\")\n+  name <- check_name(name, dplyr::group_vars(x))\n+\n+  if (quo_is_null(wt)) {\n+    out <- dplyr::summarize(x, !!name := n())\n+  } else {\n+    out <- dplyr::summarize(x, !!name := sum(!!wt, na.rm = TRUE))\n+  }\n\nReview comment:\n       ```suggestion\r\n     check_name <- getFromNamespace(\"check_name\", \"dplyr\")\r\n     name <- check_name(name, dplyr::group_vars(x))\r\n   \r\n     if (quo_is_null(enquo(wt))) {\r\n       out <- dplyr::summarize(x, !!name := n())\r\n     } else {\r\n       out <- dplyr::summarize(x, !!name := sum({{ wt }}, na.rm = TRUE))\r\n     }\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-06T16:16:45.076+0000",
                    "updated": "2021-10-06T16:16:45.076+0000",
                    "started": "2021-10-06T16:16:45.076+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "661038",
                    "issueId": "13396991"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 18000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@6cd554ee[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5204aa7b[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3078c25b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@47d8f15d[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3209fb2a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@2085b979[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5699cd28[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@564b8cbf[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2b66edf7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@2625d793[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3e4daef2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@34e9e3f0[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 18000,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Oct 08 19:37:28 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-10-08T19:37:28.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-13739/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2021-08-24T17:49:25.000+0000",
        "updated": "2021-10-08T19:37:36.000+0000",
        "timeoriginalestimate": null,
        "description": "These may just work by borrowing the data.frame methods in dplyr",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 18000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] Support dplyr::count() and tally()",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13396991/comment/17426348",
                    "id": "17426348",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Issue resolved by pull request 11306\n[https://github.com/apache/arrow/pull/11306]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2021-10-08T19:37:28.104+0000",
                    "updated": "2021-10-08T19:37:28.104+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0u7fs:",
        "customfield_12314139": null
    }
}