{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13304744",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304744",
    "key": "ARROW-8791",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12347769",
                "id": "12347769",
                "description": "",
                "name": "1.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-07-24"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12346687",
                "id": "12346687",
                "description": "",
                "name": "0.17.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-04-20"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jhorstmann",
            "name": "jhorstmann",
            "key": "jhorstmann",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "J\u00f6rn Horstmann",
            "active": true,
            "timeZone": "Europe/Berlin"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333773",
                "id": "12333773",
                "name": "Rust"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jhorstmann",
            "name": "jhorstmann",
            "key": "jhorstmann",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "J\u00f6rn Horstmann",
            "active": true,
            "timeZone": "Europe/Berlin"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jhorstmann",
            "name": "jhorstmann",
            "key": "jhorstmann",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "J\u00f6rn Horstmann",
            "active": true,
            "timeZone": "Europe/Berlin"
        },
        "aggregateprogress": {
            "progress": 4800,
            "total": 4800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 4800,
            "total": 4800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-8791/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 8,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304744/worklog/435095",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jhorstmann opened a new pull request #7226:\nURL: https://github.com/apache/arrow/pull/7226\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-05-19T18:06:17.773+0000",
                    "updated": "2020-05-19T18:06:17.773+0000",
                    "started": "2020-05-19T18:06:17.773+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "435095",
                    "issueId": "13304744"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304744/worklog/435099",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #7226:\nURL: https://github.com/apache/arrow/pull/7226#issuecomment-630993571\n\n\n   https://issues.apache.org/jira/browse/ARROW-8791\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-05-19T18:16:37.910+0000",
                    "updated": "2020-05-19T18:16:37.910+0000",
                    "started": "2020-05-19T18:16:37.910+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "435099",
                    "issueId": "13304744"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304744/worklog/435191",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nevi-me commented on a change in pull request #7226:\nURL: https://github.com/apache/arrow/pull/7226#discussion_r427587582\n\n\n\n##########\nFile path: rust/arrow/src/array/builder.rs\n##########\n@@ -1334,6 +1334,35 @@ where\n             map: HashMap::new(),\n         }\n     }\n+\n+    pub fn new_with_dictionary(\n\nReview comment:\n       may you please add a doc comment\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-05-19T20:53:33.694+0000",
                    "updated": "2020-05-19T20:53:33.694+0000",
                    "started": "2020-05-19T20:53:33.694+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "435191",
                    "issueId": "13304744"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304744/worklog/435457",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jhorstmann commented on pull request #7226:\nURL: https://github.com/apache/arrow/pull/7226#issuecomment-631474781\n\n\n   While writing the docs, I was wondering what is actually the usecase for the existing `new` function taking key and value builders as argument vs. taking two capacity values. It reduces the possibility for mixing up those two capacities, but I can't think of a reason for creating a dictionary builder with something else than two freshly instantiated builders.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-05-20T13:30:39.955+0000",
                    "updated": "2020-05-20T13:30:39.955+0000",
                    "started": "2020-05-20T13:30:39.955+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "435457",
                    "issueId": "13304744"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304744/worklog/435475",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "vertexclique commented on a change in pull request #7226:\nURL: https://github.com/apache/arrow/pull/7226#discussion_r428057479\n\n\n\n##########\nFile path: rust/arrow/src/array/builder.rs\n##########\n@@ -1334,6 +1334,58 @@ where\n             map: HashMap::new(),\n         }\n     }\n+\n+    /// Creates a new `StringDictionaryBuilder` from a keys builder and a dictionary initialized with the given values.\n+    /// The indices of those dictionary values are used as keys.\n+    ///\n+    /// # Example\n+    ///\n+    /// ```\n+    /// use arrow::datatypes::Int16Type;\n+    /// use arrow::array::{StringArray, StringDictionaryBuilder, PrimitiveBuilder};\n+    /// use std::convert::TryFrom;\n+    ///\n+    /// let dictionary_values = StringArray::try_from(vec![None, Some(\"abc\"), Some(\"def\")]).unwrap();\n+    ///\n+    /// let mut builder = StringDictionaryBuilder::new_with_dictionary(PrimitiveBuilder::<Int16Type>::new(3), &dictionary_values).unwrap();\n+    /// builder.append(\"def\").unwrap();\n+    /// builder.append_null().unwrap();\n+    /// builder.append(\"abc\").unwrap();\n+    ///\n+    /// let dictionary_array = builder.finish();\n+    ///\n+    /// let keys: Vec<Option<i16>> = dictionary_array.keys().collect();\n+    ///\n+    ///  assert_eq!(keys, vec![Some(2), None, Some(1)]);\n\nReview comment:\n       assert is off by one space.\n\n##########\nFile path: rust/arrow/src/array/builder.rs\n##########\n@@ -1334,6 +1334,58 @@ where\n             map: HashMap::new(),\n         }\n     }\n+\n+    /// Creates a new `StringDictionaryBuilder` from a keys builder and a dictionary initialized with the given values.\n+    /// The indices of those dictionary values are used as keys.\n+    ///\n+    /// # Example\n+    ///\n+    /// ```\n+    /// use arrow::datatypes::Int16Type;\n+    /// use arrow::array::{StringArray, StringDictionaryBuilder, PrimitiveBuilder};\n+    /// use std::convert::TryFrom;\n+    ///\n+    /// let dictionary_values = StringArray::try_from(vec![None, Some(\"abc\"), Some(\"def\")]).unwrap();\n+    ///\n+    /// let mut builder = StringDictionaryBuilder::new_with_dictionary(PrimitiveBuilder::<Int16Type>::new(3), &dictionary_values).unwrap();\n+    /// builder.append(\"def\").unwrap();\n+    /// builder.append_null().unwrap();\n+    /// builder.append(\"abc\").unwrap();\n+    ///\n+    /// let dictionary_array = builder.finish();\n+    ///\n+    /// let keys: Vec<Option<i16>> = dictionary_array.keys().collect();\n+    ///\n+    ///  assert_eq!(keys, vec![Some(2), None, Some(1)]);\n+    /// ```\n+    pub fn new_with_dictionary(\n+        keys_builder: PrimitiveBuilder<K>,\n+        dictionary_values: &StringArray,\n+    ) -> Result<Self> {\n+        let mut values_builder = StringBuilder::with_capacity(\n+            dictionary_values.len(),\n+            dictionary_values.value_data().len(),\n+        );\n+        let mut map: HashMap<Box<[u8]>, K::Native> = HashMap::new();\n\nReview comment:\n       ```suggestion\r\n           let mut map: HashMap<Box<[u8]>, K::Native> = HashMap::with_capacity(dictionary_values.len());\r\n   ```\n\n##########\nFile path: rust/arrow/src/array/builder.rs\n##########\n@@ -1334,6 +1334,58 @@ where\n             map: HashMap::new(),\n         }\n     }\n+\n+    /// Creates a new `StringDictionaryBuilder` from a keys builder and a dictionary initialized with the given values.\n+    /// The indices of those dictionary values are used as keys.\n+    ///\n+    /// # Example\n+    ///\n+    /// ```\n+    /// use arrow::datatypes::Int16Type;\n+    /// use arrow::array::{StringArray, StringDictionaryBuilder, PrimitiveBuilder};\n+    /// use std::convert::TryFrom;\n+    ///\n+    /// let dictionary_values = StringArray::try_from(vec![None, Some(\"abc\"), Some(\"def\")]).unwrap();\n+    ///\n+    /// let mut builder = StringDictionaryBuilder::new_with_dictionary(PrimitiveBuilder::<Int16Type>::new(3), &dictionary_values).unwrap();\n+    /// builder.append(\"def\").unwrap();\n+    /// builder.append_null().unwrap();\n+    /// builder.append(\"abc\").unwrap();\n+    ///\n+    /// let dictionary_array = builder.finish();\n+    ///\n+    /// let keys: Vec<Option<i16>> = dictionary_array.keys().collect();\n+    ///\n+    ///  assert_eq!(keys, vec![Some(2), None, Some(1)]);\n+    /// ```\n+    pub fn new_with_dictionary(\n+        keys_builder: PrimitiveBuilder<K>,\n+        dictionary_values: &StringArray,\n+    ) -> Result<Self> {\n+        let mut values_builder = StringBuilder::with_capacity(\n+            dictionary_values.len(),\n+            dictionary_values.value_data().len(),\n+        );\n+        let mut map: HashMap<Box<[u8]>, K::Native> = HashMap::new();\n+        for i in 0..dictionary_values.len() {\n\nReview comment:\n       maybe better.\r\n   ```suggestion\r\n           0..dictionary_values.len()\r\n           .for_each(|i| {\r\n   ```\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-05-20T14:36:13.215+0000",
                    "updated": "2020-05-20T14:36:13.215+0000",
                    "started": "2020-05-20T14:36:13.215+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "435475",
                    "issueId": "13304744"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304744/worklog/436707",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "sunchao commented on a change in pull request #7226:\nURL: https://github.com/apache/arrow/pull/7226#discussion_r429492355\n\n\n\n##########\nFile path: rust/arrow/src/array/builder.rs\n##########\n@@ -1334,6 +1334,57 @@ where\n             map: HashMap::new(),\n         }\n     }\n+\n+    /// Creates a new `StringDictionaryBuilder` from a keys builder and a dictionary initialized with the given values.\n\nReview comment:\n       nit: can we limit the line width to 90 characters?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-05-22T23:57:26.602+0000",
                    "updated": "2020-05-22T23:57:26.602+0000",
                    "started": "2020-05-22T23:57:26.602+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "436707",
                    "issueId": "13304744"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304744/worklog/437585",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nevi-me closed pull request #7226:\nURL: https://github.com/apache/arrow/pull/7226\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-05-27T04:10:34.000+0000",
                    "updated": "2020-05-27T04:10:34.000+0000",
                    "started": "2020-05-27T04:10:34.000+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "437585",
                    "issueId": "13304744"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304744/worklog/437588",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jhorstmann commented on pull request #7226:\nURL: https://github.com/apache/arrow/pull/7226#issuecomment-633995723\n\n\n   Hi @nevi-me and @sunchao thanks for the review, if there are no further review comments it would be awesome if we could get this merged.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-05-27T04:10:58.522+0000",
                    "updated": "2020-05-27T04:10:58.522+0000",
                    "started": "2020-05-27T04:10:58.521+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "437588",
                    "issueId": "13304744"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 4800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@79aa7a25[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@12e804e5[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@66c7d940[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@345a3651[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7f46f66b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@4e673f7[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5cb3b7f2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@39befa8b[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7103a679[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@46cd1a65[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7802969[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@4924f1b0[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 4800,
        "customfield_12312520": null,
        "customfield_12312521": "Tue May 26 13:15:51 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-05-26T13:15:51.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-8791/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2020-05-13T18:25:18.000+0000",
        "updated": "2020-05-27T04:10:59.000+0000",
        "timeoriginalestimate": null,
        "description": "It might be useful to create a DictionaryArray that uses the same dictionary keys as another array. One usecase would be more efficient comparison between arrays if it is known that they use the same dictionary. Another could be more efficient grouping operations, across multiple chunks (ie a `Vec<DictionaryArray>`).\r\n\r\n\u00a0\r\n\r\nA possible implementation could look like this:\r\n\r\n\u00a0\r\n{code:java}\r\nimpl<K> StringDictionaryBuilder<K>\r\nwhere\r\n    K: ArrowDictionaryKeyType,\r\n{\r\n    pub fn new_with_dictionary(\r\n        keys_builder: PrimitiveBuilder<K>,\r\n        dictionary_values: &StringArray,\r\n    ) -> Result<Self> {\r\n        let mut values_builder = StringBuilder::with_capacity(\r\n            dictionary_values.len(),\r\n            dictionary_values.value_data().len(),\r\n        );\r\n        let mut map: HashMap<Box<[u8]>, K::Native> = HashMap::new();\r\n        for i in 0..dictionary_values.len() {\r\n            if dictionary_values.is_valid(i) {\r\n                let value = dictionary_values.value(i);\r\n                map.insert(\r\n                    value.as_bytes().into(),\r\n                    K::Native::from_usize(i)\r\n                        .ok_or(ArrowError::DictionaryKeyOverflowError)?,\r\n                );\r\n                values_builder.append_value(value);\r\n            } else {\r\n                values_builder.append_null();\r\n            }\r\n        }\r\n        Ok(Self {\r\n            keys_builder,\r\n            values_builder,\r\n            map,\r\n        })\r\n    }\r\n}{code}\r\nI don't really like here that the map has to be reconstructed, maybe there is a more efficient way by passing in the HashMap directly, but it's probably not a good idea to expose the `Box<[u8]>` encoding of its keys.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 4800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Rust] Creating StringDictionaryBuilder with existing dictionary values",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13304744/comment/17116734",
                    "id": "17116734",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=nevi_me",
                        "name": "nevi_me",
                        "key": "nevi_me",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=nevi_me&avatarId=24271",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nevi_me&avatarId=24271",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nevi_me&avatarId=24271",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nevi_me&avatarId=24271"
                        },
                        "displayName": "Neville Dipale",
                        "active": true,
                        "timeZone": "Africa/Johannesburg"
                    },
                    "body": "Issue resolved by pull request 7226\n[https://github.com/apache/arrow/pull/7226]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=nevi_me",
                        "name": "nevi_me",
                        "key": "nevi_me",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=nevi_me&avatarId=24271",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=nevi_me&avatarId=24271",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=nevi_me&avatarId=24271",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=nevi_me&avatarId=24271"
                        },
                        "displayName": "Neville Dipale",
                        "active": true,
                        "timeZone": "Africa/Johannesburg"
                    },
                    "created": "2020-05-26T13:15:51.787+0000",
                    "updated": "2020-05-26T13:15:51.787+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0epeg:",
        "customfield_12314139": null
    }
}