{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13144754",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13144754",
    "key": "ARROW-2302",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12342562",
                "id": "12342562",
                "description": "",
                "name": "0.10.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-08-06"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=kou",
            "name": "kou",
            "key": "kou",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kou&avatarId=30762",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kou&avatarId=30762",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kou&avatarId=30762",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kou&avatarId=30762"
            },
            "displayName": "Kouhei Sutou",
            "active": true,
            "timeZone": "Asia/Tokyo"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12332430",
                "id": "12332430",
                "name": "GLib"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 3000,
            "total": 3000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 3000,
            "total": 3000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2302/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 5,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13144754/worklog/96693",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou opened a new pull request #1967: ARROW-2302: [GLib] Unify GNU Autotools build and Meson build into one Travis CI job\nURL: https://github.com/apache/arrow/pull/1967\n \n \n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-04-30T13:16:04.648+0000",
                    "updated": "2018-04-30T13:16:04.648+0000",
                    "started": "2018-04-30T13:16:04.648+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "96693",
                    "issueId": "13144754"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13144754/worklog/96861",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #1967: ARROW-2302: [GLib] Unify GNU Autotools build and Meson build into one Travis CI job\nURL: https://github.com/apache/arrow/pull/1967#issuecomment-385542474\n \n \n   The C/glib build here took 16 minutes while it took on the order of 3 minutes before: https://travis-ci.org/apache/arrow/builds/373029547\r\n   Is that expected?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-04-30T22:03:24.357+0000",
                    "updated": "2018-04-30T22:03:24.357+0000",
                    "started": "2018-04-30T22:03:24.357+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "96861",
                    "issueId": "13144754"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13144754/worklog/96889",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on issue #1967: ARROW-2302: [GLib] Unify GNU Autotools build and Meson build into one Travis CI job\nURL: https://github.com/apache/arrow/pull/1967#issuecomment-385560645\n \n \n   Umm.\r\n   It may be a network problem.\r\n   \r\n     * `travis_install_linux.sh`:\r\n       * [Before](https://travis-ci.org/apache/arrow/jobs/371023432#L491): took 11.12s\r\n       * [After](https://travis-ci.org/apache/arrow/jobs/373029554#L500): took 355.60s\r\n     * `travis_before_script_cpp.sh --only-library`:\r\n       * [Before](https://travis-ci.org/apache/arrow/jobs/371023432#L621): took 43.14s\r\n       * [After](https://travis-ci.org/apache/arrow/jobs/373029554#L632): took 189.50s\r\n   \r\n   This change doesn't include changes of these scripts.\r\n   \r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-04-30T23:42:11.549+0000",
                    "updated": "2018-04-30T23:42:11.549+0000",
                    "started": "2018-04-30T23:42:11.548+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "96889",
                    "issueId": "13144754"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13144754/worklog/96996",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #1967: ARROW-2302: [GLib] Unify GNU Autotools build and Meson build into one Travis CI job\nURL: https://github.com/apache/arrow/pull/1967#issuecomment-385621715\n \n \n   Ok, I'm restarting the build to be sure.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-01T08:09:43.480+0000",
                    "updated": "2018-05-01T08:09:43.480+0000",
                    "started": "2018-05-01T08:09:43.479+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "96996",
                    "issueId": "13144754"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13144754/worklog/97015",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy closed pull request #1967: ARROW-2302: [GLib] Unify GNU Autotools build and Meson build into one Travis CI job\nURL: https://github.com/apache/arrow/pull/1967\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/.travis.yml b/.travis.yml\nindex 24930770e..385065426 100644\n--- a/.travis.yml\n+++ b/.travis.yml\n@@ -148,12 +148,12 @@ matrix:\n     - $TRAVIS_BUILD_DIR/ci/travis_before_script_js.sh\n     script:\n     - $TRAVIS_BUILD_DIR/ci/travis_script_js.sh\n-  # C++ & glib w/ gcc 4.9 & autotools\n+  # C++ & glib w/ gcc 4.9\n   - compiler: gcc\n     language: cpp\n     os: linux\n     env:\n-    - BUILD_SYSTEM=autotools BUILD_TORCH_EXAMPLE=no\n+    - BUILD_TORCH_EXAMPLE=no\n     - CC=\"gcc-4.9\"\n     - CXX=\"g++-4.9\"\n     before_script:\n@@ -163,30 +163,13 @@ matrix:\n     - $TRAVIS_BUILD_DIR/ci/travis_before_script_c_glib.sh\n     script:\n     - $TRAVIS_BUILD_DIR/ci/travis_script_c_glib.sh\n-  # C++ & glib w/ gcc 4.9 & meson\n-  - compiler: gcc\n-    language: cpp\n-    os: linux\n-    env:\n-    - BUILD_SYSTEM=meson BUILD_TORCH_EXAMPLE=no\n-    - CC=\"gcc-4.9\"\n-    - CXX=\"g++-4.9\"\n-    before_script:\n-    - if [ $ARROW_CI_C_GLIB_AFFECTED != \"1\" ]; then exit; fi\n-    - $TRAVIS_BUILD_DIR/ci/travis_install_linux.sh\n-    - $TRAVIS_BUILD_DIR/ci/travis_before_script_cpp.sh --only-library\n-    - $TRAVIS_BUILD_DIR/ci/travis_before_script_c_glib.sh\n-    script:\n-    - $TRAVIS_BUILD_DIR/ci/travis_script_c_glib.sh\n-  # [OS X] C++ & glib w/ XCode 8.3 & autotools & homebrew\n+  # [OS X] C++ & glib w/ XCode 8.3 & homebrew\n   - compiler: clang\n     osx_image: xcode8.3\n     os: osx\n     cache:\n     addons:\n     rvm: 2.2\n-    env:\n-    - BUILD_SYSTEM=autotools\n     before_script:\n     - if [ $ARROW_CI_C_GLIB_AFFECTED != \"1\" ]; then exit; fi\n     - $TRAVIS_BUILD_DIR/ci/travis_install_osx.sh\ndiff --git a/c_glib/Brewfile b/c_glib/Brewfile\nindex e4ad9880b..9a50b8a15 100644\n--- a/c_glib/Brewfile\n+++ b/c_glib/Brewfile\n@@ -25,4 +25,5 @@ brew \"gtk-doc\"\n brew \"jemalloc\"\n brew \"libtool\"\n brew \"lua\"\n+brew \"ninja\"\n brew \"wget\"\ndiff --git a/ci/travis_before_script_c_glib.sh b/ci/travis_before_script_c_glib.sh\nindex e47fe6841..710c57f35 100755\n--- a/ci/travis_before_script_c_glib.sh\n+++ b/ci/travis_before_script_c_glib.sh\n@@ -21,25 +21,25 @@ set -ex\n \n source $TRAVIS_BUILD_DIR/ci/travis_env_common.sh\n \n-if [ $TRAVIS_OS_NAME = \"linux\" ]; then\n-  sudo apt-get install -y -q gtk-doc-tools autoconf-archive libgirepository1.0-dev\n-fi\n+source $TRAVIS_BUILD_DIR/ci/travis_install_conda.sh\n+pip install meson\n \n if [ $TRAVIS_OS_NAME = \"osx\" ]; then\n   export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/local/opt/libffi/lib/pkgconfig\n   export XML_CATALOG_FILES=/usr/local/etc/xml/catalog\n-fi\n-\n-if [ $BUILD_SYSTEM = \"meson\" ]; then\n-  source $TRAVIS_BUILD_DIR/ci/travis_install_conda.sh\n-  pip install meson ninja\n+else\n+  sudo apt-get install -y -q \\\n+    autoconf-archive \\\n+    gtk-doc-tools \\\n+    libgirepository1.0-dev\n+  conda install -q -y ninja\n fi\n \n gem install test-unit gobject-introspection\n \n if [ $TRAVIS_OS_NAME = \"osx\" ]; then\n   sudo env PKG_CONFIG_PATH=$PKG_CONFIG_PATH luarocks install lgi\n-elif [ $BUILD_SYSTEM = \"autotools\" ]; then\n+else\n   if [ $BUILD_TORCH_EXAMPLE = \"yes\" ]; then\n     git clone \\\n       --quiet \\\n@@ -63,29 +63,32 @@ pushd $ARROW_C_GLIB_DIR\n export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:$ARROW_CPP_INSTALL/lib/pkgconfig\n export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$ARROW_CPP_INSTALL/lib\n \n-if [ $BUILD_SYSTEM = \"autotools\" ]; then\n-  ./autogen.sh\n-\n-  CONFIGURE_OPTIONS=\"--prefix=$ARROW_C_GLIB_INSTALL\"\n-  CONFIGURE_OPTIONS=\"$CONFIGURE_OPTIONS --enable-gtk-doc\"\n-  CONFIGURE_OPTIONS=\"$CONFIGURE_OPTIONS CFLAGS=-DARROW_NO_DEPRECATED_API\"\n-  CONFIGURE_OPTIONS=\"$CONFIGURE_OPTIONS CXXFLAGS=-DARROW_NO_DEPRECATED_API\"\n+# Build with GNU Autotools\n+./autogen.sh\n+CONFIGURE_OPTIONS=\"--prefix=$ARROW_C_GLIB_INSTALL_AUTOTOOLS\"\n+CONFIGURE_OPTIONS=\"$CONFIGURE_OPTIONS --enable-gtk-doc\"\n+CONFIGURE_OPTIONS=\"$CONFIGURE_OPTIONS CFLAGS=-DARROW_NO_DEPRECATED_API\"\n+CONFIGURE_OPTIONS=\"$CONFIGURE_OPTIONS CXXFLAGS=-DARROW_NO_DEPRECATED_API\"\n+mkdir -p build\n+pushd build\n+../configure $CONFIGURE_OPTIONS\n+make -j4\n+make install\n+popd\n+rm -rf build\n \n-  ./configure $CONFIGURE_OPTIONS\n-  make -j4\n-  make install\n-else\n-  MESON_OPTIONS=\"--prefix=$ARROW_C_GLIB_INSTALL\"\n-  MESON_OPTIONS=\"$MESON_OPTIONS -Denable_gtk_doc=true\"\n-  mkdir -p build\n-  env \\\n-    CFLAGS=\"-DARROW_NO_DEPRECATED_API\" \\\n-    CXXFLAGS=\"-DARROW_NO_DEPRECATED_API\" \\\n-    meson build $MESON_OPTIONS\n-  pushd build\n-  ninja\n-  ninja install\n-  popd\n-fi\n+# Build with Meson\n+MESON_OPTIONS=\"--prefix=$ARROW_C_GLIB_INSTALL_MESON\"\n+MESON_OPTIONS=\"$MESON_OPTIONS -Denable_gtk_doc=true\"\n+mkdir -p build\n+env \\\n+  CFLAGS=\"-DARROW_NO_DEPRECATED_API\" \\\n+  CXXFLAGS=\"-DARROW_NO_DEPRECATED_API\" \\\n+  meson build $MESON_OPTIONS\n+pushd build\n+ninja\n+ninja install\n+popd\n+rm -rf build\n \n popd\ndiff --git a/ci/travis_env_common.sh b/ci/travis_env_common.sh\nindex 46e02f1a0..c8c19ed5b 100755\n--- a/ci/travis_env_common.sh\n+++ b/ci/travis_env_common.sh\n@@ -33,7 +33,8 @@ export CPP_BUILD_DIR=$TRAVIS_BUILD_DIR/cpp-build\n \n export ARROW_CPP_INSTALL=$TRAVIS_BUILD_DIR/cpp-install\n export ARROW_CPP_BUILD_DIR=$TRAVIS_BUILD_DIR/cpp-build\n-export ARROW_C_GLIB_INSTALL=$TRAVIS_BUILD_DIR/c-glib-install\n+export ARROW_C_GLIB_INSTALL_AUTOTOOLS=$TRAVIS_BUILD_DIR/c-glib-install-autotools\n+export ARROW_C_GLIB_INSTALL_MESON=$TRAVIS_BUILD_DIR/c-glib-install-meson\n \n export ARROW_PYTHON_PARQUET_HOME=$TRAVIS_BUILD_DIR/parquet-env\n \ndiff --git a/ci/travis_script_c_glib.sh b/ci/travis_script_c_glib.sh\nindex b0ddccb20..adecc5c74 100755\n--- a/ci/travis_script_c_glib.sh\n+++ b/ci/travis_script_c_glib.sh\n@@ -21,33 +21,18 @@ set -e\n \n source $TRAVIS_BUILD_DIR/ci/travis_env_common.sh\n \n-pushd $ARROW_C_GLIB_DIR\n+arrow_c_glib_run_test()\n+{\n+  local arrow_c_glib_lib_dir=$1\n \n-export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$ARROW_CPP_INSTALL/lib\n-if [ $BUILD_SYSTEM = \"autotools\" ]; then\n-  arrow_c_glib_lib_dir=$ARROW_C_GLIB_INSTALL/lib\n-else\n-  arrow_c_glib_lib_dir=$ARROW_C_GLIB_INSTALL/lib/$(arch)-linux-gnu\n-fi\n-export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$arrow_c_glib_lib_dir\n-export GI_TYPELIB_PATH=$arrow_c_glib_lib_dir/girepository-1.0\n-test/run-test.rb\n+  export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$arrow_c_glib_lib_dir\n+  export GI_TYPELIB_PATH=$arrow_c_glib_lib_dir/girepository-1.0\n+  test/run-test.rb\n \n-if [ $BUILD_SYSTEM = \"meson\" ]; then\n-  exit\n-fi\n+  export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:$arrow_c_glib_lib_dir/pkgconfig\n \n-export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:$ARROW_CPP_INSTALL/lib/pkgconfig\n-export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:$arrow_c_glib_lib_dir/pkgconfig\n-\n-pushd example/lua\n-if [ $TRAVIS_OS_NAME = \"osx\" ]; then\n-  lua write-batch.lua\n-  lua read-batch.lua\n-  lua write-stream.lua\n-  lua read-stream.lua\n-else\n-  if [ $BUILD_TORCH_EXAMPLE = \"yes\" ]; then\n+  pushd example/lua\n+  if [ \"$BUILD_TORCH_EXAMPLE\" = \"yes\" ]; then\n     . ~/torch/install/bin/torch-activate\n     luajit write-batch.lua\n     luajit read-batch.lua\n@@ -60,7 +45,19 @@ else\n     lua write-stream.lua\n     lua read-stream.lua\n   fi\n+  popd\n+}\n+\n+pushd $ARROW_C_GLIB_DIR\n+\n+export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$ARROW_CPP_INSTALL/lib\n+export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:$ARROW_CPP_INSTALL/lib/pkgconfig\n+\n+(arrow_c_glib_run_test $ARROW_C_GLIB_INSTALL_AUTOTOOLS/lib)\n+if [ -d $ARROW_C_GLIB_INSTALL_MESON/lib/$(arch)-linux-gnu ]; then\n+  (arrow_c_glib_run_test $ARROW_C_GLIB_INSTALL_MESON/lib/$(arch)-linux-gnu)\n+# else # TODO: Enable this\n+#   (arrow_c_glib_run_test $ARROW_C_GLIB_INSTALL_MESON/lib)\n fi\n-popd\n \n popd\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-01T09:44:03.531+0000",
                    "updated": "2018-05-01T09:44:03.531+0000",
                    "started": "2018-05-01T09:44:03.531+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "97015",
                    "issueId": "13144754"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 3000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@6e9fe53[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@436ef111[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@47548fa5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@73060827[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2bbe1084[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@129bfa40[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@71d17611[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@32d50f3c[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@693403d2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@24b0ad4e[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5e2b3637[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@441d6e21[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 3000,
        "customfield_12312520": null,
        "customfield_12312521": "Tue May 01 09:44:00 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-05-01T09:44:00.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2302/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2018-03-13T14:48:31.000+0000",
        "updated": "2018-05-01T09:44:41.000+0000",
        "timeoriginalestimate": null,
        "description": "Since our CI matrix is going to expand, and these builds are fast (< 5 minutes), I suggest we run these builds in the same job:\r\n\r\nhttps://travis-ci.org/apache/arrow/builds/352848066",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 3000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[GLib] Run autotools and meson Linux builds in same Travis CI build entry",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13144754/comment/16430466",
                    "id": "16430466",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "[~kou]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2018-04-09T12:40:46.466+0000",
                    "updated": "2018-04-09T12:40:46.466+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13144754/comment/16459563",
                    "id": "16459563",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "body": "Issue resolved by pull request 1967\n[https://github.com/apache/arrow/pull/1967]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "created": "2018-05-01T09:44:00.410+0000",
                    "updated": "2018-05-01T09:44:00.410+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|i3r8lz:",
        "customfield_12314139": null
    }
}