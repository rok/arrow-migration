{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13373100",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100",
    "key": "ARROW-12428",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349983",
                "id": "12349983",
                "description": "",
                "name": "5.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-07-28"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 7800,
            "total": 7800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 7800,
            "total": 7800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12428/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 13,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/worklog/584483",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm opened a new pull request #10074:\nURL: https://github.com/apache/arrow/pull/10074\n\n\n   This allows using the new option without going through the datasets API, such as to read a single file. A simple benchmark is in the JIRA. This helps close the gap between PyArrow and fsspec read performance, as fsspec performs readahead by default.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-16T20:13:42.419+0000",
                    "updated": "2021-04-16T20:13:42.419+0000",
                    "started": "2021-04-16T20:13:42.419+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "584483",
                    "issueId": "13373100"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/worklog/584484",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #10074:\nURL: https://github.com/apache/arrow/pull/10074#issuecomment-821536190\n\n\n   https://issues.apache.org/jira/browse/ARROW-12428\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-16T20:14:06.053+0000",
                    "updated": "2021-04-16T20:14:06.053+0000",
                    "started": "2021-04-16T20:14:06.053+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "584484",
                    "issueId": "13373100"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/worklog/584497",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #10074:\nURL: https://github.com/apache/arrow/pull/10074#issuecomment-821548915\n\n\n   The pre-buffer/Parquet logic has a bug with empty files, which I will need to fix.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-16T20:35:36.734+0000",
                    "updated": "2021-04-16T20:35:36.734+0000",
                    "started": "2021-04-16T20:35:36.734+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "584497",
                    "issueId": "13373100"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/worklog/585016",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on a change in pull request #10074:\nURL: https://github.com/apache/arrow/pull/10074#discussion_r615717077\n\n\n\n##########\nFile path: python/pyarrow/parquet.py\n##########\n@@ -1674,6 +1686,12 @@ def pieces(self):\n     keys and only a hive-style directory structure is supported. When\n     setting `use_legacy_dataset` to False, also within-file level filtering\n     and different partitioning schemes are supported.\n+pre_buffer : bool, default True\n+    Coalesce and issue file reads in parallel to improve performance on\n\nReview comment:\n       Is there any impact/conflict with specifying `use_threads=False` ?\n\n##########\nFile path: python/pyarrow/parquet.py\n##########\n@@ -1244,7 +1255,7 @@ def __init__(self, path_or_paths, filesystem=None, schema=None,\n                  metadata=None, split_row_groups=False, validate_schema=True,\n                  filters=None, metadata_nthreads=1, read_dictionary=None,\n                  memory_map=False, buffer_size=0, partitioning=\"hive\",\n-                 use_legacy_dataset=True):\n+                 use_legacy_dataset=True, pre_buffer=True):\n\nReview comment:\n       Should we maybe raise an error here if the user sets it to False? (as we simply ignore it)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-19T10:11:45.039+0000",
                    "updated": "2021-04-19T10:11:45.039+0000",
                    "started": "2021-04-19T10:11:45.039+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "585016",
                    "issueId": "13373100"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/worklog/585018",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on pull request #10074:\nURL: https://github.com/apache/arrow/pull/10074#issuecomment-822351950\n\n\n   Thanks @lidavidm ! (I know it goes against the point of an RC, but it would be nice if we could still get this into 4.0 ..)\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-19T10:12:58.118+0000",
                    "updated": "2021-04-19T10:12:58.118+0000",
                    "started": "2021-04-19T10:12:58.118+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "585018",
                    "issueId": "13373100"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/worklog/585086",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10074:\nURL: https://github.com/apache/arrow/pull/10074#discussion_r615781238\n\n\n\n##########\nFile path: python/pyarrow/parquet.py\n##########\n@@ -1674,6 +1686,12 @@ def pieces(self):\n     keys and only a hive-style directory structure is supported. When\n     setting `use_legacy_dataset` to False, also within-file level filtering\n     and different partitioning schemes are supported.\n+pre_buffer : bool, default True\n+    Coalesce and issue file reads in parallel to improve performance on\n\nReview comment:\n       There's no conflict: use_threads controls whether decoding work is done in parallel on the CPU thread pool, and pre_buffer controls whether I/O is done in parallel on the I/O thread pool. I guess for someone who wants Arrow to be truly single-threaded, this may be confusing, so I'll see if I can reword this.\r\n   \r\n   Also, #9620 has some refactoring to allow pre-buffering without requiring use of the I/O thread pool.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-19T11:54:45.750+0000",
                    "updated": "2021-04-19T11:54:45.750+0000",
                    "started": "2021-04-19T11:54:45.750+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "585086",
                    "issueId": "13373100"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/worklog/585088",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10074:\nURL: https://github.com/apache/arrow/pull/10074#discussion_r615782839\n\n\n\n##########\nFile path: python/pyarrow/parquet.py\n##########\n@@ -1244,7 +1255,7 @@ def __init__(self, path_or_paths, filesystem=None, schema=None,\n                  metadata=None, split_row_groups=False, validate_schema=True,\n                  filters=None, metadata_nthreads=1, read_dictionary=None,\n                  memory_map=False, buffer_size=0, partitioning=\"hive\",\n-                 use_legacy_dataset=True):\n+                 use_legacy_dataset=True, pre_buffer=True):\n\nReview comment:\n       I don't think so as False is equivalent to the \"not supported\" behavior. I could set the default value to 'None' and let each individual ParquetDataset implementation handle it (and error on True in this case).\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-19T11:57:22.898+0000",
                    "updated": "2021-04-19T11:57:22.898+0000",
                    "started": "2021-04-19T11:57:22.898+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "585088",
                    "issueId": "13373100"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/worklog/585098",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on a change in pull request #10074:\nURL: https://github.com/apache/arrow/pull/10074#discussion_r615793101\n\n\n\n##########\nFile path: python/pyarrow/parquet.py\n##########\n@@ -1244,7 +1255,7 @@ def __init__(self, path_or_paths, filesystem=None, schema=None,\n                  metadata=None, split_row_groups=False, validate_schema=True,\n                  filters=None, metadata_nthreads=1, read_dictionary=None,\n                  memory_map=False, buffer_size=0, partitioning=\"hive\",\n-                 use_legacy_dataset=True):\n+                 use_legacy_dataset=True, pre_buffer=True):\n\nReview comment:\n       Ah, yes, since `pre_buffer=False` means to not do anything, it's indeed fine to \"ignore\" it. \r\n   As you say, we could do some extra work to let it error on `pre_buffer=True` (for the legacy implementation), but since it's clearly documented to be only for the new version, I think it's fine to leave it as is.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-19T12:12:36.219+0000",
                    "updated": "2021-04-19T12:12:36.219+0000",
                    "started": "2021-04-19T12:12:36.219+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "585098",
                    "issueId": "13373100"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/worklog/585099",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on a change in pull request #10074:\nURL: https://github.com/apache/arrow/pull/10074#discussion_r615794180\n\n\n\n##########\nFile path: python/pyarrow/parquet.py\n##########\n@@ -1674,6 +1686,12 @@ def pieces(self):\n     keys and only a hive-style directory structure is supported. When\n     setting `use_legacy_dataset` to False, also within-file level filtering\n     and different partitioning schemes are supported.\n+pre_buffer : bool, default True\n+    Coalesce and issue file reads in parallel to improve performance on\n\nReview comment:\n       > I guess for someone who wants Arrow to be truly single-threaded, this may be confusing, so I'll see if I can reword this.\r\n   \r\n   So for such a case, you would need to set `pre_buffer=False` to have it truly single-threaded?  \r\n   I am thinking about dask, where `use_threads` is set to False, but I am not sure if it would be a problem for them to still do I/O in parallel.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-19T12:14:21.591+0000",
                    "updated": "2021-04-19T12:14:21.591+0000",
                    "started": "2021-04-19T12:14:21.591+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "585099",
                    "issueId": "13373100"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/worklog/585106",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10074:\nURL: https://github.com/apache/arrow/pull/10074#discussion_r615814433\n\n\n\n##########\nFile path: python/pyarrow/parquet.py\n##########\n@@ -1674,6 +1686,12 @@ def pieces(self):\n     keys and only a hive-style directory structure is supported. When\n     setting `use_legacy_dataset` to False, also within-file level filtering\n     and different partitioning schemes are supported.\n+pre_buffer : bool, default True\n+    Coalesce and issue file reads in parallel to improve performance on\n\nReview comment:\n       Yes, you'd need to set both to False to get true single-threading. I added a short note about the use of threads to the docstring.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-19T12:44:50.288+0000",
                    "updated": "2021-04-19T12:44:50.288+0000",
                    "started": "2021-04-19T12:44:50.287+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "585106",
                    "issueId": "13373100"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/worklog/592875",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #10074:\nURL: https://github.com/apache/arrow/pull/10074#issuecomment-832112286\n\n\n   I've rebased this, and tests pass. (Sorry for the long delay here.)\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-04T17:25:50.433+0000",
                    "updated": "2021-05-04T17:25:50.433+0000",
                    "started": "2021-05-04T17:25:50.433+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "592875",
                    "issueId": "13373100"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/worklog/592881",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on a change in pull request #10074:\nURL: https://github.com/apache/arrow/pull/10074#discussion_r625977041\n\n\n\n##########\nFile path: python/pyarrow/parquet.py\n##########\n@@ -1212,13 +1217,20 @@ class ParquetDataset:\n     new Arrow Dataset API). Among other things, this allows to pass\n     `filters` for all columns and not only the partition keys, enables\n     different partitioning schemes, etc.\n+pre_buffer : bool, default True\n+    Coalesce and issue file reads in parallel to improve performance on\n+    high-latency filesystems (e.g. S3). If True, Arrow will use a\n+    background I/O thread pool. This option is only supported for\n+    use_legacy_dataset=True. If using a filesystem layer that itself\n\nReview comment:\n       ```suggestion\r\n       use_legacy_dataset=False. If using a filesystem layer that itself\r\n   ```\r\n   \r\n   ?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-04T17:37:40.654+0000",
                    "updated": "2021-05-04T17:37:40.654+0000",
                    "started": "2021-05-04T17:37:40.654+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "592881",
                    "issueId": "13373100"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/worklog/592889",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on a change in pull request #10074:\nURL: https://github.com/apache/arrow/pull/10074#discussion_r625980584\n\n\n\n##########\nFile path: python/pyarrow/parquet.py\n##########\n@@ -1676,6 +1690,13 @@ def pieces(self):\n     keys and only a hive-style directory structure is supported. When\n     setting `use_legacy_dataset` to False, also within-file level filtering\n     and different partitioning schemes are supported.\n+pre_buffer : bool, default True\n+    Coalesce and issue file reads in parallel to improve performance on\n+    high-latency filesystems (e.g. S3). If True, Arrow will use a\n+    background I/O thread pool. This option is only supported for\n+    use_legacy_dataset=True. If using a filesystem layer that itself\n\nReview comment:\n       ```suggestion\r\n       use_legacy_dataset=False. If using a filesystem layer that itself\r\n   ```\r\n   \r\n   here as well\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-05-04T17:42:59.651+0000",
                    "updated": "2021-05-04T17:42:59.651+0000",
                    "started": "2021-05-04T17:42:59.651+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "592889",
                    "issueId": "13373100"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 7800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@521b07b8[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5d9e4e9f[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@344a0b2f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@1b8f418f[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@52368691[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@5b351b56[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3fc2606c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@5ea0dd22[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3844ca69[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@4bd8899c[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6735418b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@3fa4c982[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 7800,
        "customfield_12312520": null,
        "customfield_12312521": "Wed May 05 07:32:54 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-05-05T07:32:54.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12428/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2021-04-16T18:08:00.000+0000",
        "updated": "2021-05-05T07:32:54.000+0000",
        "timeoriginalestimate": null,
        "description": "If the user is synchronously reading a single file, we should try to read it as fast as possible. The one sticking point might be whether it's beneficial to enable this no matter the filesystem or whether we should try to only enable it on high-latency filesystems.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 10m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 7800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python] pyarrow.parquet.read_* should use pre_buffer=True",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/comment/17324041",
                    "id": "17324041",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Here's a quick comparison between Pandas/S3FS and PyArrow with a pre_buffer option implemented:\r\n\r\n{noformat}\r\nPython: 3.9.2\r\nPandas: 1.2.3\r\nPyArrow: 5.0.0 master (9c1e5bd19347635ea9f373bcf93f2cea0231d50a)\r\n\r\nPandas/S3FS: 107.31099020410329 seconds\r\nPandas/S3FS (no readahead): 676.9701101030223 seconds\r\nPyArrow: 213.81073790509254 seconds\r\nPyArrow (pre-buffer): 29.330630503827706 seconds\r\nPandas/S3FS (pre-buffer): 54.61801828909665 seconds\r\nPandas/S3FS (pre-buffer, no readahead): 46.7531590978615 seconds {noformat}\r\n\r\n{code:python}\r\nimport time\r\nimport pandas as pd\r\nimport pyarrow.parquet as pq\r\n\r\nstart = time.monotonic()\r\ndf = pd.read_parquet(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\")\r\nduration = time.monotonic() - start\r\nprint(\"Pandas/S3FS:\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pd.read_parquet(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", storage_options={\r\n    'default_block_size': 1,  # 0 is ignored\r\n    'default_fill_cache': False,\r\n})\r\nduration = time.monotonic() - start\r\nprint(\"Pandas/S3FS (no readahead):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pq.read_pandas(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\")\r\nduration = time.monotonic() - start\r\nprint(\"PyArrow:\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pq.read_pandas(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", pre_buffer=True)\r\nduration = time.monotonic() - start\r\nprint(\"PyArrow (pre-buffer):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pd.read_parquet(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", pre_buffer=True)\r\nduration = time.monotonic() - start\r\nprint(\"Pandas/S3FS (pre-buffer):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pd.read_parquet(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", storage_options={\r\n    'default_block_size': 1,  # 0 is ignored\r\n    'default_fill_cache': False,\r\n}, pre_buffer=True)\r\nduration = time.monotonic() - start\r\nprint(\"Pandas/S3FS (pre-buffer, no readahead):\", duration, \"seconds\")\r\n{code}",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-04-16T19:35:22.357+0000",
                    "updated": "2021-04-16T19:35:22.357+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/comment/17324043",
                    "id": "17324043",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "And for local files, to confirm that pre_buffer isn't a negative:\r\n{noformat}\r\nPandas: 14.584974920144305 seconds\r\nPyArrow: 6.650648137088865 seconds\r\nPyArrow (pre-buffer): 6.587288308190182 seconds\r\n{noformat}\r\nThis is on a system with NVME storage, so results may vary for spinning-rust or SATA SSDs.\r\n\r\n(Updated results to read once without measuring before taking the measurement, in case disk cache is a factor)",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-04-16T19:39:07.408+0000",
                    "updated": "2021-04-16T19:41:57.363+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/comment/17324063",
                    "id": "17324063",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Finally, if we perform column selection, fsspec's readahead is actually extremely detrimental:\r\n{noformat}\r\nPandas/S3FS (no pre-buffer): 88.26093492098153 seconds\r\nPandas/S3FS (pre-buffer): 107.76374901900999 seconds\r\nPyArrow (no pre-buffer): 55.75352717819624 seconds\r\nPyArrow (pre-buffer): 9.941459016874433 seconds {noformat}\r\n\r\n{code:python}\r\ncolumns = ['vendor_id', 'pickup_latitude', 'pickup_longitude', 'extra']\r\n\r\nstart = time.monotonic()\r\ndf = pd.read_parquet(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", columns=columns, pre_buffer=False)\r\nduration = time.monotonic() - start\r\nprint(\"Pandas/S3FS (no pre-buffer):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pd.read_parquet(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", columns=columns, pre_buffer=True)\r\nduration = time.monotonic() - start\r\nprint(\"Pandas/S3FS (pre-buffer):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pq.read_pandas(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", columns=columns, pre_buffer=False)\r\nduration = time.monotonic() - start\r\nprint(\"PyArrow (no pre-buffer):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pq.read_pandas(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", columns=columns, pre_buffer=True)\r\nduration = time.monotonic() - start\r\nprint(\"PyArrow (pre-buffer):\", duration, \"seconds\")\r\n{code}",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-04-16T20:21:55.374+0000",
                    "updated": "2021-04-16T20:21:55.374+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/comment/17324821",
                    "id": "17324821",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
                        "name": "jorisvandenbossche",
                        "key": "jorisvandenbossche",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Joris Van den Bossche",
                        "active": true,
                        "timeZone": "Europe/Brussels"
                    },
                    "body": "[~lidavidm] small comment on the benchmark code: for the pyarrow cases, you need to add a {{.to_pandas()}} call for it to be equivalent with the pandas pd.read_parquet version (although I would expect this not be that significant compared to reading from S3). \r\n(the {{read_pandas}} is a bit confusing name, but it still reads into a pyarrow.Table, it only uses the pandas metadata by default to eg ensure to read the pandas index column as well)",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
                        "name": "jorisvandenbossche",
                        "key": "jorisvandenbossche",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Joris Van den Bossche",
                        "active": true,
                        "timeZone": "Europe/Brussels"
                    },
                    "created": "2021-04-19T08:07:23.971+0000",
                    "updated": "2021-04-19T08:07:23.971+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/comment/17324968",
                    "id": "17324968",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "D'oh, and you already explained this in the SO question :) I'll re-run the benchmarks to make sure they're fair.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-04-19T11:57:46.229+0000",
                    "updated": "2021-04-19T11:57:46.229+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/comment/17325004",
                    "id": "17325004",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "{noformat}\r\nWhole file:\r\nPandas/S3FS (no pre-buffer, no readahead): 692.2505334559828 seconds\r\nPandas/S3FS (no pre-buffer, readahead): 99.55904859001748 seconds\r\nPandas/S3FS (pre-buffer, no readahead): 39.282157234149054 seconds\r\nPandas/S3FS (pre-buffer, readahead): 41.564441804075614 seconds\r\nPyArrow (no pre-buffer): 242.97687190794386 seconds\r\nPyArrow (pre-buffer): 39.5321765630506 seconds\r\n===\r\nColumn selection:\r\nPandas/S3FS (no pre-buffer, no readahead): 153.64498204295523 seconds\r\nPandas/S3FS (no pre-buffer, readahead): 82.44589220592752 seconds\r\nPandas/S3FS (pre-buffer, no readahead): 114.55768134980462 seconds\r\nPandas/S3FS (pre-buffer, readahead): 133.1232347697951 seconds\r\nPyArrow (no pre-buffer): 54.11452938010916 seconds\r\nPyArrow (pre-buffer): 12.865494727157056 seconds\r\n{noformat}\r\n{code:python}\r\nimport time\r\nimport pandas as pd\r\nimport pyarrow.fs\r\nimport pyarrow.parquet as pq\r\n\r\ncolumns = ['vendor_id', 'pickup_latitude', 'pickup_longitude', 'extra']\r\n\r\nprint(\"Whole file:\")\r\n\r\nstart = time.monotonic()\r\ndf = pd.read_parquet(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", storage_options={\r\n    'default_block_size': 1,  # 0 is ignored\r\n    'default_fill_cache': False,\r\n}, pre_buffer=False)\r\nduration = time.monotonic() - start\r\nprint(\"Pandas/S3FS (no pre-buffer, no readahead):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pd.read_parquet(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", pre_buffer=False)\r\nduration = time.monotonic() - start\r\nprint(\"Pandas/S3FS (no pre-buffer, readahead):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pd.read_parquet(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", storage_options={\r\n    'default_block_size': 1,  # 0 is ignored\r\n    'default_fill_cache': False,\r\n}, pre_buffer=True)\r\nduration = time.monotonic() - start\r\nprint(\"Pandas/S3FS (pre-buffer, no readahead):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pd.read_parquet(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", pre_buffer=True)\r\nduration = time.monotonic() - start\r\nprint(\"Pandas/S3FS (pre-buffer, readahead):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pq.read_pandas(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", pre_buffer=False).to_pandas()\r\nduration = time.monotonic() - start\r\nprint(\"PyArrow (no pre-buffer):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pq.read_pandas(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", pre_buffer=True).to_pandas()\r\nduration = time.monotonic() - start\r\nprint(\"PyArrow (pre-buffer):\", duration, \"seconds\")\r\n\r\nprint(\"===\")\r\nprint(\"Column selection:\")\r\n\r\nstart = time.monotonic()\r\ndf = pd.read_parquet(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", storage_options={\r\n    'default_block_size': 1,  # 0 is ignored\r\n    'default_fill_cache': False,\r\n}, columns=columns, pre_buffer=False)\r\nduration = time.monotonic() - start\r\nprint(\"Pandas/S3FS (no pre-buffer, no readahead):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pd.read_parquet(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", columns=columns, pre_buffer=False)\r\nduration = time.monotonic() - start\r\nprint(\"Pandas/S3FS (no pre-buffer, readahead):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pd.read_parquet(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", storage_options={\r\n    'default_block_size': 1,  # 0 is ignored\r\n    'default_fill_cache': False,\r\n}, columns=columns, pre_buffer=True)\r\nduration = time.monotonic() - start\r\nprint(\"Pandas/S3FS (pre-buffer, no readahead):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pd.read_parquet(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", columns=columns, pre_buffer=True)\r\nduration = time.monotonic() - start\r\nprint(\"Pandas/S3FS (pre-buffer, readahead):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pq.read_pandas(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", columns=columns, pre_buffer=False).to_pandas()\r\nduration = time.monotonic() - start\r\nprint(\"PyArrow (no pre-buffer):\", duration, \"seconds\")\r\n\r\nstart = time.monotonic()\r\ndf = pq.read_pandas(\"s3://ursa-labs-taxi-data/2012/01/data.parquet\", columns=columns, pre_buffer=True).to_pandas()\r\nduration = time.monotonic() - start\r\nprint(\"PyArrow (pre-buffer):\", duration, \"seconds\")\r\n{code}",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-04-19T12:39:02.677+0000",
                    "updated": "2021-04-19T12:39:13.621+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13373100/comment/17339483",
                    "id": "17339483",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
                        "name": "jorisvandenbossche",
                        "key": "jorisvandenbossche",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Joris Van den Bossche",
                        "active": true,
                        "timeZone": "Europe/Brussels"
                    },
                    "body": "Issue resolved by pull request 10074\n[https://github.com/apache/arrow/pull/10074]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
                        "name": "jorisvandenbossche",
                        "key": "jorisvandenbossche",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Joris Van den Bossche",
                        "active": true,
                        "timeZone": "Europe/Brussels"
                    },
                    "created": "2021-05-05T07:32:54.936+0000",
                    "updated": "2021-05-05T07:32:54.936+0000"
                }
            ],
            "maxResults": 7,
            "total": 7,
            "startAt": 0
        },
        "customfield_12311820": "0|z0q488:",
        "customfield_12314139": null
    }
}