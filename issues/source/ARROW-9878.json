{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13324954",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954",
    "key": "ARROW-9878",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349493",
                "id": "12349493",
                "description": "",
                "name": "4.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-04-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "1.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12348202",
                "id": "12348202",
                "name": "0.17.1",
                "archived": false,
                "released": true,
                "releaseDate": "2020-05-18"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12347769",
                "id": "12347769",
                "description": "",
                "name": "1.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-07-24"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12332532",
                "id": "12332532",
                "name": "Documentation"
            },
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=weichenxu123",
            "name": "weichenxu123",
            "key": "weichenxu123",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=weichenxu123&avatarId=31534",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=weichenxu123&avatarId=31534",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=weichenxu123&avatarId=31534",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=weichenxu123&avatarId=31534"
            },
            "displayName": "Weichen Xu",
            "active": true,
            "timeZone": "Asia/Hong_Kong"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=weichenxu123",
            "name": "weichenxu123",
            "key": "weichenxu123",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=weichenxu123&avatarId=31534",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=weichenxu123&avatarId=31534",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=weichenxu123&avatarId=31534",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=weichenxu123&avatarId=31534"
            },
            "displayName": "Weichen Xu",
            "active": true,
            "timeZone": "Asia/Hong_Kong"
        },
        "aggregateprogress": {
            "progress": 6000,
            "total": 6000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 6000,
            "total": 6000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-9878/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 10,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/worklog/567247",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm opened a new pull request #9730:\nURL: https://github.com/apache/arrow/pull/9730\n\n\n   Documents some common reasons why you might not see a memory usage improvement even with this option.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-16T21:04:06.467+0000",
                    "updated": "2021-03-16T21:04:06.467+0000",
                    "started": "2021-03-16T21:04:06.467+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "567247",
                    "issueId": "13324954"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/worklog/567375",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9730:\nURL: https://github.com/apache/arrow/pull/9730#issuecomment-800716668\n\n\n   https://issues.apache.org/jira/browse/ARROW-9878\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-17T01:06:10.268+0000",
                    "updated": "2021-03-17T01:06:10.268+0000",
                    "started": "2021-03-17T01:06:10.267+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "567375",
                    "issueId": "13324954"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/worklog/567696",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #9730:\nURL: https://github.com/apache/arrow/pull/9730#discussion_r596063175\n\n\n\n##########\nFile path: docs/source/python/pandas.rst\n##########\n@@ -293,3 +293,19 @@ Used together, the call\n \n will yield significantly lower memory usage in some scenarios. Without these\n options, ``to_pandas`` will always double memory.\n+\n+Note that ``self_destruct=True`` is not guaranteed to save memory. Since the\n+conversion happens column by column, memory is also freed column by column. But\n+if multiple columns share an underlying allocation, then no memory will be\n+freed until all of those columns are converted. In particular, data that comes\n+from IPC or Flight is prone to this, as memory will be laid out as follows::\n+\n+  Record Batch 0: Allocation 0: array 0 chunk 0, array 1 chunk 0, ...\n+  Record Batch 1: Allocation 1: array 0 chunk 1, array 1 chunk 1, ...\n+  ...\n+\n+In this case, no memory can be freed until the entire table is converted, even\n+with ``self_destruct=True``.\n+\n+Additionally, even if memory is freed by Arrow, depending on the allocator in\n+use, the memory may not be returned to the operating system immediately.\n\nReview comment:\n       This is true of all deallocations, so I find it rather un-useful to mention specifically here.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-17T14:20:53.960+0000",
                    "updated": "2021-03-17T14:20:53.960+0000",
                    "started": "2021-03-17T14:20:53.959+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "567696",
                    "issueId": "13324954"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/worklog/567697",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #9730:\nURL: https://github.com/apache/arrow/pull/9730#discussion_r596063732\n\n\n\n##########\nFile path: docs/source/python/pandas.rst\n##########\n@@ -293,3 +293,19 @@ Used together, the call\n \n will yield significantly lower memory usage in some scenarios. Without these\n options, ``to_pandas`` will always double memory.\n+\n+Note that ``self_destruct=True`` is not guaranteed to save memory. Since the\n+conversion happens column by column, memory is also freed column by column. But\n+if multiple columns share an underlying allocation, then no memory will be\n\nReview comment:\n       What does \"share\" mean here? Do you mean different arrays share the same underlying buffer? How does that happen?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-17T14:21:27.159+0000",
                    "updated": "2021-03-17T14:21:27.159+0000",
                    "started": "2021-03-17T14:21:27.159+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "567697",
                    "issueId": "13324954"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/worklog/567708",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #9730:\nURL: https://github.com/apache/arrow/pull/9730#discussion_r596081637\n\n\n\n##########\nFile path: docs/source/python/pandas.rst\n##########\n@@ -293,3 +293,19 @@ Used together, the call\n \n will yield significantly lower memory usage in some scenarios. Without these\n options, ``to_pandas`` will always double memory.\n+\n+Note that ``self_destruct=True`` is not guaranteed to save memory. Since the\n+conversion happens column by column, memory is also freed column by column. But\n+if multiple columns share an underlying allocation, then no memory will be\n+freed until all of those columns are converted. In particular, data that comes\n+from IPC or Flight is prone to this, as memory will be laid out as follows::\n+\n+  Record Batch 0: Allocation 0: array 0 chunk 0, array 1 chunk 0, ...\n+  Record Batch 1: Allocation 1: array 0 chunk 1, array 1 chunk 1, ...\n+  ...\n+\n+In this case, no memory can be freed until the entire table is converted, even\n+with ``self_destruct=True``.\n+\n+Additionally, even if memory is freed by Arrow, depending on the allocator in\n+use, the memory may not be returned to the operating system immediately.\n\nReview comment:\n       I'll remove this, but I do feel this is a commonly misunderstood point.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-17T14:40:48.966+0000",
                    "updated": "2021-03-17T14:40:48.966+0000",
                    "started": "2021-03-17T14:40:48.965+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "567708",
                    "issueId": "13324954"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/worklog/567712",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #9730:\nURL: https://github.com/apache/arrow/pull/9730#discussion_r596083089\n\n\n\n##########\nFile path: docs/source/python/pandas.rst\n##########\n@@ -293,3 +293,19 @@ Used together, the call\n \n will yield significantly lower memory usage in some scenarios. Without these\n options, ``to_pandas`` will always double memory.\n+\n+Note that ``self_destruct=True`` is not guaranteed to save memory. Since the\n+conversion happens column by column, memory is also freed column by column. But\n+if multiple columns share an underlying allocation, then no memory will be\n\nReview comment:\n       Yes, multiple arrays may share the same buffer. In IPC for instance, we read a record batch's worth of data from the file at a time, and hence all arrays in that batch share the same buffer. In Flight, similarly, we receive a record batch's worth of data from gRPC and (for implementation reasons) concatenate it into a single buffer, so we end up in the same situation. (I don't think this applies to, say, Parquet or CSV, since there's actual decoding for those formats, but haven't tested it.)\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-17T14:42:19.681+0000",
                    "updated": "2021-03-17T14:42:19.681+0000",
                    "started": "2021-03-17T14:42:19.680+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "567712",
                    "issueId": "13324954"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/worklog/567714",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #9730:\nURL: https://github.com/apache/arrow/pull/9730#discussion_r596085147\n\n\n\n##########\nFile path: docs/source/python/pandas.rst\n##########\n@@ -293,3 +293,19 @@ Used together, the call\n \n will yield significantly lower memory usage in some scenarios. Without these\n options, ``to_pandas`` will always double memory.\n+\n+Note that ``self_destruct=True`` is not guaranteed to save memory. Since the\n+conversion happens column by column, memory is also freed column by column. But\n+if multiple columns share an underlying allocation, then no memory will be\n\nReview comment:\n       Ah, you're right, thanks.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-17T14:44:40.217+0000",
                    "updated": "2021-03-17T14:44:40.217+0000",
                    "started": "2021-03-17T14:44:40.216+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "567714",
                    "issueId": "13324954"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/worklog/570449",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jorisvandenbossche commented on a change in pull request #9730:\nURL: https://github.com/apache/arrow/pull/9730#discussion_r599578642\n\n\n\n##########\nFile path: docs/source/python/pandas.rst\n##########\n@@ -293,3 +293,19 @@ Used together, the call\n \n will yield significantly lower memory usage in some scenarios. Without these\n options, ``to_pandas`` will always double memory.\n+\n+Note that ``self_destruct=True`` is not guaranteed to save memory. Since the\n+conversion happens column by column, memory is also freed column by column. But\n+if multiple columns share an underlying allocation, then no memory will be\n+freed until all of those columns are converted. In particular, data that comes\n+from IPC or Flight is prone to this, as memory will be laid out as follows::\n+\n+  Record Batch 0: Allocation 0: array 0 chunk 0, array 1 chunk 0, ...\n+  Record Batch 1: Allocation 1: array 0 chunk 1, array 1 chunk 1, ...\n+  ...\n+\n+In this case, no memory can be freed until the entire table is converted, even\n+with ``self_destruct=True``.\n+\n+Additionally, even if memory is freed by Arrow, depending on the allocator in\n+use, the memory may not be returned to the operating system immediately.\n\nReview comment:\n       Personally, I think it's still useful to mention it here, as it is indeed a commonly misunderstood point, and users will specifically read this section if they are looking into optimizing memory use / trying to understand why they don't see an improved memory usage. \r\n   (the sentence could still add a \"as is true for all deallocations\" to make it clear this isn't specific to this option)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-23T13:42:45.334+0000",
                    "updated": "2021-03-23T13:42:45.334+0000",
                    "started": "2021-03-23T13:42:45.334+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "570449",
                    "issueId": "13324954"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/worklog/571309",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #9730:\nURL: https://github.com/apache/arrow/pull/9730#discussion_r600682362\n\n\n\n##########\nFile path: docs/source/python/pandas.rst\n##########\n@@ -293,3 +293,19 @@ Used together, the call\n \n will yield significantly lower memory usage in some scenarios. Without these\n options, ``to_pandas`` will always double memory.\n+\n+Note that ``self_destruct=True`` is not guaranteed to save memory. Since the\n+conversion happens column by column, memory is also freed column by column. But\n+if multiple columns share an underlying allocation, then no memory will be\n+freed until all of those columns are converted. In particular, data that comes\n+from IPC or Flight is prone to this, as memory will be laid out as follows::\n+\n+  Record Batch 0: Allocation 0: array 0 chunk 0, array 1 chunk 0, ...\n+  Record Batch 1: Allocation 1: array 0 chunk 1, array 1 chunk 1, ...\n+  ...\n+\n+In this case, no memory can be freed until the entire table is converted, even\n+with ``self_destruct=True``.\n+\n+Additionally, even if memory is freed by Arrow, depending on the allocator in\n+use, the memory may not be returned to the operating system immediately.\n\nReview comment:\n       Maybe we could make it part of a dedicated section for (Py)Arrow memory/allocator behavior? For instance, to document different allocators and their tradeoffs, and allocator-specific things like JE_ARROW_MALLOC_CONF.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-24T17:01:31.915+0000",
                    "updated": "2021-03-24T17:01:31.915+0000",
                    "started": "2021-03-24T17:01:31.915+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "571309",
                    "issueId": "13324954"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/worklog/574289",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm closed pull request #9730:\nURL: https://github.com/apache/arrow/pull/9730\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-30T17:51:29.857+0000",
                    "updated": "2021-03-30T17:51:29.857+0000",
                    "started": "2021-03-30T17:51:29.857+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "574289",
                    "issueId": "13324954"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 6000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@33933587[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@644b3d49[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@37e22185[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@afef345[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@715bc6e4[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@548c32e6[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7244dffb[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@f5d6e2d[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@201ee5c4[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1530f823[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@41df4679[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@25176469[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 6000,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Mar 30 17:51:26 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-03-30T17:51:26.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-9878/watchers",
            "watchCount": 4,
            "isWatching": false
        },
        "created": "2020-08-28T03:41:00.000+0000",
        "updated": "2021-03-30T17:51:42.000+0000",
        "timeoriginalestimate": null,
        "description": "Test on: pyarrow 1.0.1, system: Ubuntu 16.04, python3.7\r\n\r\n\u00a0\r\n\r\nReproduce code:\r\n\r\nGenerate about 800MB data first.\r\n{code:java}\r\nimport pyarrow as pa\r\n\r\n# generate about 800MB data\r\ndata = [pa.array([10]* 1000)]\r\nbatch = pa.record_batch(data, names=['f0'])\r\nwith open('/tmp/t1.pa', 'wb') as f1:\r\n\twriter = pa.ipc.new_stream(f1, batch.schema)\r\n\tfor i in range(100000):\r\n\t\twriter.write_batch(batch)\r\n\twriter.close()\r\n{code}\r\nTest to_pandas with self_destruct=True, split_blocks=True, use_threads=False\r\n{code:python}\r\nimport pyarrow as pa\r\nimport time\r\nimport sys\r\n\r\nimport os\r\npid = os.getpid()\r\nprint(f'run `psrecord {pid} --plot /tmp/t001.png` and then press ENTER.')\r\nsys.stdin.readline()\r\n\r\nwith open('/tmp/t1.pa', 'rb') as f1:\r\n\treader = pa.ipc.open_stream(f1)\r\n\tbatches = [b for b in reader]\r\n\r\npa_table = pa.Table.from_batches(batches)\r\ndel batches\r\ntime.sleep(3)\r\npdf = pa_table.to_pandas(self_destruct=True, split_blocks=True, use_threads=False)\r\ndel pa_table\r\ntime.sleep(3)\r\n{code}\r\nThe attached file is psrecord profiling result.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 40m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 6000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/attachment/13010650",
                "id": "13010650",
                "filename": "t001.png",
                "author": {
                    "self": "https://issues.apache.org/jira/rest/api/2/user?username=weichenxu123",
                    "name": "weichenxu123",
                    "key": "weichenxu123",
                    "avatarUrls": {
                        "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=weichenxu123&avatarId=31534",
                        "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=weichenxu123&avatarId=31534",
                        "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=weichenxu123&avatarId=31534",
                        "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=weichenxu123&avatarId=31534"
                    },
                    "displayName": "Weichen Xu",
                    "active": true,
                    "timeZone": "Asia/Hong_Kong"
                },
                "created": "2020-08-28T03:42:35.993+0000",
                "size": 27231,
                "mimeType": "image/png",
                "content": "https://issues.apache.org/jira/secure/attachment/13010650/t001.png"
            }
        ],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python] table to_pandas self_destruct=True + split_blocks=True cannot prevent doubling memory",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/comment/17186602",
                    "id": "17186602",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "It's actually fairly complex. There are two issues here:\r\n # The layout of arrays/record batches in memory when they come from IPC \"blocks\" the optimization\r\n # jemalloc tends to cache memory, even when set to return free memory to the OS, so unless you are close to an OOM scenario, you will still likely observe doubling memory\r\n\r\nFor (1):\r\n\r\nWhen you deserialize batches from IPC, memory ends up being laid out like this:\r\n\r\nBatch 0: Allocation 0: array 0 chunk 0, array 1 chunk 0, ...\r\nBatch 1: Allocation 1: array 0 chunk 1, array 1 chunk 1, ...\r\nBatch 2: Allocation 2: array 0 chunk 2, array 1 chunk 2, ...\r\n...\r\n\r\nAnd so (chunked) array 0 is a set of references to allocation 0, allocation 1, ...\r\n\r\nto_pandas operates _columnwise_, so it'll drop references to each array as it goes - but since each array is a slice of a larger allocation, this doesn't free any memory!\r\n\r\nSo first, you need something like the following:\r\n\r\n\u00a0\r\n{code:java}\r\nnew_batches = [\r\n    pa.RecordBatch.from_arrays([\r\n        pa.concat_arrrays([arr])\r\n        for arr in batch\r\n    ], schema=batch.schema)\r\n    for batch in batches\r\n]\r\n{code}\r\nEven then, if you measure memory usage with something like [memory-profiler|https://pypi.org/project/memory-profiler/], you'll still see a spike in memory usage unless you are close to OOM, because jemalloc caches allocations. You can avoid this by patching Arrow to force jemalloc to dump all caches after free()ing memory, though this is expensive. You can also avoid this by benchmarking in a scenario where the dataset is over half of available RAM.\r\n\r\n[~wesm] maybe it's worth documenting these caveats somewhere?\r\n\r\n\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2020-08-28T15:05:49.415+0000",
                    "updated": "2020-08-28T15:05:49.415+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/comment/17187331",
                    "id": "17187331",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Yes, I agree they should be documented. With the way that this is set up, all of the columns are slices of the message bodies from the stream, so no memory is deallocated until all of the column references for a chunk of the table are released. Unfortunately there are fairly narrow cases where the `split_blocks=True` yields memory improvements, when the memory in the columns is owned and not sliced from some other memory block.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2020-08-30T21:18:50.030+0000",
                    "updated": "2020-08-30T21:18:50.030+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/comment/17187391",
                    "id": "17187391",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=weichenxu123",
                        "name": "weichenxu123",
                        "key": "weichenxu123",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=weichenxu123&avatarId=31534",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=weichenxu123&avatarId=31534",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=weichenxu123&avatarId=31534",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=weichenxu123&avatarId=31534"
                        },
                        "displayName": "Weichen Xu",
                        "active": true,
                        "timeZone": "Asia/Hong_Kong"
                    },
                    "body": "[~lidavidm]\r\n\r\nThanks your explanation!\r\n\r\nFor (1), if I use primitive type, will it block the\u00a0optimization ?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=weichenxu123",
                        "name": "weichenxu123",
                        "key": "weichenxu123",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=weichenxu123&avatarId=31534",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=weichenxu123&avatarId=31534",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=weichenxu123&avatarId=31534",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=weichenxu123&avatarId=31534"
                        },
                        "displayName": "Weichen Xu",
                        "active": true,
                        "timeZone": "Asia/Hong_Kong"
                    },
                    "created": "2020-08-31T02:49:05.845+0000",
                    "updated": "2020-08-31T02:49:05.845+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/comment/17292130",
                    "id": "17292130",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "[~weichenxu123]\u00a0sorry I missed this. The type does not matter; it is about the physical layout of data in memory. My tests were always done with arrays of doubles.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-02-27T13:06:21.517+0000",
                    "updated": "2021-02-27T13:06:21.517+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13324954/comment/17311692",
                    "id": "17311692",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 9730\n[https://github.com/apache/arrow/pull/9730]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-03-30T17:51:26.436+0000",
                    "updated": "2021-03-30T17:51:26.436+0000"
                }
            ],
            "maxResults": 5,
            "total": 5,
            "startAt": 0
        },
        "customfield_12311820": "0|z0i5m8:",
        "customfield_12314139": null
    }
}