{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13403193",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13403193",
    "key": "ARROW-14124",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12350323",
                "id": "12350323",
                "description": "",
                "name": "6.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-10-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
            "name": "jonkeane",
            "key": "jonkeane",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
            },
            "displayName": "Jonathan Keane",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
            "name": "jonkeane",
            "key": "jonkeane",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
            },
            "displayName": "Jonathan Keane",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
            "name": "jonkeane",
            "key": "jonkeane",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
            },
            "displayName": "Jonathan Keane",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 6000,
            "total": 6000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 6000,
            "total": 6000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-14124/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 10,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13403193/worklog/655565",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #11250:\nURL: https://github.com/apache/arrow/pull/11250#issuecomment-928002984\n\n\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-27T15:49:51.775+0000",
                    "updated": "2021-09-27T15:49:51.775+0000",
                    "started": "2021-09-27T15:49:51.775+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "655565",
                    "issueId": "13403193"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13403193/worklog/655566",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on pull request #11250:\nURL: https://github.com/apache/arrow/pull/11250#issuecomment-928003915\n\n\n   @github-actions crossbow submit test-r-versions\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-27T15:50:55.600+0000",
                    "updated": "2021-09-27T15:50:55.600+0000",
                    "started": "2021-09-27T15:50:55.600+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "655566",
                    "issueId": "13403193"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13403193/worklog/655568",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #11250:\nURL: https://github.com/apache/arrow/pull/11250#issuecomment-928004615\n\n\n   Revision: 995ff93c4ef56b08ac285fe94292021b9dc8bb97\n   \n   Submitted crossbow builds: [ursacomputing/crossbow @ actions-856](https://github.com/ursacomputing/crossbow/branches/all?query=actions-856)\n   \n   |Task|Status|\n   |----|------|\n   |test-r-versions|[![Github Actions](https://github.com/ursacomputing/crossbow/workflows/Crossbow/badge.svg?branch=actions-856-github-test-r-versions)](https://github.com/ursacomputing/crossbow/actions?query=branch:actions-856-github-test-r-versions)|\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-27T15:51:52.358+0000",
                    "updated": "2021-09-27T15:51:52.358+0000",
                    "started": "2021-09-27T15:51:52.358+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "655568",
                    "issueId": "13403193"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13403193/worklog/655569",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11250:\nURL: https://github.com/apache/arrow/pull/11250#discussion_r716826516\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-string-functions.R\n##########\n@@ -806,26 +806,49 @@ test_that(\"format_ISO8601\", {\n     times\n   )\n \n-  expect_dplyr_equal(\n-    input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n-      collect(),\n-    times\n-  )\n+  if (getRversion() < \"3.5\") {\n+    # before 3.5, times$x will have no timezone attribute, so Arrow faithfully\n+    # errors that there is no timezone to format:\n+    expect_error(\n+      times %>%\n+        Table$create() %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n+        collect(),\n+      \"Timezone not present, cannot convert to string with timezone: %Y-%m-%d%z\"\n+    )\n+\n+    # See comment regarding %S flag in strftime tests\n+    expect_error(\n+      times %>%\n+        Table$create() %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+        mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n+        collect(),\n+      \"Timezone not present, cannot convert to string with timezone: %Y-%m-%dT%H:%M:%S%z\"\n+    )\n+  } else {\n+    expect_dplyr_equal(\n+      input %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n+        collect(),\n+      times\n+    )\n+\n+    # See comment regarding %S flag in strftime tests\n+    expect_dplyr_equal(\n+      input %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+        mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n+        collect(),\n+      times\n+    )\n+  }\n \n-  # See comment regarding %S flag in strftime tests\n-  expect_dplyr_equal(\n-    input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = FALSE)) %>%\n-      mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n-      collect(),\n-    times\n-  )\n \n   # See comment regarding %S flag in strftime tests\n   expect_dplyr_equal(\n     input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = FALSE)) %>%\n\nReview comment:\n       This diff and the one above it make this a bit confusing. What I actually did was moved the `usetz = FALSE` block up above into the if/else gated on R version. But git took that to mean I deleted the `usetz = FALSE` and then changed the `FALSE` to `TRUE` here. \r\n   \r\n   Both cases are still in this file, and for anything R 3.5 and higher we test that it works, for < 3.5 we test the error\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-27T15:52:58.960+0000",
                    "updated": "2021-09-27T15:52:58.960+0000",
                    "started": "2021-09-27T15:52:58.960+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "655569",
                    "issueId": "13403193"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13403193/worklog/655820",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11250:\nURL: https://github.com/apache/arrow/pull/11250#discussion_r717051281\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-string-functions.R\n##########\n@@ -806,26 +806,49 @@ test_that(\"format_ISO8601\", {\n     times\n   )\n \n-  expect_dplyr_equal(\n-    input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n-      collect(),\n-    times\n-  )\n+  if (getRversion() < \"3.5\") {\n+    # before 3.5, times$x will have no timezone attribute, so Arrow faithfully\n+    # errors that there is no timezone to format:\n+    expect_error(\n+      times %>%\n+        Table$create() %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n+        collect(),\n+      \"Timezone not present, cannot convert to string with timezone: %Y-%m-%d%z\"\n+    )\n+\n+    # See comment regarding %S flag in strftime tests\n+    expect_error(\n+      times %>%\n+        Table$create() %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+        mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n+        collect(),\n+      \"Timezone not present, cannot convert to string with timezone: %Y-%m-%dT%H:%M:%S%z\"\n+    )\n+  } else {\n+    expect_dplyr_equal(\n+      input %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n+        collect(),\n+      times\n+    )\n+\n+    # See comment regarding %S flag in strftime tests\n+    expect_dplyr_equal(\n+      input %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+        mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n+        collect(),\n+      times\n+    )\n+  }\n \n-  # See comment regarding %S flag in strftime tests\n-  expect_dplyr_equal(\n-    input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = FALSE)) %>%\n-      mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n-      collect(),\n-    times\n-  )\n \n   # See comment regarding %S flag in strftime tests\n   expect_dplyr_equal(\n     input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = FALSE)) %>%\n\nReview comment:\n       I don't see usetz = FALSE in the green if/else above, they all say TRUE, am I missing something?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-27T21:15:31.974+0000",
                    "updated": "2021-09-27T21:15:31.974+0000",
                    "started": "2021-09-27T21:15:31.974+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "655820",
                    "issueId": "13403193"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13403193/worklog/655823",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11250:\nURL: https://github.com/apache/arrow/pull/11250#discussion_r717057821\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-string-functions.R\n##########\n@@ -806,26 +806,49 @@ test_that(\"format_ISO8601\", {\n     times\n   )\n \n-  expect_dplyr_equal(\n-    input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n-      collect(),\n-    times\n-  )\n+  if (getRversion() < \"3.5\") {\n+    # before 3.5, times$x will have no timezone attribute, so Arrow faithfully\n+    # errors that there is no timezone to format:\n+    expect_error(\n+      times %>%\n+        Table$create() %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n+        collect(),\n+      \"Timezone not present, cannot convert to string with timezone: %Y-%m-%d%z\"\n+    )\n+\n+    # See comment regarding %S flag in strftime tests\n+    expect_error(\n+      times %>%\n+        Table$create() %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+        mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n+        collect(),\n+      \"Timezone not present, cannot convert to string with timezone: %Y-%m-%dT%H:%M:%S%z\"\n+    )\n+  } else {\n+    expect_dplyr_equal(\n+      input %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n+        collect(),\n+      times\n+    )\n+\n+    # See comment regarding %S flag in strftime tests\n+    expect_dplyr_equal(\n+      input %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+        mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n+        collect(),\n+      times\n+    )\n+  }\n \n-  # See comment regarding %S flag in strftime tests\n-  expect_dplyr_equal(\n-    input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = FALSE)) %>%\n-      mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n-      collect(),\n-    times\n-  )\n \n   # See comment regarding %S flag in strftime tests\n   expect_dplyr_equal(\n     input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = FALSE)) %>%\n\nReview comment:\n       Right, the error only happens when `usetz = TRUE` (hence those are the only ones in the if/else). With `use tz = FALSE` arrow can (and does) `strftime()` without complaint.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-27T21:26:32.581+0000",
                    "updated": "2021-09-27T21:26:32.581+0000",
                    "started": "2021-09-27T21:26:32.581+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "655823",
                    "issueId": "13403193"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13403193/worklog/656124",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson closed pull request #11250:\nURL: https://github.com/apache/arrow/pull/11250\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-28T12:49:04.032+0000",
                    "updated": "2021-09-28T12:49:04.032+0000",
                    "started": "2021-09-28T12:49:04.032+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "656124",
                    "issueId": "13403193"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13403193/worklog/656557",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #11250:\nURL: https://github.com/apache/arrow/pull/11250#discussion_r717057821\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-string-functions.R\n##########\n@@ -806,26 +806,49 @@ test_that(\"format_ISO8601\", {\n     times\n   )\n \n-  expect_dplyr_equal(\n-    input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n-      collect(),\n-    times\n-  )\n+  if (getRversion() < \"3.5\") {\n+    # before 3.5, times$x will have no timezone attribute, so Arrow faithfully\n+    # errors that there is no timezone to format:\n+    expect_error(\n+      times %>%\n+        Table$create() %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n+        collect(),\n+      \"Timezone not present, cannot convert to string with timezone: %Y-%m-%d%z\"\n+    )\n+\n+    # See comment regarding %S flag in strftime tests\n+    expect_error(\n+      times %>%\n+        Table$create() %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+        mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n+        collect(),\n+      \"Timezone not present, cannot convert to string with timezone: %Y-%m-%dT%H:%M:%S%z\"\n+    )\n+  } else {\n+    expect_dplyr_equal(\n+      input %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n+        collect(),\n+      times\n+    )\n+\n+    # See comment regarding %S flag in strftime tests\n+    expect_dplyr_equal(\n+      input %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+        mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n+        collect(),\n+      times\n+    )\n+  }\n \n-  # See comment regarding %S flag in strftime tests\n-  expect_dplyr_equal(\n-    input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = FALSE)) %>%\n-      mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n-      collect(),\n-    times\n-  )\n \n   # See comment regarding %S flag in strftime tests\n   expect_dplyr_equal(\n     input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = FALSE)) %>%\n\nReview comment:\n       Right, the error only happens when `usetz = TRUE` (hence those are the only ones in the if/else). With `use tz = FALSE` arrow can (and does) `strftime()` without complaint.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-28T19:59:45.348+0000",
                    "updated": "2021-09-28T19:59:45.348+0000",
                    "started": "2021-09-28T19:59:45.348+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "656557",
                    "issueId": "13403193"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13403193/worklog/656585",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson closed pull request #11250:\nURL: https://github.com/apache/arrow/pull/11250\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-28T20:02:09.432+0000",
                    "updated": "2021-09-28T20:02:09.432+0000",
                    "started": "2021-09-28T20:02:09.431+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "656585",
                    "issueId": "13403193"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13403193/worklog/656621",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #11250:\nURL: https://github.com/apache/arrow/pull/11250#discussion_r717051281\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr-string-functions.R\n##########\n@@ -806,26 +806,49 @@ test_that(\"format_ISO8601\", {\n     times\n   )\n \n-  expect_dplyr_equal(\n-    input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n-      collect(),\n-    times\n-  )\n+  if (getRversion() < \"3.5\") {\n+    # before 3.5, times$x will have no timezone attribute, so Arrow faithfully\n+    # errors that there is no timezone to format:\n+    expect_error(\n+      times %>%\n+        Table$create() %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n+        collect(),\n+      \"Timezone not present, cannot convert to string with timezone: %Y-%m-%d%z\"\n+    )\n+\n+    # See comment regarding %S flag in strftime tests\n+    expect_error(\n+      times %>%\n+        Table$create() %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+        mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n+        collect(),\n+      \"Timezone not present, cannot convert to string with timezone: %Y-%m-%dT%H:%M:%S%z\"\n+    )\n+  } else {\n+    expect_dplyr_equal(\n+      input %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymd\", usetz = TRUE)) %>%\n+        collect(),\n+      times\n+    )\n+\n+    # See comment regarding %S flag in strftime tests\n+    expect_dplyr_equal(\n+      input %>%\n+        mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+        mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n+        collect(),\n+      times\n+    )\n+  }\n \n-  # See comment regarding %S flag in strftime tests\n-  expect_dplyr_equal(\n-    input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = FALSE)) %>%\n-      mutate(x = gsub(\"\\\\.0*\", \"\", x)) %>%\n-      collect(),\n-    times\n-  )\n \n   # See comment regarding %S flag in strftime tests\n   expect_dplyr_equal(\n     input %>%\n-      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = TRUE)) %>%\n+      mutate(x = format_ISO8601(x, precision = \"ymdhms\", usetz = FALSE)) %>%\n\nReview comment:\n       I don't see usetz = FALSE in the green if/else above, they all say TRUE, am I missing something?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-09-28T20:04:54.200+0000",
                    "updated": "2021-09-28T20:04:54.200+0000",
                    "started": "2021-09-28T20:04:54.200+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "656621",
                    "issueId": "13403193"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 6000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@1f1bca8[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@21137ec4[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5805212e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@62da81b4[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1dccc447[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@27f4ce9c[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5609871d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@60e87b49[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1b7d65ef[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1afcc832[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@d7951f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@23c6947f[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 6000,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Sep 28 12:48:54 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-09-28T12:48:54.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-14124/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2021-09-24T16:25:23.000+0000",
        "updated": "2021-09-28T20:04:55.000+0000",
        "timeoriginalestimate": null,
        "description": "The error is: https://github.com/ursacomputing/crossbow/runs/3696604088#step:7:15209\r\n\r\n{code}\r\n Timezone not present, cannot convert to string with timezone: %Y-%m-%d%z\r\n{code}\r\n\r\nOk, I think I\u2019ve got close to the source of the issue (though let me tell you neither the source nor the docs for R are accurate [1] on this\u2026)\r\n\r\n3.4 (and earlier):\r\n{code:r}\r\n> attributes(c(lubridate::ymd_hms(\"2018-10-07 19:04:05\", tz = \"Etc/GMT+6\"), NA)) \r\n$class\r\n[1] \"POSIXct\" \"POSIXt\" \r\n{code}\r\n\r\n3.5 (and later):\r\n{code:r}\r\n> attributes(c(lubridate::ymd_hms(\"2018-10-07 19:04:05\", tz = \"Etc/GMT+6\"), NA)) \r\n$class\r\n[1] \"POSIXct\" \"POSIXt\" \r\n\r\n$tzone\r\n[1] \"Etc/GMT+6\"\r\n{code}\r\n\r\nSo R itself is dropping the {{tzone}} attribute when we use {{c()}}, that is being passed to Arrow as such, and then when Arrow goes to print a timezone it (rightfully!) complains that there is no timezone to be formatted into the string. \r\n\r\nThis behavior actually sounds right (given the inputs), so I propose that we catch the error R <=3.4 (or skip the test in r<=3.4)\r\n\r\n[1] - The documented behavior is current, but it didn't change at the same time as the actual behavior.\r\n\r\nThe docs starting in 4.1.0 state:\r\n Using \\code{\\link{c}} on \\code{\"POSIXlt\"} objects converts them to the\r\n  current time zone, and on \\code{\"POSIXct\"} objects drops any\r\n  \\code{\"tzone\"} attributes, unless they are all marked with the same\r\n  time zone.\r\nhttps://github.com/wch/r-source/blob/tags/R-4-1-0/src/library/base/man/DateTimeClasses.Rd#L180-L183\r\n\r\nThe docs before that state:\r\n  Using \\code{\\link{c}} on \\code{\"POSIXlt\"} objects converts them to the\r\n  current time zone, and on \\code{\"POSIXct\"} objects drops any\r\n  \\code{\"tzone\"} attributes (even if they are all marked with the same\r\n  time zone).\r\nhttps://github.com/wch/r-source/blob/tags/R-4-0-5/src/library/base/man/DateTimeClasses.Rd\r\n",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 40m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 6000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] Timezone support in R <= 3.4",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13403193/comment/17421365",
                    "id": "17421365",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Issue resolved by pull request 11250\n[https://github.com/apache/arrow/pull/11250]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2021-09-28T12:48:54.424+0000",
                    "updated": "2021-09-28T12:48:54.424+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0v9ow:",
        "customfield_12314139": null
    }
}