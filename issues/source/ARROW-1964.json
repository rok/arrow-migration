{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13128436",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436",
    "key": "ARROW-1964",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12342562",
                "id": "12342562",
                "description": "",
                "name": "0.10.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-08-06"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "beginner",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=dsimmie",
            "name": "dsimmie",
            "key": "dsimmie",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Donal Simmie",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
            "name": "uwe",
            "key": "xhochy",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
            },
            "displayName": "Uwe Korn",
            "active": true,
            "timeZone": "Europe/Berlin"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
            "name": "uwe",
            "key": "xhochy",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
            },
            "displayName": "Uwe Korn",
            "active": true,
            "timeZone": "Europe/Berlin"
        },
        "aggregateprogress": {
            "progress": 13800,
            "total": 13800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 13800,
            "total": 13800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1964/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 24,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/94283",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #1930: ARROW-1964: [Python] Exposed StringBuilder to Cython\nURL: https://github.com/apache/arrow/pull/1930#discussion_r183528494\n \n \n\n ##########\n File path: python/pyarrow/tests/test_builder.py\n ##########\n @@ -0,0 +1,113 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import pytest\n+import pyarrow as pa\n+from pyarrow.lib import StringBuilder\n+import numpy as np\n+import pandas as pd\n+\n+\n+@pytest.fixture\n+def sbuilder():\n+    return StringBuilder()\n \n Review comment:\n   I don't think there's a point in writing a fixture for that. Just create `StringBuilder` directly where you need it.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-04-23T20:41:52.867+0000",
                    "updated": "2018-04-23T20:41:52.867+0000",
                    "started": "2018-04-23T20:41:52.867+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "94283",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/94284",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #1930: ARROW-1964: [Python] Exposed StringBuilder to Cython\nURL: https://github.com/apache/arrow/pull/1930#discussion_r183528778\n \n \n\n ##########\n File path: python/pyarrow/tests/test_builder.py\n ##########\n @@ -0,0 +1,113 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import pytest\n+import pyarrow as pa\n+from pyarrow.lib import StringBuilder\n+import numpy as np\n+import pandas as pd\n+\n+\n+@pytest.fixture\n+def sbuilder():\n+    return StringBuilder()\n+\n+\n+def test_string_builder_append_string(sbuilder):\n+    sbuilder.append(b'jsaafakjh')\n+    assert (sbuilder.length() == 1)\n+    sbuilder.append('jsaafakjh')\n+    assert (sbuilder.length() == 2)\n+    arr = sbuilder.finish()\n+    assert (sbuilder.length() == 0)\n+    assert (isinstance(arr, pa.Array))\n+    assert (arr.null_count == 0)\n+    assert (arr.type == 'str')\n+    assert(len(arr.to_pylist()) == 2)\n+\n+\n+def test_string_builder_append_none(sbuilder):\n+    sbuilder.append(None)\n+    assert (sbuilder.null_count() == 1)\n+    for i in range(10):\n+        sbuilder.append(None)\n+    assert (sbuilder.null_count() == 11)\n+    arr = sbuilder.finish()\n+    assert (arr.null_count == 11)\n+\n+\n+def test_string_builder_append_nan(sbuilder):\n+    sbuilder.append(np.nan)\n+    sbuilder.append(np.nan)\n+    assert (sbuilder.null_count() == 2)\n+    arr = sbuilder.finish()\n+    assert (arr.null_count == 2)\n+\n+\n+def test_string_builder_append_both(sbuilder):\n+    sbuilder.append(np.nan)\n+    sbuilder.append(None)\n+    sbuilder.append(\"Some text\")\n+    sbuilder.append(\"Some text\")\n+    sbuilder.append(np.nan)\n+    sbuilder.append(None)\n+    assert (sbuilder.null_count() == 4)\n \n Review comment:\n   Style nit: in Python, you don't need parentheses around assertions.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-04-23T20:41:52.882+0000",
                    "updated": "2018-04-23T20:41:52.882+0000",
                    "started": "2018-04-23T20:41:52.881+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "94284",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/94285",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #1930: ARROW-1964: [Python] Exposed StringBuilder to Cython\nURL: https://github.com/apache/arrow/pull/1930#discussion_r183528293\n \n \n\n ##########\n File path: python/pyarrow/builder.pxi\n ##########\n @@ -0,0 +1,53 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import six\n+from pyarrow.compat import tobytes\n+\n+cdef class StringBuilder:\n+    cdef:\n+        unique_ptr[CStringBuilder] builder\n+\n+    def __cinit__(self, MemoryPool memory_pool=None):\n+        cdef CMemoryPool* pool = maybe_unbox_memory_pool(memory_pool)\n+        self.builder.reset(new CStringBuilder(pool))\n+\n+    def append(self, value):\n+        if value is None or value is np.nan:\n+            self.builder.get().AppendNull()\n+        elif isinstance(value, (six.string_types, six.binary_type)):\n+            self.builder.get().Append(tobytes(value))\n+        else:\n+            raise TypeError('StringBuilder only accepts string objects')\n+\n+    def append_values(self, values):\n+        for value in values:\n+            self.append(value)\n+\n+    def length(self):\n+        return self.builder.get().length()\n+\n+    def null_count(self):\n+        return self.builder.get().null_count()\n+\n+    def finish(self):\n+        return pyarrow_wrap_array(self._finish())\n+\n+    cdef shared_ptr[CArray] _finish(self) nogil:\n \n Review comment:\n   Declaring a function `nogil` tells Cython that it is safe to call the function without the GIL, but Cython will not release the GIL automatically. You need a `with nogil` block for that (and then the private function is useless).\r\n   \r\n   See Cython docs at https://cython.readthedocs.io/en/latest/src/userguide/external_C_code.html?highlight=nogil#releasing-the-gil\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-04-23T20:41:52.915+0000",
                    "updated": "2018-04-23T20:41:52.915+0000",
                    "started": "2018-04-23T20:41:52.914+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "94285",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/94286",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #1930: ARROW-1964: [Python] Exposed StringBuilder to Cython\nURL: https://github.com/apache/arrow/pull/1930#discussion_r183530272\n \n \n\n ##########\n File path: python/pyarrow/tests/test_builder.py\n ##########\n @@ -0,0 +1,113 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import pytest\n+import pyarrow as pa\n+from pyarrow.lib import StringBuilder\n+import numpy as np\n+import pandas as pd\n+\n+\n+@pytest.fixture\n+def sbuilder():\n+    return StringBuilder()\n+\n+\n+def test_string_builder_append_string(sbuilder):\n+    sbuilder.append(b'jsaafakjh')\n+    assert (sbuilder.length() == 1)\n+    sbuilder.append('jsaafakjh')\n+    assert (sbuilder.length() == 2)\n+    arr = sbuilder.finish()\n+    assert (sbuilder.length() == 0)\n+    assert (isinstance(arr, pa.Array))\n+    assert (arr.null_count == 0)\n+    assert (arr.type == 'str')\n+    assert(len(arr.to_pylist()) == 2)\n+\n+\n+def test_string_builder_append_none(sbuilder):\n+    sbuilder.append(None)\n+    assert (sbuilder.null_count() == 1)\n+    for i in range(10):\n+        sbuilder.append(None)\n+    assert (sbuilder.null_count() == 11)\n+    arr = sbuilder.finish()\n+    assert (arr.null_count == 11)\n+\n+\n+def test_string_builder_append_nan(sbuilder):\n+    sbuilder.append(np.nan)\n+    sbuilder.append(np.nan)\n+    assert (sbuilder.null_count() == 2)\n+    arr = sbuilder.finish()\n+    assert (arr.null_count == 2)\n+\n+\n+def test_string_builder_append_both(sbuilder):\n+    sbuilder.append(np.nan)\n+    sbuilder.append(None)\n+    sbuilder.append(\"Some text\")\n+    sbuilder.append(\"Some text\")\n+    sbuilder.append(np.nan)\n+    sbuilder.append(None)\n+    assert (sbuilder.null_count() == 4)\n+    arr = sbuilder.finish()\n+    assert (arr.null_count == 4)\n+    expected = [None, None, \"Some text\", \"Some text\", None, None]\n+    assert (arr.to_pylist() == expected)\n+\n+\n+def test_string_builder_append_pylist(sbuilder):\n+    sbuilder.append_values([np.nan, None, \"text\", None, \"other text\"])\n+    assert (sbuilder.null_count() == 3)\n+    arr = sbuilder.finish()\n+    assert (arr.null_count == 3)\n+    expected = [None, None, \"text\", None, \"other text\"]\n+    assert (arr.to_pylist() == expected)\n+\n+\n+def test_string_builder_append_series(sbuilder):\n+    sbuilder.append_values(\n+        pd.Series([np.nan, None, \"text\", None, \"other text\"])\n+    )\n+    assert (sbuilder.null_count() == 3)\n+    arr = sbuilder.finish()\n+    assert (arr.null_count == 3)\n+    expected = [None, None, \"text\", None, \"other text\"]\n+    assert (arr.to_pylist() == expected)\n+\n+\n+def test_string_builder_append_numpy(sbuilder):\n \n Review comment:\n   I'm not sure it makes sense to have separate test functions for each input iterable type. And there's a lot of code duplication here too. Since the implementation uses iteration, I think testing for lists is enough.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-04-23T20:41:52.957+0000",
                    "updated": "2018-04-23T20:41:52.957+0000",
                    "started": "2018-04-23T20:41:52.957+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "94286",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/94287",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #1930: ARROW-1964: [Python] Exposed StringBuilder to Cython\nURL: https://github.com/apache/arrow/pull/1930#discussion_r183529646\n \n \n\n ##########\n File path: python/pyarrow/builder.pxi\n ##########\n @@ -0,0 +1,53 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import six\n+from pyarrow.compat import tobytes\n+\n+cdef class StringBuilder:\n+    cdef:\n+        unique_ptr[CStringBuilder] builder\n+\n+    def __cinit__(self, MemoryPool memory_pool=None):\n+        cdef CMemoryPool* pool = maybe_unbox_memory_pool(memory_pool)\n+        self.builder.reset(new CStringBuilder(pool))\n+\n+    def append(self, value):\n+        if value is None or value is np.nan:\n+            self.builder.get().AppendNull()\n+        elif isinstance(value, (six.string_types, six.binary_type)):\n+            self.builder.get().Append(tobytes(value))\n+        else:\n+            raise TypeError('StringBuilder only accepts string objects')\n+\n+    def append_values(self, values):\n+        for value in values:\n+            self.append(value)\n+\n+    def length(self):\n \n Review comment:\n   Please implement `__len__` instead.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-04-23T20:41:52.996+0000",
                    "updated": "2018-04-23T20:41:52.996+0000",
                    "started": "2018-04-23T20:41:52.996+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "94287",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/94288",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #1930: ARROW-1964: [Python] Exposed StringBuilder to Cython\nURL: https://github.com/apache/arrow/pull/1930#discussion_r183529430\n \n \n\n ##########\n File path: python/pyarrow/builder.pxi\n ##########\n @@ -0,0 +1,53 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import six\n+from pyarrow.compat import tobytes\n+\n+cdef class StringBuilder:\n+    cdef:\n+        unique_ptr[CStringBuilder] builder\n+\n+    def __cinit__(self, MemoryPool memory_pool=None):\n+        cdef CMemoryPool* pool = maybe_unbox_memory_pool(memory_pool)\n+        self.builder.reset(new CStringBuilder(pool))\n+\n+    def append(self, value):\n+        if value is None or value is np.nan:\n+            self.builder.get().AppendNull()\n+        elif isinstance(value, (six.string_types, six.binary_type)):\n+            self.builder.get().Append(tobytes(value))\n+        else:\n+            raise TypeError('StringBuilder only accepts string objects')\n+\n+    def append_values(self, values):\n+        for value in values:\n+            self.append(value)\n+\n+    def length(self):\n+        return self.builder.get().length()\n+\n+    def null_count(self):\n \n Review comment:\n   Since `Array.null_count` is a property, `Builder.null_count` probably should as well.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-04-23T20:41:53.016+0000",
                    "updated": "2018-04-23T20:41:53.016+0000",
                    "started": "2018-04-23T20:41:53.016+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "94288",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/94289",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #1930: ARROW-1964: [Python] Exposed StringBuilder to Cython\nURL: https://github.com/apache/arrow/pull/1930#discussion_r183528718\n \n \n\n ##########\n File path: python/pyarrow/tests/test_builder.py\n ##########\n @@ -0,0 +1,113 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import pytest\n+import pyarrow as pa\n+from pyarrow.lib import StringBuilder\n+import numpy as np\n+import pandas as pd\n+\n+\n+@pytest.fixture\n+def sbuilder():\n+    return StringBuilder()\n+\n+\n+def test_string_builder_append_string(sbuilder):\n+    sbuilder.append(b'jsaafakjh')\n+    assert (sbuilder.length() == 1)\n+    sbuilder.append('jsaafakjh')\n+    assert (sbuilder.length() == 2)\n+    arr = sbuilder.finish()\n+    assert (sbuilder.length() == 0)\n+    assert (isinstance(arr, pa.Array))\n+    assert (arr.null_count == 0)\n+    assert (arr.type == 'str')\n+    assert(len(arr.to_pylist()) == 2)\n+\n+\n+def test_string_builder_append_none(sbuilder):\n+    sbuilder.append(None)\n+    assert (sbuilder.null_count() == 1)\n+    for i in range(10):\n+        sbuilder.append(None)\n+    assert (sbuilder.null_count() == 11)\n+    arr = sbuilder.finish()\n+    assert (arr.null_count == 11)\n+\n+\n+def test_string_builder_append_nan(sbuilder):\n+    sbuilder.append(np.nan)\n+    sbuilder.append(np.nan)\n+    assert (sbuilder.null_count() == 2)\n+    arr = sbuilder.finish()\n+    assert (arr.null_count == 2)\n+\n+\n+def test_string_builder_append_both(sbuilder):\n \n Review comment:\n   All those value-appending tests are a bit verbose. You can define a single one that appends both Nones, nans and strings.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-04-23T20:41:53.044+0000",
                    "updated": "2018-04-23T20:41:53.044+0000",
                    "started": "2018-04-23T20:41:53.043+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "94289",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/94290",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #1930: ARROW-1964: [Python] Exposed StringBuilder to Cython\nURL: https://github.com/apache/arrow/pull/1930#issuecomment-383716433\n \n \n   As a side note, `append_values` here won't be very optimized since it does a Python method call at each iteration. But we can optimize later.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-04-23T20:43:57.027+0000",
                    "updated": "2018-04-23T20:43:57.027+0000",
                    "started": "2018-04-23T20:43:57.026+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "94290",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/97864",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #1930: ARROW-1964: [Python] Expose StringBuilder to Python\nURL: https://github.com/apache/arrow/pull/1930#issuecomment-386270547\n \n \n   @dsimmie Do you think you'll have time to address the review comments? Otherwise we could take over.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-03T11:55:41.929+0000",
                    "updated": "2018-05-03T11:55:41.929+0000",
                    "started": "2018-05-03T11:55:41.928+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "97864",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/98091",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "AlexHagerman commented on issue #1930: ARROW-1964: [Python] Expose StringBuilder to Python\nURL: https://github.com/apache/arrow/pull/1930#issuecomment-386483224\n \n \n   @pitrou I'm going to have more time this month to contribute than I did the last few weeks. Pending dsimmie response would this be a good non blocking ticket to pick up and work on?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-04T01:20:41.148+0000",
                    "updated": "2018-05-04T01:20:41.148+0000",
                    "started": "2018-05-04T01:20:41.148+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98091",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/98148",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy commented on issue #1930: ARROW-1964: [Python] Expose StringBuilder to Python\nURL: https://github.com/apache/arrow/pull/1930#issuecomment-386530970\n \n \n   @AlexHagerman yes this would be a good ticket.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-04T08:01:51.400+0000",
                    "updated": "2018-05-04T08:01:51.400+0000",
                    "started": "2018-05-04T08:01:51.399+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98148",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/98741",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dsimmie commented on issue #1930: ARROW-1964: [Python] Expose StringBuilder to Python\nURL: https://github.com/apache/arrow/pull/1930#issuecomment-386825631\n \n \n   Apologies been busy at work I can fix tomorrow if not too late\n   \n   On Fri, 4 May 2018, 02:20 Alex Hagerman, <notifications@github.com> wrote:\n   \n   > @pitrou <https://github.com/pitrou> I'm going to have more time this\n   > month to contribute than I did the last few weeks. Pending dsimmie response\n   > would this be a good non blocking ticket to pick up and work on?\n   >\n   > \u2014\n   > You are receiving this because you were mentioned.\n   > Reply to this email directly, view it on GitHub\n   > <https://github.com/apache/arrow/pull/1930#issuecomment-386483224>, or mute\n   > the thread\n   > <https://github.com/notifications/unsubscribe-auth/ABGPB0fjOCjFOfVmXo6Pt-pibRnecKvhks5tu6zsgaJpZM4Te0Rz>\n   > .\n   >\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-05T18:28:32.856+0000",
                    "updated": "2018-05-05T18:28:32.856+0000",
                    "started": "2018-05-05T18:28:32.855+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98741",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/98742",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #1930: ARROW-1964: [Python] Expose StringBuilder to Python\nURL: https://github.com/apache/arrow/pull/1930#issuecomment-386825760\n \n \n   No worries, I just wanted to make sure this PR doesn't become stale.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-05T18:31:05.383+0000",
                    "updated": "2018-05-05T18:31:05.383+0000",
                    "started": "2018-05-05T18:31:05.382+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98742",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/98744",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "AlexHagerman commented on issue #1930: ARROW-1964: [Python] Expose StringBuilder to Python\nURL: https://github.com/apache/arrow/pull/1930#issuecomment-386825976\n \n \n   @dsimmie do you plan to work on the other builders? If not I'll begin working on the DictionaryBuilder.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-05T18:34:29.437+0000",
                    "updated": "2018-05-05T18:34:29.437+0000",
                    "started": "2018-05-05T18:34:29.437+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98744",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/98750",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dsimmie commented on issue #1930: ARROW-1964: [Python] Expose StringBuilder to Python\nURL: https://github.com/apache/arrow/pull/1930#issuecomment-386837905\n \n \n   Hi Alex,\n   \n   I was going to have a try tomorrow, if I dont think I'll be able I'll let\n   you know.\n   \n   Thanks,\n   Donal\n   \n   On Sat, 5 May 2018, 19:34 Alex Hagerman, <notifications@github.com> wrote:\n   \n   > @dsimmie <https://github.com/dsimmie> do you plan to work on the other\n   > builders? If not I'll begin working on the DictionaryBuilder.\n   >\n   > \u2014\n   > You are receiving this because you were mentioned.\n   > Reply to this email directly, view it on GitHub\n   > <https://github.com/apache/arrow/pull/1930#issuecomment-386825976>, or mute\n   > the thread\n   > <https://github.com/notifications/unsubscribe-auth/ABGPB_cIGjGUuUA5JEH0Xr49C6qDhlxEks5tvfC4gaJpZM4Te0Rz>\n   > .\n   >\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-05T21:57:12.900+0000",
                    "updated": "2018-05-05T21:57:12.900+0000",
                    "started": "2018-05-05T21:57:12.900+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98750",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/98760",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "AlexHagerman commented on issue #1930: ARROW-1964: [Python] Expose StringBuilder to Python\nURL: https://github.com/apache/arrow/pull/1930#issuecomment-386846253\n \n \n   @dsimmie no rush and good luck I'll work on a different ticket. \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-06T01:12:07.388+0000",
                    "updated": "2018-05-06T01:12:07.388+0000",
                    "started": "2018-05-06T01:12:07.388+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98760",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/98810",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "dsimmie commented on issue #1930: ARROW-1964: [Python] Expose StringBuilder to Python\nURL: https://github.com/apache/arrow/pull/1930#issuecomment-386885363\n \n \n   I have made the changes you requested @pitrou. I think I will just leave this PR for just the StringBuilder as it has been around for long enough as is. \r\n   \r\n   I would like to work to work on the other builders but as I'm just starting off on these it might take me a little longer than someone else. If I don't hear that someone else is going to take them over I will have a try with them this week and submit through a different PR.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-06T14:56:47.924+0000",
                    "updated": "2018-05-06T14:56:47.924+0000",
                    "started": "2018-05-06T14:56:47.923+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98810",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/98966",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #1930: ARROW-1964: [Python] Expose StringBuilder to Python\nURL: https://github.com/apache/arrow/pull/1930#discussion_r186384597\n \n \n\n ##########\n File path: python/pyarrow/tests/test_builder.py\n ##########\n @@ -0,0 +1,56 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import numpy as np\n+\n+import pyarrow as pa\n+from pyarrow.lib import StringBuilder\n+\n+\n+def test_string_builder_append_string():\n+    sbuilder = StringBuilder()\n+    sbuilder.append(b'jsaafakjh')\n+    sbuilder.append('jsaafakjh')\n+    sbuilder.append(np.nan)\n+    sbuilder.append(None)\n+    assert (len(sbuilder) == 4)\n+    assert (sbuilder.null_count == 2)\n+    arr = sbuilder.finish()\n+    assert (len(sbuilder) == 0)\n+    assert (isinstance(arr, pa.Array))\n+    assert (arr.null_count == 2)\n+    assert (arr.type == 'str')\n+    assert(len(arr.to_pylist()) == 4)\n \n Review comment:\n   Why not check the value instead of just its length?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-07T10:27:33.123+0000",
                    "updated": "2018-05-07T10:27:33.123+0000",
                    "started": "2018-05-07T10:27:33.122+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98966",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/98967",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #1930: ARROW-1964: [Python] Expose StringBuilder to Python\nURL: https://github.com/apache/arrow/pull/1930#discussion_r186384535\n \n \n\n ##########\n File path: python/pyarrow/tests/test_builder.py\n ##########\n @@ -0,0 +1,56 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import numpy as np\n+\n+import pyarrow as pa\n+from pyarrow.lib import StringBuilder\n+\n+\n+def test_string_builder_append_string():\n+    sbuilder = StringBuilder()\n+    sbuilder.append(b'jsaafakjh')\n+    sbuilder.append('jsaafakjh')\n+    sbuilder.append(np.nan)\n+    sbuilder.append(None)\n+    assert (len(sbuilder) == 4)\n \n Review comment:\n   Nit: you don't need parentheses around asserts.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-07T10:27:33.124+0000",
                    "updated": "2018-05-07T10:27:33.124+0000",
                    "started": "2018-05-07T10:27:33.124+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98967",
                    "issueId": "13128436"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/worklog/98968",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #1930: ARROW-1964: [Python] Expose StringBuilder to Python\nURL: https://github.com/apache/arrow/pull/1930#discussion_r186384908\n \n \n\n ##########\n File path: python/pyarrow/builder.pxi\n ##########\n @@ -0,0 +1,53 @@\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+#\n+#   http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+import six\n+from pyarrow.compat import tobytes\n+\n+cdef class StringBuilder:\n \n Review comment:\n   It would be nice to add a docstring here and on non-trivial public methods. You can take a look at e.g. the Array class in `array.pxi` to get a sense of our conventions.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-05-07T10:27:33.236+0000",
                    "updated": "2018-05-07T10:27:33.236+0000",
                    "started": "2018-05-07T10:27:33.235+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "98968",
                    "issueId": "13128436"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 13800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@61b04c59[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7ee87d41[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4d441f8c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@70fb6110[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@730aa2a4[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@771f097e[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1acad06e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@3112d1c6[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@172b5ac2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1870e5a0[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@54f51f60[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@734e68d9[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 13800,
        "customfield_12312520": null,
        "customfield_12312521": "Thu May 10 15:29:20 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-05-10T15:29:20.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1964/watchers",
            "watchCount": 4,
            "isWatching": false
        },
        "created": "2018-01-04T08:01:11.000+0000",
        "updated": "2018-05-10T15:30:02.000+0000",
        "timeoriginalestimate": null,
        "description": "Having the builder classes available from Python would be very helpful. Currently a construction of an Arrow array always need to have a Python list or numpy array as intermediate. As  the builder in combination with jemalloc are very efficient in building up non-chunked memory, it would be nice to directly use them in certain cases.\r\n\r\nThe most useful builders are the [StringBuilder|https://github.com/apache/arrow/blob/5030e235047bdffabf6a900dd39b64eeeb96bdc8/cpp/src/arrow/builder.h#L714] and [DictionaryBuilder|https://github.com/apache/arrow/blob/5030e235047bdffabf6a900dd39b64eeeb96bdc8/cpp/src/arrow/builder.h#L872] as they provide functionality to create columns that are not easily constructed using NumPy methods in Python.\r\n\r\nThe basic approach would be to wrap the C++ classes in https://github.com/apache/arrow/blob/master/python/pyarrow/includes/libarrow.pxd so that they can be used from Cython. Afterwards, we should start a new file {{python/pyarrow/builder.pxi}} where we have classes take typical Python objects like {{str}} and pass them on to the C++ classes. At the end, these classes should also return (Python accessible) {{pyarrow.Array}} instances.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "3h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 13800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python] Expose Builder classes",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/comment/16311415",
                    "id": "16311415",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "+1, particularly vector appends (NumPy, pandas, or other Arrow arrays)",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-01-04T14:42:02.568+0000",
                    "updated": "2018-01-04T14:42:02.568+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/comment/16447201",
                    "id": "16447201",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "dsimmie opened a new pull request #1930: ARROW-1964: [Python ] Exposed StringBuilder to Cython\nURL: https://github.com/apache/arrow/pull/1930\n \n \n   * Partial implementation of ARROW-1964\r\n   * Only implements StringBuilder not the other builders, notably the DictionaryBuilder mentioned in issue 1964\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-04-22T10:54:58.803+0000",
                    "updated": "2018-04-22T10:54:58.803+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13128436/comment/16470556",
                    "id": "16470556",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 1930\n[https://github.com/apache/arrow/pull/1930]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2018-05-10T15:29:20.892+0000",
                    "updated": "2018-05-10T15:29:20.892+0000"
                }
            ],
            "maxResults": 3,
            "total": 3,
            "startAt": 0
        },
        "customfield_12311820": "0|i3ohzb:",
        "customfield_12314139": null
    }
}