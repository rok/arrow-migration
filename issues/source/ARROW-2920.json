{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13175013",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013",
    "key": "ARROW-2920",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12342562",
                "id": "12342562",
                "description": "",
                "name": "0.10.0",
                "archived": false,
                "released": true,
                "releaseDate": "2018-08-06"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pcmoritz",
            "name": "pcmoritz",
            "key": "pcmoritz",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Philipp Moritz",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pcmoritz",
            "name": "pcmoritz",
            "key": "pcmoritz",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Philipp Moritz",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pcmoritz",
            "name": "pcmoritz",
            "key": "pcmoritz",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Philipp Moritz",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 5400,
            "total": 5400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 5400,
            "total": 5400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2920/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 9,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/worklog/127990",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pcmoritz opened a new pull request #2329: ARROW-2920: [Python] Fix pytorch segfault\nURL: https://github.com/apache/arrow/pull/2329\n \n \n   This fixes ARROW-2920 (see also https://github.com/ray-project/ray/issues/2447)\r\n   \r\n   Unfortunately we might not be able to have regression tests for this right now because we don't have CUDA in our test toolchain.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-27T00:52:39.688+0000",
                    "updated": "2018-07-27T00:52:39.688+0000",
                    "started": "2018-07-27T00:52:39.688+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "127990",
                    "issueId": "13175013"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/worklog/127995",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #2329: ARROW-2920: [Python] Fix pytorch segfault\nURL: https://github.com/apache/arrow/pull/2329#issuecomment-408294614\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/2329?src=pr&el=h1) Report\n   > Merging [#2329](https://codecov.io/gh/apache/arrow/pull/2329?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/fdc8e6a7b278dfaf59c7fa2d7367c407bfb264ec?src=pr&el=desc) will **increase** coverage by `2.34%`.\n   > The diff coverage is `86.36%`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/2329/graphs/tree.svg?width=650&height=150&src=pr&token=LpTCFbqVT1)](https://codecov.io/gh/apache/arrow/pull/2329?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #2329      +/-   ##\n   ==========================================\n   + Coverage   84.47%   86.82%   +2.34%     \n   ==========================================\n     Files         293      237      -56     \n     Lines       45066    42314    -2752     \n   ==========================================\n   - Hits        38070    36739    -1331     \n   + Misses       6969     5575    -1394     \n   + Partials       27        0      -27\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/2329?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [python/pyarrow/\\_\\_init\\_\\_.py](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-cHl0aG9uL3B5YXJyb3cvX19pbml0X18ucHk=) | `64.91% <100%> (+0.62%)` | :arrow_up: |\n   | [python/pyarrow/compat.py](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-cHl0aG9uL3B5YXJyb3cvY29tcGF0LnB5) | `79.02% <85.71%> (+0.5%)` | :arrow_up: |\n   | [go/arrow/math/int64\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC9pbnQ2NF9hbWQ2NC5nbw==) | | |\n   | [go/arrow/array/binary.go](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-Z28vYXJyb3cvYXJyYXkvYmluYXJ5Lmdv) | | |\n   | [go/arrow/memory/util.go](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWVtb3J5L3V0aWwuZ28=) | | |\n   | [go/arrow/math/uint64\\_sse4\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC91aW50NjRfc3NlNF9hbWQ2NC5nbw==) | | |\n   | [go/arrow/datatype\\_binary.go](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-Z28vYXJyb3cvZGF0YXR5cGVfYmluYXJ5Lmdv) | | |\n   | [rust/src/bitmap.rs](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-cnVzdC9zcmMvYml0bWFwLnJz) | | |\n   | [go/arrow/memory/memory\\_sse4\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWVtb3J5L21lbW9yeV9zc2U0X2FtZDY0Lmdv) | | |\n   | [go/arrow/internal/testing/tools/bits.go](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-Z28vYXJyb3cvaW50ZXJuYWwvdGVzdGluZy90b29scy9iaXRzLmdv) | | |\n   | ... and [48 more](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/2329?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/2329?src=pr&el=footer). Last update [fdc8e6a...5f0cafa](https://codecov.io/gh/apache/arrow/pull/2329?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-27T02:43:20.935+0000",
                    "updated": "2018-07-27T02:43:20.935+0000",
                    "started": "2018-07-27T02:43:20.934+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "127995",
                    "issueId": "13175013"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/worklog/128060",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pcmoritz commented on issue #2329: ARROW-2920: [Python] Fix pytorch segfault\nURL: https://github.com/apache/arrow/pull/2329#issuecomment-408316140\n \n \n   Before we merge this, let me add the regression test (skipping it) even though we can't run it in the CI.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-27T05:32:59.069+0000",
                    "updated": "2018-07-27T05:32:59.069+0000",
                    "started": "2018-07-27T05:32:59.069+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "128060",
                    "issueId": "13175013"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/worklog/128102",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io edited a comment on issue #2329: ARROW-2920: [Python] Fix pytorch segfault\nURL: https://github.com/apache/arrow/pull/2329#issuecomment-408294614\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/2329?src=pr&el=h1) Report\n   > Merging [#2329](https://codecov.io/gh/apache/arrow/pull/2329?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/fdc8e6a7b278dfaf59c7fa2d7367c407bfb264ec?src=pr&el=desc) will **increase** coverage by `2.35%`.\n   > The diff coverage is `83.33%`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/2329/graphs/tree.svg?height=150&width=650&token=LpTCFbqVT1&src=pr)](https://codecov.io/gh/apache/arrow/pull/2329?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #2329      +/-   ##\n   ==========================================\n   + Coverage   84.47%   86.83%   +2.35%     \n   ==========================================\n     Files         293      237      -56     \n     Lines       45066    42350    -2716     \n   ==========================================\n   - Hits        38070    36774    -1296     \n   + Misses       6969     5576    -1393     \n   + Partials       27        0      -27\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/2329?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [python/pyarrow/\\_\\_init\\_\\_.py](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-cHl0aG9uL3B5YXJyb3cvX19pbml0X18ucHk=) | `64.91% <100%> (+0.62%)` | :arrow_up: |\n   | [python/pyarrow/tests/test\\_serialization.py](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-cHl0aG9uL3B5YXJyb3cvdGVzdHMvdGVzdF9zZXJpYWxpemF0aW9uLnB5) | `89.79% <50%> (-0.21%)` | :arrow_down: |\n   | [python/pyarrow/compat.py](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-cHl0aG9uL3B5YXJyb3cvY29tcGF0LnB5) | `79.02% <85.71%> (+0.5%)` | :arrow_up: |\n   | [cpp/src/arrow/pretty\\_print-test.cc](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9wcmV0dHlfcHJpbnQtdGVzdC5jYw==) | `100% <0%> (\u00f8)` | :arrow_up: |\n   | [rust/src/buffer.rs](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-cnVzdC9zcmMvYnVmZmVyLnJz) | | |\n   | [go/arrow/math/float64\\_avx2\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC9mbG9hdDY0X2F2eDJfYW1kNjQuZ28=) | | |\n   | [go/arrow/math/uint64.go](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC91aW50NjQuZ28=) | | |\n   | [go/arrow/internal/testing/tools/bool.go](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-Z28vYXJyb3cvaW50ZXJuYWwvdGVzdGluZy90b29scy9ib29sLmdv) | | |\n   | [go/arrow/internal/bitutil/bitutil.go](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-Z28vYXJyb3cvaW50ZXJuYWwvYml0dXRpbC9iaXR1dGlsLmdv) | | |\n   | [go/arrow/type\\_traits\\_boolean.go](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree#diff-Z28vYXJyb3cvdHlwZV90cmFpdHNfYm9vbGVhbi5nbw==) | | |\n   | ... and [51 more](https://codecov.io/gh/apache/arrow/pull/2329/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/2329?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/2329?src=pr&el=footer). Last update [fdc8e6a...1d82825](https://codecov.io/gh/apache/arrow/pull/2329?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-27T08:20:03.695+0000",
                    "updated": "2018-07-27T08:20:03.695+0000",
                    "started": "2018-07-27T08:20:03.694+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "128102",
                    "issueId": "13175013"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/worklog/128103",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pcmoritz commented on issue #2329: ARROW-2920: [Python] Fix pytorch segfault\nURL: https://github.com/apache/arrow/pull/2329#issuecomment-408348183\n \n \n   +1 This is ready to merge from my side\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-27T08:20:57.666+0000",
                    "updated": "2018-07-27T08:20:57.666+0000",
                    "started": "2018-07-27T08:20:57.665+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "128103",
                    "issueId": "13175013"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/worklog/128188",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on a change in pull request #2329: ARROW-2920: [Python] Fix pytorch segfault\nURL: https://github.com/apache/arrow/pull/2329#discussion_r205814642\n \n \n\n ##########\n File path: python/pyarrow/compat.py\n ##########\n @@ -205,16 +191,37 @@ def import_tensorflow_extension():\n     if spec:\n         module = importlib.util.module_from_spec(spec)\n         for path in module.__path__:\n-            ext = os.path.join(path, \"libtensorflow_framework.so\")\n-            if os.path.exists(ext):\n-                import ctypes\n-                try:\n-                    ctypes.CDLL(ext)\n-                except OSError:\n-                    pass\n-                tensorflow_loaded = True\n-                break\n+            yield path\n \n+def import_tensorflow_extension():\n+    \"\"\"\n+    Load the TensorFlow extension if it exists.\n+\n+    This is used to load the TensorFlow extension before\n+    pyarrow.lib. If we don't do this there are symbol clashes\n+    between TensorFlow's use of threading and our global\n+    thread pool, see also\n \n Review comment:\n   The issue is a bit more complicated than that. The problem (is my understanding) is that devtoolset-2 statically links various parts of the C and C++ runtime, including some mutable static data members which are modified by pthreads initialization. We should document this issue in some more detail somewhere so we can point packaging folks to it to see what can be done to improve the situation in the future\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-27T15:37:38.271+0000",
                    "updated": "2018-07-27T15:37:38.271+0000",
                    "started": "2018-07-27T15:37:38.271+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "128188",
                    "issueId": "13175013"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/worklog/128189",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm closed pull request #2329: ARROW-2920: [Python] Fix pytorch segfault\nURL: https://github.com/apache/arrow/pull/2329\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/python/pyarrow/__init__.py b/python/pyarrow/__init__.py\nindex 1aaad9924b..8010b72f60 100644\n--- a/python/pyarrow/__init__.py\n+++ b/python/pyarrow/__init__.py\n@@ -51,8 +51,10 @@ def parse_version(root):\n \n \n # Workaround for https://issues.apache.org/jira/browse/ARROW-2657\n+# and https://issues.apache.org/jira/browse/ARROW-2920\n if _sys.platform in ('linux', 'linux2'):\n     compat.import_tensorflow_extension()\n+    compat.import_pytorch_extension()\n \n \n from pyarrow.lib import cpu_count, set_cpu_count\ndiff --git a/python/pyarrow/compat.py b/python/pyarrow/compat.py\nindex 47aeaa5bfd..44e156e676 100644\n--- a/python/pyarrow/compat.py\n+++ b/python/pyarrow/compat.py\n@@ -160,31 +160,17 @@ def encode_file_path(path):\n     # will convert utf8 to utf16\n     return encoded_path\n \n-def import_tensorflow_extension():\n+def _iterate_python_module_paths(package_name):\n     \"\"\"\n-    Load the TensorFlow extension if it exists.\n+    Return an iterator to full paths of a python package.\n \n-    This is used to load the TensorFlow extension before\n-    pyarrow.lib. If we don't do this there are symbol clashes\n-    between TensorFlow's use of threading and our global\n-    thread pool, see also\n-    https://issues.apache.org/jira/browse/ARROW-2657 and\n-    https://github.com/apache/arrow/pull/2096.\n+    This is a best effort and might fail (for example on Python 2).\n+    It uses the official way of loading modules from\n+    https://docs.python.org/3/library/importlib.html#approximating-importlib-import-module\n     \"\"\"\n-    import os\n-    tensorflow_loaded = False\n-\n-    # Try to load the tensorflow extension directly\n-    # This is a performance optimization, tensorflow will always be\n-    # loaded via the \"import tensorflow\" statement below if this\n-    # doesn't succeed.\n-    #\n-    # This uses the official way of loading modules from\n-    # https://docs.python.org/3/library/importlib.html#approximating-importlib-import-module\n-\n     try:\n         import importlib\n-        absolute_name = importlib.util.resolve_name(\"tensorflow\", None)\n+        absolute_name = importlib.util.resolve_name(package_name, None)\n     except (ImportError, AttributeError):\n         # Sometimes, importlib is not available (e.g. Python 2)\n         # or importlib.util is not available (e.g. Python 2.7)\n@@ -205,16 +191,37 @@ def import_tensorflow_extension():\n     if spec:\n         module = importlib.util.module_from_spec(spec)\n         for path in module.__path__:\n-            ext = os.path.join(path, \"libtensorflow_framework.so\")\n-            if os.path.exists(ext):\n-                import ctypes\n-                try:\n-                    ctypes.CDLL(ext)\n-                except OSError:\n-                    pass\n-                tensorflow_loaded = True\n-                break\n+            yield path\n \n+def import_tensorflow_extension():\n+    \"\"\"\n+    Load the TensorFlow extension if it exists.\n+\n+    This is used to load the TensorFlow extension before\n+    pyarrow.lib. If we don't do this there are symbol clashes\n+    between TensorFlow's use of threading and our global\n+    thread pool, see also\n+    https://issues.apache.org/jira/browse/ARROW-2657 and\n+    https://github.com/apache/arrow/pull/2096.\n+    \"\"\"\n+    import os\n+    tensorflow_loaded = False\n+\n+    # Try to load the tensorflow extension directly\n+    # This is a performance optimization, tensorflow will always be\n+    # loaded via the \"import tensorflow\" statement below if this\n+    # doesn't succeed.\n+\n+    for path in _iterate_python_module_paths(\"tensorflow\"):\n+        ext = os.path.join(path, \"libtensorflow_framework.so\")\n+        if os.path.exists(ext):\n+            import ctypes\n+            try:\n+                ctypes.CDLL(ext)\n+            except OSError:\n+                pass\n+            tensorflow_loaded = True\n+            break\n \n     # If the above failed, try to load tensorflow the normal way\n     # (this is more expensive)\n@@ -225,6 +232,22 @@ def import_tensorflow_extension():\n         except ImportError:\n             pass\n \n+def import_pytorch_extension():\n+    \"\"\"\n+    Load the PyTorch extension if it exists.\n+\n+    This is used to load the PyTorch extension before\n+    pyarrow.lib. If we don't do this there are symbol clashes\n+    between PyTorch's use of threading and our global\n+    thread pool, see also\n+    https://issues.apache.org/jira/browse/ARROW-2920\n+    \"\"\"\n+    import ctypes\n+    import os\n+\n+    for path in _iterate_python_module_paths(\"torch\"):\n+        ctypes.CDLL(os.path.join(path, \"lib/libcaffe2.so\"))\n+\n \n integer_types = six.integer_types + (np.integer,)\n \ndiff --git a/python/pyarrow/tests/test_serialization.py b/python/pyarrow/tests/test_serialization.py\nindex e484ebb3af..3a5b37a8a4 100644\n--- a/python/pyarrow/tests/test_serialization.py\n+++ b/python/pyarrow/tests/test_serialization.py\n@@ -365,6 +365,17 @@ def test_torch_serialization(large_buffer):\n                                 context=serialization_context)\n \n \n+@pytest.mark.skipif(not torch or not torch.cuda.is_available(),\n+                    reason=\"requires pytorch with CUDA\")\n+def test_torch_cuda():\n+    # ARROW-2920: This used to segfault if torch is not imported\n+    # before pyarrow\n+    # Note that this test will only catch the issue if it is run\n+    # with a pyarrow that has been built in the manylinux1 environment\n+    torch.nn.Conv2d(64, 2, kernel_size=3, stride=1,\n+                    padding=1, bias=False).cuda()\n+\n+\n def test_numpy_immutable(large_buffer):\n     obj = np.zeros([10])\n \n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-07-27T15:38:08.194+0000",
                    "updated": "2018-07-27T15:38:08.194+0000",
                    "started": "2018-07-27T15:38:08.193+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "128189",
                    "issueId": "13175013"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/worklog/139059",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ppwwyyxx commented on issue #2329: ARROW-2920: [Python] Fix pytorch segfault\nURL: https://github.com/apache/arrow/pull/2329#issuecomment-416793575\n \n \n   Why are we using this kind of hacks again and again?\r\n   I've mentioned in https://github.com/apache/arrow/pull/1223#issuecomment-359892433 about the downsides of importing a giant library like pytorch and tensorflow.\r\n   Importing them may appear to solve some symbol collision issue, but in the long run it only makes things worse by bringing in more and more symbols from all the libraries.\r\n   \r\n   I recently found that pyarrow appears to also have symbol collision issues with [horovod](https://github.com/uber/horovod/). Do you want to also add `compat.import_horovod_extension()`?\r\n   I hope not. \r\n   \r\n   `readelf -Ws libarrow.so.10 | grep 'WEAK.*DEFAULT' | grep -v 'arrow'` is giving me many symbols that should not appear: flatbuffers, protobuf, rapidjson....  I think that's where you want to look at\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-08-29T01:33:52.617+0000",
                    "updated": "2018-08-29T01:33:52.617+0000",
                    "started": "2018-08-29T01:33:52.616+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "139059",
                    "issueId": "13175013"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/worklog/139060",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #2329: ARROW-2920: [Python] Fix pytorch segfault\nURL: https://github.com/apache/arrow/pull/2329#issuecomment-416794274\n \n \n   @ppwwyyxx your comment does not seem constructive to me. Would you like to help remedy the situation?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-08-29T01:38:18.485+0000",
                    "updated": "2018-08-29T01:38:18.485+0000",
                    "started": "2018-08-29T01:38:18.485+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "139060",
                    "issueId": "13175013"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 5400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@53ce9780[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@53192f5[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@12317bce[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@1b9ef547[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@48cd9aae[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@597b94e2[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@408d6b08[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@2cd58a93[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@8e96d4d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@d302436[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@264ecbb3[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@26cf5cfb[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 5400,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Jul 27 15:38:07 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-07-27T15:38:07.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-2920/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2018-07-26T22:34:56.000+0000",
        "updated": "2018-08-29T01:38:18.000+0000",
        "timeoriginalestimate": null,
        "description": "See also [https://github.com/ray-project/ray/issues/2447]\r\n\r\nHow to reproduce:\r\n * Start the Ubuntu Deep Learning AMI (version 12.0) on EC2\r\n * Create a new env with {{conda create -y -n breaking-env python=3.5}}\r\n * Install pytorch with\u00a0{{source activate breaking-env && conda install pytorch torchvision cuda91 -c pytorch}}\r\n\r\n * Compile and install manylinux1 pyarrow wheels from latest arrow master as described here:\u00a0https://github.com/apache/arrow/blob/2876a3fdd1fb9ef6918b7214d6e8d1e3017b42ad/python/manylinux1/README.md\r\n * In the breaking-env just created, run the following:\r\n\r\n\u00a0\r\n{code:java}\r\nPython 3.5.5 |Anaconda, Inc.| (default, May 13 2018, 21:12:35)\r\n\r\n[GCC 7.2.0] on linux\r\n\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n\r\n>>> import pyarrow\r\n\r\n>>> import torch\r\n\r\n>>> torch.nn.Conv2d(64, 2, kernel_size=3, stride=1, padding=1, bias=False).cuda()\r\n\r\nSegmentation fault (core dumped){code}\r\n\u00a0\r\n\r\nBacktrace:\r\n{code:java}\r\n>>> torch.nn.Conv2d(64, 2, kernel_size=3, stride=1, padding=1, bias=False).cuda()\r\n\r\n\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\n\r\n0x0000000000000000 in ?? ()\r\n\r\n(gdb) bt\r\n\r\n#0\u00a0 0x0000000000000000 in ?? ()\r\n\r\n#1\u00a0 0x00007ffff7bc8a99 in __pthread_once_slow (once_control=0x7fffdb791e50 <at::globalContext()::globalContext_+400>, init_routine=0x7fffe46aafe1 <std::__once_proxy()>)\r\n\r\n\u00a0 \u00a0 at pthread_once.c:116\r\n\r\n#2\u00a0 0x00007fffda95c302 in at::Type::toBackend(at::Backend) const () from /home/ubuntu/anaconda3/envs/breaking-env2/lib/python3.5/site-packages/torch/lib/libcaffe2.so\r\n\r\n#3\u00a0 0x00007fffdc59b231 in torch::autograd::VariableType::toBackend (this=<optimized out>, b=<optimized out>) at torch/csrc/autograd/generated/VariableType.cpp:145\r\n\r\n#4\u00a0 0x00007fffdc8dbe8a in torch::autograd::THPVariable_cuda (self=0x7ffff6dbff78, args=0x7ffff6daf828, kwargs=0x0) at torch/csrc/autograd/generated/python_variable_methods.cpp:333\r\n\r\n#5\u00a0 0x000055555569f4e8 in PyCFunction_Call ()\r\n\r\n#6\u00a0 0x00005555556f67cc in PyEval_EvalFrameEx ()\r\n\r\n#7\u00a0 0x00005555556fbe08 in PyEval_EvalFrameEx ()\r\n\r\n#8\u00a0 0x00005555556f6e90 in PyEval_EvalFrameEx ()\r\n\r\n#9\u00a0 0x00005555556fbe08 in PyEval_EvalFrameEx ()\r\n\r\n#10 0x000055555570103d in PyEval_EvalCodeEx ()\r\n\r\n#11 0x0000555555701f5c in PyEval_EvalCode ()\r\n\r\n#12 0x000055555575e454 in run_mod ()\r\n\r\n#13 0x000055555562ab5e in PyRun_InteractiveOneObject ()\r\n\r\n#14 0x000055555562ad01 in PyRun_InteractiveLoopFlags ()\r\n\r\n#15 0x000055555562ad62 in PyRun_AnyFileExFlags.cold.2784 ()\r\n\r\n#16 0x000055555562b080 in Py_Main.cold.2785 ()\r\n\r\n#17 0x000055555562b871 in main (){code}",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 5400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python] Segfault with pytorch 0.4",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/comment/16559004",
                    "id": "16559004",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pcmoritz",
                        "name": "pcmoritz",
                        "key": "pcmoritz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Philipp Moritz",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "This is likely the same issue as https://issues.apache.org/jira/browse/ARROW-2657\u00a0(i.e. the symbols exported by the use of the thread pool might clash).",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pcmoritz",
                        "name": "pcmoritz",
                        "key": "pcmoritz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Philipp Moritz",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-07-26T22:42:48.275+0000",
                    "updated": "2018-07-26T22:42:48.275+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/comment/16559017",
                    "id": "16559017",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=robertnishihara",
                        "name": "robertnishihara",
                        "key": "robertnishihara",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Robert Nishihara",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Does the problem only occur when TensorFlow is *not* installed?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=robertnishihara",
                        "name": "robertnishihara",
                        "key": "robertnishihara",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Robert Nishihara",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-07-26T22:51:25.722+0000",
                    "updated": "2018-07-26T22:51:25.722+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/comment/16559024",
                    "id": "16559024",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pcmoritz",
                        "name": "pcmoritz",
                        "key": "pcmoritz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Philipp Moritz",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Yes,\u00a0in the environment I set up tensorflow is not installed.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pcmoritz",
                        "name": "pcmoritz",
                        "key": "pcmoritz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Philipp Moritz",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-07-26T23:01:23.899+0000",
                    "updated": "2018-07-26T23:01:23.899+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/comment/16559025",
                    "id": "16559025",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "I'd bet a similar workaround can be employed. It's a bummer that these ML projects aren't being team players with coordinating their build toolchains.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-07-26T23:02:25.905+0000",
                    "updated": "2018-07-26T23:02:25.905+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/comment/16559029",
                    "id": "16559029",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pcmoritz",
                        "name": "pcmoritz",
                        "key": "pcmoritz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Philipp Moritz",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Yeah, I can give a shot to the workaround.\u00a0I'm still hopeful we can find a better solution for this down the road.\r\n\r\nThe reason why the ML projects have such a hard time\u00a0it seems\u00a0is that it's not easy to get CUDA working with a standard toolchain.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pcmoritz",
                        "name": "pcmoritz",
                        "key": "pcmoritz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Philipp Moritz",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2018-07-26T23:05:24.845+0000",
                    "updated": "2018-07-26T23:05:24.845+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/comment/16559032",
                    "id": "16559032",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Ah right, because CUDA is not OSS. If NVIDIA provided a devtoolset-2 based CUDA toolchain it would help, I wonder if anyone has asked",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-07-26T23:10:32.686+0000",
                    "updated": "2018-07-26T23:10:32.686+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/comment/16559102",
                    "id": "16559102",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Added this to 0.10.0 milestone so it gets in. Thanks for digging into this",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-07-27T01:00:38.666+0000",
                    "updated": "2018-07-27T01:00:38.666+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13175013/comment/16559910",
                    "id": "16559910",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 2329\n[https://github.com/apache/arrow/pull/2329]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2018-07-27T15:38:07.236+0000",
                    "updated": "2018-07-27T15:38:07.236+0000"
                }
            ],
            "maxResults": 8,
            "total": 8,
            "startAt": 0
        },
        "customfield_12311820": "0|i3wdpz:",
        "customfield_12314139": null
    }
}