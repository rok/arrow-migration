{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13327687",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687",
    "key": "ARROW-10017",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12345977",
                "id": "12345977",
                "description": "",
                "name": "2.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-10-19"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12348647",
                "id": "12348647",
                "name": "1.0.1",
                "archived": false,
                "released": true,
                "releaseDate": "2020-08-21"
            }
        ],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pwoody",
            "name": "pwoody",
            "key": "pwoody",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Patrick Woody",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pwoody",
            "name": "pwoody",
            "key": "pwoody",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Patrick Woody",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 8400,
            "total": 8400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 8400,
            "total": 8400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-10017/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 14,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/worklog/484511",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pwoody opened a new pull request #8194:\nURL: https://github.com/apache/arrow/pull/8194\n\n\n   @liyafan82 per the previous PR\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-09-15T14:07:42.609+0000",
                    "updated": "2020-09-15T14:07:42.609+0000",
                    "started": "2020-09-15T14:07:42.609+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "484511",
                    "issueId": "13327687"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/worklog/484518",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #8194:\nURL: https://github.com/apache/arrow/pull/8194#issuecomment-692741669\n\n\n   https://issues.apache.org/jira/browse/ARROW-10017\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-09-15T14:12:08.716+0000",
                    "updated": "2020-09-15T14:12:08.716+0000",
                    "started": "2020-09-15T14:12:08.716+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "484518",
                    "issueId": "13327687"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/worklog/484866",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #8194:\nURL: https://github.com/apache/arrow/pull/8194#issuecomment-693125173\n\n\n   @pwoody Could you please provide some test cases?\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-09-16T02:06:21.751+0000",
                    "updated": "2020-09-16T02:06:21.751+0000",
                    "started": "2020-09-16T02:06:21.751+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "484866",
                    "issueId": "13327687"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/worklog/484896",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pwoody commented on pull request #8194:\nURL: https://github.com/apache/arrow/pull/8194#issuecomment-693144593\n\n\n   Yep, added @liyafan82 . Not exactly clean because it is guarded by the `static final` variable, but it mirrors the other test suites that use this type of thing.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-09-16T03:15:15.468+0000",
                    "updated": "2020-09-16T03:15:15.468+0000",
                    "started": "2020-09-16T03:15:15.468+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "484896",
                    "issueId": "13327687"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/worklog/485033",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on a change in pull request #8194:\nURL: https://github.com/apache/arrow/pull/8194#discussion_r489310890\n\n\n\n##########\nFile path: java/memory/memory-core/src/test/java/org/apache/arrow/memory/util/TestLargeMemoryUtil.java\n##########\n@@ -0,0 +1,100 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\r\n+ * contributor license agreements.  See the NOTICE file distributed with\r\n+ * this work for additional information regarding copyright ownership.\r\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\r\n+ * (the \"License\"); you may not use this file except in compliance with\r\n+ * the License.  You may obtain a copy of the License at\r\n+ *\r\n+ *    http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing, software\r\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n+ * See the License for the specific language governing permissions and\r\n+ * limitations under the License.\r\n+ */\r\n+\r\n+package org.apache.arrow.memory.util;\r\n+\r\n+import java.lang.reflect.InvocationTargetException;\r\n+import java.lang.reflect.Method;\r\n+import java.net.URLClassLoader;\r\n+\r\n+import org.junit.Assert;\r\n+import org.junit.Test;\r\n+\r\n+public class TestLargeMemoryUtil {\r\n+\r\n+  /**\r\n+   * Get a copy of the current class loader.\r\n+   * @return the newly created class loader.\r\n+   */\r\n+  private ClassLoader copyClassLoader() {\r\n+    ClassLoader curClassLoader = this.getClass().getClassLoader();\r\n+    if (curClassLoader instanceof URLClassLoader) {\r\n+      // for Java 1.8\r\n+      return new URLClassLoader(((URLClassLoader) curClassLoader).getURLs(), null);\r\n+    }\r\n+\r\n+    // for Java 1.9 and Java 11.\r\n+    return null;\r\n+  }\r\n+\r\n+  /**\r\n+   * Use the checkedCastToInt method from the current classloader.\r\n+   * @param classLoader the class loader from which to call the method.\r\n+   * @return the return value of the method.\r\n+   */\r\n+  private int checkedCastToInt(ClassLoader classLoader, long value) throws Exception {\r\n+    Class<?> clazz = classLoader.loadClass(\"org.apache.arrow.memory.util.LargeMemoryUtil\");\r\n+    Method method = clazz.getMethod(\"checkedCastToInt\", long.class);\r\n+    return (int) method.invoke(null, value);\r\n+  }\r\n+\r\n+  @Test\r\n+  public void testEnableLargeMemoryUtilCheck() throws Exception {\r\n+    String savedNewProperty = System.getProperty(\"arrow.enable_unsafe_memory_access\");\r\n+    System.setProperty(\"arrow.enable_unsafe_memory_access\", \"false\");\r\n+    try {\r\n+      ClassLoader classLoader = copyClassLoader();\r\n+      if (classLoader != null) {\r\n+        Assert.assertEquals(Integer.MAX_VALUE, checkedCastToInt(classLoader, Integer.MAX_VALUE));\r\n+        checkedCastToInt(classLoader, Integer.MAX_VALUE + 1L);\r\n\nReview comment:\n       Can you add a case for an integer smaller than Integer.MIN_VALUE?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-09-16T09:50:28.906+0000",
                    "updated": "2020-09-16T09:50:28.906+0000",
                    "started": "2020-09-16T09:50:28.905+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "485033",
                    "issueId": "13327687"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/worklog/485039",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on a change in pull request #8194:\nURL: https://github.com/apache/arrow/pull/8194#discussion_r489313577\n\n\n\n##########\nFile path: java/memory/memory-core/src/test/java/org/apache/arrow/memory/util/TestLargeMemoryUtil.java\n##########\n@@ -0,0 +1,100 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\r\n+ * contributor license agreements.  See the NOTICE file distributed with\r\n+ * this work for additional information regarding copyright ownership.\r\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\r\n+ * (the \"License\"); you may not use this file except in compliance with\r\n+ * the License.  You may obtain a copy of the License at\r\n+ *\r\n+ *    http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing, software\r\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n+ * See the License for the specific language governing permissions and\r\n+ * limitations under the License.\r\n+ */\r\n+\r\n+package org.apache.arrow.memory.util;\r\n+\r\n+import java.lang.reflect.InvocationTargetException;\r\n+import java.lang.reflect.Method;\r\n+import java.net.URLClassLoader;\r\n+\r\n+import org.junit.Assert;\r\n+import org.junit.Test;\r\n+\r\n+public class TestLargeMemoryUtil {\r\n+\r\n+  /**\r\n+   * Get a copy of the current class loader.\r\n+   * @return the newly created class loader.\r\n+   */\r\n+  private ClassLoader copyClassLoader() {\r\n+    ClassLoader curClassLoader = this.getClass().getClassLoader();\r\n+    if (curClassLoader instanceof URLClassLoader) {\r\n+      // for Java 1.8\r\n+      return new URLClassLoader(((URLClassLoader) curClassLoader).getURLs(), null);\r\n+    }\r\n+\r\n+    // for Java 1.9 and Java 11.\r\n+    return null;\r\n+  }\r\n+\r\n+  /**\r\n+   * Use the checkedCastToInt method from the current classloader.\r\n+   * @param classLoader the class loader from which to call the method.\r\n+   * @return the return value of the method.\r\n+   */\r\n+  private int checkedCastToInt(ClassLoader classLoader, long value) throws Exception {\r\n+    Class<?> clazz = classLoader.loadClass(\"org.apache.arrow.memory.util.LargeMemoryUtil\");\r\n+    Method method = clazz.getMethod(\"checkedCastToInt\", long.class);\r\n+    return (int) method.invoke(null, value);\r\n+  }\r\n+\r\n+  @Test\r\n+  public void testEnableLargeMemoryUtilCheck() throws Exception {\r\n+    String savedNewProperty = System.getProperty(\"arrow.enable_unsafe_memory_access\");\r\n+    System.setProperty(\"arrow.enable_unsafe_memory_access\", \"false\");\r\n+    try {\r\n+      ClassLoader classLoader = copyClassLoader();\r\n+      if (classLoader != null) {\r\n+        Assert.assertEquals(Integer.MAX_VALUE, checkedCastToInt(classLoader, Integer.MAX_VALUE));\r\n+        checkedCastToInt(classLoader, Integer.MAX_VALUE + 1L);\r\n+        Assert.fail();\r\n+      }\r\n+    } catch (InvocationTargetException e) {\r\n+      Throwable cause = e.getCause();\r\n+      if (!(cause instanceof ArithmeticException)) {\r\n\nReview comment:\n       Instead of asserting things in a catch block, we prefer using `org.junit.jupiter.api.assertThrows`, as it makes sure an exception is actually thrown, and the message is as expected. \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-09-16T09:54:58.710+0000",
                    "updated": "2020-09-16T09:54:58.710+0000",
                    "started": "2020-09-16T09:54:58.710+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "485039",
                    "issueId": "13327687"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/worklog/485495",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on a change in pull request #8194:\nURL: https://github.com/apache/arrow/pull/8194#discussion_r489882634\n\n\n\n##########\nFile path: java/memory/memory-core/src/test/java/org/apache/arrow/memory/util/TestLargeMemoryUtil.java\n##########\n@@ -0,0 +1,108 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\r\n+ * contributor license agreements.  See the NOTICE file distributed with\r\n+ * this work for additional information regarding copyright ownership.\r\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\r\n+ * (the \"License\"); you may not use this file except in compliance with\r\n+ * the License.  You may obtain a copy of the License at\r\n+ *\r\n+ *    http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing, software\r\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n+ * See the License for the specific language governing permissions and\r\n+ * limitations under the License.\r\n+ */\r\n+\r\n+package org.apache.arrow.memory.util;\r\n+\r\n+import java.lang.reflect.InvocationTargetException;\r\n+import java.lang.reflect.Method;\r\n+import java.net.URLClassLoader;\r\n+\r\n+import org.junit.Assert;\r\n+import org.junit.Test;\r\n+import org.junit.jupiter.api.Assertions;\r\n+\r\n+public class TestLargeMemoryUtil {\r\n+\r\n+  /**\r\n+   * Get a copy of the current class loader.\r\n+   * @return the newly created class loader.\r\n+   */\r\n+  private ClassLoader copyClassLoader() {\r\n+    ClassLoader curClassLoader = this.getClass().getClassLoader();\r\n+    if (curClassLoader instanceof URLClassLoader) {\r\n+      // for Java 1.8\r\n+      return new URLClassLoader(((URLClassLoader) curClassLoader).getURLs(), null);\r\n+    }\r\n+\r\n+    // for Java 1.9 and Java 11.\r\n+    return null;\r\n+  }\r\n+\r\n+  /**\r\n+   * Use the checkedCastToInt method from the current classloader.\r\n+   * @param classLoader the class loader from which to call the method.\r\n+   * @return the return value of the method.\r\n+   */\r\n+  private int checkedCastToInt(ClassLoader classLoader, long value) throws Exception {\r\n+    Class<?> clazz = classLoader.loadClass(\"org.apache.arrow.memory.util.LargeMemoryUtil\");\r\n+    Method method = clazz.getMethod(\"checkedCastToInt\", long.class);\r\n+    return (int) method.invoke(null, value);\r\n+  }\r\n+\r\n+  private void checkExpectedOverflow(ClassLoader classLoader, long value) throws Exception {\r\n+    try {\r\n+      checkedCastToInt(classLoader, value);\r\n+      Assert.fail();\r\n+    } catch (InvocationTargetException e) {\r\n+      Assertions.assertThrows(ArithmeticException.class, () -> {\r\n\nReview comment:\n       It seems the `Assertions.assertThrows` method is not used this way in our code base. \r\n   Please check an example in https://github.com/apache/arrow/blob/master/java/algorithm/src/test/java/org/apache/arrow/algorithm/dictionary/TestHashTableDictionaryEncoder.java#L204\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-09-17T02:12:36.304+0000",
                    "updated": "2020-09-17T02:12:36.304+0000",
                    "started": "2020-09-17T02:12:36.304+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "485495",
                    "issueId": "13327687"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/worklog/485528",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pwoody commented on a change in pull request #8194:\nURL: https://github.com/apache/arrow/pull/8194#discussion_r489968112\n\n\n\n##########\nFile path: java/memory/memory-core/src/test/java/org/apache/arrow/memory/util/TestLargeMemoryUtil.java\n##########\n@@ -0,0 +1,108 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\r\n+ * contributor license agreements.  See the NOTICE file distributed with\r\n+ * this work for additional information regarding copyright ownership.\r\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\r\n+ * (the \"License\"); you may not use this file except in compliance with\r\n+ * the License.  You may obtain a copy of the License at\r\n+ *\r\n+ *    http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing, software\r\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n+ * See the License for the specific language governing permissions and\r\n+ * limitations under the License.\r\n+ */\r\n+\r\n+package org.apache.arrow.memory.util;\r\n+\r\n+import java.lang.reflect.InvocationTargetException;\r\n+import java.lang.reflect.Method;\r\n+import java.net.URLClassLoader;\r\n+\r\n+import org.junit.Assert;\r\n+import org.junit.Test;\r\n+import org.junit.jupiter.api.Assertions;\r\n+\r\n+public class TestLargeMemoryUtil {\r\n+\r\n+  /**\r\n+   * Get a copy of the current class loader.\r\n+   * @return the newly created class loader.\r\n+   */\r\n+  private ClassLoader copyClassLoader() {\r\n+    ClassLoader curClassLoader = this.getClass().getClassLoader();\r\n+    if (curClassLoader instanceof URLClassLoader) {\r\n+      // for Java 1.8\r\n+      return new URLClassLoader(((URLClassLoader) curClassLoader).getURLs(), null);\r\n+    }\r\n+\r\n+    // for Java 1.9 and Java 11.\r\n+    return null;\r\n+  }\r\n+\r\n+  /**\r\n+   * Use the checkedCastToInt method from the current classloader.\r\n+   * @param classLoader the class loader from which to call the method.\r\n+   * @return the return value of the method.\r\n+   */\r\n+  private int checkedCastToInt(ClassLoader classLoader, long value) throws Exception {\r\n+    Class<?> clazz = classLoader.loadClass(\"org.apache.arrow.memory.util.LargeMemoryUtil\");\r\n+    Method method = clazz.getMethod(\"checkedCastToInt\", long.class);\r\n+    return (int) method.invoke(null, value);\r\n+  }\r\n+\r\n+  private void checkExpectedOverflow(ClassLoader classLoader, long value) throws Exception {\r\n+    try {\r\n+      checkedCastToInt(classLoader, value);\r\n+      Assert.fail();\r\n+    } catch (InvocationTargetException e) {\r\n+      Assertions.assertThrows(ArithmeticException.class, () -> {\r\n\nReview comment:\n       Could you clarify what you mean? Is it the static import or the fact that I need to catch the InvocationTargetException before rethrowing to get the actual exception?\r\n   \r\n   The latter is a side effect of having to jump through hoops to get the static variable set - if there is a better way then let me know.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-09-17T04:47:36.393+0000",
                    "updated": "2020-09-17T04:47:36.393+0000",
                    "started": "2020-09-17T04:47:36.393+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "485528",
                    "issueId": "13327687"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/worklog/485551",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on a change in pull request #8194:\nURL: https://github.com/apache/arrow/pull/8194#discussion_r489999126\n\n\n\n##########\nFile path: java/memory/memory-core/src/test/java/org/apache/arrow/memory/util/TestLargeMemoryUtil.java\n##########\n@@ -0,0 +1,108 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\r\n+ * contributor license agreements.  See the NOTICE file distributed with\r\n+ * this work for additional information regarding copyright ownership.\r\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\r\n+ * (the \"License\"); you may not use this file except in compliance with\r\n+ * the License.  You may obtain a copy of the License at\r\n+ *\r\n+ *    http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing, software\r\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n+ * See the License for the specific language governing permissions and\r\n+ * limitations under the License.\r\n+ */\r\n+\r\n+package org.apache.arrow.memory.util;\r\n+\r\n+import java.lang.reflect.InvocationTargetException;\r\n+import java.lang.reflect.Method;\r\n+import java.net.URLClassLoader;\r\n+\r\n+import org.junit.Assert;\r\n+import org.junit.Test;\r\n+import org.junit.jupiter.api.Assertions;\r\n+\r\n+public class TestLargeMemoryUtil {\r\n+\r\n+  /**\r\n+   * Get a copy of the current class loader.\r\n+   * @return the newly created class loader.\r\n+   */\r\n+  private ClassLoader copyClassLoader() {\r\n+    ClassLoader curClassLoader = this.getClass().getClassLoader();\r\n+    if (curClassLoader instanceof URLClassLoader) {\r\n+      // for Java 1.8\r\n+      return new URLClassLoader(((URLClassLoader) curClassLoader).getURLs(), null);\r\n+    }\r\n+\r\n+    // for Java 1.9 and Java 11.\r\n+    return null;\r\n+  }\r\n+\r\n+  /**\r\n+   * Use the checkedCastToInt method from the current classloader.\r\n+   * @param classLoader the class loader from which to call the method.\r\n+   * @return the return value of the method.\r\n+   */\r\n+  private int checkedCastToInt(ClassLoader classLoader, long value) throws Exception {\r\n+    Class<?> clazz = classLoader.loadClass(\"org.apache.arrow.memory.util.LargeMemoryUtil\");\r\n+    Method method = clazz.getMethod(\"checkedCastToInt\", long.class);\r\n+    return (int) method.invoke(null, value);\r\n+  }\r\n+\r\n+  private void checkExpectedOverflow(ClassLoader classLoader, long value) throws Exception {\r\n+    try {\r\n+      checkedCastToInt(classLoader, value);\r\n+      Assert.fail();\r\n+    } catch (InvocationTargetException e) {\r\n+      Assertions.assertThrows(ArithmeticException.class, () -> {\r\n\nReview comment:\n       IMO, there is no need for a catch clause, so the code should be like this:\r\n   \r\n   ```\r\n   InvocationTargetException e = assertThrows(InvocationTargetException.class, () -> {\r\n       checkedCastToInt(classLoader, value);\r\n   });\r\n   \r\n   assertTrue(e.getCause() instanceof ArithmeticException);\r\n   assertEquals(\"xxx\", e.getCause().getMessage());\r\n   // other asserts\r\n   ```\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-09-17T06:26:27.334+0000",
                    "updated": "2020-09-17T06:26:27.334+0000",
                    "started": "2020-09-17T06:26:27.334+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "485551",
                    "issueId": "13327687"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/worklog/485792",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pwoody commented on a change in pull request #8194:\nURL: https://github.com/apache/arrow/pull/8194#discussion_r490328502\n\n\n\n##########\nFile path: java/memory/memory-core/src/test/java/org/apache/arrow/memory/util/TestLargeMemoryUtil.java\n##########\n@@ -0,0 +1,108 @@\n+/*\r\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\r\n+ * contributor license agreements.  See the NOTICE file distributed with\r\n+ * this work for additional information regarding copyright ownership.\r\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\r\n+ * (the \"License\"); you may not use this file except in compliance with\r\n+ * the License.  You may obtain a copy of the License at\r\n+ *\r\n+ *    http://www.apache.org/licenses/LICENSE-2.0\r\n+ *\r\n+ * Unless required by applicable law or agreed to in writing, software\r\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n+ * See the License for the specific language governing permissions and\r\n+ * limitations under the License.\r\n+ */\r\n+\r\n+package org.apache.arrow.memory.util;\r\n+\r\n+import java.lang.reflect.InvocationTargetException;\r\n+import java.lang.reflect.Method;\r\n+import java.net.URLClassLoader;\r\n+\r\n+import org.junit.Assert;\r\n+import org.junit.Test;\r\n+import org.junit.jupiter.api.Assertions;\r\n+\r\n+public class TestLargeMemoryUtil {\r\n+\r\n+  /**\r\n+   * Get a copy of the current class loader.\r\n+   * @return the newly created class loader.\r\n+   */\r\n+  private ClassLoader copyClassLoader() {\r\n+    ClassLoader curClassLoader = this.getClass().getClassLoader();\r\n+    if (curClassLoader instanceof URLClassLoader) {\r\n+      // for Java 1.8\r\n+      return new URLClassLoader(((URLClassLoader) curClassLoader).getURLs(), null);\r\n+    }\r\n+\r\n+    // for Java 1.9 and Java 11.\r\n+    return null;\r\n+  }\r\n+\r\n+  /**\r\n+   * Use the checkedCastToInt method from the current classloader.\r\n+   * @param classLoader the class loader from which to call the method.\r\n+   * @return the return value of the method.\r\n+   */\r\n+  private int checkedCastToInt(ClassLoader classLoader, long value) throws Exception {\r\n+    Class<?> clazz = classLoader.loadClass(\"org.apache.arrow.memory.util.LargeMemoryUtil\");\r\n+    Method method = clazz.getMethod(\"checkedCastToInt\", long.class);\r\n+    return (int) method.invoke(null, value);\r\n+  }\r\n+\r\n+  private void checkExpectedOverflow(ClassLoader classLoader, long value) throws Exception {\r\n+    try {\r\n+      checkedCastToInt(classLoader, value);\r\n+      Assert.fail();\r\n+    } catch (InvocationTargetException e) {\r\n+      Assertions.assertThrows(ArithmeticException.class, () -> {\r\n\nReview comment:\n       Cool done @liyafan82 . thanks!\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-09-17T15:08:17.646+0000",
                    "updated": "2020-09-17T15:08:17.646+0000",
                    "started": "2020-09-17T15:08:17.645+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "485792",
                    "issueId": "13327687"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/worklog/486745",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #8194:\nURL: https://github.com/apache/arrow/pull/8194#issuecomment-695884515\n\n\n   Merging. Thanks for the PR @pwoody \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-09-21T03:26:06.105+0000",
                    "updated": "2020-09-21T03:26:06.105+0000",
                    "started": "2020-09-21T03:26:06.105+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "486745",
                    "issueId": "13327687"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/worklog/486746",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 closed pull request #8194:\nURL: https://github.com/apache/arrow/pull/8194\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-09-21T03:28:43.978+0000",
                    "updated": "2020-09-21T03:28:43.978+0000",
                    "started": "2020-09-21T03:28:43.978+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "486746",
                    "issueId": "13327687"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/worklog/487466",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #8194:\nURL: https://github.com/apache/arrow/pull/8194#issuecomment-695884515\n\n\n   Merging. Thanks for the PR @pwoody \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-09-22T03:04:07.585+0000",
                    "updated": "2020-09-22T03:04:07.585+0000",
                    "started": "2020-09-22T03:04:07.585+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "487466",
                    "issueId": "13327687"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/worklog/487575",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 closed pull request #8194:\nURL: https://github.com/apache/arrow/pull/8194\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-09-22T03:17:50.510+0000",
                    "updated": "2020-09-22T03:17:50.510+0000",
                    "started": "2020-09-22T03:17:50.509+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "487575",
                    "issueId": "13327687"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 8400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@3bfdf97e[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2fcd6dc3[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@30f47ab6[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@7413ba1e[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6faa0d57[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@39200db0[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2a12f1e8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@43b86dfe[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7c47006b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@45b3dfde[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7813fb31[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@78c4be50[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 8400,
        "customfield_12312520": null,
        "customfield_12312521": "Mon Sep 21 03:28:35 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-09-21T03:28:35.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-10017/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2020-09-15T14:03:22.000+0000",
        "updated": "2020-09-22T03:17:51.000+0000",
        "timeoriginalestimate": null,
        "description": "LargeMemoryUtil.checkedCastToInt does checked conversion from long -> int if BoundsChecking is enabled. However, it looks like there is a bug in the logic:\r\n\r\nlength <= Integer.{color:#9876aa}MAX_VALUE {color}|| length >= Integer.{color:#9876aa}MIN_VALUE{color}\r\n\r\nis always true.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 8400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Java] LargeMemoryUtil.checkedCastToInt has buggy logic",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13327687/comment/17199136",
                    "id": "17199136",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "body": "Issue resolved by pull request 8194\n[https://github.com/apache/arrow/pull/8194]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
                        "name": "fan_li_ya",
                        "key": "fan_li_ya",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Liya Fan",
                        "active": true,
                        "timeZone": "Asia/Shanghai"
                    },
                    "created": "2020-09-21T03:28:35.918+0000",
                    "updated": "2020-09-21T03:28:35.918+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0imgg:",
        "customfield_12314139": null
    }
}