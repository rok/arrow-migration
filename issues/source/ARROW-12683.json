{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13377241",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241",
    "key": "ARROW-12683",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12350591",
                "id": "12350591",
                "description": "",
                "name": "7.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2022-02-03"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12625387",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12625387",
                "type": {
                    "id": "12310000",
                    "name": "Duplicate",
                    "inward": "is duplicated by",
                    "outward": "duplicates",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310000"
                },
                "inwardIssue": {
                    "id": "13408888",
                    "key": "ARROW-14503",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13408888",
                    "fields": {
                        "summary": "[C++][Dataset] Projection pushdown in IPC (feather) format",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
                            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
                            "name": "Closed",
                            "id": "6",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
                            "id": "2",
                            "description": "A new feature of the product, which has yet to be developed.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
                            "name": "New Feature",
                            "subtask": false,
                            "avatarId": 21141
                        }
                    }
                }
            },
            {
                "id": "12615204",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12615204",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "outwardIssue": {
                    "id": "13360745",
                    "key": "ARROW-11772",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360745",
                    "fields": {
                        "summary": "[C++] Add asynchronous read to ipc::RecordBatchFileReader",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7",
                            "id": "7",
                            "description": "The sub-task of the issue",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype",
                            "name": "Sub-task",
                            "subtask": true,
                            "avatarId": 21146
                        }
                    }
                }
            },
            {
                "id": "12617791",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12617791",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13384652",
                    "key": "ARROW-13126",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13384652",
                    "fields": {
                        "summary": "Read out only the required columns from a Feather file on Disk",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
                            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
                            "name": "Closed",
                            "id": "6",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
                            "id": "2",
                            "description": "A new feature of the product, which has yet to be developed.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
                            "name": "New Feature",
                            "subtask": false,
                            "avatarId": 21141
                        }
                    }
                }
            },
            {
                "id": "12625768",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12625768",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13409890",
                    "key": "ARROW-14577",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13409890",
                    "fields": {
                        "summary": "[C++] Enable fine grained IO for async IPC reader ",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=niyue",
            "name": "niyue",
            "key": "niyue",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=niyue&avatarId=48220",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=niyue&avatarId=48220",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=niyue&avatarId=48220",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=niyue&avatarId=48220"
            },
            "displayName": "Yue Ni",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 55800,
            "total": 55800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 55800,
            "total": 55800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12683/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 93,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/668013",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-948073161\n\n\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-20T22:06:18.861+0000",
                    "updated": "2021-10-20T22:06:18.861+0000",
                    "started": "2021-10-20T22:06:18.861+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "668013",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/668015",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue commented on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-948074127\n\n\n   > @niyue Thanks for the PR. it looks like the CI is likely highlighting real issues with the PR, would you mind fixing those?\r\n   \r\n   Sure. Let me try it out.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-20T22:07:56.288+0000",
                    "updated": "2021-10-20T22:07:56.288+0000",
                    "started": "2021-10-20T22:07:56.288+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "668015",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/668054",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue commented on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-948164361\n\n\n   @emkornfield I pushed a new commit trying to fix the issue reported by CI, but it seems the new running CI job failed because CI failed to download \"MinIO.exe\" (probably a temporary network issue in CI), how can I trigger the CI again?\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-21T01:15:25.428+0000",
                    "updated": "2021-10-21T01:15:25.428+0000",
                    "started": "2021-10-21T01:15:25.428+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "668054",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/668316",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue commented on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-948520726\n\n\n   @emkornfield I think I've fixed the issues reported by CI, could you please help to confirm? Thanks.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-21T11:32:17.257+0000",
                    "updated": "2021-10-21T11:32:17.257+0000",
                    "started": "2021-10-21T11:32:17.256+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "668316",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/668541",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-948795543\n\n\n   Yes, looks like logic issues are fixed.  Still one small style/lint issue:\r\n   ```\r\n   /arrow/cpp/src/arrow/ipc/io_recorded_random_access_file.h:40:  You don't need a ; after a }  [readability/braces] [4]\r\n   /arrow/cpp/src/arrow/ipc/io_recorded_random_access_file.h:82:  Could not find a newline character at the end of the file.  [whitespace/ending_newline] [5]\r\n   /arrow/cpp/src/arrow/ipc/io_recorded_random_access_file.cc:18:  Include the directory when naming .h files  [build/include_subdir] [4]\r\n   ```\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-21T16:48:19.493+0000",
                    "updated": "2021-10-21T16:48:19.493+0000",
                    "started": "2021-10-21T16:48:19.493+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "668541",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/668875",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue commented on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-949499654\n\n\n   @emkornfield thanks. I pushed a new commit to fix the lint issue. \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-22T10:35:08.775+0000",
                    "updated": "2021-10-22T10:35:08.775+0000",
                    "started": "2021-10-22T10:35:08.774+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "668875",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/669137",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue edited a comment on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-949499654\n\n\n   @emkornfield thanks. I pushed a new commit to fix the lint issue. \r\n   \r\n   There is still one lint issue, and I've fixed it in commit https://github.com/apache/arrow/commit/23b8a34104b575a335f14b548a68b82284da0352\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-23T00:28:08.009+0000",
                    "updated": "2021-10-23T00:28:08.009+0000",
                    "started": "2021-10-23T00:28:08.009+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "669137",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/669139",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue edited a comment on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-949499654\n\n\n   @emkornfield thanks. I pushed a new commit to fix the lint issue. \r\n   \r\n   UPDATE: There is still one lint issue, and I've fixed it in commit https://github.com/apache/arrow/commit/23b8a34104b575a335f14b548a68b82284da0352\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-23T00:34:51.578+0000",
                    "updated": "2021-10-23T00:34:51.578+0000",
                    "started": "2021-10-23T00:34:51.578+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "669139",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/669140",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue commented on a change in pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#discussion_r732838271\n\n\n\n##########\nFile path: cpp/src/arrow/ipc/io_recorded_random_access_file.cc\n##########\n@@ -0,0 +1,63 @@\n+#include \"io_recorded_random_access_file.h\"\n+\n+namespace arrow {\n+namespace ipc {\n+Result<int64_t> IoRecordedRandomAccessFile::GetSize() { return file_size_; }\n+\n+Result<int64_t> IoRecordedRandomAccessFile::ReadAt(int64_t position, int64_t nbytes,\n+                                                   void* out) {\n+  auto num_bytes_read = std::min(file_size_, position + nbytes) - position;\n+\n+  if (!recorded_io_vec_.empty() &&\n+      position == recorded_io_vec_.back().first + recorded_io_vec_.back().second) {\n+    // merge continuous IOs into one if possible\n+    recorded_io_vec_.back().second += num_bytes_read;\n+  } else {\n+    // no real IO is performed, it is only saved into a vector for replaying later\n+    recorded_io_vec_.emplace_back(position, num_bytes_read);\n+  }\n\nReview comment:\n       I introduce a `IoRecordedRandomAccessFile` class which will record the read IO operations performed, and it does nothing but save these read operations as <offset, length> pair in a vector, and it is replayed later to do the real IO.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-23T00:36:35.067+0000",
                    "updated": "2021-10-23T00:36:35.067+0000",
                    "started": "2021-10-23T00:36:35.067+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "669140",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/671657",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "westonpace commented on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-954213912\n\n\n   @lidavidm Thoughts on the above?\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-28T21:00:17.518+0000",
                    "updated": "2021-10-28T21:00:17.518+0000",
                    "started": "2021-10-28T21:00:17.518+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "671657",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/671660",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-954218790\n\n\n   Broadly I'm in agreement. I like the approach here but it does seem we will want to 'fuse' some of the layers to get the best implementation. The duplication with the asynchronous path is one such issue.\r\n   \r\n   I agree we will want a unit test to ensure the bytes read is as expected. Additionally, another candidate for a follow-up item is to include the I/O coalescer so that we don't suffer on remote filesystems. (This could also be folded into ARROW-14429; another thing we could fold into there is to make ReadRangeCache not hold on to memory for the use case of linearly scanning a file.)\r\n   \r\n   Also, I think IoRecordedRandomAccessFile should be moved into reader.cc - it has fairly specific use and I don't see a reason to expose it more broadly, especially since we aren't subjecting it to unit tests separately.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-28T21:08:08.476+0000",
                    "updated": "2021-10-28T21:08:08.476+0000",
                    "started": "2021-10-28T21:08:08.476+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "671660",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/671742",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue commented on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-954339392\n\n\n   @westonpace  \r\n   > I would like a unit test showing that a RecordBatchFileReader truly does not read the entire file\r\n   Sure. Let me see how I can add more tests for it.\r\n   \r\n   > Maybe the ArrayLoader can move into message.cc\r\n   I considered this approach as well, and I found this will introduce more changes to the existing reader/message APIs and I am not quite sure if this is desirable. It seems to me the current implementation places all concepts about arrow's structures in reader.cc while all flatbuffers structures are kept in the lower layer message.cc file. `ArrayLoader` involves quite a lot arrow structures, and I am not familiar with some of them,  so I try to follow current organization to make it work so far.\r\n   \r\n   > This approach currently does not work for the asynchronous version of the reader... This can be handled in a follow-up. If you want to do that then please create a JIRA ticket for that work so we don't lose track.\r\n   I didn't realize this previously since in my project I only use the sync version of the reader. I will look into it later. Since ARROW-12683 is not specific to sync version of the reader, if this PR is accepted, I think probably we can close ARROW-12683 and I will create a JIRA issue to track the async version of the reader enhancement as follow-up. What do you think?\r\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-29T01:30:59.137+0000",
                    "updated": "2021-10-29T01:30:59.137+0000",
                    "started": "2021-10-29T01:30:59.137+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "671742",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/671744",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue edited a comment on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-954339392\n\n\n   @westonpace  \r\n   > I would like a unit test showing that a RecordBatchFileReader truly does not read the entire file\r\n   \r\n   Sure. Let me see how I can add more tests for it.\r\n   \r\n   > Maybe the ArrayLoader can move into message.cc\r\n   \r\n   I considered this approach as well, and I found this will introduce more changes to the existing reader/message APIs and I am not quite sure if this is desirable. It seems to me the current implementation places all concepts about arrow's structures in reader.cc while all flatbuffers structures are kept in the lower layer message.cc file. `ArrayLoader` involves quite a lot arrow structures, and I am not familiar with some of them,  so I try to follow current organization to make it work so far.\r\n   \r\n   > This approach currently does not work for the asynchronous version of the reader... This can be handled in a follow-up. \r\n   \r\n   If you want to do that then please create a JIRA ticket for that work so we don't lose track.\r\n   I didn't realize this previously since in my project I only use the sync version of the reader. I will look into it later. Since ARROW-12683 is not specific to sync version of the reader, if this PR is accepted, I think probably we can close ARROW-12683 and I will create a JIRA issue to track the async version of the reader enhancement as follow-up. What do you think?\r\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-29T01:31:25.808+0000",
                    "updated": "2021-10-29T01:31:25.808+0000",
                    "started": "2021-10-29T01:31:25.807+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "671744",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/671745",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue commented on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-954340112\n\n\n   @lidavidm \r\n   > we will want a unit test to ensure the bytes read is as expected\r\n   \r\n   Sure. I will look into it how more unit tests can be added.\r\n   \r\n   > Additionally, another candidate for a follow-up item is to include the I/O coalescer so that we don't suffer on remote filesystems.\r\n   \r\n   In my test under Linux, I found Linux will do read ahead IO. In my limited testing, depending on read ahead configuration in Linux, the IO may be 2x than the minimum necessary if the access pattern is random access and the persisted record batch is small. I don't look into how `S3FileSystem` handles this, but even on local file system, `posix_fadvise` is desirable to advise operating system the access pattern. Currently, `file.cc` has some support for `POSIX_FADV_WILLNEED`, it will be great if other patterns can be supported there, but this is likely another independent area to improve.\r\n   \r\n   > I think IoRecordedRandomAccessFile should be moved into reader.cc\r\n   \r\n   No problem. I will move it into reader.cc. \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-29T01:33:19.351+0000",
                    "updated": "2021-10-29T01:33:19.351+0000",
                    "started": "2021-10-29T01:33:19.351+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "671745",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/671758",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "westonpace commented on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-954355732\n\n\n   > ArrayLoader involves quite a lot arrow structures, and I am not familiar with some of them, so I try to follow current organization to make it work so far.\r\n   \r\n   Ok.  That is fine.  Thank you for considering.\r\n   \r\n   > I think probably we can close ARROW-12683 and I will create a JIRA issue to track the async version of the reader enhancement as follow-up. What do you think?\r\n   \r\n   Sounds great.\r\n   \r\n   > In my test under Linux, I found Linux will do read ahead IO...\r\n   \r\n   I did some testing with `POSIX_FADV_WILLNEED` and didn't ever see much benefit over Linux's builtin readahead.\r\n   \r\n   > I don't look into how S3FileSystem handles this\r\n   \r\n   It does not currently handle this.  We get pretty poor performance with the IPC reader on S3 because there is no readahead / batching (and there is a high latency per request).  Handling this at the filesystem level is an interesting thought.  The challenge will be that the filesystem is parallel so we sometimes want to allow multiple reads (instead of queuing and plugging/merging) but the filesystem doesn't know the access pattern.  Maybe we can still come up with a good strategy.  We have ARROW-14429 for this already so no need to solve this problem right now.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-29T02:17:22.141+0000",
                    "updated": "2021-10-29T02:17:22.141+0000",
                    "started": "2021-10-29T02:17:22.141+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "671758",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/671781",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue edited a comment on pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#issuecomment-954339392\n\n\n   @westonpace  \r\n   > I would like a unit test showing that a RecordBatchFileReader truly does not read the entire file\r\n   \r\n   Sure. Let me see how I can add more tests for it.\r\n   \r\n   > Maybe the ArrayLoader can move into message.cc\r\n   \r\n   I considered this approach as well, and I found this will introduce more changes to the existing reader/message APIs and I am not quite sure if this is desirable. It seems to me the current implementation places all concepts about arrow's structures in reader.cc while all flatbuffers structures are kept in the lower layer message.cc file. `ArrayLoader` involves quite a lot arrow structures, and I am not familiar with some of them,  so I try to follow current organization to make it work so far.\r\n   \r\n   > This approach currently does not work for the asynchronous version of the reader... This can be handled in a follow-up. \r\n   > If you want to do that then please create a JIRA ticket for that work so we don't lose track.\r\n   \r\n   I didn't realize this previously since in my project I only use the sync version of the reader. I will look into it later. Since ARROW-12683 is not specific to sync version of the reader, if this PR is accepted, I think probably we can close ARROW-12683 and I will create a JIRA issue to track the async version of the reader enhancement as follow-up. What do you think?\r\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-10-29T03:28:13.284+0000",
                    "updated": "2021-10-29T03:28:13.284+0000",
                    "started": "2021-10-29T03:28:13.284+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "671781",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/672658",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue commented on a change in pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#discussion_r740208514\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/mockfs.cc\n##########\n@@ -242,8 +242,32 @@ class MockFSInputStream : public io::BufferReader {\n     return metadata_;\n   }\n \n+  Result<int64_t> DoReadAt(int64_t position, int64_t nbytes, void* out) override {\n+    RecordReadIo(position, nbytes);\n+    return io::BufferReader::DoReadAt(position, nbytes, out);\n+  }\n+\n+  Result<std::shared_ptr<Buffer>> DoReadAt(int64_t position, int64_t nbytes) override {\n+    RecordReadIo(position, nbytes);\n+    return io::BufferReader::DoReadAt(position, nbytes);\n+  }\n\nReview comment:\n       @westonpace I follow your instruction to use the `MockFileSystem` to add unit tests. To do this, I tried several ways.\r\n   1) initially, I tried to call `GetRecordedReads` of `MockFSInputStream` in unit test to get the recorded IO, but I found this class is not public in the `mockfs.h` and I cannot use this class directly. \r\n   2) After that, I tried to override the `ReadAt` virtual method in `io::BuffferReader` but I found `io::BufferReader` inherits from `internal::RandomAccessFileConcurrencyWrapper`, which marks `ReadAt` as `final`, which prevents me from overriding it.\r\n   Currently, I have to change the `protected` methods `DoReadAt` in `io::BufferReader` to be `virtual` so that it can be overridden for this kind of unit testing. But I am not entirely sure if this is desirable, please advise. Thanks. \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-01T13:26:39.440+0000",
                    "updated": "2021-11-01T13:26:39.440+0000",
                    "started": "2021-11-01T13:26:39.440+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "672658",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/672659",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue commented on a change in pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#discussion_r740209418\n\n\n\n##########\nFile path: cpp/src/arrow/io/memory.h\n##########\n@@ -171,8 +171,8 @@ class ARROW_EXPORT BufferReader\n \n   Result<int64_t> DoRead(int64_t nbytes, void* buffer);\n   Result<std::shared_ptr<Buffer>> DoRead(int64_t nbytes);\n-  Result<int64_t> DoReadAt(int64_t position, int64_t nbytes, void* out);\n-  Result<std::shared_ptr<Buffer>> DoReadAt(int64_t position, int64_t nbytes);\n+  virtual Result<int64_t> DoReadAt(int64_t position, int64_t nbytes, void* out);\n+  virtual Result<std::shared_ptr<Buffer>> DoReadAt(int64_t position, int64_t nbytes);\n\nReview comment:\n       As said above, these two `DoReadAt` are changed to `virtual` so that they can be overridden and mock fs could use them for collecting the read stats. \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-01T13:27:58.995+0000",
                    "updated": "2021-11-01T13:27:58.995+0000",
                    "started": "2021-11-01T13:27:58.995+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "672659",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/672661",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue commented on a change in pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#discussion_r740211675\n\n\n\n##########\nFile path: cpp/src/arrow/ipc/CMakeLists.txt\n##########\n@@ -46,7 +46,14 @@ endfunction()\n \n add_arrow_test(feather_test)\n add_arrow_ipc_test(json_simple_test)\n-add_arrow_ipc_test(read_write_test)\n+add_arrow_ipc_test(read_write_test\n+        SOURCES\n+        read_write_test.cc\n+        ${CMAKE_CURRENT_SOURCE_DIR}/../filesystem/filesystem.cc\n+        ${CMAKE_CURRENT_SOURCE_DIR}/../filesystem/util_internal.cc\n+        ${CMAKE_CURRENT_SOURCE_DIR}/../filesystem/path_util.cc\n+        ${CMAKE_CURRENT_SOURCE_DIR}/../filesystem/localfs.cc\n+        ${CMAKE_CURRENT_SOURCE_DIR}/../filesystem/mockfs.cc)\n\nReview comment:\n       I find mockfs API classes are defined in another module `filesystem`, when I use the mockfs API in `ipc` module's `read_write_test.cc`, the linking will fail. I am not very familiar with arrow's cmake organization, and I did some search but I didn't find mockfs usage outside of `filesystem` module. Currently, I add the minimum mockfs related files into arrow_ipc_test to make the linking work. Please let me know if there is better approach doing it.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-01T13:31:18.209+0000",
                    "updated": "2021-11-01T13:31:18.209+0000",
                    "started": "2021-11-01T13:31:18.209+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "672661",
                    "issueId": "13377241"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/worklog/672665",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "niyue commented on a change in pull request #11486:\nURL: https://github.com/apache/arrow/pull/11486#discussion_r740213625\n\n\n\n##########\nFile path: cpp/src/arrow/ipc/read_write_test.cc\n##########\n@@ -2410,6 +2469,160 @@ TEST(DictionaryMemo, AddDictionaryType) {\n   AssertMemoDictionaryType(memo, 44, utf8());\n }\n \n+TEST(IoRecordedRandomAccessFile, IoRecording) {\n+  IoRecordedRandomAccessFile file(42);\n+  ASSERT_TRUE(file.GetRecordedReads().empty());\n+\n+  ASSERT_OK(file.ReadAt(1, 2));\n+  ASSERT_EQ(file.GetRecordedReads().size(), 1);\n+  ASSERT_EQ(file.GetRecordedReads()[0], (io::ReadRange{1, 2}));\n+\n+  ASSERT_OK(file.ReadAt(5, 3));\n+  ASSERT_EQ(file.GetRecordedReads().size(), 2);\n+  ASSERT_EQ(file.GetRecordedReads()[1], (io::ReadRange{5, 3}));\n+\n+  // continuous IOs will be merged\n+  ASSERT_OK(file.ReadAt(5 + 3, 6));\n+  ASSERT_EQ(file.GetRecordedReads().size(), 2);\n+  ASSERT_EQ(file.GetRecordedReads()[1], (io::ReadRange{5, 3 + 6}));\n+\n+  // this should not happen but reading out of bounds will do no harm\n+  ASSERT_OK(file.ReadAt(43, 1));\n+}\n+\n+TEST(IoRecordedRandomAccessFile, IoRecordingWithOutput) {\n+  std::shared_ptr<Buffer> out;\n+  IoRecordedRandomAccessFile file(42);\n+  ASSERT_TRUE(file.GetRecordedReads().empty());\n+  ASSERT_EQ(file.ReadAt(1, 2, &out), 2L);\n+  ASSERT_EQ(file.GetRecordedReads().size(), 1);\n+  ASSERT_EQ(file.GetRecordedReads()[0], (io::ReadRange{1, 2}));\n+\n+  ASSERT_EQ(file.ReadAt(5, 1, &out), 1);\n+  ASSERT_EQ(file.GetRecordedReads().size(), 2);\n+  ASSERT_EQ(file.GetRecordedReads()[1], (io::ReadRange{5, 1}));\n+\n+  // continuous IOs will be merged\n+  ASSERT_EQ(file.ReadAt(5 + 1, 6, &out), 6);\n+  ASSERT_EQ(file.GetRecordedReads().size(), 2);\n+  ASSERT_EQ(file.GetRecordedReads()[1], (io::ReadRange{5, 1 + 6}));\n+}\n+\n+Status MakeBooleanInt32Int64Batch(const int length, std::shared_ptr<RecordBatch>* out) {\n+  // Make the schema\n+  auto f0 = field(\"f0\", boolean());\n+  auto f1 = field(\"f1\", int32());\n+  auto f2 = field(\"f2\", int64());\n+  auto schema = ::arrow::schema({f0, f1, f2});\n+\n+  std::shared_ptr<Array> a0, a1, a2;\n+  RETURN_NOT_OK(MakeRandomBooleanArray(length, false, &a0));\n+  RETURN_NOT_OK(MakeRandomInt32Array(length, false, arrow::default_memory_pool(), &a1));\n+  RETURN_NOT_OK(MakeRandomInt64Array(length, false, arrow::default_memory_pool(), &a2));\n+  *out = RecordBatch::Make(schema, length, {a0, a1, a2});\n+  return Status::OK();\n+}\n+\n+void GetReadRecordBatchIoStats(uint32_t num_rows, const std::vector<int>& included_fields,\n+                               const std::vector<int64_t>& expected_body_read_lengths) {\n+  std::shared_ptr<RecordBatch> batch;\n+  // [bool, int32, int64] batch\n+  ASSERT_OK(MakeBooleanInt32Int64Batch(num_rows, &batch));\n+\n+  MockFileWriterHelper helper(\"testdir/rb_file_reader_io.arrow\");\n+  ASSERT_OK(helper.Init(batch->schema(), IpcWriteOptions::Defaults()));\n+  ASSERT_OK(helper.WriteBatch(batch));\n+  ASSERT_OK(helper.Finish());\n+\n+  ReadStats read_stats;\n+  RecordBatchVector out_batches;\n+  auto read_options = IpcReadOptions::Defaults();\n+  // if empty, return all fields\n+  read_options.included_fields = included_fields;\n+  std::vector<io::ReadRange> io_stats;\n+  ASSERT_OK(helper.ReadBatches(read_options, &out_batches, &read_stats, &io_stats));\n+  ASSERT_EQ(out_batches.size(), 1);\n+  ASSERT_EQ(out_batches[0]->num_rows(), num_rows);\n+  ASSERT_EQ(out_batches[0]->num_columns(),\n+            included_fields.empty() ? 3 : included_fields.size());\n+\n+  // there are 3 read IOs before reading body:\n+  // 1) read magic and footer length IO\n+  // 2) read footer IO\n+  // 3) read record batch metadata IO\n+  ASSERT_EQ(io_stats.size(), 3 + expected_body_read_lengths.size());\n+  const int32_t magic_size = static_cast<int>(strlen(ipc::internal::kArrowMagicBytes));\n+  // read magic and footer length IO\n+  auto file_end_size = magic_size + sizeof(int32_t);\n+  ASSERT_EQ(io_stats[0].length, file_end_size);\n+  // read footer IO\n+  ASSERT_EQ(io_stats[1].length, 256);\n+  // read record batch metadata\n+  ASSERT_EQ(io_stats[2].length, 240);\n+  for (uint32_t i = 0; i < expected_body_read_lengths.size(); i++) {\n+    ASSERT_EQ(io_stats[3 + i].length, expected_body_read_lengths[i]);\n+  }\n+}\n+\n+void GetReadRecordBatchIoStats(const std::vector<int>& included_fields,\n+                               const std::vector<int64_t>& expected_body_read_lengths) {\n+  return GetReadRecordBatchIoStats(5, included_fields, expected_body_read_lengths);\n+}\n+\n+TEST(TestRecordBatchFileReaderIo, LoadAllFieldsShouldReadTheEntireBody) {\n+  // read the entire record batch body in single read\n+  // the batch has 5 * bool + 5 * int32 + 5 * int32\n+  // ==>\n+  // + 5 bool:  5 bits      (aligned to  8 bytes)\n+  // + 5 int32: 5 * 4 bytes (aligned to 24 bytes)\n+  // + 5 int64: 5 * 8 bytes (aligned to 40 bytes)\n+  GetReadRecordBatchIoStats({}, {8 + 24 + 40});\n+}\n+\n+TEST(TestRecordBatchFileReaderIo, ReadSingleFieldAtTheStart) {\n+  // read only the bool field\n+  // + 5 bool:  5 bits (1 byte)\n+  GetReadRecordBatchIoStats({0}, {1});\n+}\n+\n+TEST(TestRecordBatchFileReaderIo, ReadSingleFieldInTheMiddle) {\n+  // read only the int32 field\n+  // + 5 int32: 5 * 4 bytes\n+  GetReadRecordBatchIoStats({1}, {20});\n+}\n+\n+TEST(TestRecordBatchFileReaderIo, ReadSingleFieldInTheEnd) {\n+  // read only the int64 field\n+  // + 5 int64: 5 * 8 bytes\n+  GetReadRecordBatchIoStats({2}, {40});\n+}\n+\n+TEST(TestRecordBatchFileReaderIo, SkipTheFieldInTheMiddle) {\n+  // read the bool field and the int64 field\n+  // two IOs for body are expected, first for reading bool and the second for reading\n+  // int64\n+  // + 5 bool:  5 bits (1 byte)\n+  // + 5 int64: 5 * 8 bytes\n+  GetReadRecordBatchIoStats({0, 2}, {1, 40});\n+}\n+\n+TEST(TestRecordBatchFileReaderIo, ReadTwoContinousFields) {\n+  // read the int32 field and the int64 field\n+  // + 5 int32: 5 * 4 bytes\n+  // + 5 int64: 5 * 8 bytes\n+  GetReadRecordBatchIoStats({1, 2}, {20, 40});\n+}\n+\n+TEST(TestRecordBatchFileReaderIo, ReadTwoContinousFieldsWithIoMerged) {\n+  // change the array length to 64 so that bool field and int32 are continuous without\n+  // padding\n+  // read the bool field and the int32 field since the bool field's aligned offset\n+  // is continuous with next field (int32 field), two IOs are merged into one\n+  // + 64 bool: 64 bits (8 bytes)\n+  // + 64 int32: 64 * 4 bytes (256 bytes)\n+  GetReadRecordBatchIoStats(64, {0, 1}, {8 + 64 * 4});\n+}\n\nReview comment:\n       Several RecordBatchFileReader IO related tests are added above\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-11-01T13:34:10.436+0000",
                    "updated": "2021-11-01T13:34:10.436+0000",
                    "started": "2021-11-01T13:34:10.435+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "672665",
                    "issueId": "13377241"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 55800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@474441c6[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5ebd16f3[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3ffd3f3d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@941bcbf[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@51602b5b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@1b8692a8[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4d544232[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@4974bb63[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@191e7be5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3622b9bc[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@59082898[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@354b2f79[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 55800,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Nov 03 14:25:16 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-11-03T14:25:16.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12683/watchers",
            "watchCount": 5,
            "isWatching": false
        },
        "created": "2021-05-07T13:44:55.000+0000",
        "updated": "2021-11-04T02:02:17.000+0000",
        "timeoriginalestimate": null,
        "description": "ARROW-11772 enables I/O coalescing in the IPC reader, but the reader operates at the granularity of an entire record batch; even if you're loading only a few columns, the entire record batch is read. When on a high-latency file system (e.g. S3), we may be able to get further performance improvement by traversing the schema and reading only the buffers we need to read. This can be combined with coalescing to reduce the number of I/O calls that need to be made.\r\n\r\n(Maybe there's another savings here in that instead of traversing the schema every time to figure out the buffer layout, we can do that only once up front and then reuse the layout subsequently?)\r\n\r\nWhile ArrayLoader already appears to perform this optimization, it's being handed an in-memory buffer in the first place, so no savings are accomplished.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "15.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 55800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Enable fine-grained I/O (coalescing) in IPC reader",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377241/comment/17438103",
                    "id": "17438103",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 11486\n[https://github.com/apache/arrow/pull/11486]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-11-03T14:25:16.627+0000",
                    "updated": "2021-11-03T14:25:16.627+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0qtqo:",
        "customfield_12314139": null
    }
}