{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13233237",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233237",
    "key": "ARROW-5317",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12344925",
                "id": "12344925",
                "description": "",
                "name": "0.14.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-07-04"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333773",
                "id": "12333773",
                "name": "Rust"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=FabioBatSilva",
            "name": "FabioBatSilva",
            "key": "fabiobatsilva",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=fabiobatsilva&avatarId=38918",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fabiobatsilva&avatarId=38918",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fabiobatsilva&avatarId=38918",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fabiobatsilva&avatarId=38918"
            },
            "displayName": "Fabio Silva",
            "active": true,
            "timeZone": "America/Toronto"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=FabioBatSilva",
            "name": "FabioBatSilva",
            "key": "fabiobatsilva",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=fabiobatsilva&avatarId=38918",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fabiobatsilva&avatarId=38918",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fabiobatsilva&avatarId=38918",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fabiobatsilva&avatarId=38918"
            },
            "displayName": "Fabio Silva",
            "active": true,
            "timeZone": "America/Toronto"
        },
        "aggregateprogress": {
            "progress": 5400,
            "total": 5400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 5400,
            "total": 5400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5317/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 9,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233237/worklog/242911",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "FabioBatSilva commented on pull request #4323: ARROW-5317: [Rust] [Parquet] impl IntoIterator for SerializedFileReader\nURL: https://github.com/apache/arrow/pull/4323\n \n \n   This patch adds a row iterator that takes ownership of the reader\r\n   and implements IntoIterator for SerializedFileReader\r\n   \r\n   See :\r\n   https://github.com/apache/arrow/issues/4301, https://issues.apache.org/jira/browse/ARROW-5317\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-15T22:42:47.055+0000",
                    "updated": "2019-05-15T22:42:47.055+0000",
                    "started": "2019-05-15T22:42:47.054+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "242911",
                    "issueId": "13233237"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233237/worklog/243472",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nevi-me commented on pull request #4323: ARROW-5317: [Rust] [Parquet] impl IntoIterator for SerializedFileReader\nURL: https://github.com/apache/arrow/pull/4323#discussion_r284809401\n \n \n\n ##########\n File path: rust/parquet/src/file/reader.rs\n ##########\n @@ -796,6 +807,23 @@ mod tests {\n         assert!(reader.is_err());\n     }\n \n+    #[test]\n+    fn test_file_reader_into_iter() -> Result<()> {\n+        let path = get_test_path(\"alltypes_plain.parquet\");\n+        let mut vec = vec![path.clone(), path.clone()]\n+            .iter()\n+            .map(|p| SerializedFileReader::try_from(p.as_path()).unwrap())\n+            .flat_map(|r| r.into_iter())\n+            .flat_map(|r| r.get_int(0))\n+            .collect::<Vec<_>>();\n+\n+        vec.sort();\n+\n+        assert_eq!(vec, vec![0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7]);\n \n Review comment:\n   Is this behaviour intended? Intuitively, I would have expected to see `vec![0,1,2,3,4,5,6,7, 0,1,2,3,4,5,6,7]` reflecting that you're reading 2 files sequentially. Am I missing something?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-16T17:07:48.676+0000",
                    "updated": "2019-05-16T17:07:48.676+0000",
                    "started": "2019-05-16T17:07:48.675+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "243472",
                    "issueId": "13233237"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233237/worklog/243478",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "FabioBatSilva commented on pull request #4323: ARROW-5317: [Rust] [Parquet] impl IntoIterator for SerializedFileReader\nURL: https://github.com/apache/arrow/pull/4323#discussion_r284812096\n \n \n\n ##########\n File path: rust/parquet/src/file/reader.rs\n ##########\n @@ -796,6 +807,23 @@ mod tests {\n         assert!(reader.is_err());\n     }\n \n+    #[test]\n+    fn test_file_reader_into_iter() -> Result<()> {\n+        let path = get_test_path(\"alltypes_plain.parquet\");\n+        let mut vec = vec![path.clone(), path.clone()]\n+            .iter()\n+            .map(|p| SerializedFileReader::try_from(p.as_path()).unwrap())\n+            .flat_map(|r| r.into_iter())\n+            .flat_map(|r| r.get_int(0))\n+            .collect::<Vec<_>>();\n+\n+        vec.sort();\n+\n+        assert_eq!(vec, vec![0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7]);\n \n Review comment:\n   Just bc I'm sorting the vec.\r\n   \r\n   The values in the parquet are not sorted.. \r\n   but i can remove the sort and keep the natural order if you guys think it makes more sense..\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-16T17:15:22.639+0000",
                    "updated": "2019-05-16T17:15:22.639+0000",
                    "started": "2019-05-16T17:15:22.637+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "243478",
                    "issueId": "13233237"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233237/worklog/243498",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nevi-me commented on pull request #4323: ARROW-5317: [Rust] [Parquet] impl IntoIterator for SerializedFileReader\nURL: https://github.com/apache/arrow/pull/4323#discussion_r284826232\n \n \n\n ##########\n File path: rust/parquet/src/file/reader.rs\n ##########\n @@ -796,6 +807,23 @@ mod tests {\n         assert!(reader.is_err());\n     }\n \n+    #[test]\n+    fn test_file_reader_into_iter() -> Result<()> {\n+        let path = get_test_path(\"alltypes_plain.parquet\");\n+        let mut vec = vec![path.clone(), path.clone()]\n+            .iter()\n+            .map(|p| SerializedFileReader::try_from(p.as_path()).unwrap())\n+            .flat_map(|r| r.into_iter())\n+            .flat_map(|r| r.get_int(0))\n+            .collect::<Vec<_>>();\n+\n+        vec.sort();\n+\n+        assert_eq!(vec, vec![0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7]);\n \n Review comment:\n   Oops, I actually missed the sort just before this. I think it's better not to sort, makes it visually clearer.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-16T17:52:06.124+0000",
                    "updated": "2019-05-16T17:52:06.124+0000",
                    "started": "2019-05-16T17:52:06.123+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "243498",
                    "issueId": "13233237"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233237/worklog/244199",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "FabioBatSilva commented on issue #4323: ARROW-5317: [Rust] [Parquet] impl IntoIterator for SerializedFileReader\nURL: https://github.com/apache/arrow/pull/4323#issuecomment-493560829\n \n \n   @sunchao I like the `Either` approach \r\n   \r\n   But I don't know if we can impl `IntoIterator` given `RowIter`'s lifetime .\r\n   \r\n   ```rust\r\n   impl IntoIterator for SerializedFileReader<File> {\r\n       type Item = Row;\r\n       type IntoIter = RowIter;\r\n                       //^^^^^^^ expected lifetime parameter\r\n   \r\n       fn into_iter(self) -> Self::IntoIter {\r\n           RowIter::from_file_reader(Box::new(self))\r\n       }\r\n   }\r\n   ```\r\n   \r\n   Perhaps we should extract the common logic from `RowIter` but keep it as a different `Iter`\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-17T18:52:29.267+0000",
                    "updated": "2019-05-17T18:52:29.267+0000",
                    "started": "2019-05-17T18:52:29.266+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244199",
                    "issueId": "13233237"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233237/worklog/244249",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "sunchao commented on issue #4323: ARROW-5317: [Rust] [Parquet] impl IntoIterator for SerializedFileReader\nURL: https://github.com/apache/arrow/pull/4323#issuecomment-493576386\n \n \n   Do you still need `IntoIter` in that case? For your example, you can just do:\r\n   ```rust\r\n       let it = vec.iter()\r\n           .map(|p| {\r\n               File::open(p).unwrap()\r\n           })\r\n           .map(|f| {\r\n               SerializedFileReader::new(f).unwrap()\r\n           })\r\n           .flat_map(|reader| -> RowIter {\r\n               RowIter::from_file_into(None, reader).unwrap()\r\n           })\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-17T19:43:58.197+0000",
                    "updated": "2019-05-17T19:43:58.197+0000",
                    "started": "2019-05-17T19:43:58.196+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244249",
                    "issueId": "13233237"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233237/worklog/244250",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "FabioBatSilva commented on issue #4323: ARROW-5317: [Rust] [Parquet] impl IntoIterator for SerializedFileReader\nURL: https://github.com/apache/arrow/pull/4323#issuecomment-493560829\n \n \n   @sunchao I like the `Either` approach \r\n   \r\n   But I don't know if we can impl `IntoIterator` given `RowIter`'s lifetime .\r\n   \r\n   ```rust\r\n   impl IntoIterator for SerializedFileReader<File> {\r\n       type Item = Row;\r\n       type IntoIter = RowIter;\r\n                       //^^^^^^^ expected lifetime parameter\r\n   \r\n       fn into_iter(self) -> Self::IntoIter {\r\n           RowIter::from_file_reader(Box::new(self))\r\n       }\r\n   }\r\n   ```\r\n   \r\n   Perhaps we should extract the common logic from `RowIter` but keep it as a different `Iterator`\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-17T19:43:59.215+0000",
                    "updated": "2019-05-17T19:43:59.215+0000",
                    "started": "2019-05-17T19:43:59.215+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244250",
                    "issueId": "13233237"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233237/worklog/244301",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "FabioBatSilva commented on issue #4323: ARROW-5317: [Rust] [Parquet] impl IntoIterator for SerializedFileReader\nURL: https://github.com/apache/arrow/pull/4323#issuecomment-493599639\n \n \n   `IntoIterator ` seems more idiomatic..\r\n   But for my use case `RowIter::from_file_into(..)` works fine..\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-17T21:07:29.168+0000",
                    "updated": "2019-05-17T21:07:29.168+0000",
                    "started": "2019-05-17T21:07:29.167+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244301",
                    "issueId": "13233237"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233237/worklog/244634",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "sunchao commented on pull request #4323: ARROW-5317: [Rust] [Parquet] impl IntoIterator for SerializedFileReader\nURL: https://github.com/apache/arrow/pull/4323\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-05-19T06:55:49.533+0000",
                    "updated": "2019-05-19T06:55:49.533+0000",
                    "started": "2019-05-19T06:55:49.532+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "244634",
                    "issueId": "13233237"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 5400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@7f450bd7[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3f5f1c69[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@31d4bd23[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@762f4324[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@334a9f30[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@153874e4[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@111fec5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@dabbba0[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6a7f163a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3cb6d0c5[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@325fe640[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@62792d10[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 5400,
        "customfield_12312520": null,
        "customfield_12312521": "Sun May 19 06:55:35 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-05-19T06:55:35.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-5317/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2019-05-14T13:14:36.000+0000",
        "updated": "2019-05-19T06:55:49.000+0000",
        "timeoriginalestimate": null,
        "description": "This is a follow up to [https://github.com/apache/arrow/issues/4301].\r\n\r\nThe current implementation of a row iterator *RowIter* borrows the *FileReader*\r\n which the user has to keep the file reader alive for as long as the iterator is alive..\r\n\r\nAnd make is hard to iterate over multiple *FileReader* / *RowIter*..\r\n{code:java}\r\nfn main() {\r\n    let path1 = Path::new(\"path-to/1.snappy.parquet\");\r\n    let path2 = Path::new(\"path-to/2.snappy.parquet\");\r\n    let vec = vec![path1, path2];\r\n    let it = vec.iter()\r\n        .map(|p| {\r\n            File::open(p).unwrap()\r\n        })\r\n        .map(|f| {\r\n            SerializedFileReader::new(f).unwrap()\r\n        })\r\n        .flat_map(|reader| -> RowIter {\r\n            RowIter::from_file(None, &reader).unwrap()\r\n//|             |                        |\r\n//|             |                        `reader` is borrowed here\r\n//|             returns a value referencing data owned by the current function\r\n        })\r\n    ;\r\n\r\n    for r in it {\r\n        println!(\"{}\", r);\r\n    }\r\n}\r\n{code}\r\nOne solution could be to implement a row iterator that takes owners of the reader.\r\n\r\nPerhaps implementing *std::iter::IntoIterator* for the *SerializedFileReader*\r\n{code:java}\r\n....\r\n.map(|p| {\r\n    File::open(p).unwrap()\r\n})\r\n.map(|f| {\r\n    SerializedFileReader::new(f).unwrap()\r\n})\r\n.flat_map(|r| -> r.into_iter())\r\n....\r\n{code}\r\n\u00a0\r\n\r\nHappy to put a PR out with this..\r\n Please let me know if this makes sense and you guys already have some way of doing this..",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 5400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Rust] [Parquet] impl IntoIterator for SerializedFileReader",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233237/comment/16839624",
                    "id": "16839624",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=csun",
                        "name": "csun",
                        "key": "csun",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=csun&avatarId=23340",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csun&avatarId=23340",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csun&avatarId=23340",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csun&avatarId=23340"
                        },
                        "displayName": "Chao Sun",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "[~FabioBatSilva] yes this does make sense. Can you put a PR for this? Thanks!",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=csun",
                        "name": "csun",
                        "key": "csun",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=csun&avatarId=23340",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csun&avatarId=23340",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csun&avatarId=23340",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csun&avatarId=23340"
                        },
                        "displayName": "Chao Sun",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2019-05-14T17:16:59.604+0000",
                    "updated": "2019-05-14T17:16:59.604+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233237/comment/16839627",
                    "id": "16839627",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=csun",
                        "name": "csun",
                        "key": "csun",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=csun&avatarId=23340",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csun&avatarId=23340",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csun&avatarId=23340",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csun&avatarId=23340"
                        },
                        "displayName": "Chao Sun",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "[~wesmckinn], [~andygrove] could you add [~FabioBatSilva] into the contributor list so we can assign this Jira to him? Thanks.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=csun",
                        "name": "csun",
                        "key": "csun",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=csun&avatarId=23340",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csun&avatarId=23340",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csun&avatarId=23340",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csun&avatarId=23340"
                        },
                        "displayName": "Chao Sun",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2019-05-14T17:19:09.830+0000",
                    "updated": "2019-05-14T17:19:31.291+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13233237/comment/16843335",
                    "id": "16843335",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=csun",
                        "name": "csun",
                        "key": "csun",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=csun&avatarId=23340",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csun&avatarId=23340",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csun&avatarId=23340",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csun&avatarId=23340"
                        },
                        "displayName": "Chao Sun",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Issue resolved by pull request 4323\n[https://github.com/apache/arrow/pull/4323]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=csun",
                        "name": "csun",
                        "key": "csun",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=csun&avatarId=23340",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=csun&avatarId=23340",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=csun&avatarId=23340",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=csun&avatarId=23340"
                        },
                        "displayName": "Chao Sun",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2019-05-19T06:55:35.943+0000",
                    "updated": "2019-05-19T06:55:35.943+0000"
                }
            ],
            "maxResults": 3,
            "total": 3,
            "startAt": 0
        },
        "customfield_12311820": "0|z02o8w:",
        "customfield_12314139": null
    }
}