{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13413901",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901",
    "key": "ARROW-14889",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12351550",
                "id": "12351550",
                "name": "9.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2022-08-03"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=willjones127",
            "name": "willjones127",
            "key": "willjones127",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
            },
            "displayName": "Will Jones",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
            "name": "apitrou",
            "key": "pitrou",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
            },
            "displayName": "Antoine Pitrou",
            "active": true,
            "timeZone": "Europe/Paris"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
            "name": "apitrou",
            "key": "pitrou",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
            },
            "displayName": "Antoine Pitrou",
            "active": true,
            "timeZone": "Europe/Paris"
        },
        "aggregateprogress": {
            "progress": 17400,
            "total": 17400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 17400,
            "total": 17400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-14889/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 29,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/788035",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#issuecomment-1175443290\n\n   <!--\n     Licensed to the Apache Software Foundation (ASF) under one\n     or more contributor license agreements.  See the NOTICE file\n     distributed with this work for additional information\n     regarding copyright ownership.  The ASF licenses this file\n     to you under the Apache License, Version 2.0 (the\n     \"License\"); you may not use this file except in compliance\n     with the License.  You may obtain a copy of the License at\n   \n       http://www.apache.org/licenses/LICENSE-2.0\n   \n     Unless required by applicable law or agreed to in writing,\n     software distributed under the License is distributed on an\n     \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n     KIND, either express or implied.  See the License for the\n     specific language governing permissions and limitations\n     under the License.\n   -->\n   \n   Thanks for opening a pull request!\n   \n   If this is not a [minor PR](https://github.com/apache/arrow/blob/master/CONTRIBUTING.md#Minor-Fixes). Could you open an issue for this pull request on JIRA? https://issues.apache.org/jira/browse/ARROW\n   \n   Opening JIRAs ahead of time contributes to the [Openness](http://theapacheway.com/open/#:~:text=Openness%20allows%20new%20users%20the,must%20happen%20in%20the%20open.) of the Apache Arrow project.\n   \n   Then could you also rename pull request title in the following format?\n   \n       ARROW-${JIRA_ID}: [${COMPONENT}] ${SUMMARY}\n   \n   or\n   \n       MINOR: [${COMPONENT}] ${SUMMARY}\n   \n   See also:\n   \n     * [Other pull requests](https://github.com/apache/arrow/pulls/)\n     * [Contribution Guidelines - How to contribute patches](https://arrow.apache.org/docs/developers/contributing.html#how-to-contribute-patches)\n   \n\n\n",
                    "created": "2022-07-05T19:58:31.135+0000",
                    "updated": "2022-07-05T19:58:31.135+0000",
                    "started": "2022-07-05T19:58:31.135+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "788035",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/788037",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r914161355\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -278,7 +288,8 @@ class GcsIntegrationTest : public ::testing::Test {\n class TestGCSFSGeneric : public GcsIntegrationTest, public GenericFileSystemTest {\n  public:\n   void SetUp() override {\n-    GcsIntegrationTest::SetUp();\n+    GcsIntegrationTest::SetUp(); // Setup failure is not propagating\n+    ASSERT_TRUE(Testbench()->running());\n\nReview Comment:\n   One problem is the `SetUp()` assertion failures are not propagating to the child. The method just exits early and then the outer `SetUp()` continues as normal.\n\n\n\n",
                    "created": "2022-07-05T20:04:23.656+0000",
                    "updated": "2022-07-05T20:04:23.656+0000",
                    "started": "2022-07-05T20:04:23.655+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "788037",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/788038",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r914161903\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -105,9 +106,18 @@ class GcsTestbench : public ::testing::Environment {\n         error += \" (exe not found)\";\n         continue;\n       }\n-\n-      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_);\n-      if (server_process_.valid() && server_process_.running()) break;\n+      // TODO: should I be worried about lifetime of this variable?\n+      bp::ipstream output;\n+\n+      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_,\n+                                  bp::std_out > output);\n\nReview Comment:\n   I don't seem to be successfully capturing std_out yet. \n\n\n\n",
                    "created": "2022-07-05T20:05:18.846+0000",
                    "updated": "2022-07-05T20:05:18.846+0000",
                    "started": "2022-07-05T20:05:18.846+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "788038",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/788743",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#issuecomment-1178171287\n\n   https://issues.apache.org/jira/browse/ARROW-14889\n\n\n",
                    "created": "2022-07-07T20:12:36.791+0000",
                    "updated": "2022-07-07T20:12:36.791+0000",
                    "started": "2022-07-07T20:12:36.791+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "788743",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/788744",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#issuecomment-1178171328\n\n   :warning: Ticket **has not been started in JIRA**, please click 'Start Progress'.\n\n\n",
                    "created": "2022-07-07T20:12:39.076+0000",
                    "updated": "2022-07-07T20:12:39.076+0000",
                    "started": "2022-07-07T20:12:39.076+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "788744",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/788745",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 closed pull request #13520: ARROW-14889: [C++] GCS tests hang if testbench not installed\nURL: https://github.com/apache/arrow/pull/13520\n\n\n",
                    "created": "2022-07-07T20:16:13.340+0000",
                    "updated": "2022-07-07T20:16:13.340+0000",
                    "started": "2022-07-07T20:16:13.340+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "788745",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/788748",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r916250670\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -105,9 +106,21 @@ class GcsTestbench : public ::testing::Environment {\n         error += \" (exe not found)\";\n         continue;\n       }\n-\n-      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_);\n-      if (server_process_.valid() && server_process_.running()) break;\n+      // TODO: should I be worried about lifetime of this variable?\n+      bp::ipstream output;\n+\n+      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_,\n+                                  bp::std_err > output);\n+      // Wait for message: \"* Restarting with\"\n+      auto testbench_is_running = [&output](bp::child& process) {\n+        std::string line;\n+        while (process.valid() && process.running() && std::getline(output, line)) {\n+          if (line.find(\"* Restarting with\") != std::string::npos) return true;\n+        }\n+        return false;\n+      };\n+\n+      if (testbench_is_running(server_process_)) break;\n\nReview Comment:\n   C++ question: is there an easy way to create a task with a timeout? As is, this could hang if the process keeps running without sending the correct message.\n\n\n\n",
                    "created": "2022-07-07T20:21:30.274+0000",
                    "updated": "2022-07-07T20:21:30.274+0000",
                    "started": "2022-07-07T20:21:30.274+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "788748",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/788749",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r916251189\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -278,7 +288,8 @@ class GcsIntegrationTest : public ::testing::Test {\n class TestGCSFSGeneric : public GcsIntegrationTest, public GenericFileSystemTest {\n  public:\n   void SetUp() override {\n-    GcsIntegrationTest::SetUp();\n+    GcsIntegrationTest::SetUp(); // Setup failure is not propagating\n+    ASSERT_TRUE(Testbench()->running());\n\nReview Comment:\n   Anyone else experienced this? Not sure what to do other than maybe move the contents of `SetUp()` into a separate function.\n\n\n\n",
                    "created": "2022-07-07T20:22:15.312+0000",
                    "updated": "2022-07-07T20:22:15.312+0000",
                    "started": "2022-07-07T20:22:15.312+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "788749",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/788757",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r916273072\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -278,7 +291,8 @@ class GcsIntegrationTest : public ::testing::Test {\n class TestGCSFSGeneric : public GcsIntegrationTest, public GenericFileSystemTest {\n  public:\n   void SetUp() override {\n-    GcsIntegrationTest::SetUp();\n+    GcsIntegrationTest::SetUp();  // Setup failure is not propagating\n\nReview Comment:\n   `ASSERT_NO_FATAL_FAILURE(GcsIntegrationTest::SetUp());` probably\n\n\n\n",
                    "created": "2022-07-07T20:54:02.691+0000",
                    "updated": "2022-07-07T20:54:02.691+0000",
                    "started": "2022-07-07T20:54:02.690+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "788757",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/788758",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r916273403\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -105,9 +106,21 @@ class GcsTestbench : public ::testing::Environment {\n         error += \" (exe not found)\";\n         continue;\n       }\n-\n-      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_);\n-      if (server_process_.valid() && server_process_.running()) break;\n+      // TODO: should I be worried about lifetime of this variable?\n+      bp::ipstream output;\n\nReview Comment:\n   This seems like it should be a member variable, yes\n\n\n\n",
                    "created": "2022-07-07T20:54:27.719+0000",
                    "updated": "2022-07-07T20:54:27.719+0000",
                    "started": "2022-07-07T20:54:27.719+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "788758",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/788759",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r916273653\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -105,9 +106,21 @@ class GcsTestbench : public ::testing::Environment {\n         error += \" (exe not found)\";\n         continue;\n       }\n-\n-      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_);\n-      if (server_process_.valid() && server_process_.running()) break;\n+      // TODO: should I be worried about lifetime of this variable?\n+      bp::ipstream output;\n+\n+      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_,\n+                                  bp::std_err > output);\n+      // Wait for message: \"* Restarting with\"\n+      auto testbench_is_running = [&output](bp::child& process) {\n+        std::string line;\n+        while (process.valid() && process.running() && std::getline(output, line)) {\n+          if (line.find(\"* Restarting with\") != std::string::npos) return true;\n+        }\n+        return false;\n+      };\n+\n+      if (testbench_is_running(server_process_)) break;\n\nReview Comment:\n   In the `while` above you could just record the start time and add a time check to the loop guard\n\n\n\n",
                    "created": "2022-07-07T20:54:57.753+0000",
                    "updated": "2022-07-07T20:54:57.753+0000",
                    "started": "2022-07-07T20:54:57.752+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "788759",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/788768",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r916280629\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -105,9 +106,21 @@ class GcsTestbench : public ::testing::Environment {\n         error += \" (exe not found)\";\n         continue;\n       }\n-\n-      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_);\n-      if (server_process_.valid() && server_process_.running()) break;\n+      // TODO: should I be worried about lifetime of this variable?\n+      bp::ipstream output;\n+\n+      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_,\n+                                  bp::std_err > output);\n+      // Wait for message: \"* Restarting with\"\n+      auto testbench_is_running = [&output](bp::child& process) {\n+        std::string line;\n+        while (process.valid() && process.running() && std::getline(output, line)) {\n+          if (line.find(\"* Restarting with\") != std::string::npos) return true;\n+        }\n+        return false;\n+      };\n+\n+      if (testbench_is_running(server_process_)) break;\n\nReview Comment:\n   I think the case I'm wary of is that the program doesn't write anything to std err for a while. IIUC `get_line` blocks until a line is retrieved, so in that case it could hang.\n\n\n\n",
                    "created": "2022-07-07T21:05:28.606+0000",
                    "updated": "2022-07-07T21:05:28.606+0000",
                    "started": "2022-07-07T21:05:28.606+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "788768",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/788772",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r916284707\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -105,9 +106,21 @@ class GcsTestbench : public ::testing::Environment {\n         error += \" (exe not found)\";\n         continue;\n       }\n-\n-      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_);\n-      if (server_process_.valid() && server_process_.running()) break;\n+      // TODO: should I be worried about lifetime of this variable?\n+      bp::ipstream output;\n+\n+      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_,\n+                                  bp::std_err > output);\n+      // Wait for message: \"* Restarting with\"\n+      auto testbench_is_running = [&output](bp::child& process) {\n+        std::string line;\n+        while (process.valid() && process.running() && std::getline(output, line)) {\n+          if (line.find(\"* Restarting with\") != std::string::npos) return true;\n+        }\n+        return false;\n+      };\n+\n+      if (testbench_is_running(server_process_)) break;\n\nReview Comment:\n   I suppose you could spawn a thread to do it, detach it, and synchronize manually; if too much time elapses, continue on\n\n\n\n",
                    "created": "2022-07-07T21:11:59.056+0000",
                    "updated": "2022-07-07T21:11:59.056+0000",
                    "started": "2022-07-07T21:11:59.055+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "788772",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/788775",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "coryan commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r916289559\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -105,9 +106,21 @@ class GcsTestbench : public ::testing::Environment {\n         error += \" (exe not found)\";\n         continue;\n       }\n-\n-      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_);\n-      if (server_process_.valid() && server_process_.running()) break;\n+      // TODO: should I be worried about lifetime of this variable?\n+      bp::ipstream output;\n+\n+      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_,\n+                                  bp::std_err > output);\n+      // Wait for message: \"* Restarting with\"\n+      auto testbench_is_running = [&output](bp::child& process) {\n+        std::string line;\n+        while (process.valid() && process.running() && std::getline(output, line)) {\n+          if (line.find(\"* Restarting with\") != std::string::npos) return true;\n+        }\n+        return false;\n+      };\n+\n+      if (testbench_is_running(server_process_)) break;\n\nReview Comment:\n   It depends on the value of \"easy\".  I have not tested this, but allegedly you can use asynchronous I/O with `Boost.Process`:\r\n   \r\n   https://www.boost.org/doc/libs/1_79_0/doc/html/process/reference.html#header.boost.process.io_hpp\r\n   \r\n   The example where they use a future could be changed with a `wait_for()`:\r\n   \r\n   ```cc\r\n   boost::asio::io_context ios;\r\n   std::future<std::string> output;\r\n   system(\"ls\", std_out > output, ios);\r\n   \r\n   auto status = fut.wait_for(std::chrono::seconds(10));\r\n   if (status == std::future_status::timeout) { /* uh oh */ }\r\n   ```\r\n   \r\n   I expect you would need a thread or something to run with the `boost::asio::io_context`, something like:\r\n   \r\n   ```cc\r\n     boost::asio::io_context ios;\r\n     std::thead svc{[&] { ios.run_for(std::chrono::seconds(..)); }};\r\n   ...\r\n     // insert the code from above\r\n     svc.join();\r\n   ....\r\n   \n\n\n\n",
                    "created": "2022-07-07T21:20:04.737+0000",
                    "updated": "2022-07-07T21:20:04.737+0000",
                    "started": "2022-07-07T21:20:04.737+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "788775",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/789089",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r917009515\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -105,9 +106,21 @@ class GcsTestbench : public ::testing::Environment {\n         error += \" (exe not found)\";\n         continue;\n       }\n-\n-      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_);\n-      if (server_process_.valid() && server_process_.running()) break;\n+      // TODO: should I be worried about lifetime of this variable?\n+      bp::ipstream output;\n+\n+      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_,\n+                                  bp::std_err > output);\n+      // Wait for message: \"* Restarting with\"\n+      auto testbench_is_running = [&output](bp::child& process) {\n+        std::string line;\n+        while (process.valid() && process.running() && std::getline(output, line)) {\n+          if (line.find(\"* Restarting with\") != std::string::npos) return true;\n+        }\n+        return false;\n+      };\n+\n+      if (testbench_is_running(server_process_)) break;\n\nReview Comment:\n   I tried writing a synchronous version that used `peek()` before calling `getline()`.\n\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -278,7 +291,8 @@ class GcsIntegrationTest : public ::testing::Test {\n class TestGCSFSGeneric : public GcsIntegrationTest, public GenericFileSystemTest {\n  public:\n   void SetUp() override {\n-    GcsIntegrationTest::SetUp();\n+    GcsIntegrationTest::SetUp();  // Setup failure is not propagating\n\nReview Comment:\n   That's it! Thanks!\n\n\n\n",
                    "created": "2022-07-08T17:22:19.429+0000",
                    "updated": "2022-07-08T17:22:19.429+0000",
                    "started": "2022-07-08T17:22:19.429+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "789089",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/789090",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r917010322\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -105,9 +106,21 @@ class GcsTestbench : public ::testing::Environment {\n         error += \" (exe not found)\";\n         continue;\n       }\n-\n-      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_);\n-      if (server_process_.valid() && server_process_.running()) break;\n+      // TODO: should I be worried about lifetime of this variable?\n+      bp::ipstream output;\n\nReview Comment:\n   When I made it a member variable, the server would become unresponsive halfway through the tests. Possibly some buffer filling up and refusing new input? Unclear.\r\n   \r\n   But leaving as is seems to not have any visible negative consequences when I run the tests.\n\n\n\n",
                    "created": "2022-07-08T17:23:33.954+0000",
                    "updated": "2022-07-08T17:23:33.954+0000",
                    "started": "2022-07-08T17:23:33.954+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "789090",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/789598",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r918042962\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -105,9 +106,21 @@ class GcsTestbench : public ::testing::Environment {\n         error += \" (exe not found)\";\n         continue;\n       }\n-\n-      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_);\n-      if (server_process_.valid() && server_process_.running()) break;\n+      // TODO: should I be worried about lifetime of this variable?\n+      bp::ipstream output;\n+\n+      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_,\n+                                  bp::std_err > output);\n+      // Wait for message: \"* Restarting with\"\n+      auto testbench_is_running = [&output](bp::child& process) {\n+        std::string line;\n+        while (process.valid() && process.running() && std::getline(output, line)) {\n+          if (line.find(\"* Restarting with\") != std::string::npos) return true;\n+        }\n+        return false;\n+      };\n+\n+      if (testbench_is_running(server_process_)) break;\n\nReview Comment:\n   I guess the synchronous version should be fine for our purposes. The testbench is written in Python and Python's stderr is always line-buffered by default, even if redirected.\n\n\n\n",
                    "created": "2022-07-11T15:03:01.679+0000",
                    "updated": "2022-07-11T15:03:01.679+0000",
                    "started": "2022-07-11T15:03:01.679+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "789598",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/789736",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r918339017\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -106,8 +110,27 @@ class GcsTestbench : public ::testing::Environment {\n         continue;\n       }\n \n-      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_);\n-      if (server_process_.valid() && server_process_.running()) break;\n+      bp::ipstream output;\n+      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_,\n+                                  bp::std_err > output);\n+      // Wait for message: \"* Restarting with\"\n+      auto testbench_is_running = [&output, this](bp::child& process) {\n+        std::string line;\n+        std::chrono::time_point<std::chrono::system_clock> end =\n+            std::chrono::system_clock::now() + std::chrono::seconds(10);\n\nReview Comment:\n   nit: std::chrono::steady_clock instead?\n\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -106,8 +110,27 @@ class GcsTestbench : public ::testing::Environment {\n         continue;\n       }\n \n-      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_);\n-      if (server_process_.valid() && server_process_.running()) break;\n+      bp::ipstream output;\n\nReview Comment:\n   This still makes me suspicious since server_process_ outlives output. Maybe to make this a member variable, it has to be re-initialized on each loop iteration?\n\n\n\n",
                    "created": "2022-07-11T20:52:14.687+0000",
                    "updated": "2022-07-11T20:52:14.687+0000",
                    "started": "2022-07-11T20:52:14.686+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "789736",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/789754",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wjones127 commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r918388164\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -106,8 +110,27 @@ class GcsTestbench : public ::testing::Environment {\n         continue;\n       }\n \n-      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_);\n-      if (server_process_.valid() && server_process_.running()) break;\n+      bp::ipstream output;\n+      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_,\n+                                  bp::std_err > output);\n+      // Wait for message: \"* Restarting with\"\n+      auto testbench_is_running = [&output, this](bp::child& process) {\n+        std::string line;\n+        std::chrono::time_point<std::chrono::system_clock> end =\n+            std::chrono::system_clock::now() + std::chrono::seconds(10);\n\nReview Comment:\n   All other instances of clock in the file are `system_clock`. Should I keep as is then, or change them all? Or is there a good reason to use stead_clock for this use case?\n\n\n\n",
                    "created": "2022-07-11T22:10:35.893+0000",
                    "updated": "2022-07-11T22:10:35.893+0000",
                    "started": "2022-07-11T22:10:35.893+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "789754",
                    "issueId": "13413901"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/worklog/789757",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on code in PR #13520:\nURL: https://github.com/apache/arrow/pull/13520#discussion_r918390746\n\n\n##########\ncpp/src/arrow/filesystem/gcsfs_test.cc:\n##########\n@@ -106,8 +110,27 @@ class GcsTestbench : public ::testing::Environment {\n         continue;\n       }\n \n-      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_);\n-      if (server_process_.valid() && server_process_.running()) break;\n+      bp::ipstream output;\n+      server_process_ = bp::child(exe_path, \"-m\", \"testbench\", \"--port\", port_, group_,\n+                                  bp::std_err > output);\n+      // Wait for message: \"* Restarting with\"\n+      auto testbench_is_running = [&output, this](bp::child& process) {\n+        std::string line;\n+        std::chrono::time_point<std::chrono::system_clock> end =\n+            std::chrono::system_clock::now() + std::chrono::seconds(10);\n\nReview Comment:\n   Hmm, so this is a local system timeout -> a monotonic clock is what you want\r\n   Those other timeouts are deadlines -> I think those go across the wire (gRPC has deadline propagation) and so need to be an actual time point in order to be comparable across machines\r\n   \r\n   That said it's not a big deal here, hence the nit\n\n\n\n",
                    "created": "2022-07-11T22:15:16.388+0000",
                    "updated": "2022-07-11T22:15:16.388+0000",
                    "started": "2022-07-11T22:15:16.387+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "789757",
                    "issueId": "13413901"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 17400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@18ea06ff[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1181d2e8[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@d61571b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@1268d2cd[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5c6ba77a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@3a9ce10f[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3d42a0c8[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@69e8f317[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@68b9c927[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3570d9a6[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1d9c6b20[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@334253cf[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 17400,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Jul 13 12:04:53 UTC 2022",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2022-07-13T12:04:53.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-14889/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2021-11-25T17:19:31.000+0000",
        "updated": "2022-07-14T02:22:01.000+0000",
        "timeoriginalestimate": null,
        "description": "They should probably error out instead of hanging.\r\n{code}\r\nRunning main() from /home/antoine/arrow/dev/cpp/build-preset/googletest_ep-prefix/src/googletest_ep/googletest/src/gtest_main.cc\r\n[==========] Running 22 tests from 2 test suites.\r\n[----------] Global test environment set-up.\r\n[----------] 13 tests from GcsFileSystem\r\n[ RUN      ] GcsFileSystem.OptionsCompare\r\n[       OK ] GcsFileSystem.OptionsCompare (0 ms)\r\n[ RUN      ] GcsFileSystem.ToArrowStatusOK\r\n[       OK ] GcsFileSystem.ToArrowStatusOK (0 ms)\r\n[ RUN      ] GcsFileSystem.ToArrowStatus\r\n[       OK ] GcsFileSystem.ToArrowStatus (0 ms)\r\n[ RUN      ] GcsFileSystem.FileSystemCompare\r\n[       OK ] GcsFileSystem.FileSystemCompare (2 ms)\r\n[ RUN      ] GcsFileSystem.ToEncryptionKey\r\n[       OK ] GcsFileSystem.ToEncryptionKey (0 ms)\r\n[ RUN      ] GcsFileSystem.ToEncryptionKeyEmpty\r\n[       OK ] GcsFileSystem.ToEncryptionKeyEmpty (0 ms)\r\n[ RUN      ] GcsFileSystem.ToKmsKeyName\r\n[       OK ] GcsFileSystem.ToKmsKeyName (0 ms)\r\n[ RUN      ] GcsFileSystem.ToKmsKeyNameEmpty\r\n[       OK ] GcsFileSystem.ToKmsKeyNameEmpty (0 ms)\r\n[ RUN      ] GcsFileSystem.ToPredefinedAcl\r\n[       OK ] GcsFileSystem.ToPredefinedAcl (0 ms)\r\n[ RUN      ] GcsFileSystem.ToPredefinedAclEmpty\r\n[       OK ] GcsFileSystem.ToPredefinedAclEmpty (0 ms)\r\n[ RUN      ] GcsFileSystem.ToObjectMetadata\r\n[       OK ] GcsFileSystem.ToObjectMetadata (0 ms)\r\n[ RUN      ] GcsFileSystem.ToObjectMetadataEmpty\r\n[       OK ] GcsFileSystem.ToObjectMetadataEmpty (0 ms)\r\n[ RUN      ] GcsFileSystem.ToObjectMetadataInvalidCustomTime\r\n[       OK ] GcsFileSystem.ToObjectMetadataInvalidCustomTime (0 ms)\r\n[----------] 13 tests from GcsFileSystem (3 ms total)\r\n\r\n[----------] 9 tests from GcsIntegrationTest\r\n[ RUN      ] GcsIntegrationTest.GetFileInfoBucket\r\n/home/antoine/miniconda3/envs/pyarrow/bin/python3: No module named testbench\r\n^C\r\n{code}",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "4h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 17400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] GCSFS tests hang if testbench not installed",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/comment/17449267",
                    "id": "17449267",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "cc [~coryan]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-11-25T17:19:43.394+0000",
                    "updated": "2021-11-25T17:19:43.394+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/comment/17561563",
                    "id": "17561563",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=willjones127",
                        "name": "willjones127",
                        "key": "willjones127",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
                        },
                        "displayName": "Will Jones",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Looked into this a little bit. It seems that we start the process, and consider it successful if we check that {{server_process_.running()}} is immediately true. In the case of ImportError, the timing can work out where it's still running at the time of the first check, but isn't later. So API calls then hang.\r\n\r\nThe ideal solution is to alter the initialization to wait for an affirmative message that the testbench process is running. Possibly a startup message from testbench?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=willjones127",
                        "name": "willjones127",
                        "key": "willjones127",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
                        },
                        "displayName": "Will Jones",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2022-07-01T17:31:39.944+0000",
                    "updated": "2022-07-01T17:31:39.944+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/comment/17561583",
                    "id": "17561583",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Yes, waiting for a startup message of some kind would work. [~coryan]\u00a0 Would you recommend a specific approach?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2022-07-01T18:43:34.811+0000",
                    "updated": "2022-07-01T18:43:34.811+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/comment/17561587",
                    "id": "17561587",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=coryan",
                        "name": "coryan",
                        "key": "coryan",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Carlos O'Ryan",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Sorry about that. I guess I did not consider the case where python was still starting up. The integration tests use {{python -m testbenchn --port ...}} to start the testbench:\r\n\r\n[https://github.com/apache/arrow/blob/38918ef0d59387895759223bee2d704c293bcfb9/cpp/src/arrow/filesystem/gcsfs_test.cc#L109]\r\n\r\nWhen I run this locally I get this output:\r\n \r\n{code}\r\nINFO:werkzeug: * Running on http://localhost:42097/ (Press CTRL+C to quit)\r\nINFO:werkzeug: * Restarting with stat\r\n{code}\r\n\r\nThat suggests you want for {{\"* Restarting with stat\"}}, but if you want to be more strict you could do that too.\r\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=coryan",
                        "name": "coryan",
                        "key": "coryan",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Carlos O'Ryan",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2022-07-01T19:02:00.954+0000",
                    "updated": "2022-07-01T19:02:00.954+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/comment/17561590",
                    "id": "17561590",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=willjones127",
                        "name": "willjones127",
                        "key": "willjones127",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
                        },
                        "displayName": "Will Jones",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Ha I get this locally instead:\r\n\r\n{code:none}\r\nINFO:werkzeug: * Running on http://localhost:8080 (Press CTRL+C to quit)\r\nINFO:werkzeug: * Restarting with watchdog (fsevents)\r\n{code}\r\n\r\nSo need to be careful about that.\r\n\r\nI'll see if I can make a PR soon.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=willjones127",
                        "name": "willjones127",
                        "key": "willjones127",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
                        },
                        "displayName": "Will Jones",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2022-07-01T19:16:10.460+0000",
                    "updated": "2022-07-01T19:16:10.460+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13413901/comment/17566291",
                    "id": "17566291",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 13520\n[https://github.com/apache/arrow/pull/13520]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2022-07-13T12:04:53.361+0000",
                    "updated": "2022-07-13T12:04:53.361+0000"
                }
            ],
            "maxResults": 6,
            "total": 6,
            "startAt": 0
        },
        "customfield_12311820": "0|z0x3kw:",
        "customfield_12314139": null
    }
}