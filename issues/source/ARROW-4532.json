{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13215072",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072",
    "key": "ARROW-4532",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343937",
                "id": "12343937",
                "description": "",
                "name": "0.13.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-04-01"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pravindra",
            "name": "pravindra",
            "key": "pravindra",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
            },
            "displayName": "Pindikura Ravindra",
            "active": true,
            "timeZone": "Asia/Kolkata"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pravindra",
            "name": "pravindra",
            "key": "pravindra",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
            },
            "displayName": "Pindikura Ravindra",
            "active": true,
            "timeZone": "Asia/Kolkata"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pravindra",
            "name": "pravindra",
            "key": "pravindra",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
            },
            "displayName": "Pindikura Ravindra",
            "active": true,
            "timeZone": "Asia/Kolkata"
        },
        "aggregateprogress": {
            "progress": 9600,
            "total": 9600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 9600,
            "total": 9600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-4532/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 19,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197112",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3613: ARROW-4532: [Java] fix a size compute bug\nURL: https://github.com/apache/arrow/pull/3613\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-11T18:41:34.284+0000",
                    "updated": "2019-02-11T18:41:34.284+0000",
                    "started": "2019-02-11T18:41:34.284+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197112",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197149",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on issue #3613: ARROW-4532: [Java] fix a size compute bug\nURL: https://github.com/apache/arrow/pull/3613#issuecomment-462483673\n \n \n   may be edit the commit message slightly to describe the problem?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-11T20:34:03.603+0000",
                    "updated": "2019-02-11T20:34:03.603+0000",
                    "started": "2019-02-11T20:34:03.602+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197149",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197161",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #3613: ARROW-4532: [Java] fix a size compute bug\nURL: https://github.com/apache/arrow/pull/3613#issuecomment-462492884\n \n \n   Yes. It helps for the changelog when other developers can see when a bug they run into was fixed\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-11T21:02:25.427+0000",
                    "updated": "2019-02-11T21:02:25.427+0000",
                    "started": "2019-02-11T21:02:25.426+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197161",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197387",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#discussion_r255814005\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestValueVector.java\n ##########\n @@ -1394,6 +1394,35 @@ public void testFillEmptiesNotOverfill() {\n     }\n   }\n \n+  @Test\n+  public void testSetSafeWithArrowBuf() {\n+    final int numValues = BaseFixedWidthVector.INITIAL_VALUE_ALLOCATION * 2;\n+\n+    try (\n+        final VarCharVector fromVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator);\n+        final VarCharVector toVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator)) {\n+      fromVector.setInitialCapacity(numValues);\n+      fromVector.allocateNew();\n+      for (int i = 0; i < numValues; ++i) {\n+        fromVector.setSafe(i, \"hello world\".getBytes(), 0, 11);\n \n Review comment:\n   it might make the test easier to read if 0 and 11 where constants or had comments next to them.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T06:14:42.372+0000",
                    "updated": "2019-02-12T06:14:42.372+0000",
                    "started": "2019-02-12T06:14:42.372+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197387",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197388",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#discussion_r255813866\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestValueVector.java\n ##########\n @@ -1394,6 +1394,35 @@ public void testFillEmptiesNotOverfill() {\n     }\n   }\n \n+  @Test\n+  public void testSetSafeWithArrowBuf() {\n+    final int numValues = BaseFixedWidthVector.INITIAL_VALUE_ALLOCATION * 2;\n+\n+    try (\n+        final VarCharVector fromVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator);\n+        final VarCharVector toVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator)) {\n+      fromVector.setInitialCapacity(numValues);\n+      fromVector.allocateNew();\n+      for (int i = 0; i < numValues; ++i) {\n+        fromVector.setSafe(i, \"hello world\".getBytes(), 0, 11);\n+      }\n+      fromVector.setValueCount(numValues);\n+      ArrowBuf fromDataBuffer = fromVector.getDataBuffer();\n+      assertEquals(BaseAllocator.nextPowerOfTwo(numValues * 11), fromDataBuffer.capacity());\n \n Review comment:\n   this test seems like it is potentially brittle if the allocator expansion algorithm was changed.  Is this an intrinsic property of this method? Maybe make this an inequality?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T06:14:42.375+0000",
                    "updated": "2019-02-12T06:14:42.375+0000",
                    "started": "2019-02-12T06:14:42.375+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197388",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197389",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#discussion_r255814720\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestValueVector.java\n ##########\n @@ -1394,6 +1394,35 @@ public void testFillEmptiesNotOverfill() {\n     }\n   }\n \n+  @Test\n+  public void testSetSafeWithArrowBuf() {\n \n Review comment:\n   maybe add to the title doesntAllocateExcessiveMemory\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T06:14:42.397+0000",
                    "updated": "2019-02-12T06:14:42.397+0000",
                    "started": "2019-02-12T06:14:42.396+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197389",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197390",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#discussion_r255814534\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestValueVector.java\n ##########\n @@ -1394,6 +1394,35 @@ public void testFillEmptiesNotOverfill() {\n     }\n   }\n \n+  @Test\n+  public void testSetSafeWithArrowBuf() {\n+    final int numValues = BaseFixedWidthVector.INITIAL_VALUE_ALLOCATION * 2;\n+\n+    try (\n+        final VarCharVector fromVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator);\n+        final VarCharVector toVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator)) {\n+      fromVector.setInitialCapacity(numValues);\n \n Review comment:\n   it might make the unit test easier to read if you separated each section by a comment.\r\n   i.e.\r\n   //Setup\r\n   \r\n   // Execute\r\n   \r\n   // Verify\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T06:14:42.400+0000",
                    "updated": "2019-02-12T06:14:42.400+0000",
                    "started": "2019-02-12T06:14:42.400+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197390",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197391",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#discussion_r255813560\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestValueVector.java\n ##########\n @@ -1394,6 +1394,35 @@ public void testFillEmptiesNotOverfill() {\n     }\n   }\n \n+  @Test\n+  public void testSetSafeWithArrowBuf() {\n+    final int numValues = BaseFixedWidthVector.INITIAL_VALUE_ALLOCATION * 2;\n+\n+    try (\n+        final VarCharVector fromVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator);\n+        final VarCharVector toVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator)) {\n+      fromVector.setInitialCapacity(numValues);\n+      fromVector.allocateNew();\n+      for (int i = 0; i < numValues; ++i) {\n+        fromVector.setSafe(i, \"hello world\".getBytes(), 0, 11);\n+      }\n+      fromVector.setValueCount(numValues);\n+      ArrowBuf fromDataBuffer = fromVector.getDataBuffer();\n+      assertEquals(BaseAllocator.nextPowerOfTwo(numValues * 11), fromDataBuffer.capacity());\n+\n+      toVector.setInitialCapacity(numValues);\n+      toVector.allocateNew();\n+      for (int i = 0; i < numValues; i++) {\n+        int start = fromVector.getstartOffset(i);\n+        int end = fromVector.getstartOffset(i + 1);\n+        toVector.setSafe(i, 1, start, end, fromDataBuffer);\n \n Review comment:\n   making this a named constant or putting in comments what the value represents might make the test easier to read.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T06:14:42.404+0000",
                    "updated": "2019-02-12T06:14:42.404+0000",
                    "started": "2019-02-12T06:14:42.403+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197391",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197392",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on pull request #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#discussion_r255814186\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestValueVector.java\n ##########\n @@ -1394,6 +1394,35 @@ public void testFillEmptiesNotOverfill() {\n     }\n   }\n \n+  @Test\n+  public void testSetSafeWithArrowBuf() {\n+    final int numValues = BaseFixedWidthVector.INITIAL_VALUE_ALLOCATION * 2;\n+\n+    try (\n+        final VarCharVector fromVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator);\n+        final VarCharVector toVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator)) {\n+      fromVector.setInitialCapacity(numValues);\n+      fromVector.allocateNew();\n+      for (int i = 0; i < numValues; ++i) {\n+        fromVector.setSafe(i, \"hello world\".getBytes(), 0, 11);\n+      }\n+      fromVector.setValueCount(numValues);\n+      ArrowBuf fromDataBuffer = fromVector.getDataBuffer();\n+      assertEquals(BaseAllocator.nextPowerOfTwo(numValues * 11), fromDataBuffer.capacity());\n+\n+      toVector.setInitialCapacity(numValues);\n+      toVector.allocateNew();\n+      for (int i = 0; i < numValues; i++) {\n+        int start = fromVector.getstartOffset(i);\n+        int end = fromVector.getstartOffset(i + 1);\n+        toVector.setSafe(i, 1, start, end, fromDataBuffer);\n+      }\n+      assertEquals(fromDataBuffer.capacity(), toVector.getDataBuffer().capacity());\n \n Review comment:\n   it might pay to add a comment why the capacity is expected to be equal\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T06:14:42.415+0000",
                    "updated": "2019-02-12T06:14:42.415+0000",
                    "started": "2019-02-12T06:14:42.415+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197392",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197400",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#discussion_r255822453\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestValueVector.java\n ##########\n @@ -1394,6 +1394,35 @@ public void testFillEmptiesNotOverfill() {\n     }\n   }\n \n+  @Test\n+  public void testSetSafeWithArrowBuf() {\n+    final int numValues = BaseFixedWidthVector.INITIAL_VALUE_ALLOCATION * 2;\n+\n+    try (\n+        final VarCharVector fromVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator);\n+        final VarCharVector toVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator)) {\n+      fromVector.setInitialCapacity(numValues);\n \n Review comment:\n   i've added comments.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T06:54:08.466+0000",
                    "updated": "2019-02-12T06:54:08.466+0000",
                    "started": "2019-02-12T06:54:08.466+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197400",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197401",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#discussion_r255822483\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestValueVector.java\n ##########\n @@ -1394,6 +1394,35 @@ public void testFillEmptiesNotOverfill() {\n     }\n   }\n \n+  @Test\n+  public void testSetSafeWithArrowBuf() {\n+    final int numValues = BaseFixedWidthVector.INITIAL_VALUE_ALLOCATION * 2;\n+\n+    try (\n+        final VarCharVector fromVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator);\n+        final VarCharVector toVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator)) {\n+      fromVector.setInitialCapacity(numValues);\n+      fromVector.allocateNew();\n+      for (int i = 0; i < numValues; ++i) {\n+        fromVector.setSafe(i, \"hello world\".getBytes(), 0, 11);\n+      }\n+      fromVector.setValueCount(numValues);\n+      ArrowBuf fromDataBuffer = fromVector.getDataBuffer();\n+      assertEquals(BaseAllocator.nextPowerOfTwo(numValues * 11), fromDataBuffer.capacity());\n+\n+      toVector.setInitialCapacity(numValues);\n+      toVector.allocateNew();\n+      for (int i = 0; i < numValues; i++) {\n+        int start = fromVector.getstartOffset(i);\n+        int end = fromVector.getstartOffset(i + 1);\n+        toVector.setSafe(i, 1, start, end, fromDataBuffer);\n+      }\n+      assertEquals(fromDataBuffer.capacity(), toVector.getDataBuffer().capacity());\n \n Review comment:\n   done.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T06:54:20.217+0000",
                    "updated": "2019-02-12T06:54:20.217+0000",
                    "started": "2019-02-12T06:54:20.216+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197401",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197402",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#discussion_r255822793\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestValueVector.java\n ##########\n @@ -1394,6 +1394,35 @@ public void testFillEmptiesNotOverfill() {\n     }\n   }\n \n+  @Test\n+  public void testSetSafeWithArrowBuf() {\n+    final int numValues = BaseFixedWidthVector.INITIAL_VALUE_ALLOCATION * 2;\n+\n+    try (\n+        final VarCharVector fromVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator);\n+        final VarCharVector toVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator)) {\n+      fromVector.setInitialCapacity(numValues);\n+      fromVector.allocateNew();\n+      for (int i = 0; i < numValues; ++i) {\n+        fromVector.setSafe(i, \"hello world\".getBytes(), 0, 11);\n+      }\n+      fromVector.setValueCount(numValues);\n+      ArrowBuf fromDataBuffer = fromVector.getDataBuffer();\n+      assertEquals(BaseAllocator.nextPowerOfTwo(numValues * 11), fromDataBuffer.capacity());\n+\n+      toVector.setInitialCapacity(numValues);\n+      toVector.allocateNew();\n+      for (int i = 0; i < numValues; i++) {\n+        int start = fromVector.getstartOffset(i);\n+        int end = fromVector.getstartOffset(i + 1);\n+        toVector.setSafe(i, 1, start, end, fromDataBuffer);\n \n Review comment:\n   done\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T06:55:38.039+0000",
                    "updated": "2019-02-12T06:55:38.039+0000",
                    "started": "2019-02-12T06:55:38.038+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197402",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197404",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#discussion_r255822822\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestValueVector.java\n ##########\n @@ -1394,6 +1394,35 @@ public void testFillEmptiesNotOverfill() {\n     }\n   }\n \n+  @Test\n+  public void testSetSafeWithArrowBuf() {\n+    final int numValues = BaseFixedWidthVector.INITIAL_VALUE_ALLOCATION * 2;\n+\n+    try (\n+        final VarCharVector fromVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator);\n+        final VarCharVector toVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator)) {\n+      fromVector.setInitialCapacity(numValues);\n+      fromVector.allocateNew();\n+      for (int i = 0; i < numValues; ++i) {\n+        fromVector.setSafe(i, \"hello world\".getBytes(), 0, 11);\n+      }\n+      fromVector.setValueCount(numValues);\n+      ArrowBuf fromDataBuffer = fromVector.getDataBuffer();\n+      assertEquals(BaseAllocator.nextPowerOfTwo(numValues * 11), fromDataBuffer.capacity());\n \n Review comment:\n   fixed.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T06:55:46.764+0000",
                    "updated": "2019-02-12T06:55:46.764+0000",
                    "started": "2019-02-12T06:55:46.763+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197404",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197405",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#discussion_r255822867\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestValueVector.java\n ##########\n @@ -1394,6 +1394,35 @@ public void testFillEmptiesNotOverfill() {\n     }\n   }\n \n+  @Test\n+  public void testSetSafeWithArrowBuf() {\n+    final int numValues = BaseFixedWidthVector.INITIAL_VALUE_ALLOCATION * 2;\n+\n+    try (\n+        final VarCharVector fromVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator);\n+        final VarCharVector toVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator)) {\n+      fromVector.setInitialCapacity(numValues);\n+      fromVector.allocateNew();\n+      for (int i = 0; i < numValues; ++i) {\n+        fromVector.setSafe(i, \"hello world\".getBytes(), 0, 11);\n \n Review comment:\n   fixed.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T06:56:00.968+0000",
                    "updated": "2019-02-12T06:56:00.968+0000",
                    "started": "2019-02-12T06:56:00.967+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197405",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197406",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#discussion_r255822893\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestValueVector.java\n ##########\n @@ -1394,6 +1394,35 @@ public void testFillEmptiesNotOverfill() {\n     }\n   }\n \n+  @Test\n+  public void testSetSafeWithArrowBuf() {\n+    final int numValues = BaseFixedWidthVector.INITIAL_VALUE_ALLOCATION * 2;\n+\n+    try (\n+        final VarCharVector fromVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator);\n+        final VarCharVector toVector = newVector(VarCharVector.class, EMPTY_SCHEMA_PATH,\n+            MinorType.VARCHAR, allocator)) {\n+      fromVector.setInitialCapacity(numValues);\n+      fromVector.allocateNew();\n+      for (int i = 0; i < numValues; ++i) {\n+        fromVector.setSafe(i, \"hello world\".getBytes(), 0, 11);\n+      }\n+      fromVector.setValueCount(numValues);\n+      ArrowBuf fromDataBuffer = fromVector.getDataBuffer();\n+      assertEquals(BaseAllocator.nextPowerOfTwo(numValues * 11), fromDataBuffer.capacity());\n+\n+      toVector.setInitialCapacity(numValues);\n+      toVector.allocateNew();\n+      for (int i = 0; i < numValues; i++) {\n+        int start = fromVector.getstartOffset(i);\n+        int end = fromVector.getstartOffset(i + 1);\n+        toVector.setSafe(i, 1, start, end, fromDataBuffer);\n+      }\n+      assertEquals(fromDataBuffer.capacity(), toVector.getDataBuffer().capacity());\n \n Review comment:\n   added.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T06:56:09.913+0000",
                    "updated": "2019-02-12T06:56:09.913+0000",
                    "started": "2019-02-12T06:56:09.912+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197406",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197407",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pravindra commented on pull request #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#discussion_r255822942\n \n \n\n ##########\n File path: java/vector/src/test/java/org/apache/arrow/vector/TestValueVector.java\n ##########\n @@ -1394,6 +1394,35 @@ public void testFillEmptiesNotOverfill() {\n     }\n   }\n \n+  @Test\n+  public void testSetSafeWithArrowBuf() {\n \n Review comment:\n   done\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T06:56:20.776+0000",
                    "updated": "2019-02-12T06:56:20.776+0000",
                    "started": "2019-02-12T06:56:20.776+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197407",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197409",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "emkornfield commented on issue #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#issuecomment-462642424\n \n \n   @pravindra  thanks!\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T07:07:22.887+0000",
                    "updated": "2019-02-12T07:07:22.887+0000",
                    "started": "2019-02-12T07:07:22.886+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197409",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197411",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on issue #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613#issuecomment-462648623\n \n \n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/3613?src=pr&el=h1) Report\n   > Merging [#3613](https://codecov.io/gh/apache/arrow/pull/3613?src=pr&el=desc) into [master](https://codecov.io/gh/apache/arrow/commit/d7b6ca7feb8f6419cee7069dcef20252579ea107?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n   > The diff coverage is `n/a`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/3613/graphs/tree.svg?width=650&token=LpTCFbqVT1&height=150&src=pr)](https://codecov.io/gh/apache/arrow/pull/3613?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #3613      +/-   ##\n   ==========================================\n   - Coverage   87.78%   87.77%   -0.01%     \n   ==========================================\n     Files         673      673              \n     Lines       82776    82839      +63     \n     Branches     1069     1069              \n   ==========================================\n   + Hits        72661    72713      +52     \n   - Misses      10004    10011       +7     \n   - Partials      111      115       +4\n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/3613?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [go/arrow/math/int64\\_avx2\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/3613/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC9pbnQ2NF9hdngyX2FtZDY0Lmdv) | `0% <0%> (-100%)` | :arrow_down: |\n   | [go/arrow/memory/memory\\_avx2\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/3613/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWVtb3J5L21lbW9yeV9hdngyX2FtZDY0Lmdv) | `0% <0%> (-100%)` | :arrow_down: |\n   | [go/arrow/math/float64\\_avx2\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/3613/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC9mbG9hdDY0X2F2eDJfYW1kNjQuZ28=) | `0% <0%> (-100%)` | :arrow_down: |\n   | [go/arrow/math/uint64\\_avx2\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/3613/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC91aW50NjRfYXZ4Ml9hbWQ2NC5nbw==) | `0% <0%> (-100%)` | :arrow_down: |\n   | [go/arrow/memory/memory\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/3613/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWVtb3J5L21lbW9yeV9hbWQ2NC5nbw==) | `28.57% <0%> (-14.29%)` | :arrow_down: |\n   | [go/arrow/math/math\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/3613/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC9tYXRoX2FtZDY0Lmdv) | `31.57% <0%> (-5.27%)` | :arrow_down: |\n   | [js/src/visitor/indexof.ts](https://codecov.io/gh/apache/arrow/pull/3613/diff?src=pr&el=tree#diff-anMvc3JjL3Zpc2l0b3IvaW5kZXhvZi50cw==) | `97.26% <0%> (-1.37%)` | :arrow_down: |\n   | [cpp/src/arrow/python/decimal.cc](https://codecov.io/gh/apache/arrow/pull/3613/diff?src=pr&el=tree#diff-Y3BwL3NyYy9hcnJvdy9weXRob24vZGVjaW1hbC5jYw==) | `98.03% <0%> (-0.85%)` | :arrow_down: |\n   | [cpp/src/plasma/store.cc](https://codecov.io/gh/apache/arrow/pull/3613/diff?src=pr&el=tree#diff-Y3BwL3NyYy9wbGFzbWEvc3RvcmUuY2M=) | `91.85% <0%> (-0.34%)` | :arrow_down: |\n   | [go/arrow/math/float64\\_amd64.go](https://codecov.io/gh/apache/arrow/pull/3613/diff?src=pr&el=tree#diff-Z28vYXJyb3cvbWF0aC9mbG9hdDY0X2FtZDY0Lmdv) | `33.33% <0%> (\u00f8)` | :arrow_up: |\n   | ... and [15 more](https://codecov.io/gh/apache/arrow/pull/3613/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/3613?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/3613?src=pr&el=footer). Last update [d7b6ca7...1b4f224](https://codecov.io/gh/apache/arrow/pull/3613?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T07:33:42.806+0000",
                    "updated": "2019-02-12T07:33:42.806+0000",
                    "started": "2019-02-12T07:33:42.805+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197411",
                    "issueId": "13215072"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/worklog/197615",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "xhochy commented on pull request #3613: ARROW-4532: [Java] fix bug causing very large varchar value buffers\nURL: https://github.com/apache/arrow/pull/3613\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-02-12T14:36:23.542+0000",
                    "updated": "2019-02-12T14:36:23.542+0000",
                    "started": "2019-02-12T14:36:23.541+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "197615",
                    "issueId": "13215072"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": 9600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@591e29d[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@48e54ba4[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@136caded[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@71367c4f[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1ec9b494[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@1e205f1a[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@68558af6[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@2ac347b7[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@797d2b6f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@653973d5[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@217f57be[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@113142d9[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 9600,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Feb 12 14:36:14 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-02-12T14:36:14.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-4532/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2019-02-11T18:36:02.000+0000",
        "updated": "2019-02-12T14:36:23.000+0000",
        "timeoriginalestimate": null,
        "description": "There's a bug in\u00a0BaseVariableWidthVector.java::setSafe that's causing the value buffers to be much larger than expected. This causes memory wastage.\r\n\r\n\u00a0\r\n\r\n\u00a0",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 40m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 9600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Java] varchar value buffer much larger than expected",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13215072/comment/16766089",
                    "id": "16766089",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "body": "Issue resolved by pull request 3613\n[https://github.com/apache/arrow/pull/3613]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=uwe",
                        "name": "uwe",
                        "key": "xhochy",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=xhochy&avatarId=30652",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=xhochy&avatarId=30652",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=xhochy&avatarId=30652",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=xhochy&avatarId=30652"
                        },
                        "displayName": "Uwe Korn",
                        "active": true,
                        "timeZone": "Europe/Berlin"
                    },
                    "created": "2019-02-12T14:36:14.756+0000",
                    "updated": "2019-02-12T14:36:14.756+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|yi0va0:",
        "customfield_12314139": null
    }
}