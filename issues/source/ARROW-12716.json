{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13377649",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649",
    "key": "ARROW-12716",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349983",
                "id": "12349983",
                "description": "",
                "name": "5.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-07-28"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "beginner",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12615321",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12615321",
                "type": {
                    "id": "12310460",
                    "name": "Child-Issue",
                    "inward": "is a child of",
                    "outward": "is a parent of",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/12310460"
                },
                "inwardIssue": {
                    "id": "13042654",
                    "key": "ARROW-555",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13042654",
                    "fields": {
                        "summary": "[C++] String algorithm library for StringArray/BinaryArray",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/1",
                            "description": "The issue is open and ready for the assignee to start work on it.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
                            "name": "Open",
                            "id": "1",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
                                "id": 2,
                                "key": "new",
                                "colorName": "blue-gray",
                                "name": "To Do"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
                            "id": "2",
                            "description": "A new feature of the product, which has yet to be developed.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
                            "name": "New Feature",
                            "subtask": false,
                            "avatarId": 21141
                        }
                    }
                }
            },
            {
                "id": "12618094",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12618094",
                "type": {
                    "id": "10001",
                    "name": "dependent",
                    "inward": "is depended upon by",
                    "outward": "depends upon",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10001"
                },
                "inwardIssue": {
                    "id": "13385724",
                    "key": "ARROW-13171",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13385724",
                    "fields": {
                        "summary": "[R] Add binding for str_pad()",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
            "name": "lidavidm",
            "key": "lidavidm",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "David Li",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=icook",
            "name": "icook",
            "key": "icook",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=icook&avatarId=29388",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=icook&avatarId=29388",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=icook&avatarId=29388",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=icook&avatarId=29388"
            },
            "displayName": "Ian Cook",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=icook",
            "name": "icook",
            "key": "icook",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=icook&avatarId=29388",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=icook&avatarId=29388",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=icook&avatarId=29388",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=icook&avatarId=29388"
            },
            "displayName": "Ian Cook",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 7800,
            "total": 7800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 7800,
            "total": 7800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12716/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 13,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/worklog/614202",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm opened a new pull request #10586:\nURL: https://github.com/apache/arrow/pull/10586\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-23T20:24:05.759+0000",
                    "updated": "2021-06-23T20:24:05.759+0000",
                    "started": "2021-06-23T20:24:05.759+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "614202",
                    "issueId": "13377649"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/worklog/614204",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #10586:\nURL: https://github.com/apache/arrow/pull/10586#issuecomment-867133218\n\n\n   https://issues.apache.org/jira/browse/ARROW-12716\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-23T20:24:22.790+0000",
                    "updated": "2021-06-23T20:24:22.790+0000",
                    "started": "2021-06-23T20:24:22.790+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "614204",
                    "issueId": "13377649"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/worklog/614461",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #10586:\nURL: https://github.com/apache/arrow/pull/10586#issuecomment-867591191\n\n\n   Done (also set the default pad character to ' ' to be nicer to Python users).\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-24T12:18:48.061+0000",
                    "updated": "2021-06-24T12:18:48.061+0000",
                    "started": "2021-06-24T12:18:48.061+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "614461",
                    "issueId": "13377649"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/worklog/614584",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #10586:\nURL: https://github.com/apache/arrow/pull/10586#discussion_r658068663\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_string.cc\n##########\n@@ -93,19 +93,23 @@ struct BinaryLength {\n   }\n };\n \n+template <typename OffsetValue>\n+OffsetValue CountCodepoints(const uint8_t* str, size_t strlen) {\n\nReview comment:\n       There's no need to template this on `OffsetValue`, just return `int64_t`.\r\n   Also, since this is a generally useful function, perhaps put it in `arrow/util/utf8.h`?\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_string.cc\n##########\n@@ -2755,6 +2759,139 @@ Result<ValueDescr> StrptimeResolve(KernelContext* ctx, const std::vector<ValueDe\n   return Status::Invalid(\"strptime does not provide default StrptimeOptions\");\n }\n \n+// ----------------------------------------------------------------------\n+// string padding\n+\n+template <bool PadLeft, bool PadRight>\n+struct AsciiPadTransform : public StringTransformBase {\n+  using State = OptionsWrapper<PadOptions>;\n+\n+  const PadOptions& options_;\n+\n+  explicit AsciiPadTransform(const PadOptions& options) : options_(options) {}\n+\n+  Status PreExec(KernelContext* ctx, const ExecBatch& batch, Datum* out) override {\n+    if (options_.padding.size() != 1) {\n+      return Status::Invalid(\"Padding must be one byte, got '\", options_.padding, \"'\");\n+    }\n+    return Status::OK();\n+  }\n+\n+  int64_t MaxCodeunits(int64_t ninputs, int64_t input_ncodeunits) override {\n+    // This is likely very overallocated but hard to do better without\n+    // actually looking at each string (because of strings that may be\n+    // longer than the given width)\n+    return input_ncodeunits + ninputs * options_.width;\n+  }\n+\n+  int64_t Transform(const uint8_t* input, int64_t input_string_ncodeunits,\n+                    uint8_t* output) {\n+    if (input_string_ncodeunits >= options_.width) {\n+      std::copy(input, input + input_string_ncodeunits, output);\n+      return input_string_ncodeunits;\n+    }\n+    const int64_t spaces = options_.width - input_string_ncodeunits;\n+    int64_t left = 0;\n+    int64_t right = 0;\n+    if (PadLeft && PadRight) {\n+      // If odd number of spaces, put them on the left\n+      right = spaces / 2;\n+      left = spaces - right;\n+    } else if (PadLeft) {\n+      left = spaces;\n+    } else if (PadRight) {\n+      right = spaces;\n+    } else {\n+      DCHECK(false) << \"unreachable\";\n+      return 0;\n+    }\n+    std::fill(output, output + left, options_.padding[0]);\n+    output += left;\n+    output = std::copy(input, input + input_string_ncodeunits, output);\n+    std::fill(output, output + right, options_.padding[0]);\n+    return options_.width;\n+  }\n+};\n+\n+template <bool PadLeft, bool PadRight>\n+struct Utf8PadTransform : public StringTransformBase {\n+  using State = OptionsWrapper<PadOptions>;\n+\n+  const PadOptions& options_;\n+\n+  explicit Utf8PadTransform(const PadOptions& options) : options_(options) {}\n+\n+  Status PreExec(KernelContext* ctx, const ExecBatch& batch, Datum* out) override {\n+    auto str = reinterpret_cast<const uint8_t*>(options_.padding.data());\n+    auto strlen = options_.padding.size();\n+    if (CountCodepoints<int64_t>(str, strlen) != 1) {\n+      return Status::Invalid(\"Padding must be one codepoint, got '\", options_.padding,\n+                             \"'\");\n+    }\n+    return Status::OK();\n+  }\n+\n+  int64_t MaxCodeunits(int64_t ninputs, int64_t input_ncodeunits) override {\n+    // This is likely very overallocated but hard to do better without\n+    // actually looking at each string (because of strings that may be\n+    // longer than the given width)\n+    // One codepoint may be up to 4 bytes\n+    return input_ncodeunits + 4 * ninputs * options_.width;\n+  }\n+\n+  int64_t Transform(const uint8_t* input, int64_t input_string_ncodeunits,\n+                    uint8_t* output) {\n+    // XXX input_string_ncodeunits is misleading - it's just bytes\n\nReview comment:\n       \"codeunits\" is [the same](https://unicode.org/glossary/#code_unit) as bytes for UTF8 (\"codeunits\" as opposed to \"codepoints\").\r\n   But, yes, it's pointlessly pedantic. Perhaps a wholesale renaming would be useful.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-24T15:50:02.475+0000",
                    "updated": "2021-06-24T15:50:02.475+0000",
                    "started": "2021-06-24T15:50:02.475+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "614584",
                    "issueId": "13377649"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/worklog/614597",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10586:\nURL: https://github.com/apache/arrow/pull/10586#discussion_r658090078\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_string.cc\n##########\n@@ -2755,6 +2759,139 @@ Result<ValueDescr> StrptimeResolve(KernelContext* ctx, const std::vector<ValueDe\n   return Status::Invalid(\"strptime does not provide default StrptimeOptions\");\n }\n \n+// ----------------------------------------------------------------------\n+// string padding\n+\n+template <bool PadLeft, bool PadRight>\n+struct AsciiPadTransform : public StringTransformBase {\n+  using State = OptionsWrapper<PadOptions>;\n+\n+  const PadOptions& options_;\n+\n+  explicit AsciiPadTransform(const PadOptions& options) : options_(options) {}\n+\n+  Status PreExec(KernelContext* ctx, const ExecBatch& batch, Datum* out) override {\n+    if (options_.padding.size() != 1) {\n+      return Status::Invalid(\"Padding must be one byte, got '\", options_.padding, \"'\");\n+    }\n+    return Status::OK();\n+  }\n+\n+  int64_t MaxCodeunits(int64_t ninputs, int64_t input_ncodeunits) override {\n+    // This is likely very overallocated but hard to do better without\n+    // actually looking at each string (because of strings that may be\n+    // longer than the given width)\n+    return input_ncodeunits + ninputs * options_.width;\n+  }\n+\n+  int64_t Transform(const uint8_t* input, int64_t input_string_ncodeunits,\n+                    uint8_t* output) {\n+    if (input_string_ncodeunits >= options_.width) {\n+      std::copy(input, input + input_string_ncodeunits, output);\n+      return input_string_ncodeunits;\n+    }\n+    const int64_t spaces = options_.width - input_string_ncodeunits;\n+    int64_t left = 0;\n+    int64_t right = 0;\n+    if (PadLeft && PadRight) {\n+      // If odd number of spaces, put them on the left\n+      right = spaces / 2;\n+      left = spaces - right;\n+    } else if (PadLeft) {\n+      left = spaces;\n+    } else if (PadRight) {\n+      right = spaces;\n+    } else {\n+      DCHECK(false) << \"unreachable\";\n+      return 0;\n+    }\n+    std::fill(output, output + left, options_.padding[0]);\n+    output += left;\n+    output = std::copy(input, input + input_string_ncodeunits, output);\n+    std::fill(output, output + right, options_.padding[0]);\n+    return options_.width;\n+  }\n+};\n+\n+template <bool PadLeft, bool PadRight>\n+struct Utf8PadTransform : public StringTransformBase {\n+  using State = OptionsWrapper<PadOptions>;\n+\n+  const PadOptions& options_;\n+\n+  explicit Utf8PadTransform(const PadOptions& options) : options_(options) {}\n+\n+  Status PreExec(KernelContext* ctx, const ExecBatch& batch, Datum* out) override {\n+    auto str = reinterpret_cast<const uint8_t*>(options_.padding.data());\n+    auto strlen = options_.padding.size();\n+    if (CountCodepoints<int64_t>(str, strlen) != 1) {\n+      return Status::Invalid(\"Padding must be one codepoint, got '\", options_.padding,\n+                             \"'\");\n+    }\n+    return Status::OK();\n+  }\n+\n+  int64_t MaxCodeunits(int64_t ninputs, int64_t input_ncodeunits) override {\n+    // This is likely very overallocated but hard to do better without\n+    // actually looking at each string (because of strings that may be\n+    // longer than the given width)\n+    // One codepoint may be up to 4 bytes\n+    return input_ncodeunits + 4 * ninputs * options_.width;\n+  }\n+\n+  int64_t Transform(const uint8_t* input, int64_t input_string_ncodeunits,\n+                    uint8_t* output) {\n+    // XXX input_string_ncodeunits is misleading - it's just bytes\n\nReview comment:\n       Argh, somehow I had thought a codeunit was an encoded codepoint (i.e. 1-4 bytes). I'll remove the comment at least so as not to be misleading.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-24T16:11:22.523+0000",
                    "updated": "2021-06-24T16:11:22.523+0000",
                    "started": "2021-06-24T16:11:22.522+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "614597",
                    "issueId": "13377649"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/worklog/614599",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10586:\nURL: https://github.com/apache/arrow/pull/10586#discussion_r658090219\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_string.cc\n##########\n@@ -93,19 +93,23 @@ struct BinaryLength {\n   }\n };\n \n+template <typename OffsetValue>\n+OffsetValue CountCodepoints(const uint8_t* str, size_t strlen) {\n\nReview comment:\n       Moved & added a small test case.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-24T16:11:39.866+0000",
                    "updated": "2021-06-24T16:11:39.866+0000",
                    "started": "2021-06-24T16:11:39.866+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "614599",
                    "issueId": "13377649"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/worklog/615524",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "cyb70289 commented on a change in pull request #10586:\nURL: https://github.com/apache/arrow/pull/10586#discussion_r659659943\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_string.cc\n##########\n@@ -2755,6 +2748,138 @@ Result<ValueDescr> StrptimeResolve(KernelContext* ctx, const std::vector<ValueDe\n   return Status::Invalid(\"strptime does not provide default StrptimeOptions\");\n }\n \n+// ----------------------------------------------------------------------\n+// string padding\n+\n+template <bool PadLeft, bool PadRight>\n+struct AsciiPadTransform : public StringTransformBase {\n+  using State = OptionsWrapper<PadOptions>;\n+\n+  const PadOptions& options_;\n+\n+  explicit AsciiPadTransform(const PadOptions& options) : options_(options) {}\n+\n+  Status PreExec(KernelContext* ctx, const ExecBatch& batch, Datum* out) override {\n+    if (options_.padding.size() != 1) {\n+      return Status::Invalid(\"Padding must be one byte, got '\", options_.padding, \"'\");\n+    }\n+    return Status::OK();\n+  }\n+\n+  int64_t MaxCodeunits(int64_t ninputs, int64_t input_ncodeunits) override {\n+    // This is likely very overallocated but hard to do better without\n+    // actually looking at each string (because of strings that may be\n+    // longer than the given width)\n+    return input_ncodeunits + ninputs * options_.width;\n+  }\n+\n+  int64_t Transform(const uint8_t* input, int64_t input_string_ncodeunits,\n+                    uint8_t* output) {\n+    if (input_string_ncodeunits >= options_.width) {\n+      std::copy(input, input + input_string_ncodeunits, output);\n+      return input_string_ncodeunits;\n+    }\n+    const int64_t spaces = options_.width - input_string_ncodeunits;\n+    int64_t left = 0;\n+    int64_t right = 0;\n+    if (PadLeft && PadRight) {\n+      // If odd number of spaces, put them on the left\n\nReview comment:\n       This comment looks to me means \"to put all spaces to the left\".\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-28T10:16:38.290+0000",
                    "updated": "2021-06-28T10:16:38.290+0000",
                    "started": "2021-06-28T10:16:38.290+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "615524",
                    "issueId": "13377649"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/worklog/615529",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "cyb70289 commented on a change in pull request #10586:\nURL: https://github.com/apache/arrow/pull/10586#discussion_r659666069\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_string.cc\n##########\n@@ -2755,6 +2748,138 @@ Result<ValueDescr> StrptimeResolve(KernelContext* ctx, const std::vector<ValueDe\n   return Status::Invalid(\"strptime does not provide default StrptimeOptions\");\n }\n \n+// ----------------------------------------------------------------------\n+// string padding\n+\n+template <bool PadLeft, bool PadRight>\n\nReview comment:\n       I think these template parameters have little impact on performance.\r\n   Can we pass them as normal parameters?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-28T10:26:46.060+0000",
                    "updated": "2021-06-28T10:26:46.060+0000",
                    "started": "2021-06-28T10:26:46.060+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "615529",
                    "issueId": "13377649"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/worklog/615578",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10586:\nURL: https://github.com/apache/arrow/pull/10586#discussion_r659741038\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_string.cc\n##########\n@@ -2755,6 +2748,138 @@ Result<ValueDescr> StrptimeResolve(KernelContext* ctx, const std::vector<ValueDe\n   return Status::Invalid(\"strptime does not provide default StrptimeOptions\");\n }\n \n+// ----------------------------------------------------------------------\n+// string padding\n+\n+template <bool PadLeft, bool PadRight>\n\nReview comment:\n       It's not really for performance, just that it's most convenient to pass them this way. Otherwise we'd need to create a subclass of StringTransformExecWithState for each kernel to pass the parameters, which would end up generating the same amount of code anyways. Or we could make them actual function options?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-28T12:28:22.988+0000",
                    "updated": "2021-06-28T12:28:22.988+0000",
                    "started": "2021-06-28T12:28:22.988+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "615578",
                    "issueId": "13377649"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/worklog/615583",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #10586:\nURL: https://github.com/apache/arrow/pull/10586#discussion_r659749125\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_string.cc\n##########\n@@ -2755,6 +2748,138 @@ Result<ValueDescr> StrptimeResolve(KernelContext* ctx, const std::vector<ValueDe\n   return Status::Invalid(\"strptime does not provide default StrptimeOptions\");\n }\n \n+// ----------------------------------------------------------------------\n+// string padding\n+\n+template <bool PadLeft, bool PadRight>\n\nReview comment:\n       The string pad kernels probably don't generate much code, so we can keep the template parameters IMHO.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-28T12:39:54.285+0000",
                    "updated": "2021-06-28T12:39:54.285+0000",
                    "started": "2021-06-28T12:39:54.285+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "615583",
                    "issueId": "13377649"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/worklog/616184",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #10586:\nURL: https://github.com/apache/arrow/pull/10586#discussion_r659749125\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_string.cc\n##########\n@@ -2755,6 +2748,138 @@ Result<ValueDescr> StrptimeResolve(KernelContext* ctx, const std::vector<ValueDe\n   return Status::Invalid(\"strptime does not provide default StrptimeOptions\");\n }\n \n+// ----------------------------------------------------------------------\n+// string padding\n+\n+template <bool PadLeft, bool PadRight>\n\nReview comment:\n       The string pad kernels probably don't generate much code, so we can keep the template parameters IMHO.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-29T13:25:42.742+0000",
                    "updated": "2021-06-29T13:25:42.742+0000",
                    "started": "2021-06-29T13:25:42.741+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "616184",
                    "issueId": "13377649"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/worklog/616214",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10586:\nURL: https://github.com/apache/arrow/pull/10586#discussion_r659741038\n\n\n\n##########\nFile path: cpp/src/arrow/compute/kernels/scalar_string.cc\n##########\n@@ -2755,6 +2748,138 @@ Result<ValueDescr> StrptimeResolve(KernelContext* ctx, const std::vector<ValueDe\n   return Status::Invalid(\"strptime does not provide default StrptimeOptions\");\n }\n \n+// ----------------------------------------------------------------------\n+// string padding\n+\n+template <bool PadLeft, bool PadRight>\n\nReview comment:\n       It's not really for performance, just that it's most convenient to pass them this way. Otherwise we'd need to create a subclass of StringTransformExecWithState for each kernel to pass the parameters, which would end up generating the same amount of code anyways. Or we could make them actual function options?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-29T13:33:03.621+0000",
                    "updated": "2021-06-29T13:33:03.621+0000",
                    "started": "2021-06-29T13:33:03.621+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "616214",
                    "issueId": "13377649"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/worklog/616579",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou closed pull request #10586:\nURL: https://github.com/apache/arrow/pull/10586\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-06-29T16:10:00.737+0000",
                    "updated": "2021-06-29T16:10:00.737+0000",
                    "started": "2021-06-29T16:10:00.737+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "616579",
                    "issueId": "13377649"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 7800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@4d30372e[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@73463097[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@20fa71ce[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@62fa3fce[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5a4cf050[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@4bf3770b[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@38740bba[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@b435735[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@36b0f87d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@662b8a8f[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7e1a742b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@6f717e22[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 7800,
        "customfield_12312520": null,
        "customfield_12312521": "Tue Jun 29 16:10:04 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-06-29T16:10:04.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12716/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2021-05-10T15:15:24.000+0000",
        "updated": "2021-06-29T16:10:04.000+0000",
        "timeoriginalestimate": null,
        "description": "Similar to SQL {{lpad}}/{{rpad}}\u00a0or Python {{ljust}}/{{rjust}}",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 10m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 7800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Left/right/center string padding kernels",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/comment/17342446",
                    "id": "17342446",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
                        "name": "jorisvandenbossche",
                        "key": "jorisvandenbossche",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Joris Van den Bossche",
                        "active": true,
                        "timeZone": "Europe/Brussels"
                    },
                    "body": "Python also has the {{center()}} variation to add left and right padding at the same time to center the string (https://docs.python.org/3/library/stdtypes.html#str.center)",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
                        "name": "jorisvandenbossche",
                        "key": "jorisvandenbossche",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Joris Van den Bossche",
                        "active": true,
                        "timeZone": "Europe/Brussels"
                    },
                    "created": "2021-05-11T09:21:33.684+0000",
                    "updated": "2021-05-11T09:21:33.684+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13377649/comment/17371506",
                    "id": "17371506",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 10586\n[https://github.com/apache/arrow/pull/10586]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-06-29T16:10:04.539+0000",
                    "updated": "2021-06-29T16:10:04.539+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z0qw9c:",
        "customfield_12314139": null
    }
}