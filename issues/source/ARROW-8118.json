{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13291654",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654",
    "key": "ARROW-8118",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12346687",
                "id": "12346687",
                "description": "",
                "name": "0.17.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-04-20"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "features",
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=boshek",
            "name": "boshek",
            "key": "boshek",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Sam Albers",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=boshek",
            "name": "boshek",
            "key": "boshek",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Sam Albers",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=boshek",
            "name": "boshek",
            "key": "boshek",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Sam Albers",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 24600,
            "total": 24600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 24600,
            "total": 24600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-8118/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 46,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404183",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "boshek commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635\n \n \n   - Adds `dim` methods for both `Dataset` and `arrow_dplyr_query` classes.\r\n   - Add unit tests for both methods.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T18:52:16.101+0000",
                    "updated": "2020-03-16T18:52:16.101+0000",
                    "started": "2020-03-16T18:52:16.101+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404183",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404185",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on issue #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#issuecomment-599709160\n \n \n   https://issues.apache.org/jira/browse/ARROW-8118\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T19:02:39.755+0000",
                    "updated": "2020-03-16T19:02:39.755+0000",
                    "started": "2020-03-16T19:02:39.755+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404185",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404189",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393253373\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+  rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\n \n Review comment:\n   IIUC, this is reading an entire table just to count the rows. The row count can be accessed much less expensively by exposing a few more properties of `parquet::arrow::FileReader`\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T19:08:57.731+0000",
                    "updated": "2020-03-16T19:08:57.731+0000",
                    "started": "2020-03-16T19:08:57.731+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404189",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404190",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393254398\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+  rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\n \n Review comment:\n   Also, a `Dataset` does not necessarily have files (could be a `UnionDataset`) and those files might be in a different format (currently the Ipc format is supported in addition to parquet)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T19:11:06.955+0000",
                    "updated": "2020-03-16T19:11:06.955+0000",
                    "started": "2020-03-16T19:11:06.955+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404190",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404191",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393254433\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+  rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\n \n Review comment:\n   Are there specific properties you have in mind?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T19:11:10.538+0000",
                    "updated": "2020-03-16T19:11:10.538+0000",
                    "started": "2020-03-16T19:11:10.537+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404191",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404199",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "bkietz commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393260716\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+  rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\n \n Review comment:\n   The number of rows is directly available in C++ (it's in the parquet format's metadata). I'd add the following to `r/src/parquet.cpp`:\r\n   ```c++\r\n   // [[arrow::export]]\r\n   int64_t parquet___arrow___FileReader__num_rows(\r\n       const std::unique_ptr<parquet::arrow::FileReader>& reader) {\r\n     return reader->parquet_reader()->metadata()->num_rows();\r\n   }\r\n   ```\r\n   \r\n   and expose then expose this in `ParquetFileReader`'s public members in `r/R/parquet.R`\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T19:24:13.099+0000",
                    "updated": "2020-03-16T19:24:13.099+0000",
                    "started": "2020-03-16T19:24:13.099+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404199",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404217",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393270979\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+  rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\n \n Review comment:\n   Thanks @bkietz! @boshek can you give that a try?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T19:45:46.955+0000",
                    "updated": "2020-03-16T19:45:46.955+0000",
                    "started": "2020-03-16T19:45:46.955+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404217",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404224",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393271538\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+  rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\n+  cols <- x$schema$num_fields\n \n Review comment:\n   I think this reads more idiomatically: \r\n   \r\n   ```suggestion\r\n     cols <- length(x$schema)\r\n   ```\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T20:00:53.854+0000",
                    "updated": "2020-03-16T20:00:53.854+0000",
                    "started": "2020-03-16T20:00:53.854+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404224",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404225",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393278797\n \n \n\n ##########\n File path: r/tests/testthat/test-dataset.R\n ##########\n @@ -98,6 +98,16 @@ test_that(\"Simple interface for datasets\", {\n   )\n })\n \n+test_that(\"dim method returns the correct number of rows and columns\",{\n+  ds <- open_dataset(dataset_dir, partitioning = schema(part = uint8()))\n+\n+  expect_equivalent(\n+    dim(collect(ds)),\n \n Review comment:\n   IMO this assertion would read more cleanly if you gave the exact numbers, i.e. `expect_identical(dim(ds), c(20L, 8L))` or whatever the numbers are.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T20:00:53.874+0000",
                    "updated": "2020-03-16T20:00:53.874+0000",
                    "started": "2020-03-16T20:00:53.874+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404225",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404226",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393278173\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n \n Review comment:\n   Restating what @bkietz said below, this function (the nrow part) needs to check whether the x is a FileSystemDataset, and beyond that that it is \"parquet\" format. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T20:00:54.019+0000",
                    "updated": "2020-03-16T20:00:54.019+0000",
                    "started": "2020-03-16T20:00:54.019+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404226",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404228",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393277228\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+  rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\n+  cols <- x$schema$num_fields\n+\n+  c(rows, cols)\n \n Review comment:\n   Could you instead define S3 methods for `nrow` and `ncol` separately and then have `dim` be `c(nrow(x), ncol(x))`. I know that's not how the base function is set up (i.e. `ncol <- function(x) dim(x)[2]`) but given that computing `nrow` may be expensive, we should avoid that if someone only wants ncol. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T20:00:54.022+0000",
                    "updated": "2020-03-16T20:00:54.022+0000",
                    "started": "2020-03-16T20:00:54.022+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404228",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404227",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393275248\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+  rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\n+  cols <- x$schema$num_fields\n+\n+  c(rows, cols)\n+}\n+\n+#' @export\n+dim.arrow_dplyr_query <- function(x) {\n+  stop(\"dim() is not currently implemented for arrow dplyr queries. \",\n \n Review comment:\n   This is fine, but technically (1) `ncol` is always knowable and (2) `nrow` is knowable if `isTRUE(x$filtered_rows)` (cf. https://github.com/apache/arrow/blob/master/r/R/dplyr.R#L42) because it is the same as the dataset/table it contains. \r\n   \r\n   An alternative could be to return `NA` for nrow if there is a filter expression, and raise a warning.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T20:00:54.022+0000",
                    "updated": "2020-03-16T20:00:54.022+0000",
                    "started": "2020-03-16T20:00:54.022+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404227",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404231",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "boshek commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393285095\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+  rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\n+  cols <- x$schema$num_fields\n+\n+  c(rows, cols)\n \n Review comment:\n   Totally agree but since `nrow` and `ncol` aren't generics, it isn't clear to me how to do this without causing issues the base implementation of `ncol`/`nrow`. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T20:14:27.548+0000",
                    "updated": "2020-03-16T20:14:27.548+0000",
                    "started": "2020-03-16T20:14:27.547+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404231",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404232",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "boshek commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393285095\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+  rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\n+  cols <- x$schema$num_fields\n+\n+  c(rows, cols)\n \n Review comment:\n   Totally agree but since `nrow` and `ncol` aren't generics, it isn't clear to me how to do this without causing issues with the base implementation of `ncol`/`nrow`. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T20:14:35.477+0000",
                    "updated": "2020-03-16T20:14:35.477+0000",
                    "started": "2020-03-16T20:14:35.476+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404232",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404235",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "boshek commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393287984\n \n \n\n ##########\n File path: r/tests/testthat/test-dataset.R\n ##########\n @@ -98,6 +98,16 @@ test_that(\"Simple interface for datasets\", {\n   )\n })\n \n+test_that(\"dim method returns the correct number of rows and columns\",{\n+  ds <- open_dataset(dataset_dir, partitioning = schema(part = uint8()))\n+\n+  expect_equivalent(\n+    dim(collect(ds)),\n \n Review comment:\n   Great point. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T20:20:50.203+0000",
                    "updated": "2020-03-16T20:20:50.203+0000",
                    "started": "2020-03-16T20:20:50.203+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404235",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404262",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393316856\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+  rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\n+  cols <- x$schema$num_fields\n+\n+  c(rows, cols)\n \n Review comment:\n   hmm yeah, you're right, probably not worth masking them. Of course if we were using S4 methods we could, so maybe we should switch \ud83d\ude2d \ud83e\udd23 \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T21:22:44.930+0000",
                    "updated": "2020-03-16T21:22:44.930+0000",
                    "started": "2020-03-16T21:22:44.930+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404262",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404263",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393316974\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,40 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+\n+  if (!inherits(x, \"FileSystemDataset\")) {\n+    stop(\n+      \"dim() is not currently implemented for \", class(x)[1] ,\" Datasets. \",\n+      \"Call collect() first to pull data into R.\",\n+      call. = FALSE\n+    )\n+  }\n+\n+  if (any(!grepl(\"\\\\.parquet$\", basename(x$files)))) {\n \n Review comment:\n   ```suggestion\r\n     if (!inherits(x$format, \"ParquetFileFormat\")) {\r\n   ```\r\n   \r\n   And actually with this you can probably drop the first check because non-FileSystemDatasets won't have `$format` defined, so `x$format` is `NULL`\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T21:22:44.933+0000",
                    "updated": "2020-03-16T21:22:44.933+0000",
                    "started": "2020-03-16T21:22:44.933+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404263",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404298",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "boshek commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393342214\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+  rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\n \n Review comment:\n   The intersection between C++ and R6 here is pushing my limits. Any tips on how to expose an integer [here](https://github.com/apache/arrow/blob/ba22468b88f6aa7793382b4baea78e094f3cfaab/r/R/parquet.R#L459)? I have this:\r\n   ```     \r\n   num_rows = function() {shared_ptr(parquet___arrow___FileReader__num_rows(self))}\r\n   ```\r\n   With this error: `Error in shared_ptr_is_null(xp) : argument \"xp\" is missing, with no default`\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T22:23:56.522+0000",
                    "updated": "2020-03-16T22:23:56.522+0000",
                    "started": "2020-03-16T22:23:56.521+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404298",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404300",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "boshek commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393342949\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+  rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\n+  cols <- x$schema$num_fields\n+\n+  c(rows, cols)\n \n Review comment:\n   I get to working on that switch right away \ud83e\udd47 \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T22:25:58.813+0000",
                    "updated": "2020-03-16T22:25:58.813+0000",
                    "started": "2020-03-16T22:25:58.813+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404300",
                    "issueId": "13291654"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/worklog/404303",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #6635: ARROW-8118: [R] dim method for FileSystemDataset\nURL: https://github.com/apache/arrow/pull/6635#discussion_r393346570\n \n \n\n ##########\n File path: r/R/dataset.R\n ##########\n @@ -141,6 +141,22 @@ Dataset$create <- function(children, schema) {\n #' @export\n names.Dataset <- function(x) names(x$schema)\n \n+#' @export\n+dim.Dataset <- function(x) {\n+  rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\n \n Review comment:\n   I think there's also some `arrow`-specific magic in here too, so it's tricky. You need less magic here though. Omit the `shared_ptr` wrapper, that's for returning a C++ class. \r\n   \r\n   You can also set this method as an active binding by putting it inside `active()` (you'll need to add it to this class) instead of `public()`.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-03-16T22:32:05.134+0000",
                    "updated": "2020-03-16T22:32:05.134+0000",
                    "started": "2020-03-16T22:32:05.134+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "404303",
                    "issueId": "13291654"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 24600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@28563d09[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2d9b9f10[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4db4415f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@3ca624e6[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2dfce635[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@6522edb3[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@af3e6f1[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@7ff725d[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4df8e1d9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3fc5d2a0[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2a947fc7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@56859d52[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 24600,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Mar 19 19:09:57 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-03-19T19:09:57.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-8118/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2020-03-13T22:20:28.000+0000",
        "updated": "2020-03-19T19:09:58.000+0000",
        "timeoriginalestimate": null,
        "description": "I been using this function enough that I wonder if a) would be useful in the package and b) whether this is something you think is worth working on. The basic problem is that if you have a hierarchical file structure that accommodates using open_dataset, it is definitely useful to know the amount of data you are dealing with. My idea is that 'FileSystemDataset' would have dim, nrow and ncol methods. Here is how I've been using it:\r\n{code:java}\r\nlibrary(arrow)\r\nx <- open_dataset(\"data/rivers-data/\", partitioning = c(\"prov\", \"month\"))\r\ndim_arrow <- function(x) {\r\n rows <- sum(purrr::map_dbl(x$files, ~ParquetFileReader$create(.x)$ReadTable()$num_rows))\r\n cols <- x$schema$num_fields\r\n \r\n c(rows, cols)\r\n}\r\ndim_arrow(x)\r\n#> [1] 426929 7\r\n{code}\r\n\u00a0\r\n\r\nIdeally this would work on\u00a0arrow_dplyr_query objects as well but I haven't quite figured out how that filters based on the partitioning variables.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "6h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 24600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] dim method for FileSystemDataset",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/comment/17059118",
                    "id": "17059118",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Yeah, ncol is easy to get from the Dataset schema (and you can get it from arrow_dplyr_query too, incorporating any select statement). Your solution for nrow is clever, but you're right, that won't generalize to query objects, and looking ahead, you'd have to switch the behavior based on the FileFormat since Datasets can be based on other file types. \r\n\r\nI'd be happy to review a PR with nrow and ncol methods, and dim that wraps them, erroring gracefully where unsupported (i.e. if filtered). IMO the C++ library should be able to tell us nrow, and it may already have the relevant file/row group statistics in memory, but we can start with something that works in R and worry about pushing the work down to C++ later.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2020-03-13T22:45:20.450+0000",
                    "updated": "2020-03-13T22:45:20.450+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/comment/17059350",
                    "id": "17059350",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fsaintjacques",
                        "name": "fsaintjacques",
                        "key": "fsaintjacques",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=fsaintjacques&avatarId=37276",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fsaintjacques&avatarId=37276",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fsaintjacques&avatarId=37276",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fsaintjacques&avatarId=37276"
                        },
                        "displayName": "Francois Saint-Jacques",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "A small point, getting the number of rows can be a very expensive call, it can trigger a full parsing of the dataset.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fsaintjacques",
                        "name": "fsaintjacques",
                        "key": "fsaintjacques",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=fsaintjacques&avatarId=37276",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fsaintjacques&avatarId=37276",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fsaintjacques&avatarId=37276",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fsaintjacques&avatarId=37276"
                        },
                        "displayName": "Francois Saint-Jacques",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2020-03-14T13:33:07.065+0000",
                    "updated": "2020-03-14T13:33:07.065+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/comment/17059410",
                    "id": "17059410",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Right. If we're talking about with a filter, then yes, this is an aggregation over the whole dataset. But for the full dataset, at least for Parquet, in the discovery/inspect step of creating the dataset we've already grabbed the metadata from each file. Doesn't that tell us how many rows are in each file? ",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2020-03-14T16:58:51.491+0000",
                    "updated": "2020-03-14T16:58:51.491+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13291654/comment/17062875",
                    "id": "17062875",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
                        "name": "bkietz",
                        "key": "bkietz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
                        },
                        "displayName": "Ben Kietzman",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 6635\n[https://github.com/apache/arrow/pull/6635]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bkietz",
                        "name": "bkietz",
                        "key": "bkietz",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bkietz&avatarId=37277",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bkietz&avatarId=37277",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bkietz&avatarId=37277",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bkietz&avatarId=37277"
                        },
                        "displayName": "Ben Kietzman",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2020-03-19T19:09:57.161+0000",
                    "updated": "2020-03-19T19:09:57.161+0000"
                }
            ],
            "maxResults": 4,
            "total": 4,
            "startAt": 0
        },
        "customfield_12311820": "0|z0ciqo:",
        "customfield_12314139": null
    }
}