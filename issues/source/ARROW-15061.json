{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13416612",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612",
    "key": "ARROW-15061",
    "fields": {
        "parent": {
            "id": "13416610",
            "key": "ARROW-15059",
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13416610",
            "fields": {
                "summary": "[C++] Add basic visibility into execution engine performance",
                "status": {
                    "self": "https://issues.apache.org/jira/rest/api/2/status/1",
                    "description": "The issue is open and ready for the assignee to start work on it.",
                    "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
                    "name": "Open",
                    "id": "1",
                    "statusCategory": {
                        "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
                        "id": 2,
                        "key": "new",
                        "colorName": "blue-gray",
                        "name": "To Do"
                    }
                },
                "priority": {
                    "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                    "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                    "name": "Major",
                    "id": "3"
                },
                "issuetype": {
                    "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                    "id": "4",
                    "description": "An improvement or enhancement to an existing feature or task.",
                    "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                    "name": "Improvement",
                    "subtask": false,
                    "avatarId": 21140
                }
            }
        },
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12351051",
                "id": "12351051",
                "description": "",
                "name": "8.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2022-05-06"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available",
            "query-engine"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12628615",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12628615",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "outwardIssue": {
                    "id": "13401121",
                    "key": "ARROW-14000",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13401121",
                    "fields": {
                        "summary": "[C++] Add profiling / tracing for exec plan",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/1",
                            "description": "The issue is open and ready for the assignee to start work on it.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
                            "name": "Open",
                            "id": "1",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
                                "id": 2,
                                "key": "new",
                                "colorName": "blue-gray",
                                "name": "To Do"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=mbrobbel",
            "name": "mbrobbel",
            "key": "mbrobbel",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Matthijs Brobbel",
            "active": true,
            "timeZone": "Europe/Amsterdam"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=westonpace",
            "name": "westonpace",
            "key": "westonpace",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Weston Pace",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=westonpace",
            "name": "westonpace",
            "key": "westonpace",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Weston Pace",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 18000,
            "total": 18000,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 18000,
            "total": 18000,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-15061/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 30,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/705256",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mbrobbel opened a new pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100\n\n\n   I'm still working on this but opening this for visibility.\r\n   @lidavidm @westonpace\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-07T21:14:33.326+0000",
                    "updated": "2022-01-07T21:14:33.326+0000",
                    "started": "2022-01-07T21:14:33.325+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "705256",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/705257",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#issuecomment-1007745646\n\n\n   https://issues.apache.org/jira/browse/ARROW-15061\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-07T21:14:56.567+0000",
                    "updated": "2022-01-07T21:14:56.567+0000",
                    "started": "2022-01-07T21:14:56.567+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "705257",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/705266",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#issuecomment-1007754548\n\n\n   Cool! The macro definitions look fairly useful.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-07T21:30:25.786+0000",
                    "updated": "2022-01-07T21:30:25.786+0000",
                    "started": "2022-01-07T21:30:25.785+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "705266",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/705267",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#issuecomment-1007754899\n\n\n   If you have a screenshot or any quick example of the output to share here it would also be useful, I think.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-07T21:30:58.759+0000",
                    "updated": "2022-01-07T21:30:58.759+0000",
                    "started": "2022-01-07T21:30:58.758+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "705267",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/705413",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#issuecomment-1007754548\n\n\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-08T10:03:46.821+0000",
                    "updated": "2022-01-08T10:03:46.821+0000",
                    "started": "2022-01-08T10:03:46.821+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "705413",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/705590",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#issuecomment-1007745646\n\n\n   https://issues.apache.org/jira/browse/ARROW-15061\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-08T10:21:58.605+0000",
                    "updated": "2022-01-08T10:21:58.605+0000",
                    "started": "2022-01-08T10:21:58.605+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "705590",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/705682",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mbrobbel opened a new pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100\n\n\n   I'm still working on this but opening this for visibility.\r\n   @lidavidm @westonpace\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-08T10:31:30.589+0000",
                    "updated": "2022-01-08T10:31:30.589+0000",
                    "started": "2022-01-08T10:31:30.588+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "705682",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/706239",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mbrobbel commented on pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#issuecomment-1008994369\n\n\n   Some example output in Jaeger:\r\n   TPC-H query 1:\r\n   \r\n   ![Screenshot 2022-01-10 at 16 24 36](https://user-images.githubusercontent.com/5501570/148791478-3ffdb9db-0bfb-48ea-a322-de19e90bd6a1.png)\r\n   \r\n   TPC-H query 2:\r\n   ![Screenshot 2022-01-10 at 16 27 52](https://user-images.githubusercontent.com/5501570/148791919-dd0161ad-16ff-42a2-959f-50260f30c3e8.png)\r\n   \r\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-10T15:28:41.740+0000",
                    "updated": "2022-01-10T15:28:41.740+0000",
                    "started": "2022-01-10T15:28:41.739+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "706239",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/707489",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#discussion_r783078213\n\n\n\n##########\nFile path: cpp/src/arrow/util/tracing.h\n##########\n@@ -0,0 +1,75 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+#pragma once\n+\n+#include <memory>\n+\n+#include \"arrow/util/logging.h\"\n+\n+namespace arrow {\n+\n+namespace internal {\n+namespace tracing {\n+\n+// Forward declaration SpanImpl.\n+class SpanImpl;\n+\n+}  // namespace tracing\n+}  // namespace internal\n+\n+namespace util {\n+namespace tracing {\n+\n+class ARROW_EXPORT Span {\n+ public:\n+  using Impl = arrow::internal::tracing::SpanImpl;\n+\n+  Span() = default;  // Default constructor. The inner_impl is a nullptr.\n+  ~Span();  // Destructor. Default destructor defined in tracing.cc where impl is a\n+            // complete type.\n+\n+  Impl& Set(const Impl&);\n+  Impl& Set(Impl&&);\n+\n+  const Impl& Get() const {\n+    if (inner_impl) {\n+      return *inner_impl;\n+    } else {\n+      ARROW_LOG(FATAL) << \"Attempted to dereference a null pointer. Use Span::Set before \"\n\nReview comment:\n       The DCHECK/CHECK macros can handle this more concisely:\r\n   \r\n   ```\r\n   ARROW_DCHECK(inner_impl) << \"...\";\r\n   return *inner_impl;\r\n   ```\r\n   \r\n   or\r\n   \r\n   ```\r\n   ARROW_CHECK(inner_impl) << \"...\"; // will be retained in release builds\r\n   return *inner_impl;\r\n   ```\n\n##########\nFile path: cpp/src/arrow/compute/exec/exec_plan.h\n##########\n@@ -245,6 +246,8 @@ class ARROW_EXPORT ExecNode {\n   std::shared_ptr<Schema> output_schema_;\n   int num_outputs_;\n   NodeVector outputs_;\n+\n+  util::tracing::Span span;\n\nReview comment:\n       This should be `span_` for consistency (sorry for the churn)\n\n##########\nFile path: cpp/src/arrow/compute/exec/exec_plan.cc\n##########\n@@ -172,6 +182,8 @@ struct ExecPlanImpl : public ExecPlan {\n   NodeVector sources_, sinks_;\n   NodeVector sorted_nodes_;\n   uint32_t auto_label_counter_ = 0;\n+\n+  util::tracing::Span span;\n\nReview comment:\n       Same here - this should be `span_`\n\n##########\nFile path: cpp/src/arrow/compute/exec/hash_join.h\n##########\n@@ -112,6 +113,9 @@ class HashJoinImpl {\n   virtual void Abort(TaskScheduler::AbortContinuationImpl pos_abort_callback) = 0;\n \n   static Result<std::unique_ptr<HashJoinImpl>> MakeBasic();\n+\n+ protected:\n+  util::tracing::Span span;\n\nReview comment:\n       Same here, we generally suffix private/protected members with `_`. (See [\"Class Data Members\"](https://google.github.io/styleguide/cppguide.html#Variable_Names).)\n\n##########\nFile path: cpp/src/arrow/compute/exec/aggregate_node.cc\n##########\n@@ -188,36 +194,40 @@ class ScalarAggregateNode : public ExecNode {\n   }\n \n   void ErrorReceived(ExecNode* input, Status error) override {\n+    EVENT(span, \"ErrorReceived\", {{\"error\", error.message()}});\n     DCHECK_EQ(input, inputs_[0]);\n     outputs_[0]->ErrorReceived(this, std::move(error));\n   }\n \n   void InputFinished(ExecNode* input, int total_batches) override {\n+    EVENT(span, \"InputFinished\", {{\"batches.length\", total_batches}});\n     DCHECK_EQ(input, inputs_[0]);\n-\n     if (input_counter_.SetTotal(total_batches)) {\n       ErrorIfNotOk(Finish());\n     }\n   }\n \n   Status StartProducing() override {\n+    START_SPAN(span, kind_name(), {{\"node\", ToString()}});\n     finished_ = Future<>::Make();\n     // Scalar aggregates will only output a single batch\n     outputs_[0]->InputFinished(this, 1);\n     return Status::OK();\n   }\n \n-  void PauseProducing(ExecNode* output) override {}\n+  void PauseProducing(ExecNode* output) override { EVENT(span, \"PauseProducing\"); }\n \n-  void ResumeProducing(ExecNode* output) override {}\n+  void ResumeProducing(ExecNode* output) override { EVENT(span, \"ResumeProducing\"); }\n \n   void StopProducing(ExecNode* output) override {\n     DCHECK_EQ(output, outputs_[0]);\n     StopProducing();\n   }\n \n   void StopProducing() override {\n+    EVENT(span, \"StopProducing\");\n     if (input_counter_.Cancel()) {\n+      END_SPAN(span);\n\nReview comment:\n       We could add a callback to finished_ in StartProducing above instead.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-12T13:40:08.778+0000",
                    "updated": "2022-01-12T13:40:08.778+0000",
                    "started": "2022-01-12T13:40:08.778+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "707489",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/707503",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mbrobbel commented on a change in pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#discussion_r783097897\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec/aggregate_node.cc\n##########\n@@ -188,36 +194,40 @@ class ScalarAggregateNode : public ExecNode {\n   }\n \n   void ErrorReceived(ExecNode* input, Status error) override {\n+    EVENT(span, \"ErrorReceived\", {{\"error\", error.message()}});\n     DCHECK_EQ(input, inputs_[0]);\n     outputs_[0]->ErrorReceived(this, std::move(error));\n   }\n \n   void InputFinished(ExecNode* input, int total_batches) override {\n+    EVENT(span, \"InputFinished\", {{\"batches.length\", total_batches}});\n     DCHECK_EQ(input, inputs_[0]);\n-\n     if (input_counter_.SetTotal(total_batches)) {\n       ErrorIfNotOk(Finish());\n     }\n   }\n \n   Status StartProducing() override {\n+    START_SPAN(span, kind_name(), {{\"node\", ToString()}});\n     finished_ = Future<>::Make();\n     // Scalar aggregates will only output a single batch\n     outputs_[0]->InputFinished(this, 1);\n     return Status::OK();\n   }\n \n-  void PauseProducing(ExecNode* output) override {}\n+  void PauseProducing(ExecNode* output) override { EVENT(span, \"PauseProducing\"); }\n \n-  void ResumeProducing(ExecNode* output) override {}\n+  void ResumeProducing(ExecNode* output) override { EVENT(span, \"ResumeProducing\"); }\n \n   void StopProducing(ExecNode* output) override {\n     DCHECK_EQ(output, outputs_[0]);\n     StopProducing();\n   }\n \n   void StopProducing() override {\n+    EVENT(span, \"StopProducing\");\n     if (input_counter_.Cancel()) {\n+      END_SPAN(span);\n\nReview comment:\n       Much better. I'm applying this for the other nodes too.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-12T13:58:15.535+0000",
                    "updated": "2022-01-12T13:58:15.535+0000",
                    "started": "2022-01-12T13:58:15.534+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "707503",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/707873",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#discussion_r783424580\n\n\n\n##########\nFile path: cpp/src/arrow/compute/function.cc\n##########\n@@ -215,9 +215,15 @@ Result<Datum> Function::Execute(const std::vector<Datum>& args,\n   }\n \n   util::tracing::Span span;\n-  START_SPAN(span, name(),\n-             {{\"detail\", options ? options->ToString() : \"<NULLPTR>\"},\n-              {\"function.kind\", kind()}});\n+  START_SPAN(\n+      span, name(),\n+      {{\"function.args\", std::accumulate(std::begin(args), std::end(args), std::string(),\n+                                         [](std::string& ss, const Datum& d) {\n+                                           return ss.empty() ? d.ToString()\n+                                                             : ss + \",\" + d.ToString();\n+                                         })},\n+       {\"function.options\", options ? options->ToString() : \"<NULLPTR>\"},\n+       {\"function.kind\", kind()}});\n\nReview comment:\n       nit, but is the kind useful? We'll know from the definition and/or from context (e.g. GroupByNode vs ProjectNode)\n\n##########\nFile path: cpp/src/arrow/compute/exec/aggregate_node.cc\n##########\n@@ -393,7 +422,11 @@ class GroupByNode : public ExecNode {\n     // Execute aggregate kernels\n     for (size_t i = 0; i < agg_kernels_.size(); ++i) {\n       util::tracing::Span span;\n-      START_SPAN(span, \"Aggregate\", {{\"function\", aggs_[i].function}});\n+      START_SPAN(span, aggs_[i].function,\n+                 {{\"function\", aggs_[i].function},\n\nReview comment:\n       We don't record this attribute in function.cc, we should be consistent about this.\n\n##########\nFile path: cpp/src/arrow/compute/exec/union_node.cc\n##########\n@@ -107,27 +106,34 @@ class UnionNode : public ExecNode {\n     if (input_count_.Increment()) {\n       outputs_[0]->InputFinished(this, total_batches_.load());\n       if (batch_count_.SetTotal(total_batches_.load())) {\n-        END_SPAN(span);\n         finished_.MarkFinished();\n       }\n     }\n   }\n \n   Status StartProducing() override {\n-    START_SPAN(span, kind_name(), {{\"node\", ToString()}});\n+    START_SPAN(span_, std::string(kind_name()) + \":\" + label(),\n+               {{\"node.label\", label()},\n+                {\"node.detail\", ToString()},\n+                {\"node.kind\", kind_name()}});\n     finished_ = Future<>::Make();\n+#ifdef ARROW_WITH_OPENTELEMETRY\n+    finished_.AddCallback([this](const Status& st) {\n\nReview comment:\n       I know I suggested this, but there is one concern here: once finished_ completes, the node may be destroyed. (Once all nodes finish, the plan finishes, and then the plan consumer might also destroy the plan since it's done.) Also, the order in which callbacks is run is not defined. It might be safest to copy `span_` into the span closure instead of capturing `this`. (Or, you could do `finished_ = finished_.Then(...)` which would mean that this callback gets to run before others, which would ensure it runs before anything that could potentially destroy the plan.)\n\n##########\nFile path: cpp/src/arrow/compute/function.cc\n##########\n@@ -215,9 +215,15 @@ Result<Datum> Function::Execute(const std::vector<Datum>& args,\n   }\n \n   util::tracing::Span span;\n-  START_SPAN(span, name(),\n-             {{\"detail\", options ? options->ToString() : \"<NULLPTR>\"},\n-              {\"function.kind\", kind()}});\n+  START_SPAN(\n+      span, name(),\n+      {{\"function.args\", std::accumulate(std::begin(args), std::end(args), std::string(),\n+                                         [](std::string& ss, const Datum& d) {\n+                                           return ss.empty() ? d.ToString()\n+                                                             : ss + \",\" + d.ToString();\n+                                         })},\n+       {\"function.options\", options ? options->ToString() : \"<NULLPTR>\"},\n+       {\"function.kind\", kind()}});\n\nReview comment:\n       Same with the args - that'll give us datum types (array vs scalar), but I'm not sure what kind of analysis we'd do on that. (That said if collecting is cheap we might as well just always collect.)\n\n##########\nFile path: cpp/src/arrow/compute/exec/aggregate_node.cc\n##########\n@@ -393,7 +422,11 @@ class GroupByNode : public ExecNode {\n     // Execute aggregate kernels\n     for (size_t i = 0; i < agg_kernels_.size(); ++i) {\n       util::tracing::Span span;\n-      START_SPAN(span, \"Aggregate\", {{\"function\", aggs_[i].function}});\n+      START_SPAN(span, aggs_[i].function,\n+                 {{\"function\", aggs_[i].function},\n+                  {\"function.options\",\n+                   aggs_[i].options ? aggs_[i].options->ToString() : \"<NULLPTR>\"},\n+                  {\"function.kind\", \"consume\"}});\n\nReview comment:\n       maybe ScalarAggregateConsume/HashAggregateConsume etc.?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-12T20:42:07.344+0000",
                    "updated": "2022-01-12T20:42:07.344+0000",
                    "started": "2022-01-12T20:42:07.344+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "707873",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/707875",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#discussion_r783428714\n\n\n\n##########\nFile path: cpp/src/arrow/compute/function.cc\n##########\n@@ -215,9 +215,15 @@ Result<Datum> Function::Execute(const std::vector<Datum>& args,\n   }\n \n   util::tracing::Span span;\n-  START_SPAN(span, name(),\n-             {{\"detail\", options ? options->ToString() : \"<NULLPTR>\"},\n-              {\"function.kind\", kind()}});\n+  START_SPAN(\n+      span, name(),\n+      {{\"function.args\", std::accumulate(std::begin(args), std::end(args), std::string(),\n+                                         [](std::string& ss, const Datum& d) {\n+                                           return ss.empty() ? d.ToString()\n+                                                             : ss + \",\" + d.ToString();\n+                                         })},\n+       {\"function.options\", options ? options->ToString() : \"<NULLPTR>\"},\n+       {\"function.kind\", kind()}});\n\nReview comment:\n       (On reflection, if we do need to group by kind, it'd be much easier to have it as an attribute instead of having to look it up in a registry, so kind seems okay to me. I'm not as sure about args.)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-12T20:42:43.240+0000",
                    "updated": "2022-01-12T20:42:43.240+0000",
                    "started": "2022-01-12T20:42:43.240+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "707875",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/708139",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mbrobbel commented on a change in pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#discussion_r783776026\n\n\n\n##########\nFile path: cpp/src/arrow/compute/function.cc\n##########\n@@ -215,9 +215,15 @@ Result<Datum> Function::Execute(const std::vector<Datum>& args,\n   }\n \n   util::tracing::Span span;\n-  START_SPAN(span, name(),\n-             {{\"detail\", options ? options->ToString() : \"<NULLPTR>\"},\n-              {\"function.kind\", kind()}});\n+  START_SPAN(\n+      span, name(),\n+      {{\"function.args\", std::accumulate(std::begin(args), std::end(args), std::string(),\n+                                         [](std::string& ss, const Datum& d) {\n+                                           return ss.empty() ? d.ToString()\n+                                                             : ss + \",\" + d.ToString();\n+                                         })},\n+       {\"function.options\", options ? options->ToString() : \"<NULLPTR>\"},\n+       {\"function.kind\", kind()}});\n\nReview comment:\n       Yes this is a trade-off for almost all attributes that are collected. I'll remove the args and keep the kind. We can always add/modify/remove attributes later.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-13T09:27:19.651+0000",
                    "updated": "2022-01-13T09:27:19.651+0000",
                    "started": "2022-01-13T09:27:19.651+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "708139",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/708349",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#discussion_r784008528\n\n\n\n##########\nFile path: cpp/src/arrow/util/tracing_internal.h\n##########\n@@ -97,6 +100,63 @@ AsyncGenerator<T> WrapAsyncGenerator(AsyncGenerator<T> wrapped,\n     return fut;\n   };\n }\n+\n+class SpanImpl {\n+ public:\n+  opentelemetry::nostd::shared_ptr<opentelemetry::trace::Span> span;\n+};\n+\n+opentelemetry::trace::StartSpanOptions SpanOptionsWithParent(\n+    const util::tracing::Span& parent_span);\n+\n+#define START_SPAN(target_span, ...)                                                \\\n+  auto opentelemetry_scope##__LINE__ =                                              \\\n+      ::arrow::internal::tracing::GetTracer()->WithActiveSpan(                      \\\n+          target_span                                                               \\\n+              .Set(::arrow::util::tracing::Span::Impl{                              \\\n+                  ::arrow::internal::tracing::GetTracer()->StartSpan(__VA_ARGS__)}) \\\n+              .span)\n+\n+#define START_SPAN_WITH_PARENT(target_span, parent_span, ...)                           \\\n+  auto opentelemetry_scope##__LINE__ =                                                  \\\n+      ::arrow::internal::tracing::GetTracer()->WithActiveSpan(                          \\\n+          target_span                                                                   \\\n+              .Set(::arrow::util::tracing::Span::Impl{                                  \\\n+                  ::arrow::internal::tracing::GetTracer()->StartSpan(                   \\\n+                      __VA_ARGS__,                                                      \\\n+                      ::arrow::internal::tracing::SpanOptionsWithParent(parent_span))}) \\\n+              .span)\n+\n+#define EVENT(target_span, ...) target_span.Get().span->AddEvent(__VA_ARGS__)\n+\n+#define MARK_SPAN(target_span, status) \\\n+  ::arrow::internal::tracing::MarkSpan(status, target_span.Get().span.get())\n+\n+#define END_SPAN(target_span) target_span.Get().span->End()\n+\n+#define END_SPAN_ON_FUTURE_COMPLETION(target_span, target_future, target_capture) \\\n+  target_future = target_future.Then(                                             \\\n+      [target_capture]() {                                                        \\\n+        MARK_SPAN(target_span, Status::OK());                                     \\\n+        END_SPAN(target_span);                                                    \\\n+      },                                                                          \\\n+      [target_capture](const Status& st) {                                        \\\n+        MARK_SPAN(target_span, st);                                               \\\n+        END_SPAN(target_span);                                                    \\\n+        return st;                                                                \\\n+      })\n\nReview comment:\n       This macro really makes me think we should consider just adding Span as a part of Future (and see how it impacts performance). That can be done later, though, I think we can get this in first and continue refining how we use OpenTelemetry.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-13T14:31:51.683+0000",
                    "updated": "2022-01-13T14:31:51.683+0000",
                    "started": "2022-01-13T14:31:51.683+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "708349",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/709937",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#discussion_r786017483\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec/aggregate_node.cc\n##########\n@@ -165,7 +166,18 @@ class ScalarAggregateNode : public ExecNode {\n   const char* kind_name() const override { return \"ScalarAggregateNode\"; }\n \n   Status DoConsume(const ExecBatch& batch, size_t thread_index) {\n+    util::tracing::Span span;\n+    START_SPAN(span, \"Consume\",\n+               {{\"aggregate\", ToStringExtra()},\n+                {\"node.label\", label()},\n+                {\"batch.length\", batch.length}});\n     for (size_t i = 0; i < kernels_.size(); ++i) {\n+      util::tracing::Span span;\n+      START_SPAN(span, aggs_[i].function,\n\nReview comment:\n       Or maybe not, we'll have to see what structure is best for analysis. (e.g. do we want to put node labels in the span names - maybe/probably, do we want function names in the span names - maybe not if it means we have too many distinct span names for visualization)\n\n##########\nFile path: cpp/src/arrow/compute/exec/aggregate_node.cc\n##########\n@@ -165,7 +166,18 @@ class ScalarAggregateNode : public ExecNode {\n   const char* kind_name() const override { return \"ScalarAggregateNode\"; }\n \n   Status DoConsume(const ExecBatch& batch, size_t thread_index) {\n+    util::tracing::Span span;\n+    START_SPAN(span, \"Consume\",\n+               {{\"aggregate\", ToStringExtra()},\n+                {\"node.label\", label()},\n+                {\"batch.length\", batch.length}});\n     for (size_t i = 0; i < kernels_.size(); ++i) {\n+      util::tracing::Span span;\n+      START_SPAN(span, aggs_[i].function,\n\nReview comment:\n       Hmm, if we have the function name in the attribute, maybe the span name should be something generic like `ScalarAggregateConsume`?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-17T13:44:24.252+0000",
                    "updated": "2022-01-17T13:44:24.252+0000",
                    "started": "2022-01-17T13:44:24.252+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "709937",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/709938",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#discussion_r786021110\n\n\n\n##########\nFile path: cpp/src/arrow/compute/exec/sink_node.cc\n##########\n@@ -275,6 +302,11 @@ struct OrderBySinkNode final : public SinkNode {\n   }\n \n   void InputReceived(ExecNode* input, ExecBatch batch) override {\n+    EVENT(span_, \"InputReceived\", {{\"batch.length\", batch.length}});\n+    util::tracing::Span span;\n+    START_SPAN_WITH_PARENT(span, span_, \"InputReceived\",\n+                           {{\"node.label\", label()}, {\"batch.length\", batch.length}});\n+\n\nReview comment:\n       From one of the screenshots above, it might be worth instrumenting DoFinish below for OrderBySinkNode since that's where the 'real' work happens.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-01-17T13:48:43.419+0000",
                    "updated": "2022-01-17T13:48:43.419+0000",
                    "started": "2022-01-17T13:48:43.419+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "709938",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/718973",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "westonpace commented on pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#issuecomment-1027279029\n\n\n   @lidavidm @mbrobbel Is there any reason we can't merge this?  If you want I can take a look through tomorrow and merge.  Otherwise I took a quick scan and I think this is helpful information to get us started with instrumentation.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-01T20:57:21.842+0000",
                    "updated": "2022-02-01T20:57:21.842+0000",
                    "started": "2022-02-01T20:57:21.842+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "718973",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/718979",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mbrobbel commented on pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#issuecomment-1027283642\n\n\n   > @lidavidm @mbrobbel Is there any reason we can't merge this?  If you want I can take a look through tomorrow and merge.  Otherwise I took a quick scan and I think this is helpful information to get us started with instrumentation.\n   \n   There are still some comments from @lidavidm that I need to address, but I can do that tomorrow.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-01T21:03:02.769+0000",
                    "updated": "2022-02-01T21:03:02.769+0000",
                    "started": "2022-02-01T21:03:02.769+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "718979",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/719066",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#issuecomment-1027359590\n\n\n   No further comments from me - let's merge once OrderBySinkNode is fully instrumented.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-01T22:43:14.589+0000",
                    "updated": "2022-02-01T22:43:14.589+0000",
                    "started": "2022-02-01T22:43:14.589+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "719066",
                    "issueId": "13416612"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/worklog/719067",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #12100:\nURL: https://github.com/apache/arrow/pull/12100#issuecomment-1027359800\n\n\n   I want to base #11964 on top of this since the helpers here will simplify it.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2022-02-01T22:43:37.381+0000",
                    "updated": "2022-02-01T22:43:37.381+0000",
                    "started": "2022-02-01T22:43:37.381+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "719067",
                    "issueId": "13416612"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/7",
            "id": "7",
            "description": "The sub-task of the issue",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21146&avatarType=issuetype",
            "name": "Sub-task",
            "subtask": true,
            "avatarId": 21146
        },
        "timespent": 18000,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@591dc642[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@76b329a6[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1a8ca0e1[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@759d440f[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5f29095d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@50d4141b[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2f202d48[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@3082b99f[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@27f62d33[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@57f2811a[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7916bcc1[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@5cfdbc3d[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 18000,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Feb 02 14:39:22 UTC 2022",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2022-02-02T14:39:22.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-15061/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2021-12-10T17:03:32.000+0000",
        "updated": "2022-03-22T18:55:08.000+0000",
        "timeoriginalestimate": null,
        "description": "Using OT we should add spans that report the runtime of kernel functions.  We should  ensure that, if OT is disabled, there is no significant overhead.\r\n\r\nIn addition we should add spans that report the runtime of each exec node.  This may be a little trickier than it would first seem because pipeline breakers like join, etc. don't do all of their work inside of InputReceived.  Those could potentially be added later in follow-up PRs if it is getting to be too tricky.  The simple nodes like FilterNode and ProjectNode should be more straightforward.  These spans should be the parent of any kernel functions launched by that node.\r\n\r\nThere should also be a span for an entire exec plan run that will be the parent of all of this.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 18000
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Add logging for kernel functions and exec plan nodes",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/comment/17457279",
                    "id": "17457279",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "[PR#11906|https://github.com/apache/arrow/pull/11906] does this for kernel functions, but not for nodes, as a starter/something to build off of. It also doesn't add a span for the entire exec plan (that may be more annoying to #ifdef guard properly).",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-12-10T17:11:49.302+0000",
                    "updated": "2021-12-10T17:11:49.302+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13416612/comment/17485850",
                    "id": "17485850",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 12100\n[https://github.com/apache/arrow/pull/12100]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lidavidm",
                        "name": "lidavidm",
                        "key": "lidavidm",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "David Li",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2022-02-02T14:39:22.724+0000",
                    "updated": "2022-02-02T14:39:22.724+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z0xka0:",
        "customfield_12314139": null
    }
}