{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13208701",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701",
    "key": "ARROW-4221",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12347769",
                "id": "12347769",
                "description": "",
                "name": "1.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2020-07-24"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available",
            "sparse"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=mrkn",
            "name": "mrkn",
            "key": "mrkn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"
            },
            "displayName": "Kenta Murata",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328932",
                "id": "12328932",
                "name": "Format"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=mrkn",
            "name": "mrkn",
            "key": "mrkn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"
            },
            "displayName": "Kenta Murata",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=mrkn",
            "name": "mrkn",
            "key": "mrkn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"
            },
            "displayName": "Kenta Murata",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 19800,
            "total": 19800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 19800,
            "total": 19800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-4221/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 33,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/447673",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mrkn opened a new pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477\n\n\n   To support the integration with scipy.sparse.coo_matrix, it is necessary to add a flag in SparseCOOIndex.  When this flag is true, a COO sparse tensor has a lexicographically-sorted index and doesn't have duplicated elements.\r\n   \r\n   TODO:\r\n   - [X] C++ implementation\r\n   - [ ] Python implementation\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-18T07:32:21.993+0000",
                    "updated": "2020-06-18T07:32:21.993+0000",
                    "started": "2020-06-18T07:32:21.993+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "447673",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/447679",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#issuecomment-645843869\n\n\n   https://issues.apache.org/jira/browse/ARROW-4221\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-18T07:46:49.876+0000",
                    "updated": "2020-06-18T07:46:49.876+0000",
                    "started": "2020-06-18T07:46:49.876+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "447679",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/449348",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mrkn commented on a change in pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#discussion_r443655002\n\n\n\n##########\nFile path: python/pyarrow/tensor.pxi\n##########\n@@ -199,7 +202,13 @@ shape: {0.shape}\"\"\".format(self)\n             for x in dim_names:\n                 c_dim_names.push_back(tobytes(x))\n \n-        coords = np.vstack([obj.row, obj.col]).T\n+        row = obj.row\n+        col = obj.col\n+        if obj.has_canonical_format:\n+            order = np.lexsort((col, row))  # row-major order\n\nReview comment:\n       Sorting indices is necessary to conserve the canonical format.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-22T15:45:28.093+0000",
                    "updated": "2020-06-22T15:45:28.093+0000",
                    "started": "2020-06-22T15:45:28.093+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "449348",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/449349",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mrkn commented on pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#issuecomment-647607307\n\n\n   @wesm @pitrou Could you please review it?\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-22T15:46:43.251+0000",
                    "updated": "2020-06-22T15:46:43.251+0000",
                    "started": "2020-06-22T15:46:43.251+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "449349",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/449350",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mrkn commented on pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#issuecomment-647607661\n\n\n   @rok Could you please review the pyarrow part?\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-22T15:47:17.300+0000",
                    "updated": "2020-06-22T15:47:17.300+0000",
                    "started": "2020-06-22T15:47:17.300+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "449350",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/449400",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on a change in pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#discussion_r443707259\n\n\n\n##########\nFile path: python/pyarrow/tensor.pxi\n##########\n@@ -339,6 +350,15 @@ shape: {0.shape}\"\"\".format(self)\n     def non_zero_length(self):\n         return self.stp.non_zero_length()\n \n+    @property\n+    def has_canonical_format(self):\n+        cdef:\n+            _CSparseCOOIndexPtr csi\n+\n+        csi = dynamic_cast[_CSparseCOOIndexPtr](self.stp.sparse_index().get())\n\nReview comment:\n       Why the `dynamic_cast`? Since this is a sparse COO tensor, the cast should always succeed. Just use a normal Cython cast.\n\n##########\nFile path: format/SparseTensor.fbs\n##########\n@@ -63,6 +63,9 @@ table SparseTensorIndexCOO {\n \n   /// The location and size of the indices matrix's data\n   indicesBuffer: Buffer (required);\n+\n+  /// The canonicality flag\n\nReview comment:\n       What is this? Can you explain a bit more?\n\n##########\nFile path: python/pyarrow/tensor.pxi\n##########\n@@ -270,8 +279,10 @@ shape: {0.shape}\"\"\".format(self)\n                                               &out_data, &out_coords))\n         data = PyObject_to_object(out_data)\n         coords = PyObject_to_object(out_coords)\n-        result = coo_matrix((data[:, 0], (coords[:, 0], coords[:, 1])),\n-                            shape=self.shape)\n+        row, col = coords[:, 0], coords[:, 1]\n+        result = coo_matrix((data[:, 0], (row, col)), shape=self.shape)\n+        if self.has_canonical_format:\n+            result.sum_duplicates()\n\nReview comment:\n       Why?\n\n##########\nFile path: cpp/src/arrow/sparse_tensor_test.cc\n##########\n@@ -49,7 +49,10 @@ static inline void AssertCOOIndex(const std::shared_ptr<Tensor>& sidx, const int\n   }\n }\n \n-TEST(TestSparseCOOIndex, Make) {\n+//-----------------------------------------------------------------------------\n\nReview comment:\n       Perhaps there should also be some tests with empty/all-zero tensors?\n\n##########\nFile path: python/pyarrow/tensor.pxi\n##########\n@@ -199,7 +202,13 @@ shape: {0.shape}\"\"\".format(self)\n             for x in dim_names:\n                 c_dim_names.push_back(tobytes(x))\n \n-        coords = np.vstack([obj.row, obj.col]).T\n+        row = obj.row\n+        col = obj.col\n+        if obj.has_canonical_format:\n+            order = np.lexsort((col, row))  # row-major order\n\nReview comment:\n       I don't understand this. If Scipy says the indices are sorted, why do you need to sort them again?\n\n##########\nFile path: cpp/src/arrow/sparse_tensor.cc\n##########\n@@ -298,16 +298,137 @@ inline Status CheckSparseCOOIndexValidity(const std::shared_ptr<DataType>& type,\n   return Status::OK();\n }\n \n+void get_coo_index_tensor_row(const std::shared_ptr<Tensor>& coords, const int64_t row,\n+                              std::vector<int64_t>* out_index) {\n+  const auto& fw_index_value_type =\n+      internal::checked_cast<const FixedWidthType&>(*coords->type());\n+  const size_t indices_elsize = fw_index_value_type.bit_width() / CHAR_BIT;\n+\n+  const auto& shape = coords->shape();\n+  const int64_t non_zero_length = shape[0];\n+  DCHECK(0 <= row && row < non_zero_length);\n+\n+  const int64_t ndim = shape[1];\n+  std::vector<int64_t> index;\n+  index.reserve(ndim);\n\nReview comment:\n       You can write directly into `out_index`:\r\n   ```c++\r\n   out_index->resize(ndim);\r\n   // ...\r\n         for (int64_t i = 0; i < ndim; ++i) {\r\n           (*out_index)[i] = static_cast<int64_t>(coords->Value<UInt8Type>({row, i}));\r\n         }\r\n   ```\n\n##########\nFile path: python/pyarrow/tensor.pxi\n##########\n@@ -199,7 +202,13 @@ shape: {0.shape}\"\"\".format(self)\n             for x in dim_names:\n                 c_dim_names.push_back(tobytes(x))\n \n-        coords = np.vstack([obj.row, obj.col]).T\n+        row = obj.row\n+        col = obj.col\n+        if obj.has_canonical_format:\n\nReview comment:\n       Does this attribute exist? I don't see it in https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.coo_matrix.html#scipy.sparse.coo_matrix\r\n   In https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix, I see an attribute named `has_sorted_indices`\n\n##########\nFile path: cpp/src/arrow/sparse_tensor.cc\n##########\n@@ -298,16 +298,137 @@ inline Status CheckSparseCOOIndexValidity(const std::shared_ptr<DataType>& type,\n   return Status::OK();\n }\n \n+void get_coo_index_tensor_row(const std::shared_ptr<Tensor>& coords, const int64_t row,\n\nReview comment:\n       Can you follow the style guide? Use CamelCase for function names.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-22T17:13:24.513+0000",
                    "updated": "2020-06-22T17:13:24.513+0000",
                    "started": "2020-06-22T17:13:24.512+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "449400",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/449589",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mrkn commented on pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#issuecomment-647860707\n\n\n   > I don't understand the PR's motivation. You say that:\r\n   > \r\n   > > To support the integration with scipy.sparse.coo_matrix, it is necessary to add a flag in SparseCOOIndex\r\n   > > but the PR doesn't showcase it at all. There is no added integration.\r\n   \r\n   @pitrou I added the description as some comments at the appropriate places in the additional commit 1e0b28c3d.  Can these comments give you an understanding?\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-23T02:00:32.172+0000",
                    "updated": "2020-06-23T02:00:32.172+0000",
                    "started": "2020-06-23T02:00:32.172+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "449589",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/449594",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mrkn commented on a change in pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#discussion_r443922882\n\n\n\n##########\nFile path: python/pyarrow/tensor.pxi\n##########\n@@ -199,7 +202,13 @@ shape: {0.shape}\"\"\".format(self)\n             for x in dim_names:\n                 c_dim_names.push_back(tobytes(x))\n \n-        coords = np.vstack([obj.row, obj.col]).T\n+        row = obj.row\n+        col = obj.col\n+        if obj.has_canonical_format:\n+            order = np.lexsort((col, row))  # row-major order\n\nReview comment:\n       SciPy's coo_matrix employs column-major order, but our SparseCOOIndex employs row-major order.\r\n   This is the reason why we need to sort the index here.\r\n   \r\n   The reason why our SparseCOOIndex should employ row-major order is that TensorFlow's SparseTensor employs row-major order.  Converting from SciPy's coo_matrrix needs to copy the index matrix even if we employ column-major order, but converting from TensorFlow's SparseTensor does not need to copy the index matrix if we employ row-major order.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-23T02:16:02.213+0000",
                    "updated": "2020-06-23T02:16:02.213+0000",
                    "started": "2020-06-23T02:16:02.213+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "449594",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/449598",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mrkn commented on a change in pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#discussion_r443928439\n\n\n\n##########\nFile path: python/pyarrow/tensor.pxi\n##########\n@@ -199,7 +202,13 @@ shape: {0.shape}\"\"\".format(self)\n             for x in dim_names:\n                 c_dim_names.push_back(tobytes(x))\n \n-        coords = np.vstack([obj.row, obj.col]).T\n+        row = obj.row\n+        col = obj.col\n+        if obj.has_canonical_format:\n\nReview comment:\n       The attribute [actually exists](https://github.com/scipy/scipy/blob/master/scipy/sparse/coo.py#L137) but not documented.  It may be an internal attribute, but it does not have `_` prefix, so I detect it can be used.  I need to refer this attribute to recognize whether or not a given SciPy's coo_matrix has canonical format.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-23T02:37:48.763+0000",
                    "updated": "2020-06-23T02:37:48.763+0000",
                    "started": "2020-06-23T02:37:48.763+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "449598",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/449654",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mrkn commented on a change in pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#discussion_r443982716\n\n\n\n##########\nFile path: python/pyarrow/tensor.pxi\n##########\n@@ -339,6 +350,15 @@ shape: {0.shape}\"\"\".format(self)\n     def non_zero_length(self):\n         return self.stp.non_zero_length()\n \n+    @property\n+    def has_canonical_format(self):\n+        cdef:\n+            _CSparseCOOIndexPtr csi\n+\n+        csi = dynamic_cast[_CSparseCOOIndexPtr](self.stp.sparse_index().get())\n\nReview comment:\n       The reason is that I couldn't find normal Cython's cast when I wrote this code.  Thank you for telling me.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-23T06:08:53.051+0000",
                    "updated": "2020-06-23T06:08:53.051+0000",
                    "started": "2020-06-23T06:08:53.051+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "449654",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/449659",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mrkn commented on a change in pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#discussion_r443990095\n\n\n\n##########\nFile path: cpp/src/arrow/sparse_tensor_test.cc\n##########\n@@ -49,7 +49,10 @@ static inline void AssertCOOIndex(const std::shared_ptr<Tensor>& sidx, const int\n   }\n }\n \n-TEST(TestSparseCOOIndex, Make) {\n+//-----------------------------------------------------------------------------\n\nReview comment:\n       I will add these tests.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-23T06:30:01.626+0000",
                    "updated": "2020-06-23T06:30:01.626+0000",
                    "started": "2020-06-23T06:30:01.626+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "449659",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/449661",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mrkn commented on a change in pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#discussion_r443990095\n\n\n\n##########\nFile path: cpp/src/arrow/sparse_tensor_test.cc\n##########\n@@ -49,7 +49,10 @@ static inline void AssertCOOIndex(const std::shared_ptr<Tensor>& sidx, const int\n   }\n }\n \n-TEST(TestSparseCOOIndex, Make) {\n+//-----------------------------------------------------------------------------\n\nReview comment:\n       I will add these tests.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-23T06:49:16.085+0000",
                    "updated": "2020-06-23T06:49:16.085+0000",
                    "started": "2020-06-23T06:49:16.085+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "449661",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/449767",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#issuecomment-648106332\n\n\n   > Can these comments give you an understanding?\r\n   \r\n   No, they don't. They don't explain _why_ the flag is useful. What does it bring to know that the indices are canonical? The PR doesn't explain. It doesn't add any functionality. It adds code that didn't seem to be necessary before.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-23T12:14:13.698+0000",
                    "updated": "2020-06-23T12:14:13.698+0000",
                    "started": "2020-06-23T12:14:13.698+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "449767",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/451474",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mrkn commented on pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#issuecomment-650089924\n\n\n   @pitrou Without the canonical flag, we need to make a copy and sort the data of non-canonical sparse tensor when serializing it because the current SparseCOOIndex has the constraint that the indices matrix is sorted.  Moreover, we lose the information that the original sparse tensor is not canonical.\r\n   \r\n   In contrast, with the canonical flag, we can preserve the canonicality of the original sparse tensor and can share the data without a copy and sort.\r\n   \r\n   Unfortunately, SciPy's coo_matrix manages its indices by separated arrays, we need to make a copy of the indices for serialization even if with the canonical flag. This issue can be solved by SparseSplitCOOTensor proposed in #7044.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-26T09:42:15.966+0000",
                    "updated": "2020-06-26T09:42:15.966+0000",
                    "started": "2020-06-26T09:42:15.966+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "451474",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/451475",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#issuecomment-650091038\n\n\n   > Without the canonical flag, we need to make a copy and sort the data of non-canonical sparse tensor when serializing it because the current SparseCOOIndex has the constraint that the indices matrix is sorted. \r\n   \r\n   Sory, but I don't understand this sentence. If SparseCOOIndex has the constraint that the indices matrix is sorted, then it is canonical already. Why do you need to add a flag?\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-26T09:45:04.757+0000",
                    "updated": "2020-06-26T09:45:04.757+0000",
                    "started": "2020-06-26T09:45:04.757+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "451475",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/451529",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mrkn commented on pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#issuecomment-650148002\n\n\n   > > Without the canonical flag, we need to make a copy and sort the data of non-canonical sparse tensor when serializing it because the current SparseCOOIndex has the constraint that the indices matrix is sorted.\r\n   > \r\n   > Sory, but I don't understand this sentence. If SparseCOOIndex has the constraint that the indices matrix is sorted, then it is canonical already. Why do you need to add a flag?\r\n   \r\n   Oh, I missed to explain that this pull request removes that constraint.\r\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-26T12:16:41.935+0000",
                    "updated": "2020-06-26T12:16:41.935+0000",
                    "started": "2020-06-26T12:16:41.935+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "451529",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/451533",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mrkn edited a comment on pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#issuecomment-650148002\n\n\n   > > Without the canonical flag, we need to make a copy and sort the data of non-canonical sparse tensor when serializing it because the current SparseCOOIndex has the constraint that the indices matrix is sorted.\r\n   > \r\n   > Sory, but I don't understand this sentence. If SparseCOOIndex has the constraint that the indices matrix is sorted, then it is canonical already. Why do you need to add a flag?\r\n   \r\n   Oh, I didn\u2019t explain that this pull request removes that constraint. I\u2019m sorry.\r\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-06-26T12:18:16.684+0000",
                    "updated": "2020-06-26T12:18:16.684+0000",
                    "started": "2020-06-26T12:18:16.684+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "451533",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/453178",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "mrkn commented on pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#issuecomment-652124757\n\n\n   @pitrou In summary, the constraint of the indices order of SparseCOOIndex was removed, but the new flag field is introduced to state whether or not the indices tensor is ordered in a row-major manner.  By this new flag, we can preserve the canonicality or noncanonicality of the sparse tensor before and after serialization.  Preserving this property can avoid needless scanning of the indices tensor after deserialization.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-07-01T00:58:36.786+0000",
                    "updated": "2020-07-01T00:58:36.786+0000",
                    "started": "2020-07-01T00:58:36.786+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "453178",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/454922",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "rok commented on a change in pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#discussion_r450325016\n\n\n\n##########\nFile path: python/pyarrow/tensor.pxi\n##########\n@@ -270,8 +279,10 @@ shape: {0.shape}\"\"\".format(self)\n                                               &out_data, &out_coords))\n         data = PyObject_to_object(out_data)\n         coords = PyObject_to_object(out_coords)\n-        result = coo_matrix((data[:, 0], (coords[:, 0], coords[:, 1])),\n-                            shape=self.shape)\n+        row, col = coords[:, 0], coords[:, 1]\n+        result = coo_matrix((data[:, 0], (row, col)), shape=self.shape)\n+        if self.has_canonical_format:\n+            result.sum_duplicates()\n\nReview comment:\n       @mrkn - wouldn't is_canonical guarantee no duplicates if indices were row- or column-ordered?\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-07-06T16:04:08.493+0000",
                    "updated": "2020-07-06T16:04:08.493+0000",
                    "started": "2020-07-06T16:04:08.493+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "454922",
                    "issueId": "13208701"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/worklog/454937",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "rok commented on a change in pull request #7477:\nURL: https://github.com/apache/arrow/pull/7477#discussion_r450340186\n\n\n\n##########\nFile path: python/pyarrow/tensor.pxi\n##########\n@@ -199,7 +202,13 @@ shape: {0.shape}\"\"\".format(self)\n             for x in dim_names:\n                 c_dim_names.push_back(tobytes(x))\n \n-        coords = np.vstack([obj.row, obj.col]).T\n+        row = obj.row\n+        col = obj.col\n+        if obj.has_canonical_format:\n+            order = np.lexsort((col, row))  # row-major order\n\nReview comment:\n       So column-major is scipy-canonical and row-major is tensorflow canonical?\r\n   Would we then not rather just introduce a new property e.g.: `has_duplicates`? I would find that less complex.\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2020-07-06T16:28:32.403+0000",
                    "updated": "2020-07-06T16:28:32.403+0000",
                    "started": "2020-07-06T16:28:32.402+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "454937",
                    "issueId": "13208701"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 19800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@7e147cef[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@18d7c3e8[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@27b10c87[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@15f431a[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@49271257[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@4c1c39d0[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6366d1e0[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@18da1905[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@699e05e3[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@44e173b9[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@11dd4314[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@5907721b[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 19800,
        "customfield_12312520": null,
        "customfield_12312521": "Sun Jul 12 21:30:22 UTC 2020",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2020-07-12T21:30:22.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-4221/watchers",
            "watchCount": 4,
            "isWatching": false
        },
        "created": "2019-01-10T06:25:40.000+0000",
        "updated": "2020-07-12T21:30:35.000+0000",
        "timeoriginalestimate": null,
        "description": "To support the integration with\u00a0scipy.sparse.coo_matrix, it is necessary to add a flag in SparseCOOIndex.\u00a0 This flag denotes whether elements in COO sparse tensor is sorted lexicographically or not.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "5.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 19800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Format] Add canonical flag in COO sparse index",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/comment/17040125",
                    "id": "17040125",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "[~mrkn] If this is still needed, it would be good to do so before 1.0.0.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2020-02-19T14:56:10.748+0000",
                    "updated": "2020-02-19T14:56:10.748+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/comment/17133703",
                    "id": "17133703",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "[~mrkn] 1.0 is coming in a couple of weeks: any chance you'll get to this before the end of the month?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2020-06-11T21:21:58.388+0000",
                    "updated": "2020-06-11T21:21:58.388+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/comment/17133817",
                    "id": "17133817",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=mrkn",
                        "name": "mrkn",
                        "key": "mrkn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"
                        },
                        "displayName": "Kenta Murata",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "[~npr]Thank you for reminding this. Yes, I can start this ticket and I guess I can finish before the end of this month.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=mrkn",
                        "name": "mrkn",
                        "key": "mrkn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"
                        },
                        "displayName": "Kenta Murata",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2020-06-12T00:44:27.907+0000",
                    "updated": "2020-06-12T00:44:27.907+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13208701/comment/17156390",
                    "id": "17156390",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 7477\n[https://github.com/apache/arrow/pull/7477]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2020-07-12T21:30:22.153+0000",
                    "updated": "2020-07-12T21:30:22.153+0000"
                }
            ],
            "maxResults": 4,
            "total": 4,
            "startAt": 0
        },
        "customfield_12311820": "0|u00ozs:",
        "customfield_12314139": null
    }
}