{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13111706",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706",
    "key": "ARROW-1721",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12341352",
                "id": "12341352",
                "name": "0.8.0",
                "archived": false,
                "released": true,
                "releaseDate": "2017-12-18"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=Licht-T",
            "name": "Licht-T",
            "key": "licht-t",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=licht-t&avatarId=33236",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=licht-t&avatarId=33236",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=licht-t&avatarId=33236",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=licht-t&avatarId=33236"
            },
            "displayName": "Licht Takeuchi",
            "active": true,
            "timeZone": "Asia/Tokyo"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1721/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@753e12ef[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@71d59548[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6f257325[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@3287d45c[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@791d8662[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@5e5cda85[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1aa43630[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@160d240c[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3b68e39[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@3b86f438[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@a840ce[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@7f7a3993[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Oct 26 02:22:08 UTC 2017",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2017-10-26T02:22:08.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1721/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2017-10-24T13:54:49.000+0000",
        "updated": "2017-10-26T02:22:08.000+0000",
        "timeoriginalestimate": null,
        "description": "see https://github.com/apache/spark/pull/18664#discussion_r146472109 for SPARK-21375",
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python] Support null mask in places where it isn't supported in numpy_to_arrow.cc",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706/comment/16218681",
                    "id": "16218681",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Licht-T opened a new pull request #1246: ARROW-1721: [Python] Implement null-mask check in places where it isn't supported in numpy_to_arrow.cc\nURL: https://github.com/apache/arrow/pull/1246\n \n \n   This closes [ARROW-1721](https://issues.apache.org/jira/projects/ARROW/issues/ARROW-1721).\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-25T14:02:11.122+0000",
                    "updated": "2017-10-25T14:02:11.122+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706/comment/16218991",
                    "id": "16218991",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on a change in pull request #1246: ARROW-1721: [Python] Implement null-mask check in places where it isn't supported in numpy_to_arrow.cc\nURL: https://github.com/apache/arrow/pull/1246#discussion_r146910978\n \n \n\n ##########\n File path: cpp/src/arrow/python/numpy_to_arrow.cc\n ##########\n @@ -1029,6 +1033,44 @@ Status LoopPySequence(PyObject* sequence, T func) {\n   return Status::OK();\n }\n \n+template <typename T>\n+Status LoopPySequenceWithMasks(\n+    PyObject* sequence,\n+    const Ndarray1DIndexer<uint8_t>& mask_values,\n+    bool have_mask,\n+    T func\n+) {\n \n Review comment:\n   Can you run clang-format? (`make format` or `ninja format`). This should also fix the cpplint failure in CI . See https://github.com/apache/arrow/tree/master/cpp#continuous-integration\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-25T16:23:48.686+0000",
                    "updated": "2017-10-25T16:23:48.686+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706/comment/16218996",
                    "id": "16218996",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1246: ARROW-1721: [Python] Implement null-mask check in places where it isn't supported in numpy_to_arrow.cc\nURL: https://github.com/apache/arrow/pull/1246#issuecomment-339387796\n \n \n   Thank you for doing this!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-25T16:24:30.441+0000",
                    "updated": "2017-10-25T16:24:30.441+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706/comment/16219033",
                    "id": "16219033",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Licht-T commented on issue #1246: ARROW-1721: [Python] Implement null-mask check in places where it isn't supported in numpy_to_arrow.cc\nURL: https://github.com/apache/arrow/pull/1246#issuecomment-339393634\n \n \n   @wesm Fixed the whole lint issues!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-25T16:43:04.934+0000",
                    "updated": "2017-10-25T16:43:04.934+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706/comment/16219051",
                    "id": "16219051",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1246: ARROW-1721: [Python] Implement null-mask check in places where it isn't supported in numpy_to_arrow.cc\nURL: https://github.com/apache/arrow/pull/1246#issuecomment-339395625\n \n \n   I'm surprised by some of the formatting changes, are you using clang-format-4.0? \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-25T16:49:52.426+0000",
                    "updated": "2017-10-25T16:49:52.426+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706/comment/16219080",
                    "id": "16219080",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1246: ARROW-1721: [Python] Implement null-mask check in places where it isn't supported in numpy_to_arrow.cc\nURL: https://github.com/apache/arrow/pull/1246#issuecomment-339398833\n \n \n   I ran clang-format 4.0 locally and got this diff https://github.com/wesm/arrow/commit/7547ac8e70b5279e44fe802bdbd241ad9a8f0d4a\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-25T17:00:40.545+0000",
                    "updated": "2017-10-25T17:00:40.545+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706/comment/16219085",
                    "id": "16219085",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Licht-T commented on issue #1246: ARROW-1721: [Python] Implement null-mask check in places where it isn't supported in numpy_to_arrow.cc\nURL: https://github.com/apache/arrow/pull/1246#issuecomment-339399427\n \n \n   @wesm Sorry! I'm using clang-format-5!\r\n   I'll fix!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-25T17:02:39.316+0000",
                    "updated": "2017-10-25T17:02:39.316+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706/comment/16219090",
                    "id": "16219090",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1246: ARROW-1721: [Python] Implement null-mask check in places where it isn't supported in numpy_to_arrow.cc\nURL: https://github.com/apache/arrow/pull/1246#issuecomment-339400213\n \n \n   Thanks! According to llvm.org, clang-5.0 is still the qualification branch (http://apt.llvm.org/) so whenever 5.0 is promoted to stable we'll upgrade our clang bits to 5.0\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-25T17:05:14.101+0000",
                    "updated": "2017-10-25T17:05:14.101+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706/comment/16219091",
                    "id": "16219091",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Licht-T commented on issue #1246: ARROW-1721: [Python] Implement null-mask check in places where it isn't supported in numpy_to_arrow.cc\nURL: https://github.com/apache/arrow/pull/1246#issuecomment-339400591\n \n \n   @wesm Now fixed!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-25T17:06:34.910+0000",
                    "updated": "2017-10-25T17:06:34.910+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706/comment/16219390",
                    "id": "16219390",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1246: ARROW-1721: [Python] Implement null-mask check in places where it isn't supported in numpy_to_arrow.cc\nURL: https://github.com/apache/arrow/pull/1246#issuecomment-339447985\n \n \n   Couple flake8 warnings:\r\n   \r\n   ```\r\n   +flake8 --count /home/travis/build/apache/arrow/python/pyarrow\r\n   /home/travis/build/apache/arrow/python/pyarrow/tests/test_convert_pandas.py:22:1: F401 'unittest' imported but unused\r\n   /home/travis/build/apache/arrow/python/pyarrow/tests/test_convert_pandas.py:1115:16: E231 missing whitespace after ','\r\n   ```\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-25T19:42:49.156+0000",
                    "updated": "2017-10-25T19:42:49.156+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706/comment/16219395",
                    "id": "16219395",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1246: ARROW-1721: [Python] Implement null-mask check in places where it isn't supported in numpy_to_arrow.cc\nURL: https://github.com/apache/arrow/pull/1246#issuecomment-339448319\n \n \n   Turns out I can push to your branch, so done\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-25T19:44:04.063+0000",
                    "updated": "2017-10-25T19:44:04.063+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706/comment/16219709",
                    "id": "16219709",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Licht-T commented on issue #1246: ARROW-1721: [Python] Implement null-mask check in places where it isn't supported in numpy_to_arrow.cc\nURL: https://github.com/apache/arrow/pull/1246#issuecomment-339501657\n \n \n   @wesm Thank you!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-25T23:10:47.836+0000",
                    "updated": "2017-10-25T23:10:47.836+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706/comment/16219857",
                    "id": "16219857",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm closed pull request #1246: ARROW-1721: [Python] Implement null-mask check in places where it isn't supported in numpy_to_arrow.cc\nURL: https://github.com/apache/arrow/pull/1246\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/cpp/src/arrow/python/numpy_to_arrow.cc b/cpp/src/arrow/python/numpy_to_arrow.cc\nindex 2c89a9f61..ead3a0481 100644\n--- a/cpp/src/arrow/python/numpy_to_arrow.cc\n+++ b/cpp/src/arrow/python/numpy_to_arrow.cc\n@@ -622,8 +622,12 @@ Status NumPyConverter::ConvertDates() {\n \n   Ndarray1DIndexer<PyObject*> objects(arr_);\n \n+  Ndarray1DIndexer<uint8_t> mask_values;\n+\n+  bool have_mask = false;\n   if (mask_ != nullptr) {\n-    return Status::NotImplemented(\"mask not supported in object conversions yet\");\n+    mask_values.Init(mask_);\n+    have_mask = true;\n   }\n \n   BuilderType builder(pool_);\n@@ -636,10 +640,10 @@ Status NumPyConverter::ConvertDates() {\n   PyObject* obj;\n   for (int64_t i = 0; i < length_; ++i) {\n     obj = objects[i];\n-    if (PyDate_CheckExact(obj)) {\n-      RETURN_NOT_OK(builder.Append(UnboxDate<ArrowType>::Unbox(obj)));\n-    } else if (PandasObjectIsNull(obj)) {\n+    if ((have_mask && mask_values[i]) || PandasObjectIsNull(obj)) {\n       RETURN_NOT_OK(builder.AppendNull());\n+    } else if (PyDate_CheckExact(obj)) {\n+      RETURN_NOT_OK(builder.Append(UnboxDate<ArrowType>::Unbox(obj)));\n     } else {\n       std::stringstream ss;\n       ss << \"Error converting from Python objects to Date: \";\n@@ -1029,6 +1033,41 @@ Status LoopPySequence(PyObject* sequence, T func) {\n   return Status::OK();\n }\n \n+template <typename T>\n+Status LoopPySequenceWithMasks(PyObject* sequence,\n+                               const Ndarray1DIndexer<uint8_t>& mask_values,\n+                               bool have_mask, T func) {\n+  if (PySequence_Check(sequence)) {\n+    OwnedRef ref;\n+    Py_ssize_t size = PySequence_Size(sequence);\n+    if (PyArray_Check(sequence)) {\n+      auto array = reinterpret_cast<PyArrayObject*>(sequence);\n+      Ndarray1DIndexer<PyObject*> objects(array);\n+      for (int64_t i = 0; i < size; ++i) {\n+        RETURN_NOT_OK(func(objects[i], have_mask && mask_values[i]));\n+      }\n+    } else {\n+      for (int64_t i = 0; i < size; ++i) {\n+        ref.reset(PySequence_GetItem(sequence, i));\n+        RETURN_NOT_OK(func(ref.obj(), have_mask && mask_values[i]));\n+      }\n+    }\n+  } else if (PyObject_HasAttrString(sequence, \"__iter__\")) {\n+    OwnedRef iter = OwnedRef(PyObject_GetIter(sequence));\n+    PyObject* item;\n+    int64_t i = 0;\n+    while ((item = PyIter_Next(iter.obj()))) {\n+      OwnedRef ref = OwnedRef(item);\n+      RETURN_NOT_OK(func(ref.obj(), have_mask && mask_values[i]));\n+      i++;\n+    }\n+  } else {\n+    return Status::TypeError(\"Object is not a sequence or iterable\");\n+  }\n+\n+  return Status::OK();\n+}\n+\n template <int ITEM_TYPE, typename ArrowType>\n inline Status NumPyConverter::ConvertTypedLists(const std::shared_ptr<DataType>& type,\n                                                 ListBuilder* builder, PyObject* list) {\n@@ -1037,15 +1076,18 @@ inline Status NumPyConverter::ConvertTypedLists(const std::shared_ptr<DataType>&\n \n   PyAcquireGIL lock;\n \n-  // TODO: mask not supported here\n+  Ndarray1DIndexer<uint8_t> mask_values;\n+\n+  bool have_mask = false;\n   if (mask_ != nullptr) {\n-    return Status::NotImplemented(\"mask not supported in object conversions yet\");\n+    mask_values.Init(mask_);\n+    have_mask = true;\n   }\n \n   BuilderT* value_builder = static_cast<BuilderT*>(builder->value_builder());\n \n-  auto foreach_item = [&](PyObject* object) {\n-    if (PandasObjectIsNull(object)) {\n+  auto foreach_item = [&](PyObject* object, bool mask) {\n+    if (mask || PandasObjectIsNull(object)) {\n       return builder->AppendNull();\n     } else if (PyArray_Check(object)) {\n       auto numpy_array = reinterpret_cast<PyArrayObject*>(object);\n@@ -1071,7 +1113,7 @@ inline Status NumPyConverter::ConvertTypedLists(const std::shared_ptr<DataType>&\n     }\n   };\n \n-  return LoopPySequence(list, foreach_item);\n+  return LoopPySequenceWithMasks(list, mask_values, have_mask, foreach_item);\n }\n \n template <>\n@@ -1079,15 +1121,18 @@ inline Status NumPyConverter::ConvertTypedLists<NPY_OBJECT, NullType>(\n     const std::shared_ptr<DataType>& type, ListBuilder* builder, PyObject* list) {\n   PyAcquireGIL lock;\n \n-  // TODO: mask not supported here\n+  Ndarray1DIndexer<uint8_t> mask_values;\n+\n+  bool have_mask = false;\n   if (mask_ != nullptr) {\n-    return Status::NotImplemented(\"mask not supported in object conversions yet\");\n+    mask_values.Init(mask_);\n+    have_mask = true;\n   }\n \n   auto value_builder = static_cast<NullBuilder*>(builder->value_builder());\n \n-  auto foreach_item = [&](PyObject* object) {\n-    if (PandasObjectIsNull(object)) {\n+  auto foreach_item = [&](PyObject* object, bool mask) {\n+    if (mask || PandasObjectIsNull(object)) {\n       return builder->AppendNull();\n     } else if (PyArray_Check(object)) {\n       auto numpy_array = reinterpret_cast<PyArrayObject*>(object);\n@@ -1112,7 +1157,7 @@ inline Status NumPyConverter::ConvertTypedLists<NPY_OBJECT, NullType>(\n     }\n   };\n \n-  return LoopPySequence(list, foreach_item);\n+  return LoopPySequenceWithMasks(list, mask_values, have_mask, foreach_item);\n }\n \n template <>\n@@ -1122,15 +1167,18 @@ inline Status NumPyConverter::ConvertTypedLists<NPY_OBJECT, StringType>(\n   // TODO: If there are bytes involed, convert to Binary representation\n   bool have_bytes = false;\n \n-  // TODO: mask not supported here\n+  Ndarray1DIndexer<uint8_t> mask_values;\n+\n+  bool have_mask = false;\n   if (mask_ != nullptr) {\n-    return Status::NotImplemented(\"mask not supported in object conversions yet\");\n+    mask_values.Init(mask_);\n+    have_mask = true;\n   }\n \n   auto value_builder = static_cast<StringBuilder*>(builder->value_builder());\n \n-  auto foreach_item = [&](PyObject* object) {\n-    if (PandasObjectIsNull(object)) {\n+  auto foreach_item = [&](PyObject* object, bool mask) {\n+    if (mask || PandasObjectIsNull(object)) {\n       return builder->AppendNull();\n     } else if (PyArray_Check(object)) {\n       auto numpy_array = reinterpret_cast<PyArrayObject*>(object);\n@@ -1162,7 +1210,7 @@ inline Status NumPyConverter::ConvertTypedLists<NPY_OBJECT, StringType>(\n     }\n   };\n \n-  return LoopPySequence(list, foreach_item);\n+  return LoopPySequenceWithMasks(list, mask_values, have_mask, foreach_item);\n }\n \n #define LIST_CASE(TYPE, NUMPY_TYPE, ArrowType)                            \\\ndiff --git a/python/pyarrow/tests/test_convert_pandas.py b/python/pyarrow/tests/test_convert_pandas.py\nindex 41ad20102..527466e6e 100644\n--- a/python/pyarrow/tests/test_convert_pandas.py\n+++ b/python/pyarrow/tests/test_convert_pandas.py\n@@ -19,7 +19,6 @@\n from collections import OrderedDict\n \n from datetime import date, time\n-import unittest\n import decimal\n import json\n \n@@ -61,7 +60,7 @@ def _alltypes_example(size=100):\n     })\n \n \n-class TestPandasConversion(unittest.TestCase):\n+class TestPandasConversion(object):\n \n     def setUp(self):\n         pass\n@@ -420,7 +419,7 @@ def test_fixed_size_bytes_does_not_accept_varying_lengths(self):\n         values = [b'foo', None, b'ba', None, None, b'hey']\n         df = pd.DataFrame({'strings': values})\n         schema = pa.schema([pa.field('strings', pa.binary(3))])\n-        with self.assertRaises(pa.ArrowInvalid):\n+        with pytest.raises(pa.ArrowInvalid):\n             pa.Table.from_pandas(df, schema=schema)\n \n     def test_timestamps_notimezone_no_nulls(self):\n@@ -697,11 +696,11 @@ def test_category(self):\n \n     def test_mixed_types_fails(self):\n         data = pd.DataFrame({'a': ['a', 1, 2.0]})\n-        with self.assertRaises(pa.ArrowException):\n+        with pytest.raises(pa.ArrowException):\n             pa.Table.from_pandas(data)\n \n         data = pd.DataFrame({'a': [1, True]})\n-        with self.assertRaises(pa.ArrowException):\n+        with pytest.raises(pa.ArrowException):\n             pa.Table.from_pandas(data)\n \n     def test_strided_data_import(self):\n@@ -1096,6 +1095,45 @@ def test_table_str_to_categorical(self):\n         expected = pd.DataFrame({'strings': pd.Categorical(values)})\n         tm.assert_frame_equal(result, expected, check_dtype=True)\n \n+    def test_array_from_pandas_date_with_mask(self):\n+        m = np.array([True, False, True])\n+        data = pd.Series([\n+            date(1990, 1, 1),\n+            date(1991, 1, 1),\n+            date(1992, 1, 1)\n+        ])\n+\n+        result = pa.Array.from_pandas(data, mask=m)\n+\n+        expected = pd.Series([None, date(1991, 1, 1), None])\n+        assert pa.Array.from_pandas(expected).equals(result)\n+\n+    @pytest.mark.parametrize('t,data,expected', [\n+        (\n+            pa.int64,\n+            [[1, 2], [3], None],\n+            [None, [3], None]\n+        ),\n+        (\n+            pa.string,\n+            [[u'aaa', u'bb'], [u'c'], None],\n+            [None, [u'c'], None]\n+        ),\n+        (\n+            pa.null,\n+            [[None, None], [None], None],\n+            [None, [None], None]\n+        )\n+    ])\n+    def test_array_from_pandas_typed_array_with_mask(self, t, data, expected):\n+        m = np.array([True, False, True])\n+\n+        s = pd.Series(data)\n+        result = pa.Array.from_pandas(s, mask=m, type=pa.list_(t()))\n+\n+        assert pa.Array.from_pandas(expected,\n+                                    type=pa.list_(t())).equals(result)\n+\n \n def _pytime_from_micros(val):\n     microseconds = val % 1000000\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-10-26T02:20:00.525+0000",
                    "updated": "2017-10-26T02:20:00.525+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13111706/comment/16219859",
                    "id": "16219859",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Resolved by PR https://github.com/apache/arrow/commit/48a6ff856cf4de939f5ced42a09b1b39866efc1e",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2017-10-26T02:22:08.639+0000",
                    "updated": "2017-10-26T02:22:08.639+0000"
                }
            ],
            "maxResults": 14,
            "total": 14,
            "startAt": 0
        },
        "customfield_12311820": "0|i3ln3z:",
        "customfield_12314139": null
    }
}