{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13323760",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13323760",
    "key": "ARROW-9812",
    "fields": {
        "fixVersions": [],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/11",
            "id": "11",
            "description": "",
            "name": "Done"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12599750",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12599750",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13330418",
                    "key": "ARROW-10151",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13330418",
                    "fields": {
                        "summary": "[Python] Add support MapArray to_pandas conversion",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": null,
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/6",
            "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
            "name": "Closed",
            "id": "6",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=mayuropensource",
            "name": "mayuropensource",
            "key": "mayuropensource",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
            },
            "displayName": "Mayur Srivastava",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=mayuropensource",
            "name": "mayuropensource",
            "key": "mayuropensource",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
            },
            "displayName": "Mayur Srivastava",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-9812/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@293101d[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2b2c9667[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6dd674aa[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@228658d9[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@553401ca[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@5e6d7879[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@40243a[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@1010f47b[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@655f9de2[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@50c48f80[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@51a41056[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@46808535[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Jun 23 14:14:37 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-06-23T14:14:55.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-9812/watchers",
            "watchCount": 6,
            "isWatching": false
        },
        "created": "2020-08-20T14:07:18.000+0000",
        "updated": "2021-06-23T14:14:55.000+0000",
        "timeoriginalestimate": null,
        "description": "Hi,\r\n\r\nI'm having problems using 'map' data type in Arrow/parquet/pandas.\r\n\r\nI'm able to convert a pandas data frame to Arrow with a map data type.\r\n\r\nWhen I write Arrow to Parquet, it seems to work, but I'm not sure if the data type is written correctly.\r\n\r\nWhen I read back Parquet to Arrow, it fails saying \"reading list of structs\" is not supported. It seems that map is stored as list of structs.\r\n\r\nThere are two problems here:\r\n # -Map data type doesn't work from Arrow -> Pandas-. Fixed in ARROW-10151\r\n # Map data type doesn't get written to or read from Arrow -> Parquet.\r\n\r\nQuestions:\r\n\r\n1. Am I doing something wrong? Is there a way to get these to work?\u00a0\r\n\r\n2. If these are unsupported features, will this be fixed in a future version? Do you plans or ETA?\r\n\r\nThe following code example (followed by output) should demonstrate the issues:\r\n\r\nI'm using Arrow 1.0.0 and Pandas 1.0.5.\r\n\r\nThanks!\r\n\r\nMayur\r\n{code:java}\r\n$ cat arrowtest.py\r\n\r\nimport pyarrow as pa\r\nimport pandas as pd\r\nimport pyarrow.parquet as pq\r\nimport traceback as tb\r\nimport io\r\n\r\nprint(f'PyArrow Version = {pa.__version__}')\r\nprint(f'Pandas Version = {pd.__version__}')\r\n\r\ndf1 = pd.DataFrame({'a': [[('b', '2')]]})\r\nprint(f'df1')\r\nprint(f'{df1}')\r\n\r\nprint(f'Pandas -> Arrow')\r\ntry:\r\n    t1 = pa.Table.from_pandas(df1, schema=pa.schema([pa.field('a', pa.map_(pa.string(), pa.string()))]))\r\n    print('PASSED')\r\n    print(t1)\r\nexcept:\r\n    print(f'FAILED')\r\n    tb.print_exc()\r\n\r\nprint(f'Arrow -> Pandas')\r\ntry:\r\n    t1.to_pandas()\r\n    print('PASSED')\r\nexcept:\r\n    print(f'FAILED')\r\n    tb.print_exc()print(f'Arrow -> Parquet')\r\n\r\nfh = io.BytesIO()\r\ntry:\r\n    pq.write_table(t1, fh)\r\n    print('PASSED')\r\nexcept:\r\n    print('FAILED')\r\n    tb.print_exc()\r\n    \r\nprint(f'Parquet -> Arrow')\r\ntry:\r\n    t2 = pq.read_table(source=fh)\r\n    print('PASSED')\r\n    print(t2)\r\nexcept:\r\n    print('FAILED')\r\n    tb.print_exc()\r\n{code}\r\n{code:java}\r\n$ python3.6 arrowtest.py\r\nPyArrow Version = 1.0.0 \r\nPandas Version = 1.0.5 \r\ndf1 \r\na 0 [(b, 2)] \r\n\u00a0\r\nPandas -> Arrow \r\nPASSED \r\npyarrow.Table \r\na: map<string, string>\r\n child 0, entries: struct<key: string not null, value: string> not null\r\n child 0, key: string not null\r\n child 1, value: string \r\n\u00a0\r\nArrow -> Pandas \r\nFAILED \r\nTraceback (most recent call last):\r\nFile \"arrowtest.py\", line 26, in <module> t1.to_pandas() \r\nFile \"pyarrow/array.pxi\", line 715, in pyarrow.lib._PandasConvertible.to_pandas \r\nFile \"pyarrow/table.pxi\", line 1565, in pyarrow.lib.Table._to_pandas File \"XXX/pyarrow/1/0/x/dist/lib/python3.6/pyarrow/pandas_compat.py\", line 779, in table_to_blockmanager blocks = _table_to_blocks(options, table, categories, ext_columns_dtypes) \r\nFile \"XXX/pyarrow/1/0/x/dist/lib/python3.6/pyarrow/pandas_compat.py\", line 1115, in _table_to_blocks list(extension_columns.keys())) \r\nFile \"pyarrow/table.pxi\", line 1028, in pyarrow.lib.table_to_blocks File \"pyarrow/error.pxi\", line 105, in pyarrow.lib.check_status pyarrow.lib.ArrowNotImplementedError: No known equivalent Pandas block for Arrow data of type map<string, string> is known. \r\n\u00a0\r\nArrow -> Parquet \r\nPASSED \r\n\u00a0\r\nParquet -> Arrow \r\nFAILED \r\nTraceback (most recent call last): File \"arrowtest.py\", line 43, in <module> t2 = pq.read_table(source=fh) \r\nFile \"XXX/pyarrow/1/0/x/dist/lib/python3.6/pyarrow/parquet.py\", line 1586, in read_table use_pandas_metadata=use_pandas_metadata) \r\nFile \"XXX/pyarrow/1/0/x/dist/lib/python3.6/pyarrow/parquet.py\", line 1474, in read use_threads=use_threads \r\nFile \"pyarrow/_dataset.pyx\", line 399, in pyarrow._dataset.Dataset.to_table \r\nFile \"pyarrow/_dataset.pyx\", line 1994, in pyarrow._dataset.Scanner.to_table \r\nFile \"pyarrow/error.pxi\", line 122, in pyarrow.lib.pyarrow_internal_check_status \r\nFile \"pyarrow/error.pxi\", line 105, in pyarrow.lib.check_status pyarrow.lib.ArrowNotImplementedError: Reading lists of structs from Parquet files not yet supported: key_value: list<key_value: struct<key: string not null, value: string> not null> not null\r\n{code}\r\nUpdated to indicate to Pandas conversion done, but not yet for Parquet.",
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python] Map data types doesn't work from Arrow to Parquet",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13323760/comment/17181931",
                    "id": "17181931",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=mayuropensource",
                        "name": "mayuropensource",
                        "key": "mayuropensource",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
                        },
                        "displayName": "Mayur Srivastava",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "If I use python dict in pandas and convert to arrow, I get a struct data type in arrow.\u00a0\r\n\r\nAnother question is that how pandas type should get converted to arrow?\r\n{code:java}\r\n# Try with Python dict                                                                                                                                        \r\nprint('Try with Python dict:')\r\ndf2 = pd.DataFrame({'a': [{'b': 2}]})\r\nprint(df2)\r\n\r\nt3 = pa.Table.from_pandas(df2)\r\nprint(t3)\r\n\r\nprint(t3.to_pandas())\r\n{code}\r\n{code:java}\r\nTry with Python dict:\r\n          a\r\n0  {'b': 2}\r\npyarrow.Table\r\na: struct<b: int64>\r\n  child 0, b: int64\r\n          a\r\n0  {'b': 2}\r\n{code}",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=mayuropensource",
                        "name": "mayuropensource",
                        "key": "mayuropensource",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
                        },
                        "displayName": "Mayur Srivastava",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2020-08-21T14:59:09.355+0000",
                    "updated": "2020-08-21T14:59:09.355+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13323760/comment/17183073",
                    "id": "17183073",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
                        "name": "jorisvandenbossche",
                        "key": "jorisvandenbossche",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Joris Van den Bossche",
                        "active": true,
                        "timeZone": "Europe/Brussels"
                    },
                    "body": "[~mayuropensource] thanks for the issue. As you correctly noted, there are two different issues at play:\r\n\r\nbq. 1. Map data type doesn't work from Arrow -> Pandas.\r\n\r\nAs the error message indicates, this conversion is not yet implemented. \r\nI don't think someone is actively working on this, and contributions in this area are certainly welcome. \r\n\r\nbq. 2. Map data type doesn't get written to or read from Arrow -> Parquet.\r\n\r\nIt does get written (as a list of structs, which is how the Map Type is represented, see https://github.com/apache/arrow/blob/3fb1356ed2e4de7b00decbba081369019b9598a7/format/Schema.fbs#L98-L125). However, such mixture of nested lists and structs is not yet supported on the read side. This is actively being worked on (see ARROW-1644), and hopefully this will work in the next Arrow version.\r\n\r\nSo you are not directly doing something wrong, but the Map type is not yet very well supported in the Parquet and pandas conversions. Using a struct type, as in your last example, is typically better supported (simple structs are supported both in Parquet IO as in conversion to pandas)",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jorisvandenbossche",
                        "name": "jorisvandenbossche",
                        "key": "jorisvandenbossche",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Joris Van den Bossche",
                        "active": true,
                        "timeZone": "Europe/Brussels"
                    },
                    "created": "2020-08-24T08:48:06.836+0000",
                    "updated": "2020-08-24T08:48:06.836+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13323760/comment/17184108",
                    "id": "17184108",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=mayuropensource",
                        "name": "mayuropensource",
                        "key": "mayuropensource",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
                        },
                        "displayName": "Mayur Srivastava",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Thanks [~jorisvandenbossche]\r\n\r\nWhen ARROW-1644 is done, we can start using for non-pandas use cases.\r\n\r\n\u00a0\r\n\r\n\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=mayuropensource",
                        "name": "mayuropensource",
                        "key": "mayuropensource",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
                        },
                        "displayName": "Mayur Srivastava",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2020-08-25T14:55:21.768+0000",
                    "updated": "2020-08-25T14:55:21.768+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13323760/comment/17205731",
                    "id": "17205731",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bryanc",
                        "name": "bryanc",
                        "key": "bryanc",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bryanc&avatarId=23479",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bryanc&avatarId=23479",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bryanc&avatarId=23479",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bryanc&avatarId=23479"
                        },
                        "displayName": "Bryan Cutler",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "I started work on ARROW-10151 for the Pandas conversion. Let's keep this open for Parquet conversion after ARROW-1644.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bryanc",
                        "name": "bryanc",
                        "key": "bryanc",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bryanc&avatarId=23479",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bryanc&avatarId=23479",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bryanc&avatarId=23479",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bryanc&avatarId=23479"
                        },
                        "displayName": "Bryan Cutler",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2020-10-01T18:10:33.982+0000",
                    "updated": "2020-10-01T18:10:47.885+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13323760/comment/17211270",
                    "id": "17211270",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=admrsh",
                        "name": "admrsh",
                        "key": "admrsh",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=admrsh&avatarId=44655",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=admrsh&avatarId=44655",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=admrsh&avatarId=44655",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=admrsh&avatarId=44655"
                        },
                        "displayName": "Derek Marsh",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Hi all,\r\n\r\nI've searched existing issues as best I can and this issue mentions \"1. Map data type doesn't work from Arrow -> Pandas.\"\r\n\r\nI built the project from master at roughly 15:00 UTC today (October 9) and added one line before I built pyarrow:\r\n{code:java}\r\n    _Type_MAP: np.object_,{code}\r\nafter this line:\u00a0[types.pxi|https://github.com/apache/arrow/blob/master/python/pyarrow/types.pxi#L49]\r\n\r\nThis enables Table.to_pandas() to convert a MapType to List[Tuple[...]]\r\n{code:java}\r\n>>> import pyarrow as pa\r\n>>> d = pa.map_(pa.int64(), pa.float64())\r\n>>> d.to_pandas_dtype()\r\n<class 'numpy.object_'>{code}\r\n{code:java}\r\n>>> tbl\r\npyarrow.Table\r\nstored_on: double\r\nvals: map<int64, double>\r\n child 0, entries: struct<key: int64 not null, value: double> not null\r\n child 0, key: int64 not null\r\n child 1, value: double\r\n>>> tbl.to_pydict()\r\n{'stored_on': [1585347700.204351], 'vals': [[(514, 12.0), (515, 1300.0), (519, 125.0), (2978, 126.0), (3236, 13107.0), (3237, 1.0), (3238, 1.0), (3239, 3.0), (3240, 3.0)]]}\r\n>>> df = tbl.to_pandas()\r\n>>> df.vals\r\n0 [(514, 12.0), (515, 1300.0), (519, 125.0), (29...\r\nName: vals, dtype: object\r\n>>> df.vals.iloc[0]\r\n[(514, 12.0), (515, 1300.0), (519, 125.0), (2978, 126.0), (3236, 13107.0), (3237, 1.0), (3238, 1.0), (3239, 3.0), (3240, 3.0)]\r\n>>> df.vals.iloc[0][0]\r\n(514, 12.0){code}\r\nI understand this is a very trivial working example, but am interested what any maintainers think about this solution and if it merits further testing/consideration.\r\n\r\nThanks.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=admrsh",
                        "name": "admrsh",
                        "key": "admrsh",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=admrsh&avatarId=44655",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=admrsh&avatarId=44655",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=admrsh&avatarId=44655",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=admrsh&avatarId=44655"
                        },
                        "displayName": "Derek Marsh",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2020-10-09T18:31:55.785+0000",
                    "updated": "2020-10-09T18:33:05.724+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13323760/comment/17211472",
                    "id": "17211472",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bryanc",
                        "name": "bryanc",
                        "key": "bryanc",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bryanc&avatarId=23479",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bryanc&avatarId=23479",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bryanc&avatarId=23479",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bryanc&avatarId=23479"
                        },
                        "displayName": "Bryan Cutler",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Hi [~admrsh] , I implemented Map types to Pandas conversion recently in ARROW-10151, but looks like I forgot that line you pointed out in {{types.pxi}}. That should be in for the upcoming release, if you are able to do a PR for it's cut - likely today or tomorrow - that would be great. Otherwise, I can go ahead and add it. I will update this Jira to reflect Pandas conversion is complete. I made ARROW-10260 to add {{to_pandas_dtype}}. Thanks!",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=bryanc",
                        "name": "bryanc",
                        "key": "bryanc",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=bryanc&avatarId=23479",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=bryanc&avatarId=23479",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=bryanc&avatarId=23479",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=bryanc&avatarId=23479"
                        },
                        "displayName": "Bryan Cutler",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2020-10-09T23:45:11.031+0000",
                    "updated": "2020-10-09T23:50:32.443+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13323760/comment/17368235",
                    "id": "17368235",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "The test script in the issue description works on git master. I'm going to close this issue.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-06-23T14:14:37.219+0000",
                    "updated": "2021-06-23T14:14:37.219+0000"
                }
            ],
            "maxResults": 7,
            "total": 7,
            "startAt": 0
        },
        "customfield_12311820": "0|z0hy9c:",
        "customfield_12314139": null
    }
}