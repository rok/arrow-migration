{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13360694",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694",
    "key": "ARROW-11766",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349493",
                "id": "12349493",
                "description": "",
                "name": "4.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-04-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=pachamaltese",
            "name": "pachamaltese",
            "key": "pachamaltese",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pachamaltese&avatarId=45930",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pachamaltese&avatarId=45930",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pachamaltese&avatarId=45930",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pachamaltese&avatarId=45930"
            },
            "displayName": "Mauricio 'Pach\u00e1' Vargas Sep\u00falveda",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
            "name": "jonkeane",
            "key": "jonkeane",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
            },
            "displayName": "Jonathan Keane",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=jonkeane",
            "name": "jonkeane",
            "key": "jonkeane",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34057",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34057",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34057",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34057"
            },
            "displayName": "Jonathan Keane",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 40800,
            "total": 40800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 40800,
            "total": 40800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11766/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 68,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/568376",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on a change in pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#discussion_r596910856\n\n\n\n##########\nFile path: r/R/feather.R\n##########\n@@ -191,16 +199,16 @@ read_feather <- function(file, col_select = NULL, as_data_frame = TRUE, ...) {\n #' @export\n #' @include arrow-package.R\n FeatherReader <- R6Class(\"FeatherReader\", inherit = ArrowObject,\n-  public = list(\n-    Read = function(columns) {\n-      ipc___feather___Reader__Read(self, columns)\n-    }\n-  ),\n-  active = list(\n-    # versions are officially 2 for V1 and 3 for V2 :shrug:\n-    version = function() ipc___feather___Reader__version(self) - 1L,\n-    column_names = function() ipc___feather___Reader__column_names(self)\n-  )\n+                         public = list(\n\nReview comment:\n       **arreglar las tabulaciones !!!!!!**\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-18T14:14:42.147+0000",
                    "updated": "2021-03-18T14:14:42.147+0000",
                    "started": "2021-03-18T14:14:42.146+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "568376",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/568609",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#issuecomment-802226160\n\n\n   https://issues.apache.org/jira/browse/ARROW-11766\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-18T19:27:06.820+0000",
                    "updated": "2021-03-18T19:27:06.820+0000",
                    "started": "2021-03-18T19:27:06.820+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "568609",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/568640",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#discussion_r597270252\n\n\n\n##########\nFile path: r/tests/testthat/test-parquet.R\n##########\n@@ -234,3 +234,17 @@ test_that(\"ParquetFileReader $ReadRowGroup(s) methods\", {\n   expect_true(reader$ReadRowGroups(c(0, 1), 0) == Table$create(x = 1:20))\n   expect_error(reader$ReadRowGroups(c(0, 1), 1))\n })\n+\n+test_that(\"Error messages are shown when the compression algorithm lz4/snappy\n+          is not found\", {\n+  skip_on_cran()\n+  if (codec_is_available(\"snappy\")) {\n+    d <- read_parquet(system.file(\"extdata\", \"pets.parquet\", package = \"arrow\"))\n\nReview comment:\n       This file isn't necessary because the example parquet file in `inst/` is snappy compressed, so you can use that. (Look for `skip_if_not_available(\"snappy\")` throughout this file.)\n\n##########\nFile path: r/R/feather.R\n##########\n@@ -154,7 +154,15 @@ read_feather <- function(file, col_select = NULL, as_data_frame = TRUE, ...) {\n     vars_select(names(reader), !!col_select)\n   }\n \n-  out <- reader$Read(columns)\n+  out <- tryCatch(\n+    reader$Read(columns),\n+    error = function (e) {\n+      if (grepl(\"Support for codec\", conditionMessage(e))) {\n+        msg <- \"Unsupported compressed format: We suggest either setting the right environment variable to install binaries or setting LIBARROW_MINIMAL=false and then reinstall the package.\"\n\nReview comment:\n       1. Name the compression format\r\n   2. \"setting the right environment variable\" isn't helpful--which is the right one? (Hint: you know the codec from the error message)\n\n##########\nFile path: r/R/feather.R\n##########\n@@ -154,7 +154,15 @@ read_feather <- function(file, col_select = NULL, as_data_frame = TRUE, ...) {\n     vars_select(names(reader), !!col_select)\n   }\n \n-  out <- reader$Read(columns)\n+  out <- tryCatch(\n\nReview comment:\n       I see this same code repeated in 3 places. How about factoring out to a function?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-18T21:58:59.605+0000",
                    "updated": "2021-03-18T21:58:59.605+0000",
                    "started": "2021-03-18T21:58:59.605+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "568640",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/568641",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#issuecomment-802332846\n\n\n   Please rename the PR title to match the JIRA title\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-18T21:59:15.897+0000",
                    "updated": "2021-03-18T21:59:15.897+0000",
                    "started": "2021-03-18T21:59:15.896+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "568641",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/569007",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on a change in pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#discussion_r597841933\n\n\n\n##########\nFile path: r/tests/testthat/test-parquet.R\n##########\n@@ -234,3 +234,17 @@ test_that(\"ParquetFileReader $ReadRowGroup(s) methods\", {\n   expect_true(reader$ReadRowGroups(c(0, 1), 0) == Table$create(x = 1:20))\n   expect_error(reader$ReadRowGroups(c(0, 1), 1))\n })\n+\n+test_that(\"Error messages are shown when the compression algorithm lz4/snappy\n+          is not found\", {\n+  skip_on_cran()\n+  if (codec_is_available(\"snappy\")) {\n+    d <- read_parquet(system.file(\"extdata\", \"pets.parquet\", package = \"arrow\"))\n\nReview comment:\n       thanks, I'll push when this passed the local test\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-19T17:06:16.819+0000",
                    "updated": "2021-03-19T17:06:16.819+0000",
                    "started": "2021-03-19T17:06:16.819+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "569007",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/569055",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on a change in pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#discussion_r597914503\n\n\n\n##########\nFile path: r/tests/testthat/test-parquet.R\n##########\n@@ -234,3 +234,17 @@ test_that(\"ParquetFileReader $ReadRowGroup(s) methods\", {\n   expect_true(reader$ReadRowGroups(c(0, 1), 0) == Table$create(x = 1:20))\n   expect_error(reader$ReadRowGroups(c(0, 1), 1))\n })\n+\n+test_that(\"Error messages are shown when the compression algorithm lz4/snappy\n+          is not found\", {\n+  skip_on_cran()\n+  if (codec_is_available(\"snappy\")) {\n+    d <- read_parquet(system.file(\"extdata\", \"pets.parquet\", package = \"arrow\"))\n\nReview comment:\n       regarding the skip_if_not_available(\"snappy\"), wouldn't we prefer to test and check that the error message is exactly what we want?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-19T19:05:51.416+0000",
                    "updated": "2021-03-19T19:05:51.416+0000",
                    "started": "2021-03-19T19:05:51.416+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "569055",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/569057",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on a change in pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#discussion_r597914767\n\n\n\n##########\nFile path: r/tests/testthat/test-parquet.R\n##########\n@@ -234,3 +234,17 @@ test_that(\"ParquetFileReader $ReadRowGroup(s) methods\", {\n   expect_true(reader$ReadRowGroups(c(0, 1), 0) == Table$create(x = 1:20))\n   expect_error(reader$ReadRowGroups(c(0, 1), 1))\n })\n+\n+test_that(\"Error messages are shown when the compression algorithm lz4/snappy\n+          is not found\", {\n+  skip_on_cran()\n+  if (codec_is_available(\"snappy\")) {\n+    d <- read_parquet(system.file(\"extdata\", \"pets.parquet\", package = \"arrow\"))\n\nReview comment:\n       I ask because codec_is_available(\"snappy\") leaves space for expect_error\r\n   \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-19T19:06:16.903+0000",
                    "updated": "2021-03-19T19:06:16.903+0000",
                    "started": "2021-03-19T19:06:16.902+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "569057",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/569059",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on a change in pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#discussion_r597915031\n\n\n\n##########\nFile path: r/tests/testthat/test-parquet.R\n##########\n@@ -234,3 +234,17 @@ test_that(\"ParquetFileReader $ReadRowGroup(s) methods\", {\n   expect_true(reader$ReadRowGroups(c(0, 1), 0) == Table$create(x = 1:20))\n   expect_error(reader$ReadRowGroups(c(0, 1), 1))\n })\n+\n+test_that(\"Error messages are shown when the compression algorithm lz4/snappy\n+          is not found\", {\n+  skip_on_cran()\n+  if (codec_is_available(\"snappy\")) {\n+    d <- read_parquet(system.file(\"extdata\", \"pets.parquet\", package = \"arrow\"))\n\nReview comment:\n       so far I creates this error (the algorithm name changes):\r\n    Error: Unsupported compressed format 'lz4'. We suggest either setting the right environment variable DARROW_WITH_LZ4=ON to install binaries or setting LIBARROW_MINIMAL=false and then reinstall the package. \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-19T19:06:51.003+0000",
                    "updated": "2021-03-19T19:06:51.003+0000",
                    "started": "2021-03-19T19:06:51.003+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "569059",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/569099",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#discussion_r597950772\n\n\n\n##########\nFile path: r/tests/testthat/test-parquet.R\n##########\n@@ -234,3 +234,17 @@ test_that(\"ParquetFileReader $ReadRowGroup(s) methods\", {\n   expect_true(reader$ReadRowGroups(c(0, 1), 0) == Table$create(x = 1:20))\n   expect_error(reader$ReadRowGroups(c(0, 1), 1))\n })\n+\n+test_that(\"Error messages are shown when the compression algorithm lz4/snappy\n+          is not found\", {\n+  skip_on_cran()\n+  if (codec_is_available(\"snappy\")) {\n+    d <- read_parquet(system.file(\"extdata\", \"pets.parquet\", package = \"arrow\"))\n\nReview comment:\n       My point about `skip_if_not_available(\"snappy\")` is that you can find other tests in this file that use a test file with snappy compression already. I wasn't suggesting that you use it in your test.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-19T20:16:33.069+0000",
                    "updated": "2021-03-19T20:16:33.069+0000",
                    "started": "2021-03-19T20:16:33.068+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "569099",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/569917",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#discussion_r598970871\n\n\n\n##########\nFile path: r/R/feather.R\n##########\n@@ -154,7 +154,10 @@ read_feather <- function(file, col_select = NULL, as_data_frame = TRUE, ...) {\n     vars_select(names(reader), !!col_select)\n   }\n \n-  out <- reader$Read(columns)\n+  out <- tryCatch(\n+    reader$Read(columns),\n+    error = function(e) { read_compressed_error(e) }\n\nReview comment:\n       I don't see a `read_compressed_error()` function in this PR, and since the tests seem to have passed, that means that none of the regular CI jobs exercises this code path. So in addition to supplying the missing code, you should think about which of our nightly test jobs would exercise this condition. Indeed, you might want to run that job on this PR now, before you fix the missing code, just to demonstrate that it is failing now. That way when you run it after fixing your code, we'll see that the issue has been fixed because the test passes.\n\n##########\nFile path: r/tests/testthat/test-feather.R\n##########\n@@ -196,3 +196,19 @@ test_that(\"Character vectors > 2GB can write to feather\", {\n })\n \n unlink(feather_file)\n+\n+ft_file <- system.file(\"v0.7.1.feather\", package = \"arrow\")\n+\n+test_that(\"Error messages are shown when the compression algorithm lz4\n+          is not found\", {\n+  skip_on_cran()\n\nReview comment:\n       Why are these tests `skip_on_cran()`?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-22T18:23:27.600+0000",
                    "updated": "2021-03-22T18:23:27.600+0000",
                    "started": "2021-03-22T18:23:27.599+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "569917",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/575145",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#issuecomment-811474646\n\n\n   @github-actions crossbow submit test-r-minimal-build\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-31T21:23:14.411+0000",
                    "updated": "2021-03-31T21:23:14.411+0000",
                    "started": "2021-03-31T21:23:14.410+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "575145",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/575280",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#issuecomment-811590681\n\n\n   Revision: ea5949e2e0a11fd0e60d791a1799f1aebc5982d8\n   \n   Submitted crossbow builds: [ursacomputing/crossbow @ actions-252](https://github.com/ursacomputing/crossbow/branches/all?query=actions-252)\n   \n   |Task|Status|\n   |----|------|\n   |test-r-minimal-build|[![Azure](https://dev.azure.com/ursacomputing/crossbow/_apis/build/status/ursacomputing.crossbow?branchName=actions-252-azure-test-r-minimal-build)](https://dev.azure.com/ursacomputing/crossbow/_build/latest?definitionId=1&branchName=actions-252-azure-test-r-minimal-build)|\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-01T02:25:32.140+0000",
                    "updated": "2021-04-01T02:25:32.140+0000",
                    "started": "2021-04-01T02:25:32.140+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "575280",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/575589",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#issuecomment-812016120\n\n\n   @github-actions crossbow submit test-r-minimal-build\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-01T16:15:28.154+0000",
                    "updated": "2021-04-01T16:15:28.154+0000",
                    "started": "2021-04-01T16:15:28.154+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "575589",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/575617",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#discussion_r605817747\n\n\n\n##########\nFile path: r/R/feather.R\n##########\n@@ -144,17 +144,20 @@ write_feather <- function(x,\n #' }\n read_feather <- function(file, col_select = NULL, as_data_frame = TRUE, ...) {\n   if (!inherits(file, \"RandomAccessFile\")) {\n-    file <- make_readable_file(file)\n+    file <- arrow:::make_readable_file(file)\n\nReview comment:\n       What's up with `arrow:::` here? this shouldn't be necessary since we are already in arrow's private namespace, and will cause issues during R CMD check\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-01T17:12:25.629+0000",
                    "updated": "2021-04-01T17:12:25.629+0000",
                    "started": "2021-04-01T17:12:25.629+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "575617",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/575620",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#discussion_r605821774\n\n\n\n##########\nFile path: r/R/util.R\n##########\n@@ -45,3 +45,16 @@ is_list_of <- function(object, class) {\n }\n \n empty_named_list <- function() structure(list(), .Names = character(0))\n+\n+read_compressed_error <- function(e) {\n+  e <- as.character(e)\n+  alg <- regmatches(e, gregexpr(\"(?<=\\')(.*?)(?=\\')\", e, perl = TRUE))[[1]]\n\nReview comment:\n       Could you post an example of what the message is that you're matching here? I think the regex here might be overly broad and need some refinement\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-01T17:19:25.378+0000",
                    "updated": "2021-04-01T17:19:25.378+0000",
                    "started": "2021-04-01T17:19:25.377+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "575620",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/575662",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on a change in pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#discussion_r605854746\n\n\n\n##########\nFile path: r/R/util.R\n##########\n@@ -45,3 +45,16 @@ is_list_of <- function(object, class) {\n }\n \n empty_named_list <- function() structure(list(), .Names = character(0))\n+\n+read_compressed_error <- function(e) {\n+  e <- as.character(e)\n+  alg <- regmatches(e, gregexpr(\"(?<=\\')(.*?)(?=\\')\", e, perl = TRUE))[[1]]\n\nReview comment:\n       yes, the error is \r\n   ```\r\n   Error: NotImplemented: Support for codec 'lz4' not built\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-01T18:14:45.954+0000",
                    "updated": "2021-04-01T18:14:45.954+0000",
                    "started": "2021-04-01T18:14:45.953+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "575662",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/575663",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pachamaltese commented on a change in pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#discussion_r605854866\n\n\n\n##########\nFile path: r/R/util.R\n##########\n@@ -45,3 +45,16 @@ is_list_of <- function(object, class) {\n }\n \n empty_named_list <- function() structure(list(), .Names = character(0))\n+\n+read_compressed_error <- function(e) {\n+  e <- as.character(e)\n+  alg <- regmatches(e, gregexpr(\"(?<=\\')(.*?)(?=\\')\", e, perl = TRUE))[[1]]\n\nReview comment:\n       therefore I keep what's inside ' '\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-01T18:14:58.970+0000",
                    "updated": "2021-04-01T18:14:58.970+0000",
                    "started": "2021-04-01T18:14:58.970+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "575663",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/575668",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#discussion_r605862157\n\n\n\n##########\nFile path: r/R/util.R\n##########\n@@ -45,3 +45,16 @@ is_list_of <- function(object, class) {\n }\n \n empty_named_list <- function() structure(list(), .Names = character(0))\n+\n+read_compressed_error <- function(e) {\n+  e <- as.character(e)\n+  alg <- regmatches(e, gregexpr(\"(?<=\\')(.*?)(?=\\')\", e, perl = TRUE))[[1]]\n\nReview comment:\n       OK, we should look for a bit more than that that. Specifically we should check that the error is about a codec of some sort, and only if it is then extract the codec out and follow this path. We want to pass on errors that are not related to codecs not being built. Look at the following:\r\n   \r\n   ```\r\n   > arrow::read_feather(system.file(\"v0.7.1.parquet\", package = \"arrow\"))\r\n   Error: Invalid: Not a Feather V1 or Arrow IPC file\r\n   ```\r\n   \r\n   Also, if I'm looking up the regex you have I see some look ahead / look behind assertions, can you explain what those are doing in there?\r\n   \r\n   \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-01T18:27:29.318+0000",
                    "updated": "2021-04-01T18:27:29.318+0000",
                    "started": "2021-04-01T18:27:29.318+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "575668",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/575795",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#issuecomment-812215122\n\n\n   Revision: 9169e0c5f97ebf6d993388349ca4882427d94b46\n   \n   Submitted crossbow builds: [ursacomputing/crossbow @ actions-253](https://github.com/ursacomputing/crossbow/branches/all?query=actions-253)\n   \n   |Task|Status|\n   |----|------|\n   |test-r-minimal-build|[![Azure](https://dev.azure.com/ursacomputing/crossbow/_apis/build/status/ursacomputing.crossbow?branchName=actions-253-azure-test-r-minimal-build)](https://dev.azure.com/ursacomputing/crossbow/_build/latest?definitionId=1&branchName=actions-253-azure-test-r-minimal-build)|\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-01T22:40:55.774+0000",
                    "updated": "2021-04-01T22:40:55.774+0000",
                    "started": "2021-04-01T22:40:55.774+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "575795",
                    "issueId": "13360694"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/worklog/576108",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "jonkeane commented on a change in pull request #9743:\nURL: https://github.com/apache/arrow/pull/9743#discussion_r606244216\n\n\n\n##########\nFile path: r/R/util.R\n##########\n@@ -45,3 +45,16 @@ is_list_of <- function(object, class) {\n }\n \n empty_named_list <- function() structure(list(), .Names = character(0))\n+\n+read_compressed_error <- function(e) {\n+  e <- as.character(e)\n+  alg <- regmatches(e, gregexpr(\"(?<=\\')(.*?)(?=\\')\", e, perl = TRUE))[[1]]\n+  msg <- paste(\"Unsupported compressed format\", alg,\n+    \"\\nPlease visit https://arrow.apache.org/docs/r/articles/install.html\",\n+    \"\\nfor an explanation about optional features such as compression libraries enabled.\",\n\nReview comment:\n       ```suggestion\r\n       \"\\nfor information about troubleshooting installation issues.\",\r\n   ```\n\n##########\nFile path: r/R/util.R\n##########\n@@ -45,3 +45,16 @@ is_list_of <- function(object, class) {\n }\n \n empty_named_list <- function() structure(list(), .Names = character(0))\n+\n+read_compressed_error <- function(e) {\n+  e <- as.character(e)\n+  alg <- regmatches(e, gregexpr(\"(?<=\\')(.*?)(?=\\')\", e, perl = TRUE))[[1]]\n+  msg <- paste(\"Unsupported compressed format\", alg,\n+    \"\\nPlease visit https://arrow.apache.org/docs/r/articles/install.html\",\n+    \"\\nfor an explanation about optional features such as compression libraries enabled.\",\n+    \"\\nSetting LIBARROW_MINIMAL=false and then building the package from source fixes this,\",\n+    sprintf(\"\\nor building libarrow with -DARROW_WITH_%s=ON and reinstalling the package.\",\n+            toupper(alg))\n+    )\n\nReview comment:\n       `stop` will `paste` these together, so you don't need to wrap this whole thing in `paste`.\n\n##########\nFile path: r/R/feather.R\n##########\n@@ -154,7 +154,15 @@ read_feather <- function(file, col_select = NULL, as_data_frame = TRUE, ...) {\n     vars_select(names(reader), !!col_select)\n   }\n \n-  out <- reader$Read(columns)\n+  out <- tryCatch(\n\nReview comment:\n       This tryCatch + function is an improvement, but is there a reason you didn't include the `tryCatch` in your function instead of repeating it? Something like\r\n   \r\n   ```\r\n   ensure_compression_available <- function(expr) {\r\n     tryCatch(\r\n       expr,\r\n       error = ...\r\n     )\r\n   }\r\n   \r\n   ensure_compression_available(reader$Read(columns))\r\n   ```\r\n   \r\n   It would also be nice to have a slightly more clear name for what the function is doing (like `ensure_compression_available`) instead of `ensure_compression_available`.\n\n##########\nFile path: r/R/util.R\n##########\n@@ -45,3 +45,16 @@ is_list_of <- function(object, class) {\n }\n \n empty_named_list <- function() structure(list(), .Names = character(0))\n+\n+read_compressed_error <- function(e) {\n+  e <- as.character(e)\n+  alg <- regmatches(e, gregexpr(\"(?<=\\')(.*?)(?=\\')\", e, perl = TRUE))[[1]]\n+  msg <- paste(\"Unsupported compressed format\", alg,\n+    \"\\nPlease visit https://arrow.apache.org/docs/r/articles/install.html\",\n+    \"\\nfor an explanation about optional features such as compression libraries enabled.\",\n+    \"\\nSetting LIBARROW_MINIMAL=false and then building the package from source fixes this,\",\n+    sprintf(\"\\nor building libarrow with -DARROW_WITH_%s=ON and reinstalling the package.\",\n\nReview comment:\n       These two lines should be:\r\n   \r\n   \"Try setting the environment variable LIBARROW_MINIMAL=false and reinstalling for a more complete installation (including {compression}) or setting ARROW_WITH_{compression}=ON and reinstalling to enable support for this codec.\"\r\n   \r\n   Note that for everyone who is not a developer in this situation, they will be end up triggering `inst/build_arrow_static.sh` which includes a line that [checks that environment variable specifically to enable the correct cmake flag](https://github.com/apache/arrow/blob/master/r/inst/build_arrow_static.sh#L63). We want to make this as easy as possible for someone so we want to recommend they do that instead of asking them to use cmake themselves, learn about all the flags, etc. \r\n   \r\n   You should try this out yourself by setting `ARROW_WITH_LZ4=ON` and then using `install.packages(\"arrow\")` and then checking that lz4 is enabled (or any of the other flags that we turn on/off for our minimal builds. \n\n##########\nFile path: r/R/util.R\n##########\n@@ -45,3 +45,16 @@ is_list_of <- function(object, class) {\n }\n \n empty_named_list <- function() structure(list(), .Names = character(0))\n+\n+read_compressed_error <- function(e) {\n+  e <- as.character(e)\n+  alg <- regmatches(e, gregexpr(\"(?<=\\')(.*?)(?=\\')\", e, perl = TRUE))[[1]]\n+  msg <- paste(\"Unsupported compressed format\", alg,\n+    \"\\nPlease visit https://arrow.apache.org/docs/r/articles/install.html\",\n+    \"\\nfor an explanation about optional features such as compression libraries enabled.\",\n+    \"\\nSetting LIBARROW_MINIMAL=false and then building the package from source fixes this,\",\n+    sprintf(\"\\nor building libarrow with -DARROW_WITH_%s=ON and reinstalling the package.\",\n+            toupper(alg))\n+    )\n+  stop(msg)\n\nReview comment:\n       Could you add `call. = FALSE` here so the call isn't printed \u2014 I don't think it will be particularly useful here. \n\n##########\nFile path: r/tests/testthat/test-parquet.R\n##########\n@@ -234,3 +234,16 @@ test_that(\"ParquetFileReader $ReadRowGroup(s) methods\", {\n   expect_true(reader$ReadRowGroups(c(0, 1), 0) == Table$create(x = 1:20))\n   expect_error(reader$ReadRowGroups(c(0, 1), 1))\n })\n+\n+test_that(\"Error messages are shown when the compression algorithm lz4/snappy\n+          is not found\", {\n+  if (codec_is_available(\"snappy\")) {\n+    d <- read_parquet(pq_file)\n+    expect_is(d, \"data.frame\")\n+  } else {\n+    expect_error(\n+      read_parquet(pq_file),\n+      \"Unsupported compressed format\"\n+    )\n\nReview comment:\n       I don't think that the `else` branch of this test will ever be exercised. On our minimal build test we disable (among other things) both [snappy](https://dev.azure.com/ursacomputing/crossbow/_build/results?buildId=2724&view=logs&j=0da5d1d9-276d-5173-c4c4-9d4d4ed14fdb&t=6c939d89-0d1a-51f2-8b30-091a7a82e98c&l=309) and [parquet](https://dev.azure.com/ursacomputing/crossbow/_build/results?buildId=2724&view=logs&j=0da5d1d9-276d-5173-c4c4-9d4d4ed14fdb&t=6c939d89-0d1a-51f2-8b30-091a7a82e98c&l=248) on that build. And then also note that [this entire file is skipped if parquet is not available.](https://github.com/apache/arrow/blob/master/r/tests/testthat/test-parquet.R#L18).\r\n   \r\n   Though, if this test did run in an environment where both parquet and snappy are disabled, it shouldn't be caught and talk about compression codecs, it should mention that parquet support was not built instead (see [my comment above](https://github.com/apache/arrow/pull/9743/files#r605862157) about that).\r\n   \n\n##########\nFile path: r/tests/testthat/test-feather.R\n##########\n@@ -196,3 +196,18 @@ test_that(\"Character vectors > 2GB can write to feather\", {\n })\n \n unlink(feather_file)\n+\n+ft_file <- system.file(\"v0.7.1.feather\", package = \"arrow\")\n\nReview comment:\n       It looks like you added this feather file? That's shouldn't actually be necessary. We have a number of feather files with different compression codecs at https://github.com/apache/arrow/tree/master/r/tests/testthat/golden-files. Please use one those if possible.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-02T14:08:29.377+0000",
                    "updated": "2021-04-02T14:08:29.377+0000",
                    "started": "2021-04-02T14:08:29.377+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "576108",
                    "issueId": "13360694"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 40800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@578fb38[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1d94f72[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7221364c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@39c855a5[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2327a9be[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@6123f0f[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7d7aead7[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6e4fda0[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1810de9b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@fed70d1[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@256b0fa9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@4c3ef59[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 40800,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Apr 09 21:27:57 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-04-09T21:27:57.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11766/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2021-02-24T17:27:10.000+0000",
        "updated": "2021-04-09T21:28:05.000+0000",
        "timeoriginalestimate": null,
        "description": "Could this be the source of [errors like|https://github.com/arrow-interviewing/interview-question-1-Mauricio-Vargas-Sepulveda/pull/1/files#diff-c95526be36be633299f767ecc0377b7617d787f628a9e3a9163455e8520b7b9cR8] {{Error: NotImplemented: Support for codec 'lz4' not built}} after installing from CRAN?\r\n\r\n\r\nA few more details:\r\n\r\nThe default behavior (when neither {{LIBARROW_BINARY=true}} nor {{NOT_CRAN=true}}) is to build the arrow c++ libraries from source. And the default for building from source does not include all of the optional features and compression libraries (unless one sets {{LIBARROW_MINIMAL=false}}). \r\n\r\nCould we improve the error messaging that suggest either setting the right environment variable to install binaries (and then reinstall) or setting {{LIBARROW_MINIMAL=false}} (and then reinstall), possibly with a link to https://arrow.apache.org/docs/r/articles/install.html to help people see other possible ways to resolve the installation issue.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "11h 20m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 40800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] Better handling for missing compression codecs on Linux",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/comment/17300910",
                    "id": "17300910",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "This particular error about compression codecs is in practice probably only going to come from {{read_feather}} and {{read_parquet}}, so we can wrap the line that would throw that message in a {{tryCatch}} and if {{grepl(\"Support for codec\", conditionMessage(e))}} raise an error with a more helpful message.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2021-03-13T16:10:01.954+0000",
                    "updated": "2021-03-13T16:10:01.954+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13360694/comment/17318336",
                    "id": "17318336",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Issue resolved by pull request 9893\n[https://github.com/apache/arrow/pull/9893]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2021-04-09T21:27:57.333+0000",
                    "updated": "2021-04-09T21:27:57.333+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z0o11c:",
        "customfield_12314139": null
    }
}