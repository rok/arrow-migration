{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13198354",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13198354",
    "key": "ARROW-3788",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12343858",
                "id": "12343858",
                "description": "",
                "name": "0.12.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-01-20"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=kou",
            "name": "kou",
            "key": "kou",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kou&avatarId=30762",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kou&avatarId=30762",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kou&avatarId=30762",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kou&avatarId=30762"
            },
            "displayName": "Kouhei Sutou",
            "active": true,
            "timeZone": "Asia/Tokyo"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12334104",
                "id": "12334104",
                "name": "Ruby"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=kou",
            "name": "kou",
            "key": "kou",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kou&avatarId=30762",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kou&avatarId=30762",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kou&avatarId=30762",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kou&avatarId=30762"
            },
            "displayName": "Kouhei Sutou",
            "active": true,
            "timeZone": "Asia/Tokyo"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=kou",
            "name": "kou",
            "key": "kou",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kou&avatarId=30762",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kou&avatarId=30762",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kou&avatarId=30762",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kou&avatarId=30762"
            },
            "displayName": "Kouhei Sutou",
            "active": true,
            "timeZone": "Asia/Tokyo"
        },
        "aggregateprogress": {
            "progress": 5400,
            "total": 5400,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 5400,
            "total": 5400,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3788/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 9,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13198354/worklog/165909",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou opened a new pull request #2961: ARROW-3788: [Ruby] Add support for CSV parser written in C++\nURL: https://github.com/apache/arrow/pull/2961\n \n \n   This is disabled by default because value conversion feature isn't enough for now.\r\n   We can enable it by specifying `:use_threads` option explicitly:\r\n   \r\n   ```ruby\r\n   Arrow::Table.load(\"xxx.csv\", use_threads: true)\r\n   ```\r\n   \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-14T14:57:47.607+0000",
                    "updated": "2018-11-14T14:57:47.607+0000",
                    "started": "2018-11-14T14:57:47.606+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "165909",
                    "issueId": "13198354"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13198354/worklog/165910",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on issue #2961: ARROW-3788: [Ruby] Add support for CSV parser written in C++\nURL: https://github.com/apache/arrow/pull/2961#issuecomment-438690778\n \n \n   @shiro615 Can you review this?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-14T14:57:57.620+0000",
                    "updated": "2018-11-14T14:57:57.620+0000",
                    "started": "2018-11-14T14:57:57.620+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "165910",
                    "issueId": "13198354"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13198354/worklog/165912",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #2961: ARROW-3788: [Ruby] Add support for CSV parser written in C++\nURL: https://github.com/apache/arrow/pull/2961#issuecomment-438691547\n \n \n   @kou could you clarify what you mean by \"value conversion feature isn't enough for now\"? \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-14T14:59:57.811+0000",
                    "updated": "2018-11-14T14:59:57.811+0000",
                    "started": "2018-11-14T14:59:57.810+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "165912",
                    "issueId": "13198354"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13198354/worklog/165913",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on issue #2961: ARROW-3788: [Ruby] Add support for CSV parser written in C++\nURL: https://github.com/apache/arrow/pull/2961#issuecomment-438692387\n \n \n   For example, C++ CSV parser doesn't implement \"true\"/\"false\" to boolean conversion yet.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-14T15:02:08.800+0000",
                    "updated": "2018-11-14T15:02:08.800+0000",
                    "started": "2018-11-14T15:02:08.799+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "165913",
                    "issueId": "13198354"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13198354/worklog/165915",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on issue #2961: ARROW-3788: [Ruby] Add support for CSV parser written in C++\nURL: https://github.com/apache/arrow/pull/2961#issuecomment-438693114\n \n \n   Umm. `csv-converter-test.cc` has a test for \"true\"/\"false\" to boolean conversion.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-14T15:04:10.654+0000",
                    "updated": "2018-11-14T15:04:10.654+0000",
                    "started": "2018-11-14T15:04:10.653+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "165915",
                    "issueId": "13198354"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13198354/worklog/165916",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on issue #2961: ARROW-3788: [Ruby] Add support for CSV parser written in C++\nURL: https://github.com/apache/arrow/pull/2961#issuecomment-438693729\n \n \n   Gotcha. Any problems you run into definitely report bugs =) \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-14T15:05:47.558+0000",
                    "updated": "2018-11-14T15:05:47.558+0000",
                    "started": "2018-11-14T15:05:47.557+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "165916",
                    "issueId": "13198354"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13198354/worklog/165921",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on issue #2961: ARROW-3788: [Ruby] Add support for CSV parser written in C++\nURL: https://github.com/apache/arrow/pull/2961#issuecomment-438698750\n \n \n   Ah, `InferringColumnBuilder` doesn't support boolean yet.\r\n   I've opened a JIRA: https://issues.apache.org/jira/browse/ARROW-3791\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-14T15:19:05.044+0000",
                    "updated": "2018-11-14T15:19:05.044+0000",
                    "started": "2018-11-14T15:19:05.043+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "165921",
                    "issueId": "13198354"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13198354/worklog/166798",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou commented on issue #2961: ARROW-3788: [Ruby] Add support for CSV parser written in C++\nURL: https://github.com/apache/arrow/pull/2961#issuecomment-439306293\n \n \n   I removed `use_threads` check and added explicit column type support.\r\n   I'll merge this.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-16T07:30:58.697+0000",
                    "updated": "2018-11-16T07:30:58.697+0000",
                    "started": "2018-11-16T07:30:58.696+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "166798",
                    "issueId": "13198354"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13198354/worklog/166799",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "kou closed pull request #2961: ARROW-3788: [Ruby] Add support for CSV parser written in C++\nURL: https://github.com/apache/arrow/pull/2961\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/ruby/red-arrow/lib/arrow/csv-loader.rb b/ruby/red-arrow/lib/arrow/csv-loader.rb\nindex f3ad6cee9b..3aa85bf7ff 100644\n--- a/ruby/red-arrow/lib/arrow/csv-loader.rb\n+++ b/ruby/red-arrow/lib/arrow/csv-loader.rb\n@@ -60,11 +60,72 @@ def parse_csv_data(data, **options)\n     end\n \n     def read_csv(csv)\n-      reader = CSVReader.new(csv)\n-      reader.read\n+      values_set = []\n+      csv.each do |row|\n+        if row.is_a?(CSV::Row)\n+          row = row.collect(&:last)\n+        end\n+        row.each_with_index do |value, i|\n+          values = (values_set[i] ||= [])\n+          values << value\n+        end\n+      end\n+      return nil if values_set.empty?\n+\n+      arrays = values_set.collect.with_index do |values, i|\n+        ArrayBuilder.build(values)\n+      end\n+      if csv.headers\n+        names = csv.headers\n+      else\n+        names = arrays.size.times.collect(&:to_s)\n+      end\n+      raw_table = {}\n+      names.each_with_index do |name, i|\n+        raw_table[name] = arrays[i]\n+      end\n+      Table.new(raw_table)\n+    end\n+\n+    def reader_options\n+      options = CSVReadOptions.new\n+      @options.each do |key, value|\n+        case key\n+        when :headers\n+          if value\n+            options.n_header_rows = 1\n+          else\n+            options.n_header_rows = 0\n+          end\n+        when :column_types\n+          value.each do |name, type|\n+            options.add_column_type(name, type)\n+          end\n+        when :schema\n+          options.add_schema(value)\n+        else\n+          setter = \"#{key}=\"\n+          if options.respond_to?(setter)\n+            options.__send__(setter, value)\n+          else\n+            return nil\n+          end\n+        end\n+      end\n+      options\n     end\n \n     def load_from_path(path)\n+      options = reader_options\n+      if options\n+        begin\n+          MemoryMappedInputStream.open(path.to_s) do |input|\n+            return CSVReader.new(input, options).read\n+          end\n+        rescue Arrow::Error::Invalid\n+        end\n+      end\n+\n       options = update_csv_parse_options(@options, :open_csv, path)\n       open_csv(path, **options) do |csv|\n         read_csv(csv)\n@@ -72,6 +133,16 @@ def load_from_path(path)\n     end\n \n     def load_data(data)\n+      options = reader_options\n+      if options\n+        begin\n+          BufferInputStream.open(Buffer.new(data)) do |input|\n+            return CSVReader.new(input, options).read\n+          end\n+        rescue Arrow::Error::Invalid\n+        end\n+      end\n+\n       options = update_csv_parse_options(@options, :parse_csv_data, data)\n       parse_csv_data(data, **options) do |csv|\n         read_csv(csv)\n@@ -119,6 +190,11 @@ def selective_converter(target_index)\n       end\n     end\n \n+    AVAILABLE_CSV_PARSE_OPTIONS = {}\n+    CSV.instance_method(:initialize).parameters.each do |type, name|\n+      AVAILABLE_CSV_PARSE_OPTIONS[name] = true if type == :key\n+    end\n+\n     def update_csv_parse_options(options, create_csv, *args)\n       if options.key?(:converters)\n         new_options = options.dup\n@@ -127,6 +203,14 @@ def update_csv_parse_options(options, create_csv, *args)\n         new_options = options.merge(converters: converters)\n       end\n \n+      # TODO: Support :schema and :column_types\n+\n+      unless AVAILABLE_CSV_PARSE_OPTIONS.empty?\n+        new_options.select! do |key, value|\n+          AVAILABLE_CSV_PARSE_OPTIONS.key?(key)\n+        end\n+      end\n+\n       unless options.key?(:headers)\n         __send__(create_csv, *args, **new_options) do |csv|\n           new_options[:headers] = have_header?(csv)\ndiff --git a/ruby/red-arrow/test/test-csv-reader.rb b/ruby/red-arrow/lib/arrow/csv-read-options.rb\nsimilarity index 69%\nrename from ruby/red-arrow/test/test-csv-reader.rb\nrename to ruby/red-arrow/lib/arrow/csv-read-options.rb\nindex 765a178568..ad46d808cf 100644\n--- a/ruby/red-arrow/test/test-csv-reader.rb\n+++ b/ruby/red-arrow/lib/arrow/csv-read-options.rb\n@@ -15,20 +15,11 @@\n # specific language governing permissions and limitations\n # under the License.\n \n-class CSVReaderTest < Test::Unit::TestCase\n-  include Helper::Fixture\n-\n-  test(\"#read\") do\n-    CSV.open(fixture_path(\"with-header.csv\").to_s,\n-             headers: true,\n-             skip_lines: /^#/) do |csv|\n-      reader = Arrow::CSVReader.new(csv)\n-      assert_equal(<<-TABLE, reader.read.to_s)\n-\tname\tscore\n-0\talice\t10   \n-1\tbob \t29   \n-2\tchris\t-1   \n-      TABLE\n+module Arrow\n+  class CSVReadOptions\n+    alias_method :add_column_type_raw, :add_column_type\n+    def add_column_type(name, type)\n+      add_column_type_raw(name, DataType.resolve(type))\n     end\n   end\n end\ndiff --git a/ruby/red-arrow/lib/arrow/csv-reader.rb b/ruby/red-arrow/lib/arrow/data-type.rb\nsimilarity index 53%\nrename from ruby/red-arrow/lib/arrow/csv-reader.rb\nrename to ruby/red-arrow/lib/arrow/data-type.rb\nindex 4a596f0810..dad74fb40d 100644\n--- a/ruby/red-arrow/lib/arrow/csv-reader.rb\n+++ b/ruby/red-arrow/lib/arrow/data-type.rb\n@@ -15,40 +15,25 @@\n # specific language governing permissions and limitations\n # under the License.\n \n-require \"csv\"\n-\n module Arrow\n-  class CSVReader\n-    def initialize(csv)\n-      @csv = csv\n-    end\n-\n-    def read\n-      values_set = []\n-      @csv.each do |row|\n-        if row.is_a?(CSV::Row)\n-          row = row.collect(&:last)\n-        end\n-        row.each_with_index do |value, i|\n-          values = (values_set[i] ||= [])\n-          values << value\n+  class DataType\n+    class << self\n+      def resolve(data_type)\n+        case data_type\n+        when DataType\n+          data_type\n+        when String, Symbol\n+          data_type_name = data_type.to_s.capitalize.gsub(/\\AUint/, \"UInt\")\n+          data_type_class_name = \"#{data_type_name}DataType\"\n+          unless Arrow.const_defined?(data_type_class_name)\n+            raise ArgumentError, \"invalid data type: #{data_typeinspect}\"\n+          end\n+          data_type_class = Arrow.const_get(data_type_class_name)\n+          data_type_class.new\n+        else\n+          raise ArgumentError, \"invalid data type: #{data_type.inspect}\"\n         end\n       end\n-      return nil if values_set.empty?\n-\n-      arrays = values_set.collect.with_index do |values, i|\n-        ArrayBuilder.build(values)\n-      end\n-      if @csv.headers\n-        names = @csv.headers\n-      else\n-        names = arrays.size.times.collect(&:to_s)\n-      end\n-      raw_table = {}\n-      names.each_with_index do |name, i|\n-        raw_table[name] = arrays[i]\n-      end\n-      Table.new(raw_table)\n     end\n   end\n end\ndiff --git a/ruby/red-arrow/lib/arrow/loader.rb b/ruby/red-arrow/lib/arrow/loader.rb\nindex 83555d15f2..e147113095 100644\n--- a/ruby/red-arrow/lib/arrow/loader.rb\n+++ b/ruby/red-arrow/lib/arrow/loader.rb\n@@ -36,7 +36,8 @@ def require_libraries\n       require \"arrow/chunked-array\"\n       require \"arrow/column\"\n       require \"arrow/csv-loader\"\n-      require \"arrow/csv-reader\"\n+      require \"arrow/csv-read-options\"\n+      require \"arrow/data-type\"\n       require \"arrow/date32-array\"\n       require \"arrow/date32-array-builder\"\n       require \"arrow/date64-array\"\ndiff --git a/ruby/red-arrow/test/test-csv-loader.rb b/ruby/red-arrow/test/test-csv-loader.rb\nindex 26ea497c98..b5b8278bb5 100644\n--- a/ruby/red-arrow/test/test-csv-loader.rb\n+++ b/ruby/red-arrow/test/test-csv-loader.rb\n@@ -115,4 +115,31 @@ def load_csv(input)\n                    load_csv(path)[:score].to_a)\n     end\n   end\n+\n+  sub_test_case(\"CSVReader\") do\n+    def load_csv(data, options)\n+      Arrow::CSVLoader.load(data, options)\n+    end\n+\n+    test(\":column_types\") do\n+      assert_equal(Arrow::Table.new(:count => Arrow::UInt16Array.new([1, 2, 4])),\n+                   load_csv(<<-CSV, column_types: {count: :uint16}))\n+count\n+1\n+2\n+4\n+                   CSV\n+    end\n+\n+    test(\":schema\") do\n+      table = Arrow::Table.new(:count => Arrow::UInt16Array.new([1, 2, 4]))\n+      assert_equal(table,\n+                   load_csv(<<-CSV, schema: table.schema))\n+count\n+1\n+2\n+4\n+                   CSV\n+    end\n+  end\n end\ndiff --git a/ruby/red-arrow/test/test-table.rb b/ruby/red-arrow/test/test-table.rb\nindex 3fe63162b8..3eaaf634cc 100644\n--- a/ruby/red-arrow/test/test-table.rb\n+++ b/ruby/red-arrow/test/test-table.rb\n@@ -417,7 +417,10 @@ def setup\n       test(\":csv\") do\n         file = Tempfile.new([\"red-arrow\", \".csv\"])\n         @table.save(file.path, :format => :csv)\n-        assert_equal(@table, Arrow::Table.load(file.path, :format => :csv))\n+        assert_equal(@table,\n+                     Arrow::Table.load(file.path,\n+                                       :format => :csv,\n+                                       :schema => @table.schema))\n       end\n \n       sub_test_case(\"load: auto detect\") do\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2018-11-16T07:32:00.313+0000",
                    "updated": "2018-11-16T07:32:00.313+0000",
                    "started": "2018-11-16T07:32:00.313+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "166799",
                    "issueId": "13198354"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 5400,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@7009416[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@37711a84[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@33b1507b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@cabc9b3[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4bd03604[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@6d76b53f[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@54fd1262[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@6c9af1f[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@4ce3c9d4[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@1464423a[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@28b63cd6[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@63ccdf88[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 5400,
        "customfield_12312520": null,
        "customfield_12312521": "Fri Nov 16 07:44:58 UTC 2018",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2018-11-16T07:44:58.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-3788/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2018-11-14T14:55:42.000+0000",
        "updated": "2018-11-16T07:44:58.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 5400
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Ruby] Add support for CSV parser writtin in C++",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13198354/comment/16689124",
                    "id": "16689124",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kou",
                        "name": "kou",
                        "key": "kou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kou&avatarId=30762",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kou&avatarId=30762",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kou&avatarId=30762",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kou&avatarId=30762"
                        },
                        "displayName": "Kouhei Sutou",
                        "active": true,
                        "timeZone": "Asia/Tokyo"
                    },
                    "body": "Issue resolved by pull request 2961\n[https://github.com/apache/arrow/pull/2961]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kou",
                        "name": "kou",
                        "key": "kou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kou&avatarId=30762",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kou&avatarId=30762",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kou&avatarId=30762",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kou&avatarId=30762"
                        },
                        "displayName": "Kouhei Sutou",
                        "active": true,
                        "timeZone": "Asia/Tokyo"
                    },
                    "created": "2018-11-16T07:44:58.346+0000",
                    "updated": "2018-11-16T07:44:58.346+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|s00hig:",
        "customfield_12314139": null
    }
}