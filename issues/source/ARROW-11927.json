{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13363662",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363662",
    "key": "ARROW-11927",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349493",
                "id": "12349493",
                "description": "",
                "name": "4.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-04-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=Dandandan",
            "name": "Dandandan",
            "key": "dandandan",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Dani\u00ebl Heres",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12335005",
                "id": "12335005",
                "name": "Rust - DataFusion"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=Dandandan",
            "name": "Dandandan",
            "key": "dandandan",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Dani\u00ebl Heres",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=Dandandan",
            "name": "Dandandan",
            "key": "dandandan",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Dani\u00ebl Heres",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 6600,
            "total": 6600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 6600,
            "total": 6600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11927/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 11,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363662/worklog/564103",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9672:\nURL: https://github.com/apache/arrow/pull/9672#issuecomment-796217968\n\n\n   https://issues.apache.org/jira/browse/ARROW-11927\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-10T22:17:57.386+0000",
                    "updated": "2021-03-10T22:17:57.386+0000",
                    "started": "2021-03-10T22:17:57.386+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "564103",
                    "issueId": "13363662"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363662/worklog/564117",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Dandandan commented on pull request #9672:\nURL: https://github.com/apache/arrow/pull/9672#issuecomment-796256880\n\n\n   @andygrove @alamb @jorgecarleitao this is ready enough for review :) \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-10T22:46:18.385+0000",
                    "updated": "2021-03-10T22:46:18.385+0000",
                    "started": "2021-03-10T22:46:18.384+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "564117",
                    "issueId": "13363662"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363662/worklog/564163",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "codecov-io commented on pull request #9672:\nURL: https://github.com/apache/arrow/pull/9672#issuecomment-796308180\n\n\n   # [Codecov](https://codecov.io/gh/apache/arrow/pull/9672?src=pr&el=h1) Report\n   > Merging [#9672](https://codecov.io/gh/apache/arrow/pull/9672?src=pr&el=desc) (5d88d3b) into [master](https://codecov.io/gh/apache/arrow/commit/b7b90fc00e637d32a05db585c60933771eed08a4?el=desc) (b7b90fc) will **increase** coverage by `0.07%`.\n   > The diff coverage is `89.88%`.\n   \n   [![Impacted file tree graph](https://codecov.io/gh/apache/arrow/pull/9672/graphs/tree.svg?width=650&height=150&src=pr&token=LpTCFbqVT1)](https://codecov.io/gh/apache/arrow/pull/9672?src=pr&el=tree)\n   \n   ```diff\n   @@            Coverage Diff             @@\n   ##           master    #9672      +/-   ##\n   ==========================================\n   + Coverage   82.43%   82.50%   +0.07%     \n   ==========================================\n     Files         245      248       +3     \n     Lines       57677    58269     +592     \n   ==========================================\n   + Hits        47544    48076     +532     \n   - Misses      10133    10193      +60     \n   ```\n   \n   \n   | [Impacted Files](https://codecov.io/gh/apache/arrow/pull/9672?src=pr&el=tree) | Coverage \u0394 | |\n   |---|---|---|\n   | [rust/datafusion/src/datasource/csv.rs](https://codecov.io/gh/apache/arrow/pull/9672/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9kYXRhc291cmNlL2Nzdi5ycw==) | `59.09% <0.00%> (-1.38%)` | :arrow_down: |\n   | [rust/datafusion/src/datasource/datasource.rs](https://codecov.io/gh/apache/arrow/pull/9672/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9kYXRhc291cmNlL2RhdGFzb3VyY2UucnM=) | `100.00% <\u00f8> (\u00f8)` | |\n   | [rust/datafusion/src/datasource/empty.rs](https://codecov.io/gh/apache/arrow/pull/9672/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9kYXRhc291cmNlL2VtcHR5LnJz) | `70.58% <\u00f8> (\u00f8)` | |\n   | [rust/datafusion/src/execution/context.rs](https://codecov.io/gh/apache/arrow/pull/9672/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9leGVjdXRpb24vY29udGV4dC5ycw==) | `90.84% <\u00f8> (\u00f8)` | |\n   | [rust/datafusion/src/logical\\_plan/builder.rs](https://codecov.io/gh/apache/arrow/pull/9672/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9sb2dpY2FsX3BsYW4vYnVpbGRlci5ycw==) | `88.14% <\u00f8> (\u00f8)` | |\n   | [...datafusion/src/optimizer/hash\\_build\\_probe\\_order.rs](https://codecov.io/gh/apache/arrow/pull/9672/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9vcHRpbWl6ZXIvaGFzaF9idWlsZF9wcm9iZV9vcmRlci5ycw==) | `55.31% <\u00f8> (\u00f8)` | |\n   | [rust/datafusion/tests/custom\\_sources.rs](https://codecov.io/gh/apache/arrow/pull/9672/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3Rlc3RzL2N1c3RvbV9zb3VyY2VzLnJz) | `75.40% <\u00f8> (\u00f8)` | |\n   | [rust/datafusion/tests/provider\\_filter\\_pushdown.rs](https://codecov.io/gh/apache/arrow/pull/9672/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3Rlc3RzL3Byb3ZpZGVyX2ZpbHRlcl9wdXNoZG93bi5ycw==) | `85.48% <\u00f8> (\u00f8)` | |\n   | [rust/datafusion/src/datasource/parquet.rs](https://codecov.io/gh/apache/arrow/pull/9672/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9kYXRhc291cmNlL3BhcnF1ZXQucnM=) | `93.75% <75.00%> (-0.59%)` | :arrow_down: |\n   | [rust/datafusion/src/physical\\_plan/csv.rs](https://codecov.io/gh/apache/arrow/pull/9672/diff?src=pr&el=tree#diff-cnVzdC9kYXRhZnVzaW9uL3NyYy9waHlzaWNhbF9wbGFuL2Nzdi5ycw==) | `73.54% <75.00%> (-0.25%)` | :arrow_down: |\n   | ... and [20 more](https://codecov.io/gh/apache/arrow/pull/9672/diff?src=pr&el=tree-more) | |\n   \n   ------\n   \n   [Continue to review full report at Codecov](https://codecov.io/gh/apache/arrow/pull/9672?src=pr&el=continue).\n   > **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n   > `\u0394 = absolute <relative> (impact)`, `\u00f8 = not affected`, `? = missing data`\n   > Powered by [Codecov](https://codecov.io/gh/apache/arrow/pull/9672?src=pr&el=footer). Last update [5de02e3...5d88d3b](https://codecov.io/gh/apache/arrow/pull/9672?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-11T00:08:11.600+0000",
                    "updated": "2021-03-11T00:08:11.600+0000",
                    "started": "2021-03-11T00:08:11.599+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "564163",
                    "issueId": "13363662"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363662/worklog/564678",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alamb commented on pull request #9672:\nURL: https://github.com/apache/arrow/pull/9672#issuecomment-796825595\n\n\n   thanks @Dandandan  -- I plan to review this PR later today\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-11T15:37:18.284+0000",
                    "updated": "2021-03-11T15:37:18.284+0000",
                    "started": "2021-03-11T15:37:18.284+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "564678",
                    "issueId": "13363662"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363662/worklog/564766",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alamb commented on a change in pull request #9672:\nURL: https://github.com/apache/arrow/pull/9672#discussion_r592547630\n\n\n\n##########\nFile path: rust/datafusion/src/datasource/datasource.rs\n##########\n@@ -81,6 +81,7 @@ pub trait TableProvider {\n         projection: &Option<Vec<usize>>,\n         batch_size: usize,\n         filters: &[Expr],\n+        limit: Option<usize>,\n\nReview comment:\n       I recommend adding a comment somewhere here saying that the `limit` is advisory or something -- namely datafusion does not rely on it for correctness,  rather that datafusion will only use that many rows. \r\n   \r\n   \n\n##########\nFile path: rust/datafusion/src/optimizer/limit_push_down.rs\n##########\n@@ -0,0 +1,164 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+//! Optimizer rule to push down LIMIT in the query plan\n+//! It will push down through projection, limits (taking the smaller limit)\n+use std::sync::Arc;\n+\n+use super::utils;\n+use crate::error::Result;\n+use crate::logical_plan::LogicalPlan;\n+use crate::optimizer::optimizer::OptimizerRule;\n+\n+/// Optimization rule that tries pushes down LIMIT n\n+/// where applicable to reduce the amount of scanned / processed data\n+pub struct LimitPushDown {}\n+\n+impl LimitPushDown {\n+    #[allow(missing_docs)]\n+    pub fn new() -> Self {\n+        Self {}\n+    }\n+}\n+\n+fn limit_push_down(\n+    upper_limit: Option<usize>,\n+    plan: &LogicalPlan,\n+) -> Result<LogicalPlan> {\n+    match plan {\n+        LogicalPlan::Limit { n, input } => {\n+            let smallest = upper_limit.map(|x| std::cmp::min(x, *n)).unwrap_or(*n);\n+            Ok(LogicalPlan::Limit {\n+                n: smallest,\n+                // push down limit to plan (minimum of upper limit and current limit)\n+                input: Arc::new(limit_push_down(Some(smallest), input.as_ref())?),\n+            })\n+        }\n+        LogicalPlan::TableScan {\n+            table_name,\n+            source,\n+            projection,\n+            filters,\n+            limit,\n+            projected_schema,\n+        } => {\n+            if let Some(n) = upper_limit {\n+                Ok(LogicalPlan::TableScan {\n+                    table_name: table_name.clone(),\n+                    source: source.clone(),\n+                    projection: projection.clone(),\n+                    filters: filters.clone(),\n+                    limit: limit.map(|x| std::cmp::min(x, n)).or(Some(n)),\n+                    projected_schema: projected_schema.clone(),\n+                })\n+            } else {\n+                Ok(plan.clone())\n+            }\n+        }\n+        LogicalPlan::Projection {\n\nReview comment:\n       You can push limits below Filters as well \n\n##########\nFile path: rust/datafusion/src/optimizer/limit_push_down.rs\n##########\n@@ -0,0 +1,164 @@\n+// Licensed to the Apache Software Foundation (ASF) under one\n+// or more contributor license agreements.  See the NOTICE file\n+// distributed with this work for additional information\n+// regarding copyright ownership.  The ASF licenses this file\n+// to you under the Apache License, Version 2.0 (the\n+// \"License\"); you may not use this file except in compliance\n+// with the License.  You may obtain a copy of the License at\n+//\n+//   http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing,\n+// software distributed under the License is distributed on an\n+// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+// KIND, either express or implied.  See the License for the\n+// specific language governing permissions and limitations\n+// under the License.\n+\n+//! Optimizer rule to push down LIMIT in the query plan\n+//! It will push down through projection, limits (taking the smaller limit)\n+use std::sync::Arc;\n+\n+use super::utils;\n+use crate::error::Result;\n+use crate::logical_plan::LogicalPlan;\n+use crate::optimizer::optimizer::OptimizerRule;\n+\n+/// Optimization rule that tries pushes down LIMIT n\n+/// where applicable to reduce the amount of scanned / processed data\n+pub struct LimitPushDown {}\n+\n+impl LimitPushDown {\n+    #[allow(missing_docs)]\n+    pub fn new() -> Self {\n+        Self {}\n+    }\n+}\n+\n+fn limit_push_down(\n+    upper_limit: Option<usize>,\n+    plan: &LogicalPlan,\n+) -> Result<LogicalPlan> {\n+    match plan {\n+        LogicalPlan::Limit { n, input } => {\n+            let smallest = upper_limit.map(|x| std::cmp::min(x, *n)).unwrap_or(*n);\n+            Ok(LogicalPlan::Limit {\n+                n: smallest,\n+                // push down limit to plan (minimum of upper limit and current limit)\n+                input: Arc::new(limit_push_down(Some(smallest), input.as_ref())?),\n+            })\n+        }\n+        LogicalPlan::TableScan {\n+            table_name,\n+            source,\n+            projection,\n+            filters,\n+            limit,\n+            projected_schema,\n+        } => {\n+            if let Some(n) = upper_limit {\n+                Ok(LogicalPlan::TableScan {\n+                    table_name: table_name.clone(),\n+                    source: source.clone(),\n+                    projection: projection.clone(),\n+                    filters: filters.clone(),\n+                    limit: limit.map(|x| std::cmp::min(x, n)).or(Some(n)),\n+                    projected_schema: projected_schema.clone(),\n+                })\n+            } else {\n+                Ok(plan.clone())\n+            }\n+        }\n+        LogicalPlan::Projection {\n+            expr,\n+            input,\n+            schema,\n+        } => {\n+            // Push down limit directly (projection doesn't change number of rows)\n+            Ok(LogicalPlan::Projection {\n+                expr: expr.clone(),\n+                input: Arc::new(limit_push_down(upper_limit, input.as_ref())?),\n+                schema: schema.clone(),\n+            })\n+        }\n+        // For other nodes we can't push down the limit\n+        // But try to recurse and find other limit nodes to push down\n+        _ => {\n+            let expr = plan.expressions();\n+\n+            // apply the optimization to all inputs of the plan\n+            let inputs = plan.inputs();\n+            let new_inputs = inputs\n+                .iter()\n+                .map(|plan| limit_push_down(None, plan))\n+                .collect::<Result<Vec<_>>>()?;\n+\n+            utils::from_plan(plan, &expr, &new_inputs)\n+        }\n+    }\n+}\n+\n+impl OptimizerRule for LimitPushDown {\n+    fn optimize(&self, plan: &LogicalPlan) -> Result<LogicalPlan> {\n+        limit_push_down(None, plan)\n+    }\n+\n+    fn name(&self) -> &str {\n+        \"limit_push_down\"\n+    }\n+}\n+#[cfg(test)]\n+mod test {\n+    use super::*;\n+    use crate::{\n+        logical_plan::{col, LogicalPlan, LogicalPlanBuilder},\n+        test::*,\n+    };\n+\n+    fn assert_optimized_plan_eq(plan: &LogicalPlan, expected: &str) {\n+        let rule = LimitPushDown::new();\n+        let optimized_plan = rule.optimize(plan).expect(\"failed to optimize plan\");\n+        let formatted_plan = format!(\"{:?}\", optimized_plan);\n+        assert_eq!(formatted_plan, expected);\n+    }\n+\n+    #[test]\n+    fn limit_pushdown_projection_table_provider() -> Result<()> {\n+        let table_scan = test_table_scan()?;\n+\n+        let plan = LogicalPlanBuilder::from(&table_scan)\n+            .project(&[col(\"a\")])?\n+            .limit(1000)?\n+            .build()?;\n+\n+        // Should push the limit down to table provider\n+        // When it has a select\n+        let expected = \"Limit: 1000\\\n+        \\n  Projection: #a\\\n+        \\n    TableScan: test projection=None, limit=1000\";\n+\n+        assert_optimized_plan_eq(&plan, expected);\n+\n+        Ok(())\n+    }\n+    #[test]\n+    fn limit_push_down_take_smaller_limit() -> Result<()> {\n+        let table_scan = test_table_scan()?;\n+\n+        let plan = LogicalPlanBuilder::from(&table_scan)\n+            .limit(1000)?\n+            .limit(10)?\n+            .build()?;\n+\n+        // Should push down the smallest limit\n+        // Towards table scan\n+        // This rule doesn't replace multiple limits\n+        let expected = \"Limit: 10\\\n+        \\n  Limit: 10\\\n+        \\n    TableScan: test projection=None, limit=10\";\n+\n+        assert_optimized_plan_eq(&plan, expected);\n+\n+        Ok(())\n\nReview comment:\n       I recommend two more tests:\r\n   \r\n   1. Showing that the limit is not pushed through nodes where it is not correct (e.g. a Group)\r\n   \r\n   ```\r\n          let plan = LogicalPlanBuilder::from(&table_scan)\r\n               .group(....)\r\n               .limit(1000)?\r\n   \r\n               .build()?;\r\n   ```\r\n   \r\n   As well one that has a multi stage limit (to ensure the logic to push later is working correctly). Perhaps\r\n   \r\n   ```\r\n          let plan = LogicalPlanBuilder::from(&table_scan)\r\n               .limit(1000)?\r\n               .group(....)\r\n               .limit(10)?\r\n               .build()?;\r\n   ```\r\n   \r\n   Showing that the limit 1000 is pushed to the scan, but the limit 10 is not\r\n   \r\n   Also, if you add support for Filter a test for that would be cool!\n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-11T17:25:14.003+0000",
                    "updated": "2021-03-11T17:25:14.003+0000",
                    "started": "2021-03-11T17:25:14.003+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "564766",
                    "issueId": "13363662"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363662/worklog/564786",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Dandandan commented on pull request #9672:\nURL: https://github.com/apache/arrow/pull/9672#issuecomment-796921921\n\n\n   @alamb \r\n   \r\n   Thanks a lot for the review!\r\n   I will look at adding some tests you suggested.\r\n   \r\n   I don't think pushing a limit below a filter will be correct, as we can end up with less rows after the filter? I think the requirement for the rule would be that the resulting expression will *at least* generate the nr of rows.\r\n   \r\n   Indeed, I think in some cases we can push the limit before table scan to avoid doing calculations on the batch, but that will indeed be less efficient as we can not use the information in the reader (for example, we now can reduce the batch size to significantly limit the time to read the first batch). So might be interesting to see later if we can tweak this a bit.\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-11T17:49:48.965+0000",
                    "updated": "2021-03-11T17:49:48.965+0000",
                    "started": "2021-03-11T17:49:48.964+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "564786",
                    "issueId": "13363662"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363662/worklog/564830",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alamb commented on pull request #9672:\nURL: https://github.com/apache/arrow/pull/9672#issuecomment-796958173\n\n\n   > I don't think pushing a limit below a filter will be correct, as we can end up with less rows after the filter? I think the requirement for the rule would be that the resulting expression will at least generate the nr of rows.\r\n   \r\n   You are \ud83d\udcaf  correct @Dandandan  -- good call\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-11T18:43:23.403+0000",
                    "updated": "2021-03-11T18:43:23.403+0000",
                    "started": "2021-03-11T18:43:23.402+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "564830",
                    "issueId": "13363662"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363662/worklog/564926",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "Dandandan commented on pull request #9672:\nURL: https://github.com/apache/arrow/pull/9672#issuecomment-797049563\n\n\n   @alamb added the tests and comments.\r\n   \r\n   Future work:\r\n   \r\n   * Apply limit for UNION ALL / OUTER JOIN when supported  in DataFusion - or any other case where we can show the nr of rows generated is at least the same as the plan below, or we can somehow show that it will be bigger than the upper limit. Those are the two main ones I think - those cases are also supported by the similar optimization rule in Spark.\r\n   * Add extra LIMIT nodes throughout plan -> this will probably currently have less impact as DataFusion already does stream / limit the nr of batches, but may be of use in some cases. For example: expensive expressions in projections (as you illustrated) or reducing the input size for an outer join (I think there is where it can have a profound impact).\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-11T21:07:48.661+0000",
                    "updated": "2021-03-11T21:07:48.661+0000",
                    "started": "2021-03-11T21:07:48.660+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "564926",
                    "issueId": "13363662"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363662/worklog/565005",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alamb commented on pull request #9672:\nURL: https://github.com/apache/arrow/pull/9672#issuecomment-797101275\n\n\n   > Apply limit for UNION ALL / OUTER JOIN when supported in DataFusion - or any other case where we can show the nr of rows generated is at least the same as the plan below, or we can somehow show that it will be bigger than the upper limit. Those are the two main ones I think - those cases are also supported by the similar optimization rule in Spark.\r\n   \r\n   Yes, that makes sense\r\n   \r\n   > Add extra LIMIT nodes throughout plan -> this will probably currently have less impact as DataFusion already does stream / limit the nr of batches, but may be of use in some cases. For example: expensive expressions in projections (as you illustrated) or reducing the input size for an outer join (I think there is where it can have a profound impact).\r\n   \r\n   \r\n   \ud83d\udc4d \r\n   \r\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-11T22:48:28.029+0000",
                    "updated": "2021-03-11T22:48:28.029+0000",
                    "started": "2021-03-11T22:48:28.029+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "565005",
                    "issueId": "13363662"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363662/worklog/565006",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alamb commented on a change in pull request #9672:\nURL: https://github.com/apache/arrow/pull/9672#discussion_r592777316\n\n\n\n##########\nFile path: rust/datafusion/src/datasource/datasource.rs\n##########\n@@ -81,6 +81,11 @@ pub trait TableProvider {\n         projection: &Option<Vec<usize>>,\n         batch_size: usize,\n         filters: &[Expr],\n+        // limit can be used to reduce the amount scanned\n+        // from the datasource as a performance optimization.\n+        // If set, it contains the amount of rows needed by the `LogicalPlan`,\n+        // The datasource should return *at least* this number of rows if available.\n\nReview comment:\n       \ud83d\udc4d \n\n\n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-11T22:49:11.310+0000",
                    "updated": "2021-03-11T22:49:11.310+0000",
                    "started": "2021-03-11T22:49:11.310+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "565006",
                    "issueId": "13363662"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363662/worklog/565008",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "alamb closed pull request #9672:\nURL: https://github.com/apache/arrow/pull/9672\n\n\n   \n\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-03-11T22:50:30.586+0000",
                    "updated": "2021-03-11T22:50:30.586+0000",
                    "started": "2021-03-11T22:50:30.586+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "565008",
                    "issueId": "13363662"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 6600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@4938808f[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@18c376bd[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@500d5b05[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@5378b927[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@37e85f67[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@e4b7ff3[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@34a4c84c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@2283ee7e[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@57659e2e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@204d7d6[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@10709972[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@2dbd651c[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 6600,
        "customfield_12312520": null,
        "customfield_12312521": "Thu Mar 11 22:50:28 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-03-11T22:50:28.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-11927/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2021-03-10T22:15:52.000+0000",
        "updated": "2021-03-11T22:50:31.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "1h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 6600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Rust][DataFusion]  Support limit push down",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13363662/comment/17299916",
                    "id": "17299916",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=alamb",
                        "name": "alamb",
                        "key": "alamb",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=alamb&avatarId=43364",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alamb&avatarId=43364",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alamb&avatarId=43364",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alamb&avatarId=43364"
                        },
                        "displayName": "Andrew Lamb",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 9672\n[https://github.com/apache/arrow/pull/9672]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=alamb",
                        "name": "alamb",
                        "key": "alamb",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=alamb&avatarId=43364",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=alamb&avatarId=43364",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=alamb&avatarId=43364",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=alamb&avatarId=43364"
                        },
                        "displayName": "Andrew Lamb",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-03-11T22:50:28.619+0000",
                    "updated": "2021-03-11T22:50:28.619+0000"
                }
            ],
            "maxResults": 1,
            "total": 1,
            "startAt": 0
        },
        "customfield_12311820": "0|z0oiu8:",
        "customfield_12314139": null
    }
}