{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13369523",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523",
    "key": "ARROW-12197",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12349493",
                "id": "12349493",
                "description": "",
                "name": "4.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-04-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [
            {
                "id": "12612384",
                "self": "https://issues.apache.org/jira/rest/api/2/issueLink/12612384",
                "type": {
                    "id": "10030",
                    "name": "Reference",
                    "inward": "is related to",
                    "outward": "relates to",
                    "self": "https://issues.apache.org/jira/rest/api/2/issueLinkType/10030"
                },
                "inwardIssue": {
                    "id": "13370212",
                    "key": "ARROW-12283",
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13370212",
                    "fields": {
                        "summary": "[R] Bindings for basic type convert functions in dplyr verbs",
                        "status": {
                            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
                            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
                            "name": "Resolved",
                            "id": "5",
                            "statusCategory": {
                                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                                "id": 3,
                                "key": "done",
                                "colorName": "green",
                                "name": "Done"
                            }
                        },
                        "priority": {
                            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
                            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
                            "name": "Major",
                            "id": "3"
                        },
                        "issuetype": {
                            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
                            "id": "4",
                            "description": "An improvement or enhancement to an existing feature or task.",
                            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
                            "name": "Improvement",
                            "subtask": false,
                            "avatarId": 21140
                        }
                    }
                }
            }
        ],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=icook",
            "name": "icook",
            "key": "icook",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=icook&avatarId=29388",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=icook&avatarId=29388",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=icook&avatarId=29388",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=icook&avatarId=29388"
            },
            "displayName": "Ian Cook",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12333008",
                "id": "12333008",
                "name": "R"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
            "name": "npr",
            "key": "npr",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Neal Richardson",
            "active": true,
            "timeZone": "America/Los_Angeles"
        },
        "aggregateprogress": {
            "progress": 13800,
            "total": 13800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 13800,
            "total": 13800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12197/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 23,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/579420",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook opened a new pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952\n\n\n   \n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-08T18:03:41.222+0000",
                    "updated": "2021-04-08T18:03:41.222+0000",
                    "started": "2021-04-08T18:03:41.222+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "579420",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/579455",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r609991160\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr.R\n##########\n@@ -421,12 +484,13 @@ test_that(\"explicit type conversions\", {\n         int2dbl = as.double(int),\n         int2int = as.integer(int),\n         int2lgl = as.logical(int),\n-        lgl2chr = toupper(as.character(lgl)), # Arrow returns \"true\", \"false\"\n+        lgl2chr = as.character(lgl), # Arrow returns \"true\", \"false\" here ...\n         lgl2dbl = as.double(lgl),\n         lgl2int = as.integer(lgl),\n-        lgl2lgl = as.logical(lgl),\n+        lgl2lgl = as.logical(lgl)\n       ) %>%\n-      collect(),\n+      collect() %>%\n+      mutate(lgl2chr = toupper(lgl2chr)), # ... but we need \"TRUE\", \"FALSE\"\n\nReview comment:\n       I moved the `toupper()` to after `collect()` to allow this test to run successfully without utf8proc. This fixes a `test-r-minimal-build` failure \n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-08T18:35:10.001+0000",
                    "updated": "2021-04-08T18:35:10.001+0000",
                    "started": "2021-04-08T18:35:10.001+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "579455",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/579479",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610021701\n\n\n\n##########\nFile path: r/R/arrow-datum.R\n##########\n@@ -22,6 +22,7 @@\n ArrowDatum <- R6Class(\"ArrowDatum\", inherit = ArrowObject,\n   public = list(\n     cast = function(target_type, safe = TRUE, ...) {\n+      target_type <- unmask_type_fun(enexpr(target_type)) %||% target_type\n\nReview comment:\n       I see you have this logic in `as_type` too; is that not enough? Seems like it would be best to encapsulate that complexity there somehow.\n\n##########\nFile path: r/tests/testthat/test-dplyr.R\n##########\n@@ -421,12 +484,13 @@ test_that(\"explicit type conversions\", {\n         int2dbl = as.double(int),\n         int2int = as.integer(int),\n         int2lgl = as.logical(int),\n-        lgl2chr = toupper(as.character(lgl)), # Arrow returns \"true\", \"false\"\n+        lgl2chr = as.character(lgl), # Arrow returns \"true\", \"false\" here ...\n         lgl2dbl = as.double(lgl),\n         lgl2int = as.integer(lgl),\n-        lgl2lgl = as.logical(lgl),\n+        lgl2lgl = as.logical(lgl)\n       ) %>%\n-      collect(),\n+      collect() %>%\n+      mutate(lgl2chr = toupper(lgl2chr)), # ... but we need \"TRUE\", \"FALSE\"\n\nReview comment:\n       Can you add a comment explaining that?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-08T19:16:38.059+0000",
                    "updated": "2021-04-08T19:16:38.059+0000",
                    "started": "2021-04-08T19:16:38.059+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "579479",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/579535",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610074336\n\n\n\n##########\nFile path: r/R/arrow-datum.R\n##########\n@@ -22,6 +22,7 @@\n ArrowDatum <- R6Class(\"ArrowDatum\", inherit = ArrowObject,\n   public = list(\n     cast = function(target_type, safe = TRUE, ...) {\n+      target_type <- unmask_type_fun(enexpr(target_type)) %||% target_type\n\nReview comment:\n       Unfortunately for this to work, the `type`/`target_type` argument needs to be defused in the function the user passes it to, otherwise it will be evaluated there.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-08T20:26:43.957+0000",
                    "updated": "2021-04-08T20:26:43.957+0000",
                    "started": "2021-04-08T20:26:43.957+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "579535",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/579571",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610109004\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr.R\n##########\n@@ -421,12 +484,13 @@ test_that(\"explicit type conversions\", {\n         int2dbl = as.double(int),\n         int2int = as.integer(int),\n         int2lgl = as.logical(int),\n-        lgl2chr = toupper(as.character(lgl)), # Arrow returns \"true\", \"false\"\n+        lgl2chr = as.character(lgl), # Arrow returns \"true\", \"false\" here ...\n         lgl2dbl = as.double(lgl),\n         lgl2int = as.integer(lgl),\n-        lgl2lgl = as.logical(lgl),\n+        lgl2lgl = as.logical(lgl)\n       ) %>%\n-      collect(),\n+      collect() %>%\n+      mutate(lgl2chr = toupper(lgl2chr)), # ... but we need \"TRUE\", \"FALSE\"\n\nReview comment:\n       Added in 95272bc268a5742ecf3a79828172f0de75801bc7\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-08T21:11:02.204+0000",
                    "updated": "2021-04-08T21:11:02.204+0000",
                    "started": "2021-04-08T21:11:02.204+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "579571",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/579579",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#issuecomment-816240346\n\n\n   https://issues.apache.org/jira/browse/ARROW-12197\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-08T21:43:34.278+0000",
                    "updated": "2021-04-08T21:43:34.278+0000",
                    "started": "2021-04-08T21:43:34.277+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "579579",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/579648",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610216317\n\n\n\n##########\nFile path: r/R/arrow-datum.R\n##########\n@@ -22,6 +22,7 @@\n ArrowDatum <- R6Class(\"ArrowDatum\", inherit = ArrowObject,\n   public = list(\n     cast = function(target_type, safe = TRUE, ...) {\n+      target_type <- unmask_type_fun(enexpr(target_type)) %||% target_type\n\nReview comment:\n       P.S. my rationale for adding this masking-prevention code is that there are more than two dozen data type functions in the arrow package, and they are named very generically, so they represent a large surface area for potential masking problems, which are likely to occur in user environments, not in our CI. If these masking errors do occur, they will probably give frustratingly unhelpful error messages. This happened to me with `rlang::string()` as I was working on this PR. The error was\r\n   >Error in is_integerish(x) : argument \"x\" is missing, with no default\r\n   \r\n   which confused the heck out of me for a couple minutes. I think the addition of this code should prevent the majority of such masking errors.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T00:04:01.707+0000",
                    "updated": "2021-04-09T00:04:01.707+0000",
                    "started": "2021-04-09T00:04:01.707+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "579648",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/579649",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#issuecomment-816311397\n\n\n   @nealrichardson this is ready for re-review. Thanks!\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T00:05:24.757+0000",
                    "updated": "2021-04-09T00:05:24.757+0000",
                    "started": "2021-04-09T00:05:24.757+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "579649",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/580104",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610742330\n\n\n\n##########\nFile path: r/R/arrow-datum.R\n##########\n@@ -22,6 +22,7 @@\n ArrowDatum <- R6Class(\"ArrowDatum\", inherit = ArrowObject,\n   public = list(\n     cast = function(target_type, safe = TRUE, ...) {\n+      target_type <- unmask_type_fun(enexpr(target_type)) %||% target_type\n\nReview comment:\n       > Unfortunately for this to work, the `type`/`target_type` argument needs to be defused in the function the user passes it to, otherwise it will be evaluated there.\r\n   \r\n   Isn't this what the `{{ }}` thing is used for?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T16:02:46.891+0000",
                    "updated": "2021-04-09T16:02:46.891+0000",
                    "started": "2021-04-09T16:02:46.891+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580104",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/580108",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "nealrichardson commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610747896\n\n\n\n##########\nFile path: r/tests/testthat/test-dplyr.R\n##########\n@@ -358,7 +358,70 @@ test_that(\"relocate with selection helpers\", {\n   )\n })\n \n-test_that(\"explicit type conversions\", {\n+test_that(\"explicit type conversions with cast()\", {\n+  num_int32 <- 12L\n+  num_int64 <- bit64::as.integer64(10)\n+\n+  int_types <- c(int8(), int16(), int32(), int64())\n+  uint_types <- c(uint8(), uint16(), uint32(), uint64())\n+  float_types <- c(float32(), float64())\n+\n+  types <- c(\n+    int_types,\n+    uint_types,\n+    float_types,\n+    double(), # not actually a type, a base R function but should be alias for float64\n+    string()\n+  )\n+\n+  for (type in types) {\n+    expect_type_equal(\n+      {\n+        t1 <- Table$create(x = num_int32) %>%\n+          transmute(x = cast(x, type)) %>%\n+          compute()\n+        t1$schema[[1]]$type\n+      },\n+      as_type(type)\n+    )\n+    expect_type_equal(\n+      {\n+        t1 <- Table$create(x = num_int64) %>%\n+          transmute(x = cast(x, type)) %>%\n+          compute()\n+        t1$schema[[1]]$type\n+      },\n+      as_type(type)\n+    )\n+  }\n+\n+  # Arrow errors when truncating floats...\n+  expect_error(\n+    expect_type_equal(\n+      {\n+        t1 <- Table$create(pi = pi) %>%\n+          transmute(three = cast(pi, int32())) %>%\n+          compute()\n+        t1$schema[[1]]$type\n+      },\n+      as_type(int32())\n\nReview comment:\n       `int32()` is a type so you don't need `as_type()` do you? (I'm guessing this is copypasta from the above tests, where you do need it to handle `double()`)\r\n   \r\n   ```suggestion\r\n         int32()\r\n   ```\n\n##########\nFile path: r/R/type.R\n##########\n@@ -156,8 +156,8 @@ NestedType <- R6Class(\"NestedType\", inherit = DataType)\n #' * `float16()` and `halffloat()`\n #' * `float32()` and `float()`\n #' * `bool()` and `boolean()`\n-#' * Called from `schema()` or `struct()`, `double()` also is supported as a\n-#' way of creating a `float64()`\n+#' * Called from `schema()` or `struct()` or from `cast()` in a dplyr verb,\n\nReview comment:\n       ```suggestion\r\n   #' * When called inside an `arrow` function, such as `schema()` or `cast()`,\r\n   ```\n\n##########\nFile path: r/R/type.R\n##########\n@@ -413,16 +413,28 @@ FixedSizeListType <- R6Class(\"FixedSizeListType\",\n fixed_size_list_of <- function(type, list_size) fixed_size_list__(type, list_size)\n \n as_type <- function(type, name = \"type\") {\n-  if (identical(type, double())) {\n-    # Magic so that we don't have to mask this base function\n-    type <- float64()\n-  }\n+  # work around other packages possibly masking the Arrow data type functions,\n+  # for example rlang masking string()\n+  type <- unmask_type_fun(enexpr(type)) %||% type\n+\n+  # magic so we don't have to mask base::double()\n+  if (identical(type, double())) type <- float64()\n\nReview comment:\n       ```suggestion\r\n     if (identical(type, double())) {\r\n       type <- float64()\r\n     }\r\n   ```\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T16:09:55.345+0000",
                    "updated": "2021-04-09T16:09:55.345+0000",
                    "started": "2021-04-09T16:09:55.345+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580108",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/580156",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610784646\n\n\n\n##########\nFile path: r/R/arrow-datum.R\n##########\n@@ -22,6 +22,7 @@\n ArrowDatum <- R6Class(\"ArrowDatum\", inherit = ArrowObject,\n   public = list(\n     cast = function(target_type, safe = TRUE, ...) {\n+      target_type <- unmask_type_fun(enexpr(target_type)) %||% target_type\n\nReview comment:\n       `{{x}}` is shorthand for `!!enquo(x)` which creates a quosure then evaluates it. I don't think that works in this context. I tried some various other approaches, e.g. just using `enoquo(x)`, using `eval(substitute(x))`, etc. (which some of my earlier commits show the history of) but those failed to handle all cases. In particular, we want to handle all these cases:\r\n   - `type` is a variable in the calling environment whose value is a `DataType` object\r\n   -  type` is a call to a function defined by the user that returns a `DataType` object\r\n   - `type` is any arbitrary R expression that the user has wired up to return a `DataType` object\r\n   - `type` is a call to a function in another package or in the user's environment that masks the Arrow type function of the same name\r\n   \r\n   The `%||% type` part of in `unmask_type_fun(enexpr(type)) %||% type` is basically saying \"if you tried to defuse `type` and evaluate in the arrow package environment but that failed, then give up on the NSE approach and just evaluate `type` in the standard way. That was important for enabling the first three cases above to work.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T17:09:36.963+0000",
                    "updated": "2021-04-09T17:09:36.963+0000",
                    "started": "2021-04-09T17:09:36.963+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580156",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/580157",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610784646\n\n\n\n##########\nFile path: r/R/arrow-datum.R\n##########\n@@ -22,6 +22,7 @@\n ArrowDatum <- R6Class(\"ArrowDatum\", inherit = ArrowObject,\n   public = list(\n     cast = function(target_type, safe = TRUE, ...) {\n+      target_type <- unmask_type_fun(enexpr(target_type)) %||% target_type\n\nReview comment:\n       `{{x}}` is shorthand for `!!enquo(x)` which creates a quosure then evaluates it. I don't think that works in this context. I tried some various other approaches, e.g. just using `enoquo(x)`, using `eval(substitute(x))`, etc. (which some of my earlier commits show the history of) but those failed to handle all cases. In particular, we want to handle all these cases:\r\n   - `type` is a variable in the calling environment whose value is a `DataType` object\r\n   -  `type` is a call to a function defined by the user that returns a `DataType` object\r\n   - `type` is any arbitrary R expression that the user has wired up to return a `DataType` object\r\n   - `type` is a call to a function in another package or in the user's environment that masks the Arrow type function of the same name\r\n   \r\n   The `%||% type` part of in `unmask_type_fun(enexpr(type)) %||% type` is basically saying \"if you tried to defuse `type` and evaluate in the arrow package environment but that failed, then give up on the NSE approach and just evaluate `type` in the standard way. That was important for enabling the first three cases above to work.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T17:10:01.907+0000",
                    "updated": "2021-04-09T17:10:01.907+0000",
                    "started": "2021-04-09T17:10:01.907+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580157",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/580158",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610784646\n\n\n\n##########\nFile path: r/R/arrow-datum.R\n##########\n@@ -22,6 +22,7 @@\n ArrowDatum <- R6Class(\"ArrowDatum\", inherit = ArrowObject,\n   public = list(\n     cast = function(target_type, safe = TRUE, ...) {\n+      target_type <- unmask_type_fun(enexpr(target_type)) %||% target_type\n\nReview comment:\n       `{{x}}` is shorthand for `!!enquo(x)` which creates a quosure then evaluates it. I don't think that works in this context. I tried some various other approaches, e.g. just using `enoquo(x)`, using `eval(substitute(x))`, etc. (which some of my earlier commits show the history of) but those failed to handle all cases. In particular, we want to handle all these cases:\r\n   - `type` is a variable in the calling environment whose value is a `DataType` object\r\n   -  `type` is a call to a function defined by the user that returns a `DataType` object\r\n   - `type` is any arbitrary R expression that the user has wired up to return a `DataType` object\r\n   - `type` is a call to a function in another package or in the user's environment that masks the Arrow type function of the same name\r\n   \r\n   (in addition to the \"normal\" case in which `type` is a call to an Arrow type function which is not masked in any way)\r\n   \r\n   The `%||% type` part of in `unmask_type_fun(enexpr(type)) %||% type` is basically saying \"if you tried to defuse `type` and evaluate in the arrow package environment but that failed, then give up on the NSE approach and just evaluate `type` in the standard way. That was important for enabling the first three cases above to work.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T17:11:06.097+0000",
                    "updated": "2021-04-09T17:11:06.097+0000",
                    "started": "2021-04-09T17:11:06.096+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580158",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/580186",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610799756\n\n\n\n##########\nFile path: r/R/arrow-datum.R\n##########\n@@ -22,6 +22,7 @@\n ArrowDatum <- R6Class(\"ArrowDatum\", inherit = ArrowObject,\n   public = list(\n     cast = function(target_type, safe = TRUE, ...) {\n+      target_type <- unmask_type_fun(enexpr(target_type)) %||% target_type\n\nReview comment:\n       Re the `%||% type` thing: To create a foolproof escape hatch for when the NSE approach fails to evaluate `type` properly, you need to evaluate `type` in the called function itself, not in another function called from that function.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T17:35:52.287+0000",
                    "updated": "2021-04-09T17:35:52.287+0000",
                    "started": "2021-04-09T17:35:52.287+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580186",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/580190",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610799756\n\n\n\n##########\nFile path: r/R/arrow-datum.R\n##########\n@@ -22,6 +22,7 @@\n ArrowDatum <- R6Class(\"ArrowDatum\", inherit = ArrowObject,\n   public = list(\n     cast = function(target_type, safe = TRUE, ...) {\n+      target_type <- unmask_type_fun(enexpr(target_type)) %||% target_type\n\nReview comment:\n       Re the `%||% type` thing: To create a foolproof escape hatch for when the NSE approach fails to evaluate `type` properly, you need to evaluate `type` in the calling environment, not in this function or another function called from this function.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T17:38:08.449+0000",
                    "updated": "2021-04-09T17:38:08.449+0000",
                    "started": "2021-04-09T17:38:08.449+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580190",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/580261",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610846596\n\n\n\n##########\nFile path: r/R/arrow-datum.R\n##########\n@@ -22,6 +22,7 @@\n ArrowDatum <- R6Class(\"ArrowDatum\", inherit = ArrowObject,\n   public = list(\n     cast = function(target_type, safe = TRUE, ...) {\n+      target_type <- unmask_type_fun(enexpr(target_type)) %||% target_type\n\nReview comment:\n       P.S. If every call to `as_type()` happened at a fixed number of function calls `n` from the calling environment, then we could simply evaluate the defused expression `type` there, using `eval.parent(type, n)`. That would allow us to encapsulate all the NSE evaluation in `as_type()`. But that's not the case.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T19:01:37.525+0000",
                    "updated": "2021-04-09T19:01:37.525+0000",
                    "started": "2021-04-09T19:01:37.524+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580261",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/580264",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610852785\n\n\n\n##########\nFile path: r/R/arrow-datum.R\n##########\n@@ -22,6 +22,7 @@\n ArrowDatum <- R6Class(\"ArrowDatum\", inherit = ArrowObject,\n   public = list(\n     cast = function(target_type, safe = TRUE, ...) {\n+      target_type <- unmask_type_fun(enexpr(target_type)) %||% target_type\n\nReview comment:\n       Oh, I take that back, there is a sneaky way to do this while encapsulating all this logic in `as_type()`. But I'm not sure it's really cleaner and better. I'll describe it here in a moment.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T19:13:58.445+0000",
                    "updated": "2021-04-09T19:13:58.445+0000",
                    "started": "2021-04-09T19:13:58.445+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580264",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/580269",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610858350\n\n\n\n##########\nFile path: r/R/arrow-datum.R\n##########\n@@ -22,6 +22,7 @@\n ArrowDatum <- R6Class(\"ArrowDatum\", inherit = ArrowObject,\n   public = list(\n     cast = function(target_type, safe = TRUE, ...) {\n+      target_type <- unmask_type_fun(enexpr(target_type)) %||% target_type\n\nReview comment:\n       Using code like this in `unmask_type_fun` would avoid the need for `unmask_type_fun` to be called anywhere except in `as_type()`:\r\n   ```r\r\n   i <- 1L\r\n   while (identical(utils::packageName(parent.frame(i)), \"arrow\")) {\r\n     i <- i + 1L\r\n   }\r\n   return(eval.parent(expr, n = i))\r\n   ```\r\n   Then all we would need in the other functions is to wrap `type` in `enexpr()`.\r\n   \r\n   I'm on the fence about whether this is an improvement (because encapsulation) or not (because hard to follow).\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T19:25:40.536+0000",
                    "updated": "2021-04-09T19:25:40.536+0000",
                    "started": "2021-04-09T19:25:40.536+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580269",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/580304",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610888112\n\n\n\n##########\nFile path: r/R/arrow-datum.R\n##########\n@@ -22,6 +22,7 @@\n ArrowDatum <- R6Class(\"ArrowDatum\", inherit = ArrowObject,\n   public = list(\n     cast = function(target_type, safe = TRUE, ...) {\n+      target_type <- unmask_type_fun(enexpr(target_type)) %||% target_type\n\nReview comment:\n       Ugh\u2014this also causes problems with tests because testthat runs within the package environment.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T20:28:13.430+0000",
                    "updated": "2021-04-09T20:28:13.430+0000",
                    "started": "2021-04-09T20:28:13.430+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580304",
                    "issueId": "13369523"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/worklog/580315",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "ianmcook commented on a change in pull request #9952:\nURL: https://github.com/apache/arrow/pull/9952#discussion_r610891881\n\n\n\n##########\nFile path: r/R/arrow-datum.R\n##########\n@@ -22,6 +22,7 @@\n ArrowDatum <- R6Class(\"ArrowDatum\", inherit = ArrowObject,\n   public = list(\n     cast = function(target_type, safe = TRUE, ...) {\n+      target_type <- unmask_type_fun(enexpr(target_type)) %||% target_type\n\nReview comment:\n       I think there's a way to solve this with quosures.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-04-09T20:36:36.230+0000",
                    "updated": "2021-04-09T20:36:36.230+0000",
                    "started": "2021-04-09T20:36:36.230+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "580315",
                    "issueId": "13369523"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 13800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@45ef0d4f[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1eb74176[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@17006527[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@33182a40[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@24d5e469[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@4a011a79[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5e3c7743[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@2c040cee[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@277943ab[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@656947ef[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@58d2b26e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@543db6e6[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 13800,
        "customfield_12312520": null,
        "customfield_12312521": "Sat Apr 10 00:29:29 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-04-10T00:29:29.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-12197/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2021-04-04T20:43:10.000+0000",
        "updated": "2021-04-10T04:20:43.000+0000",
        "timeoriginalestimate": null,
        "description": null,
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "3h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 13800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[R] dplyr bindings for cast, dictionary_encode",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/comment/17317184",
                    "id": "17317184",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=icook",
                        "name": "icook",
                        "key": "icook",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=icook&avatarId=29388",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=icook&avatarId=29388",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=icook&avatarId=29388",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=icook&avatarId=29388"
                        },
                        "displayName": "Ian Cook",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "[~npr]\u00a0do you think we should export a {{cast()}} function so it's usable outside of dplyr and (much more importantly) so it has a docs entry? I'm not aware of any other other {{cast()}} functions that this might mask, except that the docs entry for {{reshape2::dcast() and reshape2::acast()}} is named {{cast}}.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=icook",
                        "name": "icook",
                        "key": "icook",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=icook&avatarId=29388",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=icook&avatarId=29388",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=icook&avatarId=29388",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=icook&avatarId=29388"
                        },
                        "displayName": "Ian Cook",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-04-08T13:10:18.516+0000",
                    "updated": "2021-04-08T13:10:18.516+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/comment/17317286",
                    "id": "17317286",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Array and ChunkedArray have a {{$cast()}} method, maybe that's sufficient (and avoids possible collision)?",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2021-04-08T15:54:03.385+0000",
                    "updated": "2021-04-08T15:54:03.385+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/comment/17317290",
                    "id": "17317290",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=icook",
                        "name": "icook",
                        "key": "icook",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=icook&avatarId=29388",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=icook&avatarId=29388",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=icook&avatarId=29388",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=icook&avatarId=29388"
                        },
                        "displayName": "Ian Cook",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Ok, thanks. I won't add any new docs for the in-dplyr\u00a0{{cast()}}\u00a0initially but we can discuss in the PR if it's needed",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=icook",
                        "name": "icook",
                        "key": "icook",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=icook&avatarId=29388",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=icook&avatarId=29388",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=icook&avatarId=29388",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=icook&avatarId=29388"
                        },
                        "displayName": "Ian Cook",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2021-04-08T15:56:17.513+0000",
                    "updated": "2021-04-08T15:56:17.513+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13369523/comment/17318394",
                    "id": "17318394",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "body": "Issue resolved by pull request 9952\n[https://github.com/apache/arrow/pull/9952]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=npr",
                        "name": "npr",
                        "key": "npr",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
                        },
                        "displayName": "Neal Richardson",
                        "active": true,
                        "timeZone": "America/Los_Angeles"
                    },
                    "created": "2021-04-10T00:29:29.405+0000",
                    "updated": "2021-04-10T00:29:29.405+0000"
                }
            ],
            "maxResults": 4,
            "total": 4,
            "startAt": 0
        },
        "customfield_12311820": "0|z0piu8:",
        "customfield_12314139": null
    }
}