{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13268569",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569",
    "key": "ARROW-7177",
    "fields": {
        "fixVersions": [],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
            "name": "fan_li_ya",
            "key": "fan_li_ya",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Liya Fan",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328933",
                "id": "12328933",
                "name": "Java"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
            "name": "fan_li_ya",
            "key": "fan_li_ya",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Liya Fan",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fan_li_ya",
            "name": "fan_li_ya",
            "key": "fan_li_ya",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
            },
            "displayName": "Liya Fan",
            "active": true,
            "timeZone": "Asia/Shanghai"
        },
        "aggregateprogress": {
            "progress": 16200,
            "total": 16200,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 16200,
            "total": 16200,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-7177/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 27,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/344232",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842\n \n \n   Vector loading/unloading transforms a set of vectors to and from a set of buffers with meta data. It is heavily used in flight/IPC.\r\n   \r\n   In the loading/unloading operations, only the number of type buffers are really needed. However, the current code logic gets a copy of the type buffers, which is not necessary.\r\n   \r\n   In this issue, we provide a utility to get the number of type buffers, given an arrow type. It improves the performance by\r\n   \r\n   1. avoiding creating objects unnecessarily.\r\n   2. avoiding list copying for vector unloading (which calls TypeLayout#getBufferTypes).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-15T13:01:58.160+0000",
                    "updated": "2019-11-15T13:01:58.160+0000",
                    "started": "2019-11-15T13:01:58.160+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "344232",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/344236",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on issue #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#issuecomment-554350784\n \n \n   https://issues.apache.org/jira/browse/ARROW-7177\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-15T13:02:42.960+0000",
                    "updated": "2019-11-15T13:02:42.960+0000",
                    "started": "2019-11-15T13:02:42.960+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "344236",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/344648",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on issue #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#issuecomment-554566956\n \n \n   If I understand correctly, the original code was not copying any data, but copying (potentially) many objects describing the layout of the buffers?\r\n   \r\n   Are there benchmark results for this change? (I haven't quite kept up with the new benchmark infrastructure...) I'd be curious if this makes a noticeable difference compared to the cost of actually reading/writing data in IPC or Flight.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-15T23:19:50.770+0000",
                    "updated": "2019-11-15T23:19:50.770+0000",
                    "started": "2019-11-15T23:19:50.769+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "344648",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/344650",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on pull request #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#discussion_r347049724\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/TypeLayout.java\n ##########\n @@ -225,6 +225,117 @@ public TypeLayout visit(Duration type) {\n     return layout;\n   }\n \n+  /**\n+   * Gets the number of {@link BufferLayout}s for the given <code>arrowType</code>.\n+   */\n+  public static int getTypeBufferCount(final ArrowType arrowType) {\n \n Review comment:\n   Some comments here would be helpful.\r\n   Something like all fixed width types have 2 buffers -- validity and data, all variable types have validity, offset and data. For complex types, the explanation is even more helpful\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-15T23:22:29.167+0000",
                    "updated": "2019-11-15T23:22:29.167+0000",
                    "started": "2019-11-15T23:22:29.167+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "344650",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/344651",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on pull request #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#discussion_r347050002\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/TypeLayout.java\n ##########\n @@ -225,6 +225,117 @@ public TypeLayout visit(Duration type) {\n     return layout;\n   }\n \n+  /**\n+   * Gets the number of {@link BufferLayout}s for the given <code>arrowType</code>.\n+   */\n+  public static int getTypeBufferCount(final ArrowType arrowType) {\n+    return  arrowType.accept(new ArrowTypeVisitor<Integer>() {\n+\n+      static final int FIXED_WIDTH_BUFFER_COUNT = 2;\n+\n+      static final int VARIABLE_WIDTH_BUFFER_COUNT = 3;\n+\n+      @Override\n+      public Integer visit(Int type) {\n+        return FIXED_WIDTH_BUFFER_COUNT;\n+      }\n+\n+      @Override\n+      public Integer visit(Union type) {\n+        switch (type.getMode()) {\n+          case Dense:\n+            // TODO: validate this\n+            return 3;\n+          case Sparse:\n+            return 1;\n+          default:\n+            throw new UnsupportedOperationException(\"Unsupported Union Mode: \" + type.getMode());\n+        }\n+      }\n+\n+      @Override\n+      public Integer visit(Struct type) {\n+        return 1;\n+      }\n+\n+      @Override\n+      public Integer visit(Timestamp type) {\n+        return FIXED_WIDTH_BUFFER_COUNT;\n+      }\n+\n+      @Override\n+      public Integer visit(org.apache.arrow.vector.types.pojo.ArrowType.List type) {\n+        return 2;\n \n Review comment:\n   Would be good to make a note of buffers. For example, in case of LIST there is 1 validity and 1 offset.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-15T23:23:57.159+0000",
                    "updated": "2019-11-15T23:23:57.159+0000",
                    "started": "2019-11-15T23:23:57.158+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "344651",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/344653",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "siddharthteotia commented on issue #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#issuecomment-554568170\n \n \n   @liyafan82 , do you have any numbers demonstrating the improvement in performance?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-15T23:24:45.221+0000",
                    "updated": "2019-11-15T23:24:45.221+0000",
                    "started": "2019-11-15T23:24:45.220+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "344653",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/345273",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on issue #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#issuecomment-555007937\n \n \n   @lidavidm @siddharthteotia Thanks a lot for your comments.\r\n   \r\n   I have provided a simple benchmark to evaluate the performance for vector unloading, because the performance improvement is greater for vector unloading. The results show only trivial performance improvement:\r\n   \r\n   Before:\r\n   VectorUnloaderBenchmark.unloadBenchmark  avgt    5  731.253 \u00b1 32.402  us/op\r\n   \r\n   After:\r\n   VectorUnloaderBenchmark.unloadBenchmark  avgt    5  719.044 \u00b1 12.481  us/op\r\n   \r\n   Further investigations show the reason is that most time (more than 95%) is spent in creating the ArrowRecordBatch object. I think that problem deserves a separate issue. What do you think?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-18T13:09:57.569+0000",
                    "updated": "2019-11-18T13:09:57.569+0000",
                    "started": "2019-11-18T13:09:57.569+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "345273",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/345274",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on issue #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#issuecomment-555008423\n \n \n   > If I understand correctly, the original code was not copying any data, but copying (potentially) many objects describing the layout of the buffers?\r\n   \r\n   You are right. In the old implementation, it creates a new list, and copy each element of the buffer object to the new list. So only shallow copy is performed. \r\n   \r\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-18T13:11:15.234+0000",
                    "updated": "2019-11-18T13:11:15.234+0000",
                    "started": "2019-11-18T13:11:15.234+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "345274",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/345275",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#discussion_r347371676\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/TypeLayout.java\n ##########\n @@ -225,6 +225,117 @@ public TypeLayout visit(Duration type) {\n     return layout;\n   }\n \n+  /**\n+   * Gets the number of {@link BufferLayout}s for the given <code>arrowType</code>.\n+   */\n+  public static int getTypeBufferCount(final ArrowType arrowType) {\n \n Review comment:\n   Good suggestion. I have revised the code accordingly. Please take a look. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-18T13:11:41.496+0000",
                    "updated": "2019-11-18T13:11:41.496+0000",
                    "started": "2019-11-18T13:11:41.496+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "345275",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/345276",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#discussion_r347371819\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/TypeLayout.java\n ##########\n @@ -225,6 +225,117 @@ public TypeLayout visit(Duration type) {\n     return layout;\n   }\n \n+  /**\n+   * Gets the number of {@link BufferLayout}s for the given <code>arrowType</code>.\n+   */\n+  public static int getTypeBufferCount(final ArrowType arrowType) {\n+    return  arrowType.accept(new ArrowTypeVisitor<Integer>() {\n+\n+      static final int FIXED_WIDTH_BUFFER_COUNT = 2;\n+\n+      static final int VARIABLE_WIDTH_BUFFER_COUNT = 3;\n+\n+      @Override\n+      public Integer visit(Int type) {\n+        return FIXED_WIDTH_BUFFER_COUNT;\n+      }\n+\n+      @Override\n+      public Integer visit(Union type) {\n+        switch (type.getMode()) {\n+          case Dense:\n+            // TODO: validate this\n+            return 3;\n+          case Sparse:\n+            return 1;\n+          default:\n+            throw new UnsupportedOperationException(\"Unsupported Union Mode: \" + type.getMode());\n+        }\n+      }\n+\n+      @Override\n+      public Integer visit(Struct type) {\n+        return 1;\n+      }\n+\n+      @Override\n+      public Integer visit(Timestamp type) {\n+        return FIXED_WIDTH_BUFFER_COUNT;\n+      }\n+\n+      @Override\n+      public Integer visit(org.apache.arrow.vector.types.pojo.ArrowType.List type) {\n+        return 2;\n \n Review comment:\n   Revised. Thank you.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-18T13:11:57.846+0000",
                    "updated": "2019-11-18T13:11:57.846+0000",
                    "started": "2019-11-18T13:11:57.846+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "345276",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/347420",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on issue #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#issuecomment-557098380\n \n \n   For such a small performance improvement, I'm not sure this is worth it - in fact, the two distributions overlap! If indeed the vast majority of the time is in ArrowRecordBatch's constructor, it'd probably be better to focus efforts there.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-21T14:03:30.361+0000",
                    "updated": "2019-11-21T14:03:30.361+0000",
                    "started": "2019-11-21T14:03:30.361+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "347420",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/349026",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on issue #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#issuecomment-558082914\n \n \n   > For such a small performance improvement, I'm not sure this is worth it - in fact, the two distributions overlap! If indeed the vast majority of the time is in ArrowRecordBatch's constructor, it'd probably be better to focus efforts there.\r\n   \r\n   @lidavidm Thanks for your valuable feedback, and sorry for my late response.\r\n   \r\n   After investigation, we have found the reason for the long running time of creating a ArrowRecordBatch.\r\n   \r\n   Briefly speaking, we have turned on the BaseAllocator#DEBUG flag by accident, so HistoricalLog#recordEvent is invoked every time the Reference#retain method is called. \r\n   \r\n   HistoricalLog#recordEvent is an expensive operation, and only used for debugging purpose. So we have disabled this operation in our benchmark. \r\n   \r\n   The new performance evaluation shows a 30+% performance improvement:\r\n   \r\n   after:\r\n   VectorUnloaderBenchmark.unloadBenchmark  avgt    5  1.668 \u00b1 0.152  us/op\r\n   \r\n   before:\r\n   VectorUnloaderBenchmark.unloadBenchmark  avgt    5  2.513 \u00b1 0.462  us/op\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-25T10:07:20.153+0000",
                    "updated": "2019-11-25T10:07:20.153+0000",
                    "started": "2019-11-25T10:07:20.153+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "349026",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/349502",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on issue #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#issuecomment-558425751\n \n \n   Ah, thank you for investigating further. I think that makes the improvement more reasonable, but I'd be curious what effect it has on the overall runtime of reading a stream (via Flight or otherwise).\r\n   \r\n   Additionally, given that it's common in Flight to unload and then immediately load a batch, I wonder if the benchmark of the two operations together shows noticeable improvement.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-26T02:08:24.068+0000",
                    "updated": "2019-11-26T02:08:24.068+0000",
                    "started": "2019-11-26T02:08:24.067+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "349502",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/349503",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#discussion_r350513417\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/TypeLayout.java\n ##########\n @@ -225,6 +225,129 @@ public TypeLayout visit(Duration type) {\n     return layout;\n   }\n \n+  /**\n+   * Gets the number of {@link BufferLayout}s for the given <code>arrowType</code>.\n+   */\n+  public static int getTypeBufferCount(final ArrowType arrowType) {\n+    return  arrowType.accept(new ArrowTypeVisitor<Integer>() {\n+\n+      /**\n+       * All fixed width vectors have a common number of buffers 2: one validity buffer, plus a data buffer.\n+       */\n+      static final int FIXED_WIDTH_BUFFER_COUNT = 2;\n+\n+      /**\n+       * All variable width vectors have a common number of buffers 3: a validity buffer,\n+       * an offset buffer, and a data buffer.\n+       */\n+      static final int VARIABLE_WIDTH_BUFFER_COUNT = 3;\n+\n+      @Override\n+      public Integer visit(Int type) {\n+        return FIXED_WIDTH_BUFFER_COUNT;\n+      }\n+\n+      @Override\n+      public Integer visit(Union type) {\n+        switch (type.getMode()) {\n+          case Dense:\n+            // TODO: validate this\n \n Review comment:\n   What is needed to validate this constant?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-26T02:09:43.578+0000",
                    "updated": "2019-11-26T02:09:43.578+0000",
                    "started": "2019-11-26T02:09:43.578+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "349503",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/349557",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on issue #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#issuecomment-558457531\n \n \n   > Ah, thank you for investigating further. I think that makes the improvement more reasonable, but I'd be curious what effect it has on the overall runtime of reading a stream (via Flight or otherwise).\r\n   > \r\n   > Additionally, given that it's common in Flight to unload and then immediately load a batch, I wonder if the benchmark of the two operations together shows noticeable improvement.\r\n   \r\n   Sure. I am also interested in the result. However, maybe the improvement is not that great, as this change only improves a small part of the overall process. \r\n   \r\n   I will conduct more experiments later, and post the results here.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-26T04:45:36.623+0000",
                    "updated": "2019-11-26T04:45:36.623+0000",
                    "started": "2019-11-26T04:45:36.623+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "349557",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/349559",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on pull request #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#discussion_r350542067\n \n \n\n ##########\n File path: java/vector/src/main/java/org/apache/arrow/vector/TypeLayout.java\n ##########\n @@ -225,6 +225,129 @@ public TypeLayout visit(Duration type) {\n     return layout;\n   }\n \n+  /**\n+   * Gets the number of {@link BufferLayout}s for the given <code>arrowType</code>.\n+   */\n+  public static int getTypeBufferCount(final ArrowType arrowType) {\n+    return  arrowType.accept(new ArrowTypeVisitor<Integer>() {\n+\n+      /**\n+       * All fixed width vectors have a common number of buffers 2: one validity buffer, plus a data buffer.\n+       */\n+      static final int FIXED_WIDTH_BUFFER_COUNT = 2;\n+\n+      /**\n+       * All variable width vectors have a common number of buffers 3: a validity buffer,\n+       * an offset buffer, and a data buffer.\n+       */\n+      static final int VARIABLE_WIDTH_BUFFER_COUNT = 3;\n+\n+      @Override\n+      public Integer visit(Int type) {\n+        return FIXED_WIDTH_BUFFER_COUNT;\n+      }\n+\n+      @Override\n+      public Integer visit(Union type) {\n+        switch (type.getMode()) {\n+          case Dense:\n+            // TODO: validate this\n \n Review comment:\n   Currently, we do not have a dense union vector in Java code base (one is on-going in https://github.com/apache/arrow/pull/5473). So we need to make sure this is right, once we have a dense union implementation. \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-26T04:47:43.115+0000",
                    "updated": "2019-11-26T04:47:43.115+0000",
                    "started": "2019-11-26T04:47:43.115+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "349559",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/351196",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on issue #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#issuecomment-559637648\n \n \n   > Ah, thank you for investigating further. I think that makes the improvement more reasonable, but I'd be curious what effect it has on the overall runtime of reading a stream (via Flight or otherwise).\r\n   > \r\n   > Additionally, given that it's common in Flight to unload and then immediately load a batch, I wonder if the benchmark of the two operations together shows noticeable improvement.\r\n   \r\n   @lidavidm Sorry for my late response. \r\n   \r\n   I have added a benchmark for vector loading. The performance improvement is about 8%, not as great as the improvement for vector unloading:\r\n   \r\n   after\r\n   VectorLoaderBenchmark.loadBenchmark  avgt    5  4.418 \u00b1 0.354  us/op\r\n   \r\n   before\r\n   VectorLoaderBenchmark.loadBenchmark  avgt    5  4.800 \u00b1 0.452  us/op\r\n   \r\n   This is because, the origin implementation of vector loading does not involve the overhead of creating/copying type list (it was based on TypeLayout#getTypeLayout).\r\n   \r\n   So we have the following overall results:\r\n   \r\n   \r\n   Benchmark | Before (us) | After (us) | Improvement\r\n   -- | -- | -- | --\r\n   Unloading | 2.513 | 1.668 | 33.6%\r\n   Loading | 4.800 | 4.418 | 8.0%\r\n   Unloading + loading | 7.313 | 6.106 | 16.5%\r\n   \r\n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-29T02:20:00.382+0000",
                    "updated": "2019-11-29T02:20:00.382+0000",
                    "started": "2019-11-29T02:20:00.381+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "351196",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/351205",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on issue #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#issuecomment-559641492\n \n \n   I also evaluated the performance by TestPerf tool in flight module. The evaluation method is: run one round of warmup, and take the best of consecutive two runs. \r\n   \r\n   Before:\r\n   Average throughput: 1253.360341 MiB/s, standard deviation: 120.045803 MiB/s\r\n   \r\n   After:\r\n   Average throughput: 1272.005214 MiB/s, standard deviation: 164.509097 MiB/s\r\n   \r\n   However, I don't think the result is as reliable as the result obtained from JMH, as results of different runs may vary significantly.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-11-29T02:46:05.828+0000",
                    "updated": "2019-11-29T02:46:05.828+0000",
                    "started": "2019-11-29T02:46:05.828+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "351205",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/354974",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "liyafan82 commented on issue #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#issuecomment-562457807\n \n \n   > @liyafan82 sorry for the delay. The improvement looks reasonable, but I'm not convinced that it makes a difference outside the microbenchmarks. (Maybe plain IPC is a better way to test this, instead of using Flight which has to hit the network?)\r\n   \r\n   @lidavidm Thanks for your valuable feedback. I agree with you that the performance results may be different in real scenarios, as our microbenchmarks only evaluate the performance of serialization/deserialization for vectors, which is only part of the whole process.\r\n   \r\n   As you have indicated, the results of Flight may distort the results, due to the network cost. There are other ways of IPC (e.g. shared memory, pipe, etc.). However, there also some extra cost (e.g. memory copy, system calls, etc.). Do you have any target scenario to support in mind?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-12-06T07:00:30.743+0000",
                    "updated": "2019-12-06T07:00:30.743+0000",
                    "started": "2019-12-06T07:00:30.743+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "354974",
                    "issueId": "13268569"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13268569/worklog/355410",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on issue #5842: ARROW-7177: [Java] Provide a utility to improve the performance of vector loading/unloading\nURL: https://github.com/apache/arrow/pull/5842#issuecomment-562708250\n \n \n   Perhaps just repeatedly loading/writing the same data from/to an in-memory buffer would be enough - that way we include IPC protocol cost but not a file/network/domain socket.\r\n   \r\n   (To be clear: I'm OK with the PR as-is, though I worry a little about keeping the visitor in sync with future changes.)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-12-06T19:34:22.095+0000",
                    "updated": "2019-12-06T19:34:22.095+0000",
                    "started": "2019-12-06T19:34:22.095+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "355410",
                    "issueId": "13268569"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/2",
            "id": "2",
            "description": "A new feature of the product, which has yet to be developed.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21141&avatarType=issuetype",
            "name": "New Feature",
            "subtask": false,
            "avatarId": 21141
        },
        "timespent": 16200,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@3932bd64[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@197c736d[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1bd1de40[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@614c214c[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2aea753b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@39bf52cf[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2c09b866[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@2c4fbaea[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@557551f5[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@161f58be[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@77b41893[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@267d6465[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 16200,
        "customfield_12312520": null,
        "customfield_12312521": "2019-11-15 12:58:44.0",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-12-12T04:13:35.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-7177/watchers",
            "watchCount": 1,
            "isWatching": false
        },
        "created": "2019-11-15T12:58:44.000+0000",
        "updated": "2019-12-12T06:11:32.000+0000",
        "timeoriginalestimate": null,
        "description": "Vector loading/unloading transforms a set of vectors to and from a set of buffers with meta data. It is heavily used in flight/IPC.\r\n\r\nIn the loading/unloading operations, only the number of type buffers are really needed. However, the current code logic gets a copy of the type buffers, which is not necessary.\r\n\r\nIn this issue, we provide a utility to get the number of type buffers, given an arrow type. It improves the performance because it removes the following overhead:\r\n\r\n1. creating type buffer objects unnecessarily.\r\n2. creating a list and copying list contents (in TypeLayout#getBufferTypes) for vector unloading.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "4.5h",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 16200
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Java] Provide a utility to improve the performance of vector loading/unloading",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [],
            "maxResults": 0,
            "total": 0,
            "startAt": 0
        },
        "customfield_12311820": "0|z08nmw:",
        "customfield_12314139": null
    }
}