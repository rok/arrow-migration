{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13392766",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766",
    "key": "ARROW-13508",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12350323",
                "id": "12350323",
                "description": "",
                "name": "6.0.0",
                "archived": false,
                "released": true,
                "releaseDate": "2021-10-26"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
            "name": "Minor",
            "id": "4"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=neil.burke",
            "name": "neil.burke",
            "key": "neil.burke",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Neil Burke",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=neil.burke",
            "name": "neil.burke",
            "key": "neil.burke",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Neil Burke",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=neil.burke",
            "name": "neil.burke",
            "key": "neil.burke",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
            },
            "displayName": "Neil Burke",
            "active": true,
            "timeZone": "Etc/UTC"
        },
        "aggregateprogress": {
            "progress": 13800,
            "total": 13800,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 13800,
            "total": 13800,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-13508/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 23,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/633746",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "neil-b opened a new pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877\n\n\n   This allows users of the library to provide their own retry strategies when using S3FS\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-04T18:42:02.043+0000",
                    "updated": "2021-08-04T18:42:02.043+0000",
                    "started": "2021-08-04T18:42:02.042+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "633746",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/633747",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#issuecomment-892885946\n\n\n   https://issues.apache.org/jira/browse/ARROW-13508\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-04T18:42:15.807+0000",
                    "updated": "2021-08-04T18:42:15.807+0000",
                    "started": "2021-08-04T18:42:15.806+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "633747",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/633759",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "neil-b commented on a change in pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#discussion_r682874411\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.h\n##########\n@@ -69,6 +69,13 @@ enum class S3CredentialsKind : int8_t {\n   WebIdentity\n };\n \n+/// Pure virtual class for describing custom S3 retry strategies\n+class S3RetryStrategy {\n+ public:\n+  virtual bool ShouldRetry(Status& error, long attempted_retries) = 0;\n+  virtual long CalculateDelayBeforeNextRetry(Status& error, long attempted_retries) = 0;\n\nReview comment:\n       The `Status error` parameter itself, isn't very useful, since all S3 errors seem to result in the same IOError code. Having access to the AWS/S3 error code here would be really useful.\r\n   Any objections to adding that as a third argument to these methods? It could be casted as an int to avoid having to include any aws headers here.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-04T18:50:30.612+0000",
                    "updated": "2021-08-04T18:50:30.612+0000",
                    "started": "2021-08-04T18:50:30.612+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "633759",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/633760",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "neil-b commented on a change in pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#discussion_r682874411\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.h\n##########\n@@ -69,6 +69,13 @@ enum class S3CredentialsKind : int8_t {\n   WebIdentity\n };\n \n+/// Pure virtual class for describing custom S3 retry strategies\n+class S3RetryStrategy {\n+ public:\n+  virtual bool ShouldRetry(Status& error, long attempted_retries) = 0;\n+  virtual long CalculateDelayBeforeNextRetry(Status& error, long attempted_retries) = 0;\n\nReview comment:\n       The `Status error` parameter itself isn't very useful, since all S3 errors seem to result in the same IOError code. Having access to the AWS/S3 error code here would be really useful.\r\n   Any objections to adding that as a third argument to these methods? It could be casted as an int to avoid having to include any aws headers here.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-04T18:50:46.086+0000",
                    "updated": "2021-08-04T18:50:46.086+0000",
                    "started": "2021-08-04T18:50:46.085+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "633760",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/633779",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#discussion_r682888810\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.cc\n##########\n@@ -483,6 +483,30 @@ std::string FormatRange(int64_t start, int64_t length) {\n   return ss.str();\n }\n \n+// An AWS RetryStrategy that wraps a provided arrow::fs::S3RetryStrategy\n+class WrappedRetryStrategy : public Aws::Client::RetryStrategy {\n+ public:\n+  explicit WrappedRetryStrategy(const std::shared_ptr<S3RetryStrategy>& s3_retry_strategy)\n+      : s3_retry_strategy_(s3_retry_strategy) {}\n+\n+  bool ShouldRetry(const Aws::Client::AWSError<Aws::Client::CoreErrors>& error,\n+                   long attempted_retries) const override {  // NOLINT\n\nReview comment:\n       sorry, what's the NOLINT for? Nothing stands out to me as violating standards \n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.h\n##########\n@@ -69,6 +69,13 @@ enum class S3CredentialsKind : int8_t {\n   WebIdentity\n };\n \n+/// Pure virtual class for describing custom S3 retry strategies\n+class S3RetryStrategy {\n+ public:\n+  virtual bool ShouldRetry(Status& error, long attempted_retries) = 0;\n+  virtual long CalculateDelayBeforeNextRetry(Status& error, long attempted_retries) = 0;\n\nReview comment:\n       That could work, and/or it could be provided via a StatusDetail though that may not be as simple. https://github.com/apache/arrow/blob/72b52ef1b2681f927e8cfc2bc6a643648c542058/cpp/src/arrow/status.h#L99-L113\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-04T19:29:28.990+0000",
                    "updated": "2021-08-04T19:29:28.990+0000",
                    "started": "2021-08-04T19:29:28.990+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "633779",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/634079",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "neil-b commented on a change in pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#discussion_r682874411\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.h\n##########\n@@ -69,6 +69,13 @@ enum class S3CredentialsKind : int8_t {\n   WebIdentity\n };\n \n+/// Pure virtual class for describing custom S3 retry strategies\n+class S3RetryStrategy {\n+ public:\n+  virtual bool ShouldRetry(Status& error, long attempted_retries) = 0;\n+  virtual long CalculateDelayBeforeNextRetry(Status& error, long attempted_retries) = 0;\n\nReview comment:\n       The `Status error` parameter itself, isn't very useful, since all S3 errors seem to result in the same IOError code. Having access to the AWS/S3 error code here would be really useful.\r\n   Any objections to adding that as a third argument to these methods? It could be casted as an int to avoid having to include any aws headers here.\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.h\n##########\n@@ -69,6 +69,13 @@ enum class S3CredentialsKind : int8_t {\n   WebIdentity\n };\n \n+/// Pure virtual class for describing custom S3 retry strategies\n+class S3RetryStrategy {\n+ public:\n+  virtual bool ShouldRetry(Status& error, long attempted_retries) = 0;\n+  virtual long CalculateDelayBeforeNextRetry(Status& error, long attempted_retries) = 0;\n\nReview comment:\n       The `Status error` parameter itself isn't very useful, since all S3 errors seem to result in the same IOError code. Having access to the AWS/S3 error code here would be really useful.\r\n   Any objections to adding that as a third argument to these methods? It could be casted as an int to avoid having to include any aws headers here.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T11:09:59.780+0000",
                    "updated": "2021-08-05T11:09:59.780+0000",
                    "started": "2021-08-05T11:09:59.780+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634079",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/634327",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "neil-b opened a new pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877\n\n\n   This allows users of the library to provide their own retry strategies when using S3FS\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T11:39:01.270+0000",
                    "updated": "2021-08-05T11:39:01.270+0000",
                    "started": "2021-08-05T11:39:01.269+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634327",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/634342",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "github-actions[bot] commented on pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#issuecomment-892885946\n\n\n   https://issues.apache.org/jira/browse/ARROW-13508\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T11:40:25.536+0000",
                    "updated": "2021-08-05T11:40:25.536+0000",
                    "started": "2021-08-05T11:40:25.536+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634342",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/634481",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#discussion_r682888810\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.cc\n##########\n@@ -483,6 +483,30 @@ std::string FormatRange(int64_t start, int64_t length) {\n   return ss.str();\n }\n \n+// An AWS RetryStrategy that wraps a provided arrow::fs::S3RetryStrategy\n+class WrappedRetryStrategy : public Aws::Client::RetryStrategy {\n+ public:\n+  explicit WrappedRetryStrategy(const std::shared_ptr<S3RetryStrategy>& s3_retry_strategy)\n+      : s3_retry_strategy_(s3_retry_strategy) {}\n+\n+  bool ShouldRetry(const Aws::Client::AWSError<Aws::Client::CoreErrors>& error,\n+                   long attempted_retries) const override {  // NOLINT\n\nReview comment:\n       sorry, what's the NOLINT for? Nothing stands out to me as violating standards \n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.h\n##########\n@@ -69,6 +69,13 @@ enum class S3CredentialsKind : int8_t {\n   WebIdentity\n };\n \n+/// Pure virtual class for describing custom S3 retry strategies\n+class S3RetryStrategy {\n+ public:\n+  virtual bool ShouldRetry(Status& error, long attempted_retries) = 0;\n+  virtual long CalculateDelayBeforeNextRetry(Status& error, long attempted_retries) = 0;\n\nReview comment:\n       That could work, and/or it could be provided via a StatusDetail though that may not be as simple. https://github.com/apache/arrow/blob/72b52ef1b2681f927e8cfc2bc6a643648c542058/cpp/src/arrow/status.h#L99-L113\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T11:56:46.982+0000",
                    "updated": "2021-08-05T11:56:46.982+0000",
                    "started": "2021-08-05T11:56:46.982+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634481",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/634534",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "neil-b commented on a change in pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#discussion_r683413763\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.cc\n##########\n@@ -483,6 +483,30 @@ std::string FormatRange(int64_t start, int64_t length) {\n   return ss.str();\n }\n \n+// An AWS RetryStrategy that wraps a provided arrow::fs::S3RetryStrategy\n+class WrappedRetryStrategy : public Aws::Client::RetryStrategy {\n+ public:\n+  explicit WrappedRetryStrategy(const std::shared_ptr<S3RetryStrategy>& s3_retry_strategy)\n+      : s3_retry_strategy_(s3_retry_strategy) {}\n+\n+  bool ShouldRetry(const Aws::Client::AWSError<Aws::Client::CoreErrors>& error,\n+                   long attempted_retries) const override {  // NOLINT\n\nReview comment:\n       Most of this class was copy-pasted from [ConnectRetryStrategy](https://github.com/apache/arrow/blob/0d5e4550f3fc39797590f79fa03a9895bd7163c8/cpp/src/arrow/filesystem/s3_internal.h#L193), which included these NOLINTs. I'll see if I can get rid of them\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T12:40:25.108+0000",
                    "updated": "2021-08-05T12:40:25.108+0000",
                    "started": "2021-08-05T12:40:25.107+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634534",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/634759",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "neil-b commented on a change in pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#discussion_r683729032\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.h\n##########\n@@ -69,6 +69,13 @@ enum class S3CredentialsKind : int8_t {\n   WebIdentity\n };\n \n+/// Pure virtual class for describing custom S3 retry strategies\n+class S3RetryStrategy {\n+ public:\n+  virtual bool ShouldRetry(Status& error, long attempted_retries) = 0;\n+  virtual long CalculateDelayBeforeNextRetry(Status& error, long attempted_retries) = 0;\n\nReview comment:\n       I opted to pass around a struct containing the error code and a couple of other fields from the AWS error object. I looked into StatusDetail, but I don't think it'll work in this case since there's several fields that are important in deciding whether or not something should be retried (For example, `ConnectRetryStrategy` uses both `ShouldRetry()` and `GetExceptionName()`)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T19:26:17.587+0000",
                    "updated": "2021-08-05T19:26:17.587+0000",
                    "started": "2021-08-05T19:26:17.586+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634759",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/634761",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#discussion_r683730535\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.h\n##########\n@@ -69,6 +69,13 @@ enum class S3CredentialsKind : int8_t {\n   WebIdentity\n };\n \n+/// Pure virtual class for describing custom S3 retry strategies\n+class S3RetryStrategy {\n+ public:\n+  virtual bool ShouldRetry(Status& error, long attempted_retries) = 0;\n+  virtual long CalculateDelayBeforeNextRetry(Status& error, long attempted_retries) = 0;\n\nReview comment:\n       Ah, the intent of StatusDetail is that you subclass it and add all the fields you want, then you can cast it back where needed. Example: https://github.com/apache/arrow/blob/b1f90c48bc39452c9c236a988b4bbd38fea96bae/cpp/src/arrow/flight/types.h#L81-L109\r\n   \r\n   It is definitely more work to do things that way. However it may be worth doing if you think callers outside of the retry API would care about these error details as well.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T19:28:55.465+0000",
                    "updated": "2021-08-05T19:28:55.465+0000",
                    "started": "2021-08-05T19:28:55.465+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634761",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/634793",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#discussion_r683755534\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.h\n##########\n@@ -69,6 +69,22 @@ enum class S3CredentialsKind : int8_t {\n   WebIdentity\n };\n \n+/// Pure virtual class for describing custom S3 retry strategies\n+class S3RetryStrategy {\n+ public:\n+  struct AWSErrorDetail {\n\nReview comment:\n       nit: let's document that each of these fields corresponds to a field in the AWS SDK (even if that's rather trivial).\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T20:13:16.777+0000",
                    "updated": "2021-08-05T20:13:16.777+0000",
                    "started": "2021-08-05T20:13:16.777+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634793",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/634794",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#discussion_r683756665\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.h\n##########\n@@ -69,6 +69,13 @@ enum class S3CredentialsKind : int8_t {\n   WebIdentity\n };\n \n+/// Pure virtual class for describing custom S3 retry strategies\n+class S3RetryStrategy {\n+ public:\n+  virtual bool ShouldRetry(Status& error, long attempted_retries) = 0;\n+  virtual long CalculateDelayBeforeNextRetry(Status& error, long attempted_retries) = 0;\n\nReview comment:\n       That said I don't feel too strongly about this. This can always be converted into a StatusDetail in the future and appended to errors if necessary.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T20:13:40.043+0000",
                    "updated": "2021-08-05T20:13:40.043+0000",
                    "started": "2021-08-05T20:13:40.042+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634794",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/634795",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#discussion_r683758372\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.cc\n##########\n@@ -483,6 +484,29 @@ std::string FormatRange(int64_t start, int64_t length) {\n   return ss.str();\n }\n \n+// An AWS RetryStrategy that wraps a provided arrow::fs::S3RetryStrategy\n+class WrappedRetryStrategy : public Aws::Client::RetryStrategy {\n+ public:\n+  explicit WrappedRetryStrategy(const std::shared_ptr<S3RetryStrategy>& s3_retry_strategy)\n+      : s3_retry_strategy_(s3_retry_strategy) {}\n+\n+  bool ShouldRetry(const Aws::Client::AWSError<Aws::Client::CoreErrors>& error,\n+                   long attempted_retries) const override {\n\nReview comment:\n       Hmm, sorry for the back-and-forth, it appears the NOLINT was because we can't use `long` here. Given that this is a third party interface we're implementing, I think it should be OK to place a `// NOLINT runtime/int` to override solely this warning (rather than all of them).\r\n   \r\n   Below, though, we should return int64_t from the Arrow S3RetryStrategy::CalculateDelayBeforeNextRetry instead of long.\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T20:16:38.488+0000",
                    "updated": "2021-08-05T20:16:38.488+0000",
                    "started": "2021-08-05T20:16:38.487+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634795",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/634796",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#discussion_r683758563\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.cc\n##########\n@@ -483,6 +484,29 @@ std::string FormatRange(int64_t start, int64_t length) {\n   return ss.str();\n }\n \n+// An AWS RetryStrategy that wraps a provided arrow::fs::S3RetryStrategy\n+class WrappedRetryStrategy : public Aws::Client::RetryStrategy {\n+ public:\n+  explicit WrappedRetryStrategy(const std::shared_ptr<S3RetryStrategy>& s3_retry_strategy)\n+      : s3_retry_strategy_(s3_retry_strategy) {}\n+\n+  bool ShouldRetry(const Aws::Client::AWSError<Aws::Client::CoreErrors>& error,\n+                   long attempted_retries) const override {\n\nReview comment:\n       (I'm looking at the lint failures here: https://github.com/apache/arrow/pull/10877/checks?check_run_id=3255790318#step:7:4223)\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-05T20:16:51.791+0000",
                    "updated": "2021-08-05T20:16:51.791+0000",
                    "started": "2021-08-05T20:16:51.790+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "634796",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/635399",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#discussion_r684392252\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.h\n##########\n@@ -72,17 +72,24 @@ enum class S3CredentialsKind : int8_t {\n /// Pure virtual class for describing custom S3 retry strategies\n class S3RetryStrategy {\n  public:\n+  /// Simple struct where each field corresponds to a field in Aws::Client::AWSError\n   struct AWSErrorDetail {\n+    /// Corresponds to AWSError::GetErrorType()\n     int error_type;\n+    /// Corresponds to AWSError::GetMessage()\n     std::string message;\n+    /// Corresponds to AWSError::GetExceptionName()\n     std::string exception_name;\n+    /// Corresponds to AWSError::ShouldRetry()\n     bool should_retry;\n   };\n   /// Returns true if the S3 request resulting in the provided error should be retried.\n-  virtual bool ShouldRetry(const AWSErrorDetail& error, long attempted_retries) = 0;\n+  virtual bool ShouldRetry(const AWSErrorDetail& error,\n+                           long attempted_retries) = 0;  // NOLINT runtime/int\n\nReview comment:\n       Ah, sorry, one final nit - can we use int64_t for these parameters too instead of adding NOLINT?\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-06T17:28:04.243+0000",
                    "updated": "2021-08-06T17:28:04.243+0000",
                    "started": "2021-08-06T17:28:04.243+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "635399",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/635400",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on a change in pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#discussion_r684395241\n\n\n\n##########\nFile path: cpp/src/arrow/filesystem/s3fs.cc\n##########\n@@ -483,6 +484,29 @@ std::string FormatRange(int64_t start, int64_t length) {\n   return ss.str();\n }\n \n+// An AWS RetryStrategy that wraps a provided arrow::fs::S3RetryStrategy\n+class WrappedRetryStrategy : public Aws::Client::RetryStrategy {\n+ public:\n+  explicit WrappedRetryStrategy(const std::shared_ptr<S3RetryStrategy>& s3_retry_strategy)\n+      : s3_retry_strategy_(s3_retry_strategy) {}\n+\n+  bool ShouldRetry(const Aws::Client::AWSError<Aws::Client::CoreErrors>& error,\n+                   long attempted_retries) const override {  // NOLINT runtime/int\n+    S3RetryStrategy::AWSErrorDetail detail = ErrorToDetail(error);\n+    return s3_retry_strategy_->ShouldRetry(detail, attempted_retries);\n+  }\n+\n+  long CalculateDelayBeforeNextRetry(  // NOLINT runtime/int\n+      const Aws::Client::AWSError<Aws::Client::CoreErrors>& error,\n+      long attempted_retries) const override {  // NOLINT runtime/int\n+    S3RetryStrategy::AWSErrorDetail detail = ErrorToDetail(error);\n+    return s3_retry_strategy_->CalculateDelayBeforeNextRetry(detail, attempted_retries);\n\nReview comment:\n       Ah, and one thing from CI - you'll need an explicit static_cast here to satisfy MSVC. https://ci.appveyor.com/project/ApacheSoftwareFoundation/arrow/builds/40283536/job/1xh370nnu6or1iix#L1135\n\n\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-06T17:29:09.665+0000",
                    "updated": "2021-08-06T17:29:09.665+0000",
                    "started": "2021-08-06T17:29:09.665+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "635400",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/635430",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "lidavidm commented on pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#issuecomment-894436791\n\n\n   Hmm, the MinGW/Ruby failures look like flakes, but the MacOS one looks real. Seems like we just need a `virtual ~TestRetryStrategy() = default;` declaration.\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-06T18:19:48.824+0000",
                    "updated": "2021-08-06T18:19:48.824+0000",
                    "started": "2021-08-06T18:19:48.823+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "635430",
                    "issueId": "13392766"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/worklog/635924",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "neil-b commented on pull request #10877:\nURL: https://github.com/apache/arrow/pull/10877#issuecomment-895349953\n\n\n   Looks like that did the trick. Thanks for the help!\n\n\n-- \nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n\nTo unsubscribe, e-mail: github-unsubscribe@arrow.apache.org\n\nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2021-08-09T16:08:47.734+0000",
                    "updated": "2021-08-09T16:08:47.734+0000",
                    "started": "2021-08-09T16:08:47.733+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "635924",
                    "issueId": "13392766"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 13800,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@3760ca8f[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@65e72a83[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2a5e0337[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@763187cd[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@13bb9f2f[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@54147bb7[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@e899db9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@74fc7c4a[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3b71d71d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@4ccfca07[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@ee9e272[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@1960c1c9[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 13800,
        "customfield_12312520": null,
        "customfield_12312521": "Mon Aug 09 19:49:04 UTC 2021",
        "customfield_12314422": null,
        "customfield_12314421": [
            "C++"
        ],
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2021-08-09T19:49:04.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-13508/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2021-07-30T13:49:50.000+0000",
        "updated": "2021-08-09T19:51:05.000+0000",
        "timeoriginalestimate": null,
        "description": "There's currently no way to provide a user-defined RetryStrategy object to be used in the construction of S3FS's Aws::S3::S3Client. This makes handling S3 errors extremely difficult if the default RetryStrategy doesn't suit your needs.\r\n\r\nArrow should make the RetryStrategy available as an S3Options parameter.",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "3h 50m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 13800
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Allow custom RetryStrategy objects to be passed to S3FileSystem",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/comment/17390597",
                    "id": "17390597",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=neil.burke",
                        "name": "neil.burke",
                        "key": "neil.burke",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Neil Burke",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "If the approach seems reasonable I'd be happy to write up a PR for this.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=neil.burke",
                        "name": "neil.burke",
                        "key": "neil.burke",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Neil Burke",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2021-07-30T13:52:34.438+0000",
                    "updated": "2021-07-30T13:52:34.438+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/comment/17391665",
                    "id": "17391665",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Hmm, we don't want the AWS SDK headers to be visible from Arrow headers. Apart from that, this seems like a reasonable request.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-08-02T15:42:51.406+0000",
                    "updated": "2021-08-02T15:42:51.406+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/comment/17392283",
                    "id": "17392283",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=neil.burke",
                        "name": "neil.burke",
                        "key": "neil.burke",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Neil Burke",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Oh, right. How about wrapping AWS's retrystrategy with a similar class, like so:\r\n{code:java}\r\n// s3fs.h:\r\nclass S3RetryStrategy {\r\n public:\r\n  virtual bool ShouldRetry(const arrow::Status& error) = 0;\r\n  virtual long CalculateDelayBeforeNextRetry(const arrow Status& error, long attempted_retries) = 0;\r\n};\r\n\r\nstruct S3Options {\r\n// ...\r\n  S3RetryStrategy retry_strategy;\r\n// ...\r\n}\r\n\r\n\r\n// s3_internal.h:\r\nclass WrappedRetryStrategy : Aws::Client::RetryStrategy {\r\n  WrappedRetryStrategy(S3RetryStrategy&& strategy) : arrow_retry_strategy(strategy) {}\r\n  bool ShouldRetry(Aws::AWSError& err) {\r\n    // convert AWSError to arrow::Status\r\n    return arrow_strategy.ShouldRetry(status);\r\n  }\r\n  long CalculateDelayBeforeNextRetry(...) {\r\n    return arrow_strategy.CalculateDelayBeforeNextRetry(...);\r\n  }\r\n\r\n  S3RetryStrategy arrow_retry_strategy;\r\n}{code}\r\n\u00a0",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=neil.burke",
                        "name": "neil.burke",
                        "key": "neil.burke",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "Neil Burke",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2021-08-03T13:07:57.854+0000",
                    "updated": "2021-08-03T13:07:57.854+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/comment/17392286",
                    "id": "17392286",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "That sounds more or less ok. Feel free to submit a PR and we can iterate.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-08-03T13:12:50.391+0000",
                    "updated": "2021-08-03T13:12:50.391+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13392766/comment/17396245",
                    "id": "17396245",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 10877\n[https://github.com/apache/arrow/pull/10877]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2021-08-09T19:49:04.823+0000",
                    "updated": "2021-08-09T19:49:04.823+0000"
                }
            ],
            "maxResults": 5,
            "total": 5,
            "startAt": 0
        },
        "customfield_12311820": "0|z0thdc:",
        "customfield_12314139": null
    }
}