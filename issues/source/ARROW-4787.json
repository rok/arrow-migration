{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13220024",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024",
    "key": "ARROW-4787",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12344925",
                "id": "12344925",
                "description": "",
                "name": "0.14.0",
                "archived": false,
                "released": true,
                "releaseDate": "2019-07-04"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": 0,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=fsaintjacques",
            "name": "fsaintjacques",
            "key": "fsaintjacques",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=fsaintjacques&avatarId=37276",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=fsaintjacques&avatarId=37276",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=fsaintjacques&avatarId=37276",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=fsaintjacques&avatarId=37276"
            },
            "displayName": "Francois Saint-Jacques",
            "active": true,
            "timeZone": "America/New_York"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328935",
                "id": "12328935",
                "name": "C++"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": 0,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 9600,
            "total": 9600,
            "percent": 100
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 9600,
            "total": 9600,
            "percent": 100
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-4787/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 18,
            "worklogs": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/254393",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4480: WIP ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-05T14:13:59.693+0000",
                    "updated": "2019-06-05T14:13:59.693+0000",
                    "started": "2019-06-05T14:13:59.692+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "254393",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257560",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#issuecomment-500766426\n \n \n   @fsaintjacques Can you fix the Python tests?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T09:37:46.565+0000",
                    "updated": "2019-06-11T09:37:46.565+0000",
                    "started": "2019-06-11T09:37:46.564+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257560",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257570",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#discussion_r292371116\n \n \n\n ##########\n File path: cpp/src/arrow/util/hashing.h\n ##########\n @@ -35,6 +34,7 @@\n #include \"arrow/array.h\"\n #include \"arrow/buffer.h\"\n #include \"arrow/builder.h\"\n+#include \"arrow/compute/kernels/util-internal.h\"\n \n Review comment:\n   It doesn't right to include this here. What is needed exactly?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T10:01:38.007+0000",
                    "updated": "2019-06-11T10:01:38.007+0000",
                    "started": "2019-06-11T10:01:38.006+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257570",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257571",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#discussion_r292367545\n \n \n\n ##########\n File path: cpp/src/arrow/compute/kernels/hash-test.cc\n ##########\n @@ -160,8 +161,8 @@ TYPED_TEST(TestHashKernelPrimitive, DictEncode) {\n   using T = typename TypeParam::c_type;\n   auto type = TypeTraits<TypeParam>::type_singleton();\n   CheckDictEncode<TypeParam, T>(&this->ctx_, type, {2, 1, 2, 1, 2, 3},\n-                                {true, false, true, true, true, true}, {2, 1, 3}, {},\n-                                {0, 0, 0, 1, 0, 2});\n+                                {true, false, true, true, true, true}, {2, 0, 1, 3},\n+                                {1, 0, 1, 1}, {0, 0, 0, 2, 0, 3});\n \n Review comment:\n   Hmm... the dict values have a null in position 1, but index 1 does not appear in the results. Is that right?\r\n   I would expect:\r\n   - either null appears in the dict values, and a non-null index for that position appears in the indices\r\n   - or null doesn't appear in the dict values, and a null index appears in the indices\r\n   \r\n   But a value shouldn't appear in the dict values if it's not indexed anywhere.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T10:01:38.020+0000",
                    "updated": "2019-06-11T10:01:38.020+0000",
                    "started": "2019-06-11T10:01:38.020+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257571",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257572",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#discussion_r292374895\n \n \n\n ##########\n File path: cpp/src/arrow/util/hashing.h\n ##########\n @@ -698,6 +808,23 @@ struct HashTraits<T, enable_if_fixed_size_binary<T>> {\n   using MemoTableType = BinaryMemoTable;\n };\n \n+template <typename MemoTableType>\n+static inline Status ComputeValidityBitmap(MemoryPool* pool,\n \n Review comment:\n   We usually call it \"null bitmap\" ;-)\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T10:01:38.021+0000",
                    "updated": "2019-06-11T10:01:38.021+0000",
                    "started": "2019-06-11T10:01:38.020+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257572",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257573",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#discussion_r292374486\n \n \n\n ##########\n File path: cpp/src/arrow/util/hashing.h\n ##########\n @@ -698,6 +808,23 @@ struct HashTraits<T, enable_if_fixed_size_binary<T>> {\n   using MemoTableType = BinaryMemoTable;\n };\n \n+template <typename MemoTableType>\n+static inline Status ComputeValidityBitmap(MemoryPool* pool,\n+                                           const MemoTableType& memo_table,\n+                                           int64_t start_offset, int64_t* null_count,\n+                                           std::shared_ptr<Buffer>* validity_bitmap) {\n+  int64_t dict_length = static_cast<int64_t>(memo_table.size()) - start_offset;\n+  int64_t null_index = memo_table.GetNull();\n+  if (null_index != kKeyNotFound && null_index >= start_offset) {\n+    null_index -= start_offset;\n+    *null_count = 1;\n+    RETURN_NOT_OK(\n+        internal::BitmapAllButOne(pool, dict_length, null_index, validity_bitmap));\n+  }\n \n Review comment:\n   For consistency, shouldn't there be an explicit `validity_bitmap = nullptr` in the `else` branch?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T10:01:38.058+0000",
                    "updated": "2019-06-11T10:01:38.058+0000",
                    "started": "2019-06-11T10:01:38.057+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257573",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257574",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#discussion_r292374780\n \n \n\n ##########\n File path: cpp/src/arrow/util/hashing.h\n ##########\n @@ -698,6 +808,23 @@ struct HashTraits<T, enable_if_fixed_size_binary<T>> {\n   using MemoTableType = BinaryMemoTable;\n };\n \n+template <typename MemoTableType>\n+static inline Status ComputeValidityBitmap(MemoryPool* pool,\n+                                           const MemoTableType& memo_table,\n+                                           int64_t start_offset, int64_t* null_count,\n+                                           std::shared_ptr<Buffer>* validity_bitmap) {\n+  int64_t dict_length = static_cast<int64_t>(memo_table.size()) - start_offset;\n+  int64_t null_index = memo_table.GetNull();\n+  if (null_index != kKeyNotFound && null_index >= start_offset) {\n+    null_index -= start_offset;\n+    *null_count = 1;\n+    RETURN_NOT_OK(\n+        internal::BitmapAllButOne(pool, dict_length, null_index, validity_bitmap));\n+  }\n \n Review comment:\n   Same for `*null_count = 0`.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T10:01:38.062+0000",
                    "updated": "2019-06-11T10:01:38.062+0000",
                    "started": "2019-06-11T10:01:38.062+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257574",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257575",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#discussion_r292371877\n \n \n\n ##########\n File path: cpp/src/arrow/util/hashing.h\n ##########\n @@ -390,9 +392,29 @@ class ScalarMemoTable : public MemoTable {\n     return GetOrInsert(value, [](int32_t i) {}, [](int32_t i) {});\n   }\n \n-  // The number of entries in the memo table\n+  int32_t GetNull() const { return null_index_; }\n+\n+  template <typename Func1, typename Func2>\n+  int32_t GetOrInsertNull(Func1&& on_found, Func2&& on_not_found) {\n+    int32_t memo_index = GetNull();\n+    if (memo_index != kKeyNotFound) {\n+      on_found(memo_index);\n+    } else {\n+      null_index_ = memo_index = size();\n+      on_not_found(memo_index);\n+    }\n+    return memo_index;\n+  }\n+\n+  int32_t GetOrInsertNull() {\n+    return GetOrInsertNull([](int32_t i) {}, [](int32_t i) {});\n+  }\n+\n+  // The number of entries in the memo table + if null was added.\n \n Review comment:\n   \"+ 1\", presumably?\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T10:01:38.129+0000",
                    "updated": "2019-06-11T10:01:38.129+0000",
                    "started": "2019-06-11T10:01:38.128+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257575",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257626",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#discussion_r292409877\n \n \n\n ##########\n File path: cpp/src/arrow/util/hashing.h\n ##########\n @@ -35,6 +34,7 @@\n #include \"arrow/array.h\"\n #include \"arrow/buffer.h\"\n #include \"arrow/builder.h\"\n+#include \"arrow/compute/kernels/util-internal.h\"\n \n Review comment:\n   This is a leftover from a refactor I did. I'll remove it.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T11:37:58.146+0000",
                    "updated": "2019-06-11T11:37:58.146+0000",
                    "started": "2019-06-11T11:37:58.146+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257626",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257637",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#discussion_r292416505\n \n \n\n ##########\n File path: cpp/src/arrow/compute/kernels/hash-test.cc\n ##########\n @@ -160,8 +161,8 @@ TYPED_TEST(TestHashKernelPrimitive, DictEncode) {\n   using T = typename TypeParam::c_type;\n   auto type = TypeTraits<TypeParam>::type_singleton();\n   CheckDictEncode<TypeParam, T>(&this->ctx_, type, {2, 1, 2, 1, 2, 3},\n-                                {true, false, true, true, true, true}, {2, 1, 3}, {},\n-                                {0, 0, 0, 1, 0, 2});\n+                                {true, false, true, true, true, true}, {2, 0, 1, 3},\n+                                {1, 0, 1, 1}, {0, 0, 0, 2, 0, 3});\n \n Review comment:\n   Once this is merged, I need to open a discussion on the mailing list as the format spec doesn't mandate any of this.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T11:57:26.753+0000",
                    "updated": "2019-06-11T11:57:26.753+0000",
                    "started": "2019-06-11T11:57:26.752+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257637",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257640",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#discussion_r292418336\n \n \n\n ##########\n File path: cpp/src/arrow/util/hashing.h\n ##########\n @@ -698,6 +808,23 @@ struct HashTraits<T, enable_if_fixed_size_binary<T>> {\n   using MemoTableType = BinaryMemoTable;\n };\n \n+template <typename MemoTableType>\n+static inline Status ComputeValidityBitmap(MemoryPool* pool,\n+                                           const MemoTableType& memo_table,\n+                                           int64_t start_offset, int64_t* null_count,\n+                                           std::shared_ptr<Buffer>* validity_bitmap) {\n+  int64_t dict_length = static_cast<int64_t>(memo_table.size()) - start_offset;\n+  int64_t null_index = memo_table.GetNull();\n+  if (null_index != kKeyNotFound && null_index >= start_offset) {\n+    null_index -= start_offset;\n+    *null_count = 1;\n+    RETURN_NOT_OK(\n+        internal::BitmapAllButOne(pool, dict_length, null_index, validity_bitmap));\n+  }\n \n Review comment:\n   It is done by the caller, but I will also explicit it in the function (compiler should optimize it away).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T12:02:52.648+0000",
                    "updated": "2019-06-11T12:02:52.648+0000",
                    "started": "2019-06-11T12:02:52.647+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257640",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257650",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#discussion_r292421539\n \n \n\n ##########\n File path: cpp/src/arrow/compute/kernels/hash-test.cc\n ##########\n @@ -160,8 +161,8 @@ TYPED_TEST(TestHashKernelPrimitive, DictEncode) {\n   using T = typename TypeParam::c_type;\n   auto type = TypeTraits<TypeParam>::type_singleton();\n   CheckDictEncode<TypeParam, T>(&this->ctx_, type, {2, 1, 2, 1, 2, 3},\n-                                {true, false, true, true, true, true}, {2, 1, 3}, {},\n-                                {0, 0, 0, 1, 0, 2});\n+                                {true, false, true, true, true, true}, {2, 0, 1, 3},\n+                                {1, 0, 1, 1}, {0, 0, 0, 2, 0, 3});\n \n Review comment:\n   Right. But for the time being, we should probably choose one or the other. I don't think it makes sense to add a null to the dict values if it's not referred to by the indices.\r\n   (I think for compatibility we should perhaps keep the current behaviour @wesm )\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T12:12:13.578+0000",
                    "updated": "2019-06-11T12:12:13.578+0000",
                    "started": "2019-06-11T12:12:13.577+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257650",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257652",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on pull request #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#discussion_r292422443\n \n \n\n ##########\n File path: cpp/src/arrow/compute/kernels/hash-test.cc\n ##########\n @@ -160,8 +161,8 @@ TYPED_TEST(TestHashKernelPrimitive, DictEncode) {\n   using T = typename TypeParam::c_type;\n   auto type = TypeTraits<TypeParam>::type_singleton();\n   CheckDictEncode<TypeParam, T>(&this->ctx_, type, {2, 1, 2, 1, 2, 3},\n-                                {true, false, true, true, true, true}, {2, 1, 3}, {},\n-                                {0, 0, 0, 1, 0, 2});\n+                                {true, false, true, true, true, true}, {2, 0, 1, 3},\n+                                {1, 0, 1, 1}, {0, 0, 0, 2, 0, 3});\n \n Review comment:\n   I'm working on keeping the current behavior (which fill fix the python test).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T12:15:00.243+0000",
                    "updated": "2019-06-11T12:15:00.243+0000",
                    "started": "2019-06-11T12:15:00.242+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257652",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257748",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#discussion_r292463703\n \n \n\n ##########\n File path: cpp/src/arrow/util/hashing.h\n ##########\n @@ -698,6 +808,23 @@ struct HashTraits<T, enable_if_fixed_size_binary<T>> {\n   using MemoTableType = BinaryMemoTable;\n };\n \n+template <typename MemoTableType>\n+static inline Status ComputeValidityBitmap(MemoryPool* pool,\n \n Review comment:\n   \"validity bitmap\" is used in some other places (e.g. in the Arrow spec itself), it's my fault for using the \"null bitmap\" terminology in the first place in this codebase\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T13:47:09.405+0000",
                    "updated": "2019-06-11T13:47:09.405+0000",
                    "started": "2019-06-11T13:47:09.405+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257748",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257750",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "wesm commented on pull request #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#discussion_r292464787\n \n \n\n ##########\n File path: cpp/src/arrow/compute/kernels/hash-test.cc\n ##########\n @@ -160,8 +161,8 @@ TYPED_TEST(TestHashKernelPrimitive, DictEncode) {\n   using T = typename TypeParam::c_type;\n   auto type = TypeTraits<TypeParam>::type_singleton();\n   CheckDictEncode<TypeParam, T>(&this->ctx_, type, {2, 1, 2, 1, 2, 3},\n-                                {true, false, true, true, true, true}, {2, 1, 3}, {},\n-                                {0, 0, 0, 1, 0, 2});\n+                                {true, false, true, true, true, true}, {2, 0, 1, 3},\n+                                {1, 0, 1, 1}, {0, 0, 0, 2, 0, 3});\n \n Review comment:\n   I don't think this is a specification-related matter. The data is simply data\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T13:48:53.516+0000",
                    "updated": "2019-06-11T13:48:53.516+0000",
                    "started": "2019-06-11T13:48:53.515+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257750",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/257902",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "fsaintjacques commented on issue #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#issuecomment-500929250\n \n \n   @pitrou I reverted the DictEncode behaviour, thus no need to change the python tests (and also pandas categorical conversion). While doing so, I refactored the HashKernel a bit since there's 2 bit provided at compile time. \r\n   \r\n   I'm still not satisfied, but it'll do for now. I believe we'll have to break the HashKernel/Action implementation into specific kernels soon.\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T16:50:21.891+0000",
                    "updated": "2019-06-11T16:50:21.891+0000",
                    "started": "2019-06-11T16:50:21.890+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "257902",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/258000",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on issue #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480#issuecomment-500961520\n \n \n   It looks like the Python tests still need a fix (see AppVeyor results).\n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-11T18:14:33.994+0000",
                    "updated": "2019-06-11T18:14:33.994+0000",
                    "started": "2019-06-11T18:14:33.993+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258000",
                    "issueId": "13220024"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/worklog/258520",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "comment": "pitrou commented on pull request #4480: ARROW-4787: [C++] Add support for Null in MemoTable and related kernels\nURL: https://github.com/apache/arrow/pull/4480\n \n \n   \n \n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on to GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "created": "2019-06-12T08:37:12.292+0000",
                    "updated": "2019-06-12T08:37:12.292+0000",
                    "started": "2019-06-12T08:37:12.291+0000",
                    "timeSpent": "10m",
                    "timeSpentSeconds": 600,
                    "id": "258520",
                    "issueId": "13220024"
                }
            ]
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/4",
            "id": "4",
            "description": "An improvement or enhancement to an existing feature or task.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype",
            "name": "Improvement",
            "subtask": false,
            "avatarId": 21140
        },
        "timespent": 9600,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@128b0eda[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@25e05ae2[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@47a9f5ae[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@60b990f3[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@465dbe0b[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@3d808fc6[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@350c195d[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@191e2907[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@321861c9[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@b5f36f3[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@5ecc0034[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@36724cfb[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": 9600,
        "customfield_12312520": null,
        "customfield_12312521": "Wed Jun 12 08:36:58 UTC 2019",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2019-06-12T08:36:58.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-4787/watchers",
            "watchCount": 2,
            "isWatching": false
        },
        "created": "2019-03-06T20:32:23.000+0000",
        "updated": "2019-06-12T08:37:12.000+0000",
        "timeoriginalestimate": null,
        "description": "Null is a meaningful value in the context of analytics. We should have the option of considering it distinctly in e.g. {{ValueCounts}} ",
        "customfield_10010": null,
        "timetracking": {
            "remainingEstimate": "0h",
            "timeSpent": "2h 40m",
            "remainingEstimateSeconds": 0,
            "timeSpentSeconds": 9600
        },
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[C++] Include \"null\" values (perhaps with an option to toggle on/off) in hash kernel actions",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/comment/16853410",
                    "id": "16853410",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "FYI [~fsaintjacques] [~pitrou] -- it is important to be able to compute analytics for values occurring when hash keys are null, rather than dropping them",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2019-05-31T20:44:13.849+0000",
                    "updated": "2019-05-31T20:44:13.849+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13220024/comment/16861880",
                    "id": "16861880",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "body": "Issue resolved by pull request 4480\n[https://github.com/apache/arrow/pull/4480]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apitrou",
                        "name": "apitrou",
                        "key": "pitrou",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=pitrou&avatarId=35049",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=pitrou&avatarId=35049",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=pitrou&avatarId=35049",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=pitrou&avatarId=35049"
                        },
                        "displayName": "Antoine Pitrou",
                        "active": true,
                        "timeZone": "Europe/Paris"
                    },
                    "created": "2019-06-12T08:36:58.197+0000",
                    "updated": "2019-06-12T08:36:58.197+0000"
                }
            ],
            "maxResults": 2,
            "total": 2,
            "startAt": 0
        },
        "customfield_12311820": "0|z00fb4:",
        "customfield_12314139": null
    }
}