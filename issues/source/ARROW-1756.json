{
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13113079",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079",
    "key": "ARROW-1756",
    "fields": {
        "fixVersions": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/version/12341352",
                "id": "12341352",
                "name": "0.8.0",
                "archived": false,
                "released": true,
                "releaseDate": "2017-12-18"
            }
        ],
        "resolution": {
            "self": "https://issues.apache.org/jira/rest/api/2/resolution/1",
            "id": "1",
            "description": "A fix for this issue is checked into the tree and tested.",
            "name": "Fixed"
        },
        "customfield_12312322": null,
        "customfield_12312323": null,
        "customfield_12312320": null,
        "customfield_12310420": "9223372036854775807",
        "customfield_12312321": null,
        "customfield_12312328": null,
        "customfield_12312329": null,
        "customfield_12312326": null,
        "customfield_12310300": null,
        "customfield_12312327": null,
        "customfield_12312324": null,
        "customfield_12312720": null,
        "customfield_12312325": null,
        "lastViewed": null,
        "priority": {
            "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
            "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
            "name": "Major",
            "id": "3"
        },
        "labels": [
            "pull-request-available"
        ],
        "customfield_12312333": null,
        "customfield_12312334": null,
        "customfield_12313422": "false",
        "customfield_12310310": "0.0",
        "customfield_12312331": null,
        "customfield_12312332": null,
        "aggregatetimeoriginalestimate": null,
        "timeestimate": null,
        "customfield_12312330": null,
        "versions": [],
        "customfield_12311120": null,
        "customfield_12313826": null,
        "customfield_12312339": null,
        "issuelinks": [],
        "customfield_12313825": null,
        "assignee": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=Licht-T",
            "name": "Licht-T",
            "key": "licht-t",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=licht-t&avatarId=33236",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=licht-t&avatarId=33236",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=licht-t&avatarId=33236",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=licht-t&avatarId=33236"
            },
            "displayName": "Licht Takeuchi",
            "active": true,
            "timeZone": "Asia/Tokyo"
        },
        "customfield_12312337": null,
        "customfield_12313823": null,
        "customfield_12312338": null,
        "customfield_12311920": null,
        "customfield_12313822": null,
        "customfield_12312335": null,
        "customfield_12313821": null,
        "customfield_12312336": null,
        "customfield_12313820": null,
        "status": {
            "self": "https://issues.apache.org/jira/rest/api/2/status/5",
            "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
            "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
            "name": "Resolved",
            "id": "5",
            "statusCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
                "id": 3,
                "key": "done",
                "colorName": "green",
                "name": "Done"
            }
        },
        "components": [
            {
                "self": "https://issues.apache.org/jira/rest/api/2/component/12328936",
                "id": "12328936",
                "name": "Python"
            }
        ],
        "customfield_12312026": null,
        "customfield_12312023": null,
        "customfield_12312024": null,
        "aggregatetimeestimate": null,
        "customfield_12312022": null,
        "customfield_12310921": null,
        "customfield_12310920": "9223372036854775807",
        "customfield_12312823": null,
        "creator": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "subtasks": [],
        "reporter": {
            "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
            "name": "wesm",
            "key": "wesmckinn",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
            },
            "displayName": "Wes McKinney",
            "active": true,
            "timeZone": "America/New_York"
        },
        "aggregateprogress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313520": null,
        "customfield_12310250": null,
        "progress": {
            "progress": 0,
            "total": 0
        },
        "customfield_12313924": null,
        "votes": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1756/votes",
            "votes": 0,
            "hasVoted": false
        },
        "worklog": {
            "startAt": 0,
            "maxResults": 20,
            "total": 0,
            "worklogs": []
        },
        "customfield_12313920": null,
        "issuetype": {
            "self": "https://issues.apache.org/jira/rest/api/2/issuetype/1",
            "id": "1",
            "description": "A problem which impairs or prevents the functions of the product.",
            "iconUrl": "https://issues.apache.org/jira/secure/viewavatar?size=xsmall&avatarId=21133&avatarType=issuetype",
            "name": "Bug",
            "subtask": false,
            "avatarId": 21133
        },
        "timespent": null,
        "customfield_12314020": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@44e05562[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@357e4648[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@651b069[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@41daeaed[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@3d5aab61[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@1891dc81[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@1348e502[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@553f804[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@6dba5a6c[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@7bd9e68e[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@2f6d6c02[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@35642233[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
        "customfield_12314141": null,
        "customfield_12314140": null,
        "project": {
            "self": "https://issues.apache.org/jira/rest/api/2/project/12319525",
            "id": "12319525",
            "key": "ARROW",
            "name": "Apache Arrow",
            "projectTypeKey": "software",
            "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/projectavatar?pid=12319525&avatarId=10011",
                "24x24": "https://issues.apache.org/jira/secure/projectavatar?size=small&pid=12319525&avatarId=10011",
                "16x16": "https://issues.apache.org/jira/secure/projectavatar?size=xsmall&pid=12319525&avatarId=10011",
                "32x32": "https://issues.apache.org/jira/secure/projectavatar?size=medium&pid=12319525&avatarId=10011"
            },
            "projectCategory": {
                "self": "https://issues.apache.org/jira/rest/api/2/projectCategory/13960",
                "id": "13960",
                "description": "Apache Arrow",
                "name": "Arrow"
            }
        },
        "aggregatetimespent": null,
        "customfield_12312520": null,
        "customfield_12312521": "Sat Nov 04 21:05:42 UTC 2017",
        "customfield_12314422": null,
        "customfield_12314421": null,
        "customfield_12314146": null,
        "customfield_12314420": null,
        "customfield_12314145": null,
        "customfield_12314144": null,
        "customfield_12314143": null,
        "resolutiondate": "2017-11-04T20:58:08.000+0000",
        "workratio": -1,
        "customfield_12312923": null,
        "customfield_12312920": null,
        "customfield_12312921": null,
        "watches": {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/ARROW-1756/watchers",
            "watchCount": 3,
            "isWatching": false
        },
        "created": "2017-10-30T17:09:52.000+0000",
        "updated": "2017-11-04T21:05:42.000+0000",
        "timeoriginalestimate": null,
        "description": "See downstream report\r\n\r\nhttps://github.com/wesm/feather/issues/321",
        "customfield_10010": null,
        "timetracking": {},
        "customfield_12314523": null,
        "customfield_12314127": null,
        "customfield_12314522": null,
        "customfield_12314126": null,
        "customfield_12314521": null,
        "customfield_12314125": null,
        "customfield_12314520": null,
        "customfield_12314124": null,
        "attachment": [],
        "customfield_12312340": null,
        "customfield_12314123": null,
        "customfield_12312341": null,
        "customfield_12312220": null,
        "customfield_12314122": null,
        "customfield_12314121": null,
        "customfield_12314120": null,
        "customfield_12314129": null,
        "customfield_12314524": null,
        "customfield_12314128": null,
        "summary": "[Python] Observed int32 overflow in Feather write/read path",
        "customfield_12314130": null,
        "customfield_12310291": null,
        "customfield_12310290": null,
        "customfield_12314138": null,
        "customfield_12314137": null,
        "environment": null,
        "customfield_12314136": null,
        "customfield_12314135": null,
        "customfield_12311020": null,
        "customfield_12314134": null,
        "duedate": null,
        "customfield_12314132": null,
        "customfield_12314131": null,
        "comment": {
            "comments": [
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16227380",
                    "id": "16227380",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=Licht-T",
                        "name": "Licht-T",
                        "key": "licht-t",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=licht-t&avatarId=33236",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=licht-t&avatarId=33236",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=licht-t&avatarId=33236",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=licht-t&avatarId=33236"
                        },
                        "displayName": "Licht Takeuchi",
                        "active": true,
                        "timeZone": "Asia/Tokyo"
                    },
                    "body": "[~wesmckinn] I am working on this. On my Mac, it fails when writing on a disk.\r\nhttps://github.com/apache/arrow/blob/master/cpp/src/arrow/io/file.cc#L268",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=Licht-T",
                        "name": "Licht-T",
                        "key": "licht-t",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=licht-t&avatarId=33236",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=licht-t&avatarId=33236",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=licht-t&avatarId=33236",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=licht-t&avatarId=33236"
                        },
                        "displayName": "Licht Takeuchi",
                        "active": true,
                        "timeZone": "Asia/Tokyo"
                    },
                    "created": "2017-10-31T19:40:55.351+0000",
                    "updated": "2017-10-31T19:46:15.571+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16233575",
                    "id": "16233575",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Ah, looks like then the writes need to be broken down into chunks less than INT32_MAX",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2017-11-01T02:20:59.055+0000",
                    "updated": "2017-11-01T02:20:59.055+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16234048",
                    "id": "16234048",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=Licht-T",
                        "name": "Licht-T",
                        "key": "licht-t",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=licht-t&avatarId=33236",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=licht-t&avatarId=33236",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=licht-t&avatarId=33236",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=licht-t&avatarId=33236"
                        },
                        "displayName": "Licht Takeuchi",
                        "active": true,
                        "timeZone": "Asia/Tokyo"
                    },
                    "body": "[~wesmckinn] I found issues on Python and numpy.\r\nhttps://bugs.python.org/issue24658\r\nhttps://github.com/numpy/numpy/issues/3858\r\n\r\nBut I don't know why it is not work on Linux.",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=Licht-T",
                        "name": "Licht-T",
                        "key": "licht-t",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=licht-t&avatarId=33236",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=licht-t&avatarId=33236",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=licht-t&avatarId=33236",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=licht-t&avatarId=33236"
                        },
                        "displayName": "Licht Takeuchi",
                        "active": true,
                        "timeZone": "Asia/Tokyo"
                    },
                    "created": "2017-11-01T13:14:49.236+0000",
                    "updated": "2017-11-01T13:19:11.753+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16234984",
                    "id": "16234984",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Licht-T opened a new pull request #1276: ARROW-1756: [Python]Fix large file read/write error on Mac\nURL: https://github.com/apache/arrow/pull/1276\n \n \n   This is the part of [ARROW-1756](https://issues.apache.org/jira/browse/ARROW-1756).\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-01T23:52:45.080+0000",
                    "updated": "2017-11-01T23:52:45.080+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16236069",
                    "id": "16236069",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on a change in pull request #1276: ARROW-1756: [Python] Fix large file read/write error on Mac\nURL: https://github.com/apache/arrow/pull/1276#discussion_r148587566\n \n \n\n ##########\n File path: python/pyarrow/tests/test_feather.py\n ##########\n @@ -466,3 +466,9 @@ def test_unsupported(self):\n         # non-strings\n         df = pd.DataFrame({'a': ['a', 1, 2.0]})\n         self._assert_error_on_write(df, ValueError)\n+\n+    @pytest.mark.slow\n+    def test_large_dataframe(self):\n+        df = pd.DataFrame(np.random.randint(0, 100, size=(400000000, 1)),\n \n Review comment:\n   Any data will do here, so you could do `np.arange` here to make this faster rather than generating so much random data\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T16:33:00.206+0000",
                    "updated": "2017-11-02T16:33:00.206+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16236070",
                    "id": "16236070",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on a change in pull request #1276: ARROW-1756: [Python] Fix large file read/write error on Mac\nURL: https://github.com/apache/arrow/pull/1276#discussion_r148587742\n \n \n\n ##########\n File path: python/pyarrow/tests/test_feather.py\n ##########\n @@ -466,3 +466,9 @@ def test_unsupported(self):\n         # non-strings\n         df = pd.DataFrame({'a': ['a', 1, 2.0]})\n         self._assert_error_on_write(df, ValueError)\n+\n+    @pytest.mark.slow\n+    def test_large_dataframe(self):\n+        df = pd.DataFrame(np.random.randint(0, 100, size=(400000000, 1)),\n+                          columns=list('A'))\n \n Review comment:\n   `['A']`\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T16:33:00.207+0000",
                    "updated": "2017-11-02T16:33:00.207+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16236071",
                    "id": "16236071",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on a change in pull request #1276: ARROW-1756: [Python] Fix large file read/write error on Mac\nURL: https://github.com/apache/arrow/pull/1276#discussion_r148587100\n \n \n\n ##########\n File path: cpp/src/arrow/io/file.cc\n ##########\n @@ -246,31 +246,55 @@ static inline Status FileRead(int fd, uint8_t* buffer, int64_t nbytes,\n   }\n   *bytes_read = static_cast<int64_t>(_read(fd, buffer, static_cast<uint32_t>(nbytes)));\n #else\n-  *bytes_read = static_cast<int64_t>(read(fd, buffer, static_cast<size_t>(nbytes)));\n+  int64_t n = 0;\n+  int64_t N = nbytes;\n+  int64_t ret = 0;\n+\n+  *bytes_read = 0;\n+\n+  while (ret != -1 && n < N) {\n+    int64_t i = std::min(static_cast<int64_t>(INT32_MAX), N - n);\n \n Review comment:\n   Use a more descriptive variable name than `i`\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T16:33:00.209+0000",
                    "updated": "2017-11-02T16:33:00.209+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16236072",
                    "id": "16236072",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on a change in pull request #1276: ARROW-1756: [Python] Fix large file read/write error on Mac\nURL: https://github.com/apache/arrow/pull/1276#discussion_r148586732\n \n \n\n ##########\n File path: cpp/src/arrow/io/file.cc\n ##########\n @@ -246,31 +246,55 @@ static inline Status FileRead(int fd, uint8_t* buffer, int64_t nbytes,\n   }\n   *bytes_read = static_cast<int64_t>(_read(fd, buffer, static_cast<uint32_t>(nbytes)));\n #else\n-  *bytes_read = static_cast<int64_t>(read(fd, buffer, static_cast<size_t>(nbytes)));\n+  int64_t n = 0;\n+  int64_t N = nbytes;\n \n Review comment:\n   Since `N` is never changed, just use `nbytes`? Maybe make it `const int64_t nbytes` in the function arguments for good measure\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T16:33:00.215+0000",
                    "updated": "2017-11-02T16:33:00.215+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16236073",
                    "id": "16236073",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on a change in pull request #1276: ARROW-1756: [Python] Fix large file read/write error on Mac\nURL: https://github.com/apache/arrow/pull/1276#discussion_r148587016\n \n \n\n ##########\n File path: cpp/src/arrow/io/file.cc\n ##########\n @@ -246,31 +246,55 @@ static inline Status FileRead(int fd, uint8_t* buffer, int64_t nbytes,\n   }\n   *bytes_read = static_cast<int64_t>(_read(fd, buffer, static_cast<uint32_t>(nbytes)));\n #else\n-  *bytes_read = static_cast<int64_t>(read(fd, buffer, static_cast<size_t>(nbytes)));\n+  int64_t n = 0;\n+  int64_t N = nbytes;\n+  int64_t ret = 0;\n+\n+  *bytes_read = 0;\n+\n+  while (ret != -1 && n < N) {\n \n Review comment:\n   Use `*bytes_read` instead of `n`? \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T16:33:00.248+0000",
                    "updated": "2017-11-02T16:33:00.248+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16236074",
                    "id": "16236074",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on a change in pull request #1276: ARROW-1756: [Python] Fix large file read/write error on Mac\nURL: https://github.com/apache/arrow/pull/1276#discussion_r148587221\n \n \n\n ##########\n File path: cpp/src/arrow/io/file.cc\n ##########\n @@ -246,31 +246,55 @@ static inline Status FileRead(int fd, uint8_t* buffer, int64_t nbytes,\n   }\n   *bytes_read = static_cast<int64_t>(_read(fd, buffer, static_cast<uint32_t>(nbytes)));\n #else\n-  *bytes_read = static_cast<int64_t>(read(fd, buffer, static_cast<size_t>(nbytes)));\n+  int64_t n = 0;\n+  int64_t N = nbytes;\n+  int64_t ret = 0;\n+\n+  *bytes_read = 0;\n+\n+  while (ret != -1 && n < N) {\n+    int64_t i = std::min(static_cast<int64_t>(INT32_MAX), N - n);\n+    ret = static_cast<int64_t>(read(fd, buffer + n, static_cast<size_t>(i)));\n+\n+    if (ret != -1) {\n+      *bytes_read += ret;\n+    } else {\n+      *bytes_read = ret;\n+    }\n+\n+    n += i;\n+  }\n #endif\n \n   if (*bytes_read == -1) {\n-    // TODO(wesm): errno to string\n-    return Status::IOError(\"Error reading bytes from file\");\n+    return Status::IOError(std::string(\"Error reading bytes from file: \") +\n+                           std::string(strerror(errno)));\n   }\n \n   return Status::OK();\n }\n \n static inline Status FileWrite(int fd, const uint8_t* buffer, int64_t nbytes) {\n-  int ret;\n+  int ret = 0;\n #if defined(_MSC_VER)\n   if (nbytes > INT32_MAX) {\n     return Status::IOError(\"Unable to write > 2GB blocks to file yet\");\n   }\n   ret = static_cast<int>(_write(fd, buffer, static_cast<uint32_t>(nbytes)));\n #else\n-  ret = static_cast<int>(write(fd, buffer, static_cast<size_t>(nbytes)));\n+  int64_t n = 0;\n+  int64_t N = nbytes;\n+\n+  while (ret != -1 && n < N) {\n+    int64_t i = std::min(static_cast<int64_t>(INT32_MAX), N - n);\n+    ret = static_cast<int>(write(fd, buffer + n, static_cast<size_t>(i)));\n+    n += i;\n \n Review comment:\n   Similar comments as above. \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T16:33:00.270+0000",
                    "updated": "2017-11-02T16:33:00.270+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16236075",
                    "id": "16236075",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1276: ARROW-1756: [Python] Fix large file read/write error on Mac\nURL: https://github.com/apache/arrow/pull/1276#issuecomment-341480384\n \n \n   Thanks for looking at this\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-02T16:33:09.028+0000",
                    "updated": "2017-11-02T16:33:09.028+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16237062",
                    "id": "16237062",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Licht-T commented on issue #1276: ARROW-1756: [Python] Fix large file read/write error on Mac\nURL: https://github.com/apache/arrow/pull/1276#issuecomment-341619422\n \n \n   @wesm I checked on Linux, but this only fixes the problem on Mac.\r\n   I am also trying to find the cause of the Linux issue.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-03T04:14:33.645+0000",
                    "updated": "2017-11-03T04:14:33.645+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16237096",
                    "id": "16237096",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Licht-T commented on issue #1276: ARROW-1756: [Python] Fix large file read/write error on Mac\nURL: https://github.com/apache/arrow/pull/1276#issuecomment-341619422\n \n \n   @wesm ~~I checked on Linux, but this only fixes the problem on Mac.\r\n   I am also trying to find the cause of the Linux issue.~~\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-03T04:59:15.535+0000",
                    "updated": "2017-11-03T04:59:15.535+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16237097",
                    "id": "16237097",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Licht-T commented on issue #1276: ARROW-1756: [Python] Fix large file read/write error on Mac\nURL: https://github.com/apache/arrow/pull/1276#issuecomment-341622901\n \n \n   @wesm I found the reason why.\r\n   I'll fix.\r\n   http://man7.org/linux/man-pages/man2/write.2.html\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-03T04:59:49.328+0000",
                    "updated": "2017-11-03T04:59:49.328+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16237099",
                    "id": "16237099",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Licht-T commented on issue #1276: ARROW-1756: [Python] Fix large file read/write error on Mac\nURL: https://github.com/apache/arrow/pull/1276#issuecomment-341622901\n \n \n   @wesm I found the reason why.\r\n   I'll fix.\r\n   \r\n   http://man7.org/linux/man-pages/man2/write.2.html\r\n   > On Linux, write() (and similar system calls) will transfer at most 0x7ffff000 (2,147,479,552) bytes\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-03T05:01:10.143+0000",
                    "updated": "2017-11-03T05:01:10.143+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16238469",
                    "id": "16238469",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1276: ARROW-1756: [Python] Fix large file read/write error on Mac\nURL: https://github.com/apache/arrow/pull/1276#issuecomment-341839309\n \n \n   OK, thanks. I'll wait on you to address the code comments and then we can merge this\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-03T22:08:11.138+0000",
                    "updated": "2017-11-03T22:08:11.138+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16238944",
                    "id": "16238944",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Licht-T commented on issue #1276: ARROW-1756: [Python] Fix large file read/write error\nURL: https://github.com/apache/arrow/pull/1276#issuecomment-341891346\n \n \n   @wesm Fixed. Now it works fine on Linux!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-04T11:59:13.244+0000",
                    "updated": "2017-11-04T11:59:13.244+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16238952",
                    "id": "16238952",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "Licht-T commented on issue #1276: ARROW-1756: [Python] Fix large file read/write error\nURL: https://github.com/apache/arrow/pull/1276#issuecomment-341892093\n \n \n   @xhochy I want to solve the Windows issue as same.\r\n   Should I make a JIRA issue?\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-04T12:11:16.673+0000",
                    "updated": "2017-11-04T12:11:16.673+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16239006",
                    "id": "16239006",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "xhochy commented on issue #1276: ARROW-1756: [Python] Fix large file read/write error\nURL: https://github.com/apache/arrow/pull/1276#issuecomment-341896644\n \n \n   @Licht-T yes, please open a JIRA.\r\n   \r\n   I would merge this PR once Travis is happy but sadly C++ builds keep timeouting on Travis. I will re-trigger later again and merge on success.\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-04T13:23:43.515+0000",
                    "updated": "2017-11-04T13:23:43.515+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16239169",
                    "id": "16239169",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on a change in pull request #1276: ARROW-1756: [Python] Fix large file read/write error\nURL: https://github.com/apache/arrow/pull/1276#discussion_r148938907\n \n \n\n ##########\n File path: cpp/src/arrow/io/file.cc\n ##########\n @@ -22,6 +22,21 @@\n \n #define _FILE_OFFSET_BITS 64\n \n+// define max read/write count\n+#if defined(_MSC_VER)\n+#define ARROW_IO_MAX_CONUT INT32_MAX\n+#else\n+\n+#ifdef __APPLE__\n+// due to macOS bug, we need to set read/write max\n+#define ARROW_IO_MAX_CONUT INT32_MAX\n+#else\n+// see notes on Linux read/write manpage\n+#define ARROW_IO_MAX_CONUT 0x7ffff000\n \n Review comment:\n   Typos in these defines, I will fix\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-04T19:05:36.047+0000",
                    "updated": "2017-11-04T19:05:36.047+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16239170",
                    "id": "16239170",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on a change in pull request #1276: ARROW-1756: [Python] Fix large file read/write error\nURL: https://github.com/apache/arrow/pull/1276#discussion_r148938919\n \n \n\n ##########\n File path: cpp/src/arrow/io/file.cc\n ##########\n @@ -238,39 +253,61 @@ static inline Status FileSeek(int fd, int64_t pos) {\n   return Status::OK();\n }\n \n-static inline Status FileRead(int fd, uint8_t* buffer, int64_t nbytes,\n+static inline Status FileRead(const int fd, uint8_t* buffer, const int64_t nbytes,\n                               int64_t* bytes_read) {\n #if defined(_MSC_VER)\n-  if (nbytes > INT32_MAX) {\n+  if (nbytes > ARROW_IO_MAX_CONUT) {\n     return Status::IOError(\"Unable to read > 2GB blocks yet\");\n   }\n   *bytes_read = static_cast<int64_t>(_read(fd, buffer, static_cast<uint32_t>(nbytes)));\n #else\n-  *bytes_read = static_cast<int64_t>(read(fd, buffer, static_cast<size_t>(nbytes)));\n+  *bytes_read = 0;\n+\n+  while (*bytes_read != -1 && *bytes_read < nbytes) {\n+    int64_t i = std::min(static_cast<int64_t>(ARROW_IO_MAX_CONUT), nbytes - *bytes_read);\n \n Review comment:\n   We should use descriptive variable names. I will fix\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-04T19:05:36.051+0000",
                    "updated": "2017-11-04T19:05:36.051+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16239210",
                    "id": "16239210",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1276: ARROW-1756: [Python] Fix large file read/write error\nURL: https://github.com/apache/arrow/pull/1276#issuecomment-341926757\n \n \n   This is infinite-looping on Linux, debugging\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-04T20:16:32.553+0000",
                    "updated": "2017-11-04T20:16:32.553+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16239225",
                    "id": "16239225",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1276: ARROW-1756: [Python] Fix large file read/write error\nURL: https://github.com/apache/arrow/pull/1276#issuecomment-341929150\n \n \n   +1\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-04T20:55:32.273+0000",
                    "updated": "2017-11-04T20:55:32.273+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16239226",
                    "id": "16239226",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm closed pull request #1276: ARROW-1756: [Python] Fix large file read/write error\nURL: https://github.com/apache/arrow/pull/1276\n \n \n   \n\nThis is a PR merged from a forked repository.\nAs GitHub hides the original diff on merge, it is displayed below for\nthe sake of provenance:\n\nAs this is a foreign pull request (from a fork), the diff is supplied\nbelow (as it won't show otherwise due to GitHub magic):\n\ndiff --git a/cpp/src/arrow/buffer.h b/cpp/src/arrow/buffer.h\nindex 8e989064b..7c5f6174f 100644\n--- a/cpp/src/arrow/buffer.h\n+++ b/cpp/src/arrow/buffer.h\n@@ -340,7 +340,7 @@ Status AllocateResizableBuffer(MemoryPool* pool, const int64_t size,\n #ifndef ARROW_NO_DEPRECATED_API\n \n /// \\brief Create Buffer referencing std::string memory\n-/// \\deprecated Since 0.8.0\n+/// \\note Deprecated since 0.8.0\n ///\n /// Warning: string instance must stay alive\n ///\ndiff --git a/cpp/src/arrow/compare.h b/cpp/src/arrow/compare.h\nindex 27176ed86..df3386e4b 100644\n--- a/cpp/src/arrow/compare.h\n+++ b/cpp/src/arrow/compare.h\n@@ -33,27 +33,27 @@ class Tensor;\n \n #ifndef ARROW_NO_DEPRECATED_API\n /// Returns true if the arrays are exactly equal\n-/// \\deprecated Since 0.8.0\n+/// \\note Deprecated since 0.8.0\n Status ARROW_EXPORT ArrayEquals(const Array& left, const Array& right, bool* are_equal);\n \n-/// \\deprecated Since 0.8.0\n+/// \\note Deprecated since 0.8.0\n Status ARROW_EXPORT TensorEquals(const Tensor& left, const Tensor& right,\n                                  bool* are_equal);\n \n /// Returns true if the arrays are approximately equal. For non-floating point\n /// types, this is equivalent to ArrayEquals(left, right)\n-/// \\deprecated Since 0.8.0\n+/// \\note Deprecated since 0.8.0\n Status ARROW_EXPORT ArrayApproxEquals(const Array& left, const Array& right,\n                                       bool* are_equal);\n \n /// Returns true if indicated equal-length segment of arrays is exactly equal\n-/// \\deprecated Since 0.8.0\n+/// \\note Deprecated since 0.8.0\n Status ARROW_EXPORT ArrayRangeEquals(const Array& left, const Array& right,\n                                      int64_t start_idx, int64_t end_idx,\n                                      int64_t other_start_idx, bool* are_equal);\n \n /// Returns true if the type metadata are exactly equal\n-/// \\deprecated Since 0.8.0\n+/// \\note Deprecated since 0.8.0\n Status ARROW_EXPORT TypeEquals(const DataType& left, const DataType& right,\n                                bool* are_equal);\n #endif\ndiff --git a/cpp/src/arrow/io/file.cc b/cpp/src/arrow/io/file.cc\nindex 74c6c09e6..057cad111 100644\n--- a/cpp/src/arrow/io/file.cc\n+++ b/cpp/src/arrow/io/file.cc\n@@ -22,6 +22,21 @@\n \n #define _FILE_OFFSET_BITS 64\n \n+// define max read/write count\n+#if defined(_MSC_VER)\n+#define ARROW_MAX_IO_CHUNKSIZE INT32_MAX\n+#else\n+\n+#ifdef __APPLE__\n+// due to macOS bug, we need to set read/write max\n+#define ARROW_MAX_IO_CHUNKSIZE INT32_MAX\n+#else\n+// see notes on Linux read/write manpage\n+#define ARROW_MAX_IO_CHUNKSIZE 0x7ffff000\n+#endif\n+\n+#endif\n+\n #include \"arrow/io/file.h\"\n \n #if _WIN32 || _WIN64\n@@ -238,39 +253,68 @@ static inline Status FileSeek(int fd, int64_t pos) {\n   return Status::OK();\n }\n \n-static inline Status FileRead(int fd, uint8_t* buffer, int64_t nbytes,\n+static inline Status FileRead(const int fd, uint8_t* buffer, const int64_t nbytes,\n                               int64_t* bytes_read) {\n #if defined(_MSC_VER)\n-  if (nbytes > INT32_MAX) {\n+  if (nbytes > ARROW_MAX_IO_CHUNKSIZE) {\n     return Status::IOError(\"Unable to read > 2GB blocks yet\");\n   }\n   *bytes_read = static_cast<int64_t>(_read(fd, buffer, static_cast<uint32_t>(nbytes)));\n #else\n-  *bytes_read = static_cast<int64_t>(read(fd, buffer, static_cast<size_t>(nbytes)));\n+  *bytes_read = 0;\n+\n+  while (*bytes_read != -1 && *bytes_read < nbytes) {\n+    int64_t chunksize =\n+        std::min(static_cast<int64_t>(ARROW_MAX_IO_CHUNKSIZE), nbytes - *bytes_read);\n+    int64_t ret = static_cast<int64_t>(\n+        read(fd, buffer + *bytes_read, static_cast<size_t>(chunksize)));\n+\n+    if (ret != -1) {\n+      *bytes_read += ret;\n+      if (ret < chunksize) {\n+        // EOF\n+        break;\n+      }\n+    } else {\n+      *bytes_read = ret;\n+    }\n+  }\n #endif\n \n   if (*bytes_read == -1) {\n-    // TODO(wesm): errno to string\n-    return Status::IOError(\"Error reading bytes from file\");\n+    return Status::IOError(std::string(\"Error reading bytes from file: \") +\n+                           std::string(strerror(errno)));\n   }\n \n   return Status::OK();\n }\n \n-static inline Status FileWrite(int fd, const uint8_t* buffer, int64_t nbytes) {\n-  int ret;\n+static inline Status FileWrite(const int fd, const uint8_t* buffer,\n+                               const int64_t nbytes) {\n+  int ret = 0;\n #if defined(_MSC_VER)\n-  if (nbytes > INT32_MAX) {\n+  if (nbytes > ARROW_MAX_IO_CHUNKSIZE) {\n     return Status::IOError(\"Unable to write > 2GB blocks to file yet\");\n   }\n   ret = static_cast<int>(_write(fd, buffer, static_cast<uint32_t>(nbytes)));\n #else\n-  ret = static_cast<int>(write(fd, buffer, static_cast<size_t>(nbytes)));\n+  int64_t bytes_written = 0;\n+\n+  while (ret != -1 && bytes_written < nbytes) {\n+    int64_t chunksize =\n+        std::min(static_cast<int64_t>(ARROW_MAX_IO_CHUNKSIZE), nbytes - bytes_written);\n+    ret = static_cast<int>(\n+        write(fd, buffer + bytes_written, static_cast<size_t>(chunksize)));\n+\n+    if (ret != -1) {\n+      bytes_written += ret;\n+    }\n+  }\n #endif\n \n   if (ret == -1) {\n-    // TODO(wesm): errno to string\n-    return Status::IOError(\"Error writing bytes to file\");\n+    return Status::IOError(std::string(\"Error writing bytes from file: \") +\n+                           std::string(strerror(errno)));\n   }\n   return Status::OK();\n }\ndiff --git a/python/pyarrow/tests/conftest.py b/python/pyarrow/tests/conftest.py\nindex c6bd6c9b3..e27682232 100644\n--- a/python/pyarrow/tests/conftest.py\n+++ b/python/pyarrow/tests/conftest.py\n@@ -15,7 +15,7 @@\n # specific language governing permissions and limitations\n # under the License.\n \n-from pytest import skip\n+from pytest import skip, mark\n \n \n groups = [\n@@ -70,6 +70,18 @@ def pytest_addoption(parser):\n                          default=False,\n                          help=('Run only the {0} test group'.format(group)))\n \n+    parser.addoption('--runslow', action='store_true',\n+                     default=False, help='run slow tests')\n+\n+\n+def pytest_collection_modifyitems(config, items):\n+    if not config.getoption('--runslow'):\n+        skip_slow = mark.skip(reason='need --runslow option to run')\n+\n+        for item in items:\n+            if 'slow' in item.keywords:\n+                item.add_marker(skip_slow)\n+\n \n def pytest_runtest_setup(item):\n     only_set = False\ndiff --git a/python/pyarrow/tests/test_feather.py b/python/pyarrow/tests/test_feather.py\nindex 9e7fc8863..b0764fdec 100644\n--- a/python/pyarrow/tests/test_feather.py\n+++ b/python/pyarrow/tests/test_feather.py\n@@ -50,7 +50,7 @@ def tearDown(self):\n                 pass\n \n     def test_file_not_exist(self):\n-        with self.assertRaises(pa.ArrowIOError):\n+        with pytest.raises(pa.ArrowIOError):\n             FeatherReader('test_invalid_file')\n \n     def _get_null_counts(self, path, columns=None):\n@@ -98,7 +98,7 @@ def _assert_error_on_write(self, df, exc, path=None):\n         def f():\n             write_feather(df, path)\n \n-        self.assertRaises(exc, f)\n+        pytest.raises(exc, f)\n \n     def test_num_rows_attr(self):\n         df = pd.DataFrame({'foo': [1, 2, 3, 4, 5]})\n@@ -466,3 +466,8 @@ def test_unsupported(self):\n         # non-strings\n         df = pd.DataFrame({'a': ['a', 1, 2.0]})\n         self._assert_error_on_write(df, ValueError)\n+\n+    @pytest.mark.slow\n+    def test_large_dataframe(self):\n+        df = pd.DataFrame({'A': np.arange(400000000)})\n+        self._check_pandas_roundtrip(df)\n\n\n \n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-04T20:56:40.289+0000",
                    "updated": "2017-11-04T20:56:40.289+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16239228",
                    "id": "16239228",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "body": "Issue resolved by pull request 1276\n[https://github.com/apache/arrow/pull/1276]",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wesm",
                        "name": "wesm",
                        "key": "wesmckinn",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=wesmckinn&avatarId=29931",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=wesmckinn&avatarId=29931",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=wesmckinn&avatarId=29931",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=wesmckinn&avatarId=29931"
                        },
                        "displayName": "Wes McKinney",
                        "active": true,
                        "timeZone": "America/New_York"
                    },
                    "created": "2017-11-04T20:58:08.267+0000",
                    "updated": "2017-11-04T20:58:08.267+0000"
                },
                {
                    "self": "https://issues.apache.org/jira/rest/api/2/issue/13113079/comment/16239238",
                    "id": "16239238",
                    "author": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "body": "wesm commented on issue #1276: ARROW-1756: [Python] Fix large file read/write error\nURL: https://github.com/apache/arrow/pull/1276#issuecomment-341929788\n \n \n   thanks @Licht-T!\n\n----------------------------------------------------------------\nThis is an automated message from the Apache Git Service.\nTo respond to the message, please log on GitHub and use the\nURL above to go to the specific comment.\n \nFor queries about this service, please contact Infrastructure at:\nusers@infra.apache.org\n",
                    "updateAuthor": {
                        "self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot",
                        "name": "githubbot",
                        "key": "githubbot",
                        "avatarUrls": {
                            "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                            "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                            "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                            "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
                        },
                        "displayName": "ASF GitHub Bot",
                        "active": true,
                        "timeZone": "Etc/UTC"
                    },
                    "created": "2017-11-04T21:05:42.188+0000",
                    "updated": "2017-11-04T21:05:42.188+0000"
                }
            ],
            "maxResults": 26,
            "total": 26,
            "startAt": 0
        },
        "customfield_12311820": "0|i3lvjb:",
        "customfield_12314139": null
    }
}